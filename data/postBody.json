{
  "post": {
    "name": "log/scrapbox",
    "body_md": "# Dev MTG 2022/03\ncreated_at:Tue Jan 20 1970 10:16:40 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 10:16:40 GMT+0900 (日本標準時)\nDev MTG 2022/03\n2022/03/02\n\n\n# Dev MTG 2022/02\ncreated_at:Tue Jan 20 1970 09:46:37 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 09:56:44 GMT+0900 (日本標準時)\nDev MTG 2022/02\n2022/02/16\n　河本\n\t\t各勉強会系残せるesaのディレクトリ1つ作ってもいいかも。勉強会って切ってそこからLTなりTDDなり入れていくのどでしょ？\n\t\t\tposgreはscrap、TDDはdocument、TLはesa\n\t\t\t\tTDD: https://drive.google.com/file/d/1369V82TY19thxDbZNa4UPlauO6eJH3KZ/view?usp=sharing\n\t\tカギカン状況情報共有\n\t\t\tV3.1（管理コンソール対応 → 新料金プラン対応）\n\t\t\t\t2/16Webリリース\n\t\t\tV3.2（コンソール改善）https://github.com/qrioinc/sirius-android/issues/185\n\t\t\t\t実装終了：2/16Wed\n\t\t\t　検証終了：2/23Wed\n\t\t\t\t判定＆リリース：2/25Fri\n\t\t\tV3.3（利用者導線の見直し）\n\t\t\t\tNPP開催予定\n  DatadogAPM関連\n  \tコスト予算感一旦出し（https://qrio.esa.io/posts/1164）\n  \t\t重松さん2/18までに予算感インプット\n  \ttraialでking入れてみて確認（APM/loggingのみ想定）\n\t\tP/F構想の話\n\t\t\tミノモン、うっちーちょっと時間どこかで取らせてください（課題出し/すり合わせ）\n\n　石田\n　\tRoomonのテスト実施について蓑毛さんにお話し伺う機会が欲しいです\n　\tフロントのgit-flowとかレビューのルールとかコード規約決めるにあたって知見がいただければ。\n　簑毛\n　\tSlackのマルチチャンネルゲストやめたい\n　\t\t自分から情報を収集できない\n　\t\t誘えないし\n　\t\t\t保に言う\n　\t\t\tゴール：by name 田辺さんが一般で入れるようにしたい\n　\t\t\t\t以降に関しても一般で入れるようにしたい（SQA人材に関しても）\n　内田\n　花田\n　\t会社が認識しているアジャイルが認識がずれている？\n　\t\tどこかで確認したい\n　遠藤\n　佐藤\n\n2022/02/09\n 河本\n　\tアプリ周り：2022/09からbitriseの値上げに対するCI移管調査→どこかで相談の機会を設けさせてください\n  bitriseがいいのであれば部長と交渉してそのままでも良いのでは\n  他にいいサービスがないかは調べる\n 相談：誰かネーミングセンス抜群な人いませんか？ハンドルネーム欲しく　\n \tJK大好き　daisukiJK\n ただただ気になった記事だったり技術について雑に勉強する時間を週1時間勝手に実施しようと思ってます。興味あれば\n \t誘ってもらえれば\n \tいいですね[TomokiUchida.icon]\n\n　石田さん\n\t　カギカンのテスト周りでしっかりやっていく\n\t　\tjestの導入\n\t　\tTDDでの開発を導入していきたい\n\n　蓑毛\n　\tRoomon BCU・サーバーリリース済み　ー＞　コンソールで設定作業中\n　\t設置 2/16, 17　ー＞　西麻布　44万の物件　SREさん\n　\t関さんが見学交渉中\n　\tCUが不具合あってリリースを17日にリスケ（入居者が使い始めるのが3月からSRE）\n　\tブラックリスト、BUPINの複数のCSV出力\n　\t2月3月はリファクタメインでやっていきたい\n　\n\n　内田[TomokiUchida.icon]\n　　TDDの勉強会。来週の金曜日（2/18）[TomokiUchida.icon]\n\n　花田\n\t\tRoomon CU（Android/iOS）のリリースお願いします[k.endo.icon]\n\t\tLT会の文化（https://qrio.esa.io/posts/1139）\n\t\tピザ・アルコールを河本さんが奢ってくれる？\n\t\t文化＝酒\n\n　遠藤\n　\t2/10thu - 2/17thuおやすみします\n\n　佐藤[yuma_sato.icon]\n\t\tRoomon CU（Android/iOS）のリリースお願いします[k.endo.icon]\n\t\tなんか始まった（Qrio PadのCS問い合わせを減らすプロジェクト）\n\t\t\tがんばって[k.endo.icon]\n\t\thttps://docs.google.com/presentation/d/1qwUzkP1sf5xmRfyKt2xtpbAuvUol_NlEPcqaQmKwl0k/edit##slide=id.p\n\t\twith 中じー、龍さん、関口さん、りょうさん\n\n# Dev MTG 2022/01\ncreated_at:Tue Jan 20 1970 09:06:14 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 09:46:37 GMT+0900 (日本標準時)\nDev MTG 2022/01\n 全体共有\n\nQ4リリース以降の人員配置\n[https://gyazo.com/f0c892deba93a14801ae28cc90b693b4]\n\n個人目標とロードマップ（部目標）が乖離している\n- やる意味がない→評価がない→対価としては金\n→ 部目標を再設定しなおして個人目標の再設定しなおすならわかる\n↓→ 部目標見直し\n 今期何がしたいかわからない\n 部下の人生を背負っている意識はあるのか\n GT自宅にknightつけてるか？\n NPS\n \thttps://www.nttcoms.com/service/nps/summary/\n開発課がなんとかするという楽観視している\n↓\n開発が主導権持てるようにようにしていかないといけない\nGT「チーム制でアジャイルやりたい」\n\n\n\n　蓑毛\n　部会なんで１２：３０・・・？\n　体制の件は何も更新がなかった。（整理しますだけ）\n　採用計画との比較が欲しい。人数増えていないのにこのまま４つのプロジェクトを進める？\n　今後の開発計画を保さん、PM含めて話し合いたい\n\n　OSSライセンス表示\n　Roomonサーバー監視\n\nBSD-3-Clause\n1.ソースコードの再配布は、上記の著作権表示、ここに列挙された条件、および下記の免責条項を保持すること。\n2.バイナリ形式の再配布は、上記の著作権表示、ここに列挙された条件、および下記の免責条項は、ドキュメントまたは他の資料で配布すること。\n3.このソフトウェアのコントリビューター(貢献者)の名前は、特定の書面による事前の許可なしに、このソフトウェアから派生した製品の保証または販売促進のために使用してはいけない。\n↓\nfrontのossとしてバイナリ形式がブラウザとして引っかかるのかどうか確認\n\n河本さん　ー＞　Hubが最新FW（QH-1 1.3.01以降）じゃなくてJX使うとどういう機能が使えないかどうか。全く使えないですか？\n\n河本さん遠藤\n\n2022/02/02\nアジェ\n・石田さんジョイン\n・月初面談よろしくお願いしマス\n\n\n\n\n\n# QH1Aアップデート失敗\ncreated_at:Tue Jan 20 1970 09:17:22 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 09:17:47 GMT+0900 (日本標準時)\nQH1Aアップデート失敗\n\n■CU iOS：市場版STG（1052）\n■CU Android：市場版STG（3518）\n\n\n[makemonitor https://scrapbox.io/files/61e8bc172de256001db0a9aa]\n\n\n4912ec62-43ef-48f2-9fd8-e45f220b5049\npry(main)> hub.channel\n=> \"49500b225fe4d89ff248ef4362ec1249\"\n\nCUから\n\nHubのFW更新後、以下のURIをHubからAPIに投げる\nmethod=GET path=\"/v1/h/commands/8dafd7bc-c49a-468d-afbb-6f55e095141c/update?hub_id=94909ab8-3774-4746-b5e7-1857c1cbca08&user_id=6cadb1ce-5ece-490a-9129-64e8ca94ff99&version=2.1.00&succeeded=true\"\n\n今回でいうと、QH1AのFWのWDT周りが主な原因っぽい\nhttps://qrioinc.slack.com/archives/C01V2L49R1Q/p1642658607037300?thread_ts=1642647150.031700&cid=C01V2L49R1Q\n\n\n# ログの計算が遅い\ncreated_at:Tue Jan 20 1970 07:17:51 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 09:13:22 GMT+0900 (日本標準時)\nログの計算が遅い\n SQL見直す\n 　Logのfindで時間かかりすぎていたら、スケジューラ的なものを作ってDBのタイムアウトの時間を決めてしまうとか（全体に影響しないように）\n データ移動\n データ削除\n\n[** 起きていること]\n[https://gyazo.com/43c28cca6c9526f83e606642922a11d9]\n ほとんどがfindに時間がかかっている\n GET v1/u/logs\ncode:ruby\n   desc 'ログを取得する'\n   params do\n     requires :lock_id\n     optional :limit, type: Integer, default: 100, values: 1..100\n     optional :log_types, type: Array[Integer], default: []\n     optional :latest, type: Integer\n   end\n   get do\n     lock = Lock.find(params[:lock_id])\n     authorize lock, :show_logs?\n \n     logs = Log.where(lock: [lock, lock.sub_lock].compact)\n               .where(log_type: params[:log_types])\n               .order(logged_at: :desc)\n               .limit(params[:limit])\n \n     if params[:latest]\n       logs.where('logs.logged_at < ?', Time.at(params[:latest]).utc)\n     else\n       logs\n     end\n   end\n\n 多分ここ\ncode:ruby\n logs = Log.where(lock: [lock, lock.sub_lock].compact)\n                .where(log_type: params[:log_types])\n                .order(logged_at: :desc)\n                .limit(params[:limit])\n→単純にデータ件数の多さで複数whereに時間かかってる？\n\n[** 試してみたい]\n\n sl2-api-productionのコピーをheroku上に作成してログ取得を同時にリクエストしてみる\n\t\tDBはlogsのデータをコピーする（時間かかりそう。。。）\n\t\theroku pg:copy sl2-api-production::HEROKU_POSTGRESQL_COPPER_URL HEROKU_POSTGRESQL_RED_URL --app sl2-api-sirius-security\n\t\tpostmanなどで、GET v1/u/logs にアクセスする\n\t\t\tここを同時に複数のアクセスを行うことで、現状emergencyの再現ができる...?\n\t上記をもとにして、原因の調査・特定をして色々実装を変えて改善するかどうか試してみる\n\n[** 11/2の成果]\n dynoの数増やした\n \tこちらは様子見する\n sl2-api-productionからsl2-api-sirius-secruityにデータコピー\n \tGET v1/u/logs  に1000回くらい同時リクエストできるツールみたいなもの作っておく\n \tpostgresqlのコネクション数がどうなるのかを見る\n \t\tRAILS_MAX_THREADS を変えてみてちゃんと増えるかどうかとかみてみる\n\n[** 11/11の成果]\n\tpostgresqlのコネクション数がどうなるのかを見る\n \t\tRAILS_MAX_THREADS を変えてみてちゃんと増えるかどうかとかみてみる\n ログのデータ削除する方針ですすめる？\n \tサービス影響がないかどうか確認必要あり\n \tログ参照している社内の方達に同意を得る必要あり\n \t\t中野さんに聞く -> 内田\n \tKingのDBからは削除するが、どっかで保持するのは前提\n \t\t検討必要\n \t\t規約と外部連携先からどのようなリクエストが来ているか確認したほうが良さそう\n\n\t\tなんとなく、dynosを3つにしてから、負荷が落ちてる・・・？\n\t\thttps://one.newrelic.com/launcher/nr1-core.explorer?platform%5BaccountId%5D=2059441&platform%5BtimeRange%5D%5Bduration%5D=7776000000&pane=eyJuZXJkbGV0SWQiOiJhcG0tcmVwb3J0cy1uZXJkbGV0cy5jYXBhY2l0eS1yZXBvcnQiLCJlbnRpdHlHdWlkIjoiTWpBMU9UUTBNWHhCVUUxOFFWQlFURWxEUVZSSlQwNThPVGszTVRBd01UYyJ9&sidebars%5B0%5D=eyJuZXJkbGV0SWQiOiJucjEtY29yZS5hY3Rpb25zIiwiZW50aXR5R3VpZCI6Ik1qQTFPVFEwTVh4QlVFMThRVkJRVEVsRFFWUkpUMDU4T1RrM01UQXdNVGMiLCJzZWxlY3RlZE5lcmRsZXQiOnsibmVyZGxldElkIjoiYXBtLXJlcG9ydHMtbmVyZGxldHMuY2FwYWNpdHktcmVwb3J0In19&state=fa884050-6dc3-d07c-51fa-210c25b282dc\n[https://gyazo.com/110719bf6827e7054615cd857bcf9dd1]\nPlease enable new Gyazo upload method. https://scrapbox.io/settings/extensions\n\n\t\tdynosのautoscalingを一旦止めて、4つ固定にしてみた\n\n[** 11/15の成果]\n log_type = 204のログデータの移動検討\n \tバッチか何かでS3 or GCPとかどこかにどこからかのタイミングからすべてそっちにも保存させるようにする\n \t\tサービスが何がいいかの検討\n \t\t\tコスト・特性・メリット・汎用性\n \t\t\tGCP\n \t\t\tredshift\n \t\t\t\t使いづらいかもとのこと\n \t\t\tsnowflake\n \t\t\tアリババ\n \t\tパーティションの検討とかそれを使った設計\n \t実行計画検討（全体的に）\n\n2021/12/06\n\t蓑毛調査：https://qrio.esa.io/posts/1073\n\tLogのアーカイブ先、Bigqueryに決定。\n\tInsert方法検討（蓑毛・内田）\n\n2021/12/13\n 内田検討案: https://qrio.esa.io/posts/1089\n 蓑毛：https://recruit.gmo.jp/engineer/jisedai/blog/load-to-bigquery/\n\n2021/12/20\n\trubyのタスクでLogデータをInsertしてみる\n\tapp作ってみました\n\t\thttps://qrio.esa.io/posts/1101\n\t\thttps://github.com/qrioinc/ut_king_log_transfer\n\t\tとりあえず基盤だけ作っている感じです\n\t\tinsert試したら請求情報未登録になっていてできなかった。。。\n\n\tembulkで作る\n\t\thttps://github.com/qrioinc/embulk-sample\n\t https://madogiwa0124.hatenablog.com/entry/2019/11/17/130158（参考）\n\t https://qiita.com/ritukiii/items/d65912e22992d9278360##5-embulkをインストールし設定ファイルを書き実際に動かしてみる（参考）\n herokuschedulerで動かす。https://qiita.com/cobot00/items/684236d5b12337d77fe3（参考）\n\n2021/01/17\n\theroku_schedulerで実際動かしてみる\n\t\thttps://dashboard.heroku.com/apps/king-log-transfer-test\n\t\tStreaming insert is not allowed in the free tier\n\t\t\tbigquery-dev-335706\n\n# SQLパフォーマンス読解\ncreated_at:Tue Jan 20 1970 07:22:28 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 09:09:04 GMT+0900 (日本標準時)\nSQLパフォーマンス読解\n 資料は蓑毛まで\n\n[*** 2022/1/14 データの変更]\n- insert, delete updateはindexに影響を与える\n\n## 挿入\n　テーブルあたりのインデックスの数は、insertのパフォーマンスに対 して最も影響を与える要素です。\n\n　insert文は、where句を持たない ことから、インデックスの利点を直接受けられない唯一の処理です。\n\n　リーフノードの空き容量が不足していたら、リーフノードを分ける必要がある、また対応するブランチノードにも追加せねばならず、そのブランチノードも空き容量が不足していたら追加する必要がある。\n\n　B treesの可視化サイト\nhttps://www.cs.usfca.edu/~galles/visualization/BPlusTree.html\n\n　ただし、巨大なデータをロードする際に一時的に全てのインデック スを削除するのは、非常に良いやり方です。そういった場合には、他 のSQL文は実行されずインデックスは不要なためです。これにより、グ ラフからも明らかに分かる程の劇的なスピードアップが可能で、実際にデータウェアハウスの現場ではよく使われる手法です。\n\ncode: indexがある状態で大量にinsert.sql\n \\timing\n drop table scale_data;\n \n CREATE TABLE scale_data (\n section NUMERIC NOT NULL,\n  id1     NUMERIC NOT NULL,\n  id2     NUMERIC NOT NULL\n );\n \n CREATE INDEX scale_data_key1 ON scale_data(section);\n CREATE INDEX scale_data_key2 ON scale_data(id1);\n CREATE INDEX scale_data_key3 ON scale_data(id2);\n CREATE INDEX scale_data_key4 ON scale_data(section, id1);\n CREATE INDEX scale_data_key5 ON scale_data(section, id2);\n \n  INSERT INTO scale_data\n  SELECT sections.*, gen.*\n       , CEIL(RANDOM()*10)\n  FROM GENERATE_SERIES(1, 30)     sections,\n         GENERATE_SERIES(1, 9000) gen\n  WHERE gen <= sections * 300;\n\ncode: indexをなしで大量にinsertしてからindexをつけてみる.sql\n drop table scale_data;\n \n CREATE TABLE scale_data (\n section NUMERIC NOT NULL,\n  id1     NUMERIC NOT NULL,\n  id2     NUMERIC NOT NULL\n );\n \n  INSERT INTO scale_data\n  SELECT sections.*, gen.*\n       , CEIL(RANDOM()*10)\n  FROM GENERATE_SERIES(1, 30) sections,\n         GENERATE_SERIES(1, 9000) gen\n  WHERE gen <= sections * 300;\n \n CREATE INDEX scale_data_key1 ON scale_data(section);\n CREATE INDEX scale_data_key2 ON scale_data(id1);\n CREATE INDEX scale_data_key3 ON scale_data(id2);\n CREATE INDEX scale_data_key4 ON scale_data(section, id1);\n CREATE INDEX scale_data_key5 ON scale_data(section, id2);\n\nTODO\n　考えてみよう\n索引構成表やクラスタ化インデックスを使った場合、図 8.1はどのように変わるでしょうか?\ninsert文が、インデックスの利点を間接的に受けられる場面は存在するでしょうか? つまり、インデックスがinsert文の実行を速くする事はあるでしょうか?\n　　ないのでは。\n　　こんなこと聞くならある？\n\n### 削除\n　insert文とは違って、delete文にはwhere句があるため、第2章, 「where句」で説明して来た全ての手法が使え、インデックスの恩恵に 直接あずかる事ができます。実際に、delete文は、一致した行を削除す るという追加のステップが必要なselectとも言うべき動作をします。\n\n　delete文とupdate文には、実行計画があります。\n\n　whereのないdeleteの代わりにtruncate\n  - 暗黙的にcommitが実行される\n  - トリガが実行されない(https://www.postgresql.jp/document/9.4/html/sql-truncate.html)\n\n　多版型同時実行制御(MVCC)は、ノンブロッキングな並列データ アクセスと、一貫性のあるトランザクションの読み取りを実現す る、データベースの仕組みです。その実装方法はデータベースに よって様々で、パフォーマンスに大きな影響を与える場合があります。\n例としてPostgreSQLは、テーブルレベルでのみバージョン情報(=何が参照できるべきかの情報)を保持します。つまり、行を削除したら、「削除済み」フラグがテーブルブロックに立てられます。PostgreSQLの削除のパフォーマンスは、テーブルにインデックスがいくつ存在するかに関係しません。テーブルの行の物理的な削除と関連するインデックスのメンテナンスは、VACCUMの処理の実行時に行われます。\n\n　insertやdeleteが、テーブルに作られた全てのインデックスに影響を与えない場面はあり得るでしょうか?\n  - ありえないのでは？\n  - こんなこと聞くならあり得る？\n\n\nhttps://www.fujitsu.com/jp/products/software/resources/feature-stories/postgres/article-index/tuningrule9-search/\n\n　実行計画読み解き：JPUGしくみ＋アプリケーション勉強会（第20回）\n　\thttps://www.slideshare.net/naka24nori/explain20\n Bitmap Index Scan の後の Bitmap Heap Scan でRecheck処理が行われることの解説\n \thttps://taityo-diary.hatenablog.jp/entry/2018/07/07/071928\n\n[*** 2022/1/7]\n7: 部分結果\n\ncode: 最初のN行のみの選択.sql\n -- 10行取り出した後にクエリの実行の中断を指示しています\n SELECT *\n FROM sales\n ORDER BY sale_date DESC\n LIMIT 10;\n \n -- fetch first拡張をバージョン8.4からサポート(limitと同義)\n SELECT *\n FROM sales\n ORDER BY sale_date DESC\n FETCH FIRST 10 ROWS ONLY;\n \n -- 実行計画確認\n EXPLAIN SELECT *\n FROM sales\n ORDER BY sale_date DESC\n LIMIT 10;\n \n -- index消してみる\n DROP INDEX sales_dt_pr;\n DROP INDEX sales_sub_eur;\n \n EXPLAIN SELECT *\n FROM sales\n ORDER BY sale_date DESC\n LIMIT 10;\n \n\n[* Limit(OracleではCOUNT STOPKEY)]\n必要な行数が取り出せた時点で、内部的な処理を中断します。\n\n 次ページの取得\n \tオフセット法\n \t\tメリット\n \t\t\tシンプル\n \t\t\t必要なページを取りだすのに行のオフセットだけしか指定しなくて良い\n \t\tデメリット\n \t\t\t順序付けはクエリが呼び出される度にやり直されるので、新しい売上が挿入されるとページがずれてしまう\n \t\t\t先のページを見るほど、応答時間が長くなる\n \tシーク法\n \t\tページの区切りに前のページの値を使う\n \t\tシンプルにwhere句で表現（ユニークな項目であること）\n \t\tメリット\n \t\t\tINDEXが使えてパフォーマンス向上\n \t\tデメリット\n \t\t\tユニークではない場合に正しい結果が得られない\n \tページングの際は、並べ替えの順序は確定的である必要があります\n\ncode: 次ページの取得.sql\n -- オフセット法\n SELECT *\n FROM sales\n ORDER BY sale_date DESC\n OFFSET 10\n FETCH NEXT 10 ROWS ONLY;\n \n -- シーク法\n SELECT *\n FROM sales\n WHERE sale_date < '2021-12-15'\n ORDER BY sale_date DESC\n FETCH FIRST 10 ROWS ONLY;\n \n -- 行の順序を確定的にさせる\n CREATE INDEX sl_dtid ON sales (sale_date, sale_id);\n SELECT *\n FROM sales\n WHERE (sale_date, sale_id) < ('2021-12-15', 12130)\n ORDER BY sale_date DESC, sale_id DESC\n FETCH FIRST 10 ROWS ONLY;\n \n\n 窓関数の使用(psql -> WindowAgg)\n \tページネーションを実装するもう一つの方法\n \thttps://www.postgresql.jp/document/9.6/html/tutorial-window.html\n \t[/ PostgreSQLでは、窓関数の使用時には最初のN件のみを取得するクエリはパイプライン化して実行できません]。\ncode:窓関数の仕様.sql\n SELECT *\n FROM \n \t(SELECT sales.*, ROW_NUMBER() OVER (ORDER BY sale_date DESC, sale_id DESC) rn FROM sales) tmp\n WHERE \n \trn between 11 and 20\n ORDER BY sale_date DESC, sale_id DESC;\n\n[*** 2021/12/23]\n6: ソートとグルーピング\n\tソートはめっちゃリソースを食う\n　\tデータベースが結果を一次的にバッ ファしておかなくてはならない\n\torder byでパイプラ イン化された処理が可能になる？\n\t\tパイプライン化 されたorder byは非常に重要で、インデックスの強力さの3つ目に挙げられます\nhttps://use-the-index-luke.com/sql/example-schema/postgresql/sorting-grouping\n\ncode: インデックスを使ったorder by.sql\n DROP INDEX sales_date;\n CREATE INDEX sales_dt_pr ON sales (sale_date, product_id);\n \n EXPLAIN ANALYZE\n  SELECT sale_date, product_id, quantity\n    FROM sales\n   WHERE sale_date = now() - INTERVAL '1' DAY\n   ORDER BY sale_date, product_id;\n   \n -- ソート操作をしないインデックスなので、sale_dateをソートキーにしたものと同じ見積もりになる\n EXPLAIN ANALYZE\n  SELECT sale_date, product_id, quantity\n    FROM sales\n   WHERE sale_date = now() - INTERVAL '1' DAY\n   ORDER BY product_id;\n  \n -- sale_dateの範囲検索をwhere句にすることで、ソートされたインデックスを使いつつ、ndex Cond:コストを下げられる\n EXPLAIN ANALYZE\n  SELECT sale_date, product_id, quantity\n    FROM sales\n   WHERE sale_date >= now() - INTERVAL '20' DAY\n   ORDER BY product_id;\n\ncode:ASC、DESC.sql\n  EXPLAIN ANALYZE\n   SELECT sale_date, product_id, quantity\n     FROM sales\n    WHERE sale_date = now() - INTERVAL '1' DAY\n    ORDER BY sale_date, product_id;\n    \n -- インデックスを逆方向にスキャンするが、実行計画には影響しない\n EXPLAIN ANALYZE\n  SELECT sale_date, product_id, quantity\n    FROM sales\n   WHERE sale_date >= now() - INTERVAL '1' DAY\n   ORDER BY sale_date DESC, product_id DESC;\n \n -- 条件を混合にすると、スキャン中に「ジャンプ」が必要なため、パイプライン化したインデックスを使えずSortする\n EXPLAIN ANALYZE\n  SELECT sale_date, product_id, quantity\n    FROM sales\n   WHERE sale_date >= now() - INTERVAL '1' DAY\n   ORDER BY sale_date ASC, product_id DESC;\n \n -- 混合のインデックスを貼る\n DROP INDEX sales_dt_pr;\n CREATE INDEX sales_dt_pr\n     ON sales (sale_date ASC, product_id DESC);\n \n -- すると混合でもパイプライン化できてインデックスが使える\n EXPLAIN ANALYZE\n  SELECT sale_date, product_id, quantity\n    FROM sales\n   WHERE sale_date >= now() - INTERVAL '1' DAY\n   ORDER BY sale_date ASC, product_id DESC;\n\n厳密に言うと、明確に定義された結果が欲しいなら、order by句でnullに なり得る全ての列に対して、NULLのソート順を定義してやる必要があり ます。\ncode: NULLS FIRST/LAST.sql\n  \n  -- すると混合でもパイプライン化できてインデックスが使える\n  EXPLAIN ANALYZE\n   SELECT sale_date, product_id, quantity\n     FROM sales\n    WHERE sale_date >= now() - INTERVAL '10' DAY\n    ORDER BY sale_date ASC, product_id DESC;\n    \n -- Nulls lastでソートが行われる\n EXPLAIN ANALYZE\n  SELECT sale_date, product_id, quantity\n    FROM sales\n   WHERE sale_date >= now() - INTERVAL '10' DAY\n   ORDER BY sale_date ASC, product_id DESC NULLS LAST;\n   \n DROP INDEX sales_dt_pr;\n CREATE INDEX sales_dt_pr\n     ON sales (sale_date ASC, product_id DESC NULLS LAST);\n \n -- インデックス化することでパイプライン化できる\n EXPLAIN ANALYZE\n  SELECT sale_date, product_id, quantity\n    FROM sales\n   WHERE sale_date >= now() - INTERVAL '1' DAY\n   ORDER BY sale_date ASC, product_id DESC NULLS LAST;\n\ncode: インデックス付きGroupBy.sql\n -- HashAggregate\n -- https://use-the-index-luke.com/ja/sql/explain-plan/postgresql/operations\n -- レコードをグルーピングするのに一時的なハッシュテーブルを使います。 \n -- HashAggregate処理では、データセットは事前にソートされている必要はありませんが、 \n -- 中間結果(パイプライン化されていないもの)をマテリアライズするために\n -- 非常に多くのメモリを必要とします。\n -- 出力は、 一定のルールに沿って並べられているわけではないものになります。\n EXPLAIN ANALYZE\n  SELECT product_id, SUM(eur_value)\n    FROM sales\n    WHERE sale_date >= now() - INTERVAL '10' DAY\n   GROUP BY product_id;\n   \n  -- NULLS LASTインデックスから句を削除すると\n  DROP INDEX sales_dt_pr;\n  CREATE INDEX sales_dt_pr\n      ON sales (sale_date ASC, product_id DESC);\n  \n  -- GroupAggregate\n  -- https://use-the-index-luke.com/ja/sql/explain-plan/postgresql/operations\n  -- group by句に従って、並べ替え済みの 結果セットをまとめます。\n  -- この処理は中間結果をバッファせず、パイプライン化して実行します。\n  EXPLAIN ANALYZE\n   SELECT product_id, SUM(eur_value)\n     FROM sales\n    WHERE sale_date >= now() - INTERVAL '10' DAY\n    GROUP BY product_id;\n  \n  -- もう一度Nulls Lastのインデックスをつける\n  DROP INDEX sales_dt_pr;\n  CREATE INDEX sales_dt_pr\n      ON sales (sale_date ASC, product_id DESC NULLS LAST);\n  \n  -- 明示的にソートを指定すればGroupAggregateを使うようになる\n  -- つまり、Nulls Lastは明示的に指定しなければ使うことはできない\n  EXPLAIN ANALYZE\n   SELECT product_id, SUM(eur_value)\n     FROM sales\n    WHERE sale_date >= now() - INTERVAL '120' DAY\n    GROUP BY product_id\n    ORDER BY product_id DESC NULLS LAST;\n    \n\nhttps://wannabe-data-engineer.net/postgresql-work_mem-and-temporary-file/\nx\n[*** 2021/12/17]\nテストデータありました・・・\nhttps://use-the-index-luke.com/sql/example-schema\n\n5.データのクラスタリング\n\n クラスタ：ここで言うクラスタとは、サーバーのクラスタのように複数台のサーバーを使ってパフォーマンス上げるとかではなく、連続的にアクセスされるデータを近くに保存することとのこと。\n\n フィルタ述語の意図的な使用\n\t\tフィルタ述語の説明 p.177\npsql -h 127.0.0.1 -p 5435 -U root pgtest\ncode: scale_data.sql\n CREATE TABLE scale_data (\n      section NUMERIC NOT NULL,\n      id1     NUMERIC NOT NULL,\n      id2     NUMERIC NOT NULL\n   )\n \n INSERT INTO scale_data\n SELECT sections.*, gen.*\n      , CEIL(RANDOM()*10) \n   FROM GENERATE_SERIES(1, 30)     sections,\n        GENERATE_SERIES(1, 90000) gen\n  WHERE gen <= sections * 300;\n  \n  CREATE INDEX scale_data_key ON scale_data(section, id1)\n  \n  PREPARE stmt(int) AS SELECT count(*)\n                           FROM scale_data\n  WHERE section = 1 AND id2 = $1;\n    EXPLAIN EXECUTE stmt(1);\n    \n  -- これだとFilter使われる\n  \n  CREATE INDEX scale_slow ON scale_data (section, id1, id2)\n  \n  -- これだとFilter使われない\n\n\tちょっと分かりやすいかも：\n\t\thttps://www.fujitsu.com/jp/products/software/resources/feature-stories/postgres/article-index/tuningrule9-search/\n\n\tテーブル作成：https://use-the-index-luke.com/sql/example-schema/postgresql/where-clause\n\ncode: scale_data.sql\n explain SELECT first_name, last_name, subsidiary_id, phone_number\n FROM employees\n WHERE subsidiary_id = 100\n AND UPPER(last_name) LIKE '%INA%';\n \n CREATE INDEX empsubupnam ON employees (subsidiary_id, UPPER(last_name))\n \n \n\n \twhere句で指定するものにIndexつけたら早くなると、当然のことのようだが、このケースについてはフィルタ述語が使われることで早くなっている。こちらをしっかり理解して使えよと言っていると思われる。\n\n インデックスのみのスキャン\n \tテーブル作成　https://use-the-index-luke.com/sql/example-schema/postgresql/join\ncode: scale_data.sql\n CREATE INDEX sales_sub_eur\n       ON sales\n ( subsidiary_id, eur_value )\n  \n explain SELECT SUM(eur_value) FROM sales\n     WHERE subsidiary_id = 30\n  \n\n\t\tインデックス自体に目当ての列があれば、テーブルへのアクセスが必要ない。\n\t\t\t教科書はPostgresじゃないから出てないのか、Index Only Scanというやつ\n\t\t\thttps://www.postgresql.jp/document/10/html/indexes-index-only-scans.html\n\t\t\tカバリングインデックスと言うらしい。あんま信じてなかったけどググったら出てくる\n\t\t\tめちゃくちゃ褒めてるが忠告もあり\n\t\t\tインデックスのみのスキャンは、アグレッシブなインデックス戦略で す。不要なメモリを確保したり、update文実行時のメンテナンスコスト が増えたりするので、見込みだけでインデックスのみのスキャンを狙っ てインデックスをデザインしてはなりません。詳しくは、第8章, 「デー タの変更」を参照してください。実際には、まずはwhere句などを優先 し、select句を考えずにインデックスを作って、必要があればそこから 拡張していくべきでしょう。\n\n\t\tテーブルアクセスが増えるとやっぱり遅くなる\ncode: scale_data.sql\n explain SELECT SUM(eur_value)\n     FROM sales\n WHERE subsidiary_id = 30 AND sale_date > '2021/10/17';\n \n CREATE INDEX sales_date ON sales (sale_date);\n  \n explain SELECT SUM(eur_value)\n     FROM sales\n WHERE subsidiary_id = 30 AND sale_date > '2021/10/17';\n\n\t\tクエリが選択する行数は減ったのに、テーブルアクセスによってレスポンスタイムが増えてしまいます。関係があるのは、クエリが返す行数ではなく、行を探し出すためにデータベースが何行にアクセスするかなのです。\n\n\t\tp120. 関数Indexのおさらい的な\n\t\t非キー列\ncode: scale_data.sql\n オプションのINCLUDE句は非キー列としてインデックスに含める列のリストを指定します。 非キー列をインデックススキャンの検索条件に使うことはできません。また、インデックスで何であれ一意性制約や排他制約を強制する目的に対しても無視されます。 しかしながら、インデックスオンリースキャンは、インデックスエントリから値を直接得ることができるので、インデックスのテーブルを見に行く必要なく、非キー列の内容を返すことができます。 このように非キー列の追加は、そうでないとできないインデックスオンリースキャンを利用可能にします。\n \n インデックスに非キー列を加えることには、特に幅広の列については、保守的であるのが賢明です。 インデックス列がインデックス型で許される最大サイズを超えた場合、データ挿入は失敗してしまいます。 いかなる場合でも、非キー列はインデックスのテーブルからデータを複製して、インデックスのサイズを膨張させます。よって、潜在的に検索を遅くします。\n \n INCLUDE句にある列リストは適合した演算子クラスを必要としません。ここには与えられたアクセスメソッドに対して定義された演算子クラスを持たないデータ型の列を含めることができます。\n \n インデックスオンリースキャンで使うことができないため、INCLUDEする列に式は対応していません。\n \n 今のところ本機能はB-treeとGiSTインデックスアクセスメソッドに対応しています。 B-treeとGiSTインデックスではINCLUDE句にリストされた列の値は、ヒープタプルに対応するリーフタプルに含まれますが、ツリーを辿るのに使われる上位レベルのインデックスエントリには含まれません。\n\n\t\t索引構成表　読む\n\t\t索引構成表を使えば、セカンダリインデックスを使わない限り早くなる\n\t\thttps://www.shift-the-oracle.com/table/index-organized-table.html##:~:text=索引構成表%20とは,ているのではない。\n\n　実行計画読み解き：JPUGしくみ＋アプリケーション勉強会（第20回）\n　\thttps://www.slideshare.net/naka24nori/explain20\n Bitmap Index Scan の後の Bitmap Heap Scan でRecheck処理が行われることの解説\n \thttps://taityo-diary.hatenablog.jp/entry/2018/07/07/071928\n\n[*** 2021/12/10]\n内田\n4.結合処理\n\n[/ あるSQLクエリがバーに入ったら、そこには2つのテーブルがあった。]\n[/ 彼はそこに近づいて、こう尋ねた。「君達、ジョインしてもいいかい？」]\n\n 結合するテーブルが増えれば、評価しなければならない実行計画のパターンも増えます。\n  hashがまさにこれかも...\n \t数学的に言えば、これはn! (階乗)で増加していきます。\n \tなお、[* バインドパラメータ]を使っている時には、この問題の影響を受けません。\n バインドパラメータ（例つける）\n \t動的パラメータ、あるいはバインド変数とも呼ばれる、バインドパラメータとは、データベースにデータを渡すための方法です。値を SQL文に直接埋め込む代わりに、?や:name、 @nameといったプレースホルダを使い、別のAPIを呼び出して実際の値を渡します。\n \t例えばKing（ORM使用）\ncode:ruby\n Lock.where('id = ? AND serial_no = ?', '09bca3b6-63a2-6ca0-8d41-23e3c0bc448f', '9202009')\n\n  実際に発行されるSQL\ncode:sql\n\tSELECT \"locks\".* FROM \"locks\" WHERE (id = '09bca3b6-63a2-6ca0-8d41-23e3c0bc448f' AND serial_no = '9202009')\n\n 入れ子ループ\n  N+1問題\n\n ハッシュ結合\n \t準備\ncode:sql \n CREATE TABLE sales (\n \tsales_id int NOT NULL,\n \temployee_id int,\n \tsubsidiary_id int,\n \tsale_date timestamp NOT NULL,\n \tCONSTRAINT sales_pk PRIMARY KEY (sales_id)\n );\n \n  INSERT \n  INTO employees( \n    \"employee_id\"\n    ,\"first_name\"\n    ,\"last_name\"\n    ,\"date_of_birth\"\n    ,\"phone_number\"\n    ,\"subsidiary_id\"\n  ) \n  SELECT\n    i\n    ,format('first_name%s', i)\n    ,format('last_name%s', i)\n    ,CURRENT_DATE + CAST( i || 'days' AS interval) \n    ,format('%s', i)\n    ,i % 20\n  FROM\n    generate_series(1, 1000) as i\n \n INSERT \n INTO sales( \n   \"sales_id\"\n   ,\"employee_id\"\n   ,\"subsidiary_id\"\n   ,\"sale_date\"\n ) \n SELECT\n   i\n   ,i\n   ,i % 20\n   ,CURRENT_DATE - INTERVAL '6' MONTH + CAST( i || 'days' AS interval) \n FROM\n   generate_series(1, 1000) as i\n\n　　JOINの実行\ncode: sql\n SELECT *\n FROM sales s\n JOIN employees e ON (s.subsidiary_id = e.subsidiary_id\n AND s.employee_id = e.employee_id )\n WHERE s.sale_date > now() - INTERVAL '6' MONTH;\n\n  INDEXを追加してもFULL SCAN\ncode:sql\n CREATE INDEX sales_date ON sales (sale_date)\n\n 　必要なカラムを選択するようにするとハッシュテーブル削減するらしい\ncode:sql\n SELECT s.sale_date, e.last_name, e.first_name\n FROM sales s\n JOIN employees e ON (s.subsidiary_id = e.subsidiary_id\n AND s.employee_id = e.employee_id )\n WHERE s.sale_date > now() - INTERVAL '6' MONTH\n AND s.sub\n ;\n\n2021/11/26 \n遠藤\n3. パフォーマンスとスケーラビリティ \n\ncode: .sql\n CREATE TABLE scale_data_fast (\n   section NUMERIC NOT NULL,\n   id1 NUMERIC NOT NULL,\n   id2 NUMERIC NOT NULL\n );\n CREATE TABLE scale_data_slow (\n   section NUMERIC NOT NULL,\n   id1 NUMERIC NOT NULL,\n   id2 NUMERIC NOT NULL\n );\n \n INSERT INTO scale_data_fast\n SELECT sections.*, gen.*\n      , CEIL(RANDOM()*100) \n   FROM GENERATE_SERIES(1, 300)     sections,\n        GENERATE_SERIES(1, 1000) gen\n  WHERE gen <= sections * 3000;\n  \n  INSERT INTO scale_data_slow\n  SELECT sections.*, gen.*\n       , CEIL(RANDOM()*100) \n    FROM GENERATE_SERIES(1, 300)     sections,\n         GENERATE_SERIES(1, 1000) gen\n   WHERE gen <= sections * 3000;\n   \n CREATE INDEX scale_data_fast_key ON scale_data_fast (section, id1);\n CREATE INDEX scale_data_slow_key ON scale_data_slow (section, id1);\n \n \n CREATE INDEX index_scale_data_slow ON scale_data_slow (section, id1, id2);\n CREATE INDEX index_scale_data_fast ON scale_data_fast (section, id2, id1);\n \n PREPARE stmt_fast(int) AS SELECT count(*) FROM scale_data_fast WHERE section = 1 AND id2 = $1\n PREPARE stmt_slow(int) AS SELECT count(*) FROM scale_data_slow WHERE section = 1 AND id2 = $1\n -- 削除する時は下記\n -- DEALLOCATE stmt\n\n\tANALYZEオプションで実際の実行時間や行数を記録する\ncode:.sql\n BEGIN;\n EXPLAIN ANALYZE EXECUTE stmt_fast(1);\n ROLLBACK;\n  \n\n\t遅いインデックスを使い続けていくと、スケールすればするほど遅くなっていく\n\t述語情報（詳細な実行計画）をとることで、違いがわかる\n\tシステム負荷がパフォーマンスに影響する\n\t\t実行計画は付録Aのp.172に記載\n\tアクセス量は、スケーラビリティの関数のもう1つのパラメータ\n\n[*** 2021/11/16]\n### where\n#### 前置き\n- クエリを遅くする一番の原因 は、出来の悪いwhere句なのです。\n\n#### 環境構築\nhttps://github.com/qrioinc/study-index\n\n- DB作成\n```\ndocker-compose up\n```\n\n- ログイン\nroot@a.com\nroot\n\n- 接続\n\n#### 等価演算子\n\n##### プライマリキー\n下記を実行してみる\ncode:.sql\n CREATE TABLE employees (\n     employee_id int NOT NULL,\n     first_name varchar(1000) NOT NULL,\n     last_name varchar(1000) NOT NULL,\n     date_of_birth timestamp NOT NULL,\n     phone_number varchar(1000) NOT NULL,\n     CONSTRAINT employees_pk PRIMARY KEY (employee_id)\n )\n\ncode: .sql\n EXPLAIN SELECT first_name, last_name\n     FROM employees\n WHERE employee_id = 123\n\n\t実行計画の処理：https://use-the-index-luke.com/ja/sql/explain-plan/postgresql/operations\n\ncode: .sql\n PREPARE stmt(int) AS SELECT first_name, last_name\n     FROM employees\n WHERE employee_id = $1\n \n EXPLAIN EXECUTE stmt(123)\n\n- ちょっとOracleとは違うが同じようなことを言ってる\n\n#### 複合インデックス\nデータベースは、プライマリキーに対して自動的にインデックスを作 成しますが、キーが複数の列からなる時は、さらに手動で調整をする余 地があります。この場合、データベースはプライマリキーの全ての列に いわゆる連結インデックス(あるいはマルチカラムインデックス、複合イ ンデックス)を作成します。複合インデックスの列の順番は、インデック スの使い勝手に大きな影響を及ぼすので、注意して決定する必要があり ます。\n例として、企業が合併した場合を考えてみましょう。他の会社の社員 が加わったので、EMPLOYEESテーブルが10倍の大きさになったとしましょ う。ここで問題が発生します。EMPLOYEE_IDが、それぞれの会社で一意に なっていなかったのです。子会社IDのような追加の識別子で、プライマ リキーを拡張する必要があります。このため、プライマリキーは、以前 からのEMPLOYEE_IDに加えて、一意性を保つためのSUBSIDIARY_IDを加えた2 列になりました。\n 新しいプライマリキーに対するインデックスは、以下のように定義されます。\n\n PKを復号化する\ncode: .sql\n ALTER TABLE employees ADD COLUMN subsidiary_id int NOT NULL;\n ALTER TABLE employees DROP CONSTRAINT employees_pk;\n ALTER TABLE employees ADD CONSTRAINT employees_pk PRIMARY KEY(employee_id, subsidiary_id);\n \n\n\tアクセス述語とフィルタ述語の見分け方：https://use-the-index-luke.com/ja/sql/explain-plan/postgresql/filter-predicates\n\ncode: .sql\n EXPLAIN SELECT first_name, last_name\n     FROM employees\n    WHERE employee_id   = 123\n      AND subsidiary_id = 30\n \n\nemployee_idのwhereを除く\n\ncode: .sql\n EXPLAIN SELECT first_name, last_name\n     FROM employees\n    WHERE subsidiary_id = 30\n \n\n- p.14、p.15、p.16を見る -> まさにログとかいいところかも\n\n- logテーブルがどうなってるか確認してみる\n\n#### 遅いインデックス パートII\ncode: .sql\n DELETE FROM employees;\n \n INSERT \n INTO employees( \n   \"employee_id\"\n   ,\"first_name\"\n   ,\"last_name\"\n   ,\"date_of_birth\"\n   ,\"phone_number\"\n   ,\"subsidiary_id\"\n ) \n SELECT\n   i\n   ,format('first_name%s', i)\n   ,format('last_name%s', i)\n   ,CURRENT_DATE + CAST( i || 'days' AS interval) \n   ,format('%s', i)\n   ,i % 20\n FROM\n   generate_series(1, 1000) as i\n \n\ncode: .sql\n EXPLAIN SELECT first_name, last_name\n     FROM employees\n    WHERE last_name  = 'WINAND'\n    AND subsidiary_id = 30\n \n\nオプティマイザヒント効かなかった -> けどこっちの方が効率的らしい？\nhttps://www.fujitsu.com/jp/products/software/resources/feature-stories/postgres/article-index/pg-hint-plan/\n\ncode: .sql\n EXPLAIN SELECT /*+ NO_INDEX(EMPLOYEES EMPLOYEES_PK) */ first_name, last_name, subsidiary_id, phone_number\n     FROM employees\n    WHERE last_name  = 'WINAND'\n      AND subsidiary_id = 30\n \n\nindexをつけると早くなるよ\ncode: .sql\n CREATE INDEX emp_name ON employees (last_name)\n\n\n#### cost\ncode:.md\n 初期処理の推定コスト（出力用のスキャンが開始されるまでに消費される時間）、例えば、SORTノードで実行されるソート処理の時間。\n 全体推定コスト。 （すべての行を受け取った場合。 ただしすべてではない場合もあります。 例えばLIMIT句を取る問い合わせではLimit計画ノードへの入力ノードの総コストをかける前に停止するため短くなります。）\n 14.1. EXPLAINの利用：https://www.postgresql.jp/document/8.4/html/using-explain.html\n \n \n 【各行の説明】\n 一行目の「cost=」の後にある「0.00」：始動コスト、\n 後半の「..」の後にある「4.00」：総コスト\n 「rows=」の後にある「200」：行数\n 「width=」の後にある「25」：行の長さ\n 最後に始動コストが「0.00」以外のノードのサンプルを記載します。\n \n \n https://postgresweb.com/post-4047\n cost=A..B\n -- A ＝ 初期コスト（select文に対して最初の行を返すコスト）\n -- B ＝ トータルコスト（最後の行を返すコスト）\n \n\n\n#### 関数 -> 飛ばす\n#### ユーザ定義関数 -> 飛ばす\n#### インデックスの作り過ぎ -> 飛ばす\n#### パラメータ化クエリ -> 一旦飛ばす\n\n####　範囲検索（大なり、小なり、BETWEEN） p.39\nINDEX RANGE SCANにおいて、パフォーマンスへの影響が最も大きいの は、リーフノードの走査です。インデックスをスキャンする範囲をで きる限り小さく保つのは、インデックスを作る上での黄金則です。イン デックスのスキャンがどこから始まってどこで終わるのか、自分に問い かけて確認しましょう。\n\np.40 ~ p.42読む\n\nindexをつけない\ncode: .sql\n EXPLAIN SELECT first_name, last_name, date_of_birth\n     FROM employees\n WHERE date_of_birth >= TO_DATE('2021-12-02', 'YYYY-MM-DD') \n AND date_of_birth <= TO_DATE('2021-12-30', 'YYYY-MM-DD')\n AND subsidiary_id = 12\n \n\ncode: .sql\n CREATE INDEX date_of_birth_subsidiary_id_pk ON employees (date_of_birth, subsidiary_id)\n \n\nindexをつける\n\ncode: .sql\n EXPLAIN SELECT first_name, last_name, date_of_birth\n     FROM employees\n WHERE date_of_birth >= TO_DATE('2021-12-02', 'YYYY-MM-DD') \n AND date_of_birth <= TO_DATE('2021-12-30', 'YYYY-MM-DD')\n AND subsidiary_id = 12\n \n\nsubsidiary_idが先のindexを作ってみる\n\ncode: .sql\n DROP INDEX date_of_birth_subsidiary_id_pk\n CREATE INDEX subsidiary_id_date_of_birth_pk ON employees (subsidiary_id, date_of_birth);\n \n\nデータが悪いのか、あまり変わらなかった。\n(意外とsubsidiary_idが先の方がcostは低かったりした)\n\n\n``` p.42\n実際のパフォーマンスの違いは、データとそれに対する検索の基準 によって現れます。DATE_OF_BIRTHに対するフィルタの選択性が高い場合 は、パフォーマンスの違いは無視できるものになる可能性もあります。 日付の範囲が広がれば広がるほど、パフォーマンスの違いは大きくなる ということです。\n```\n\nここ色々試してみたい。\n\n####　範囲検索（Like） -> 軽く読み飛ばす\np.46の図見れば大体ok\n\n####　インデックスの結合\n「各列を含むインデックスを1つ作るのと、where句に出てくる全ての 列にそれぞれインデックスを作るの、どっちがいいの?」というのは、 インデックス作成に関する一番よくある質問でしょう。その答えは非常 に簡単で、多くの場合は、複数の列を含む1つのインデックスの方がよいでしょう。\n\n\nこのような場合はどうしてもIndex1つじゃ無理\n\ncode: .sql\n SELECT first_name, last_name, date_of_birth\n     FROM employees\n WHERE UPPER(last_name) < ?\n AND date_of_birth < ?\n \n\np.49, p.50\n\nビットマップインデックス\n\n####　部分インデックス\nlogsのlog_typeに使えるか考えてみたい。\n（ややこしそうなのであんまり使いたくないが）\n\nインデックスの作り過ぎ ..................................................... 31\n迄！\n\n\t進行：蓑毛\n\nやりたいこと募集\n\n[*** 2021/11/01]\n　進行：蓑毛\n　indexの話をちょっとした\n　次からどう進めるか話した。一旦１週間単位でみんな読んできて進行担当が進行方法を考える。\n　https://qiita.com/opiyo_taku/items/b4463392cf801a3c7df1\n　https://www.postgresql.jp/docs/9.2/monitoring-stats.html\ncode: .sql\n  SELECT relname, n_live_tup FROM pg_stat_user_tables WHERE schemaname=‘public’;\n        relname        | n_live_tup\n ----------------------+------------\n  schema_migrations    |         35\n  ar_internal_metadata |          1\n  locks                |     300232\n  hubs                 |     170468\n  fobs                 |     110200\n  users                |     309177\n  master_keys          |     101767\n  lock_settings        |     101766\n  term_of_validities   |     161372\n  durations            |      48771\n  dailies              |      16507\n  weeklies             |      24244\n  family_keys          |     120972\n  guest_keys           |      57868\n  fob_keys             |      34735\n  logs                 | 1360598653\n  invitations          |      53448\n  json_web_keys        |          2\n  command_logs         |    8715669\n  webhook_tokens       |      33662\n  lock_webhook_tokens  |        957\n  delayed_jobs         |          0\n  managers             |          0\n  webhooks             |        640\n  autolock_schedules   |          0\n  relationships        |          0\n  wenas                |          0\n  wena_keys            |       2117\n  knights              |     100404\n  knight_keys          |          0\n  knight_cards         |          0\n  knight_pins          |          0\n  knight_commands      |          0\n (33 rows)\n\n\n# Sirius 組織管理 CSフロー\ncreated_at:Mon Jan 19 1970 17:01:01 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 08:36:02 GMT+0900 (日本標準時)\nSirius 組織管理 CSフロー\n2020/3/24　文責[takeuchi.icon]\n\n<WIP. 認識合わせしたら、本内容は別所に移動するかも[takeuchi.icon]>\n\n### サービス利用開始の流れ (組織管理したい顧客の場合)\n- 顧客から、次の情報を受け取る。\n  - 上位組織名\n  - 上位組織の担当者の名前\n  - 上位組織用メールアドレス\n  - 上位組織のロックのセット数、1ドア2ロックを利用するかどうか\n  - `下位組織名` のリスト(フォーマットは不問)\n  - `下位組織の担当者の名前,下位組織用メールアドレス,ロックのセット数,1ドア2ロックを利用するかどうか` のリスト(フォーマットは不問)\n   - TKGだと、下位組織数は最大300。1stリリース時点では、手動でも間に合うだけの数しか、依頼は来ないはず。\n  - 住所、電話番号\n  \t// TODO: 住所と電話番号は下位組織も必要だと思われるので確認する[takeuchi.icon]\n  \t// 配送先住所も、組織ごとにQrioがわけて発送すると思うので確認する[takeuchi.icon]\n  - 他、契約情報\n\n- CSツールの「顧客管理→新規作成」から、上位組織を作成する。\n\t\t- 申し込みプラン: 請求書払い（Qrioその他）固定の値が入力されるが、システム的なしばりはない\n\t\t- プラン: 1ロック基本プラン（特別契約）固定の値が入力されるが、システム的なしばりはない\n\t\t- メール: 上位組織用メールアドレス\n\t\t- 会社名: 上位組織名\n\t\t- 氏名: 上位組織担当者名\n\t\t- 電話番号、郵便番号、都道府県、以降の住所: （それぞれ入力）\n\t\t- セット数、1ドア2ロックを利用する: （それぞれ入力）// TODO: セット数=0も許容する[takeuchi.icon]\n\t\t契約情報の詳細については、CSツール上では管理しない。\n\n- CSツールの「顧客管理→新規作成」から、それぞれ下位組織を作成する。\n\t\t- （[- この下位組織にひもづく上位組織を選択する）// TODO: 項目を新設する[takeuchi.icon]]\n\t\t- 申し込みプラン: 請求書払い（Qrioその他）\n\t\t- プラン: 1ロック基本プラン（特別契約）\n\t\t- メール: 下位組織用メールアドレス\n\t\t- 会社名: 下位組織名\n\t\t- 氏名: 下位組織担当者名\n\t\t- 電話番号、郵便番号、都道府県、以降の住所: （入力しない）// TODO: [takeuchi.icon]\n\t\t\tここの項目は現状すべて入力必須。変更するなら期間をのばすことになる。CSフローに確認してから[takeuchi.icon]\n\t\t　これするならエンプラプランとかじゃなくてマジでグループ管理でよかった\n\t\t- セット数、1ドア2ロックを利用する: （それぞれ入力）\n\t\t契約情報の詳細については、CSツール上では管理しない。\n\n// TODO: 組織のひもづけ機能を別個で準備する。[takeuchi.icon]\nCSフローとしては、下位組織を1つ作成→上位組織にひもづけ→下位組織を1つ作成→上位組織にひもづけ......の繰り返しでOKと思われる。\n\n\n- 上位組織の顧客情報について「審査を承認する」。\n  - 上位組織用メールアドレス宛てに、アカウント発行依頼メールが送信される。\n  - 担当者（システム管理者）はメールをひらき、URLを踏む。\n  - 上位組織担当者はメールを開き、カギカン組織コンソールおよびカギカンコンソールログイン用のメールアドレス・パスワードを設定する。\n  - システム管理者のアカウントが発行される。\n\n- それぞれの下位組織の顧客情報について「審査を承認する」。\n  - それぞれの下位組織用メールアドレス宛てに、アカウント発行依頼メールが送信される。\n  - 各担当者（マネージャー）はメールをひらき、URLを踏む。\n  - カギカンコンソールログイン用のメールアドレス・パスワードを設定する。\n  - マネージャーのアカウントが発行される。BCUでロックを登録してもらう。\n\n\n### 下位組織の追加\n- 顧客から、次の情報を受け取る。\n  - 追加する `下位組織名` のリスト(フォーマットは不問)\n  - 追加する `下位組織の担当者（マネージャー）の名前,メールアドレス,ロックのセット数,1ドア2ロックを利用するかどうか` のリスト(フォーマットは不問)\n- 「サービス利用開始の流れ (組織管理したい顧客の場合)」と同様に、下位組織を作成、審査を承認する。\n- プランを別個で管理している場合、そちらを更新する。\n- 以下を顧客に提供する。\n  - 追加した `下位組織ID,下位組織名`のCSVファイル\n\n\n### 下位組織の変更\n- 顧客から、次の情報を受け取る。\n  - 変更したい `下位組織ID,下位組織の担当者（マネージャー）の名前,メールアドレス,ロックのセット数,1ドア2ロックを利用するかどうか` のリスト(フォーマットは不問)\n- 当該の組織情報を更新する。\n　　3/24 山田　組織名の変更も可能でしょうか？（組織管理コンソールからは変更可能でした）\n 　3/24 山田　メールアドレスを変更後、変更された担当者にメール送信などのフローはありますか？\n 　3/24 山田　メールアドレスを変更後、既存ログインアカウントは変更されますか？\n- プランを別個で管理している場合、そちらを更新する。\n- 次の旨を顧客に連絡する。\n  - 変更完了の旨。\n\n\n### 下位組織の削除\n- 顧客から、次の情報を受け取る。\n  - 削除したい `下位組織ID,組織名` のリスト(フォーマットは不問)\n- 削除したい下位組織を削除する。\n  - どの下位組織にもひもづかないマネージャー、利用者、合カギグループ、ロックを削除する。\n 　　3/24 山田　削除されたマネージャー、利用者に削除メールは送信されますか？\n- プランを別個で管理している場合、そちらを更新する。\n- 次の旨を顧客に連絡する。\n  - 下位組織の削除完了の旨。\n\n\n### 上位組織の変更\n// TODO: 1stでは、依頼があったら手動で変更することを想定しているが、未定。\n\n\n## CSツール仕様（上記以外）\n指定の上位組織と、それにひもづく下位組織のみ表示することができる。 // TODO: UI要検討[takeuchi.icon]\n\n\n### 1stリリースでは見送り\n- 下位組織のCSV一括登録\n- 組織ごとに請求できる\n[- - 組織のロックのセット数（1ドア2ロックを利用するかどうか）を変更する]\n\n\n## Appendix\n\n### サービス利用開始の流れ (カギカンコンソールの「新規申し込み」から)\n- カギカンコンソールの「新規申込」から、顧客が仮登録する。すると顧客に仮登録完了メールが送信される。\n- メールのURLを踏むと本登録される。\n- 本登録ページから、企業情報、プラン、ロック数、決済情報など入力する画面に移動できる。\n- 顧客はそこで諸々入力する。\n- 入力が終わると、CSツールの「審査管理」のところに、その入力情報が入ってくる。\n  - 顧客は、請求書orクレジットのどちらかしか選べないので、どちらかに出てくる。\n- 「審査を承認する」と、この顧客に対してメールが送信される。\n- 顧客はそのメール内のURLを踏んで、パスワードを設定する。\n- するとrole=managerのorganization_usersがつくられる。顧客はカギカンコンソールにログインできる。\n\n\n\n##Sirius\n\n# Kingサーバ課題整理\ncreated_at:Tue Jan 20 1970 08:07:08 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 08:22:13 GMT+0900 (日本標準時)\nKingサーバ課題整理\n\n logsのレスポンスが大幅に改善されたので、残りの課題を整理してたいおうしていく\n\n[/ カキカキする]\n\n\n hashの件\n\n　logアップロード時のエラー\n　\tget h/commands/log \n　\t\tmain_responseがない場合に発生\n　\t\tすぐ直せるので直す\n　\t\t今一番起きてる[https://gyazo.com/22b75f34db02f7bbe7d51e24a039ffba]\n\n なんか違うの起きてる\n \tArgumentError (expected 64 byte signature, got 0):\n\n# log取得-劇的ビフォーアフター\ncreated_at:Tue Jan 20 1970 08:07:03 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 08:07:05 GMT+0900 (日本標準時)\nlog取得-劇的ビフォーアフター\n## before\n[https://gyazo.com/4787edda6ca24692e667a4331f271719]\n\n[https://gyazo.com/db65a87e73ea5717f9ad7b8db63a00cd]\n\n[https://gyazo.com/f1feda42d4548dc4bdb7219e9d9ab437]\n\n\n[https://gyazo.com/e3dc77883e57758177138d16ef43b9c7]\n\n[https://gyazo.com/068a187be112a7075c7ceb4f95627c1f]\n[https://gyazo.com/707d1ab63c0c6c720ea57925cf59cb5a]\n\n### 24h (~ 12/2 14:44) \n[https://gyazo.com/2c6500e727552fe5bb88b104c2100329]\n[https://gyazo.com/24dc0f07ced9f135e5dfc43618705f68]\n[https://gyazo.com/f7e98a796ed62a912a8226f5837f1981]\n\n\n\n\ncode: aa\n \n Dec 02 15:05:36 sl2-api-production heroku/router at=error code=H12 desc=\"Request timeout\" method=GET path=\"/v1/u/logs?lock_id=B6A11D0D-85D3-8981-8E45-BDAADE97C359&latest=1638425103&log_types%5B%5D=1&log_types%5B%5D=2&log_types%5B%5D=3&log_types%5B%5D=4&log_types%5B%5D=6&log_types%5B%5D=7&log_types%5B%5D=9&log_types%5B%5D=11\" host=sl2-api.qrioinc.com request_id=42710c47-f60b-dfa0-0f86-1a42431bf7d7 fwd=\"49.97.8.185\" dyno=web.4 connect=0ms service=30000ms status=503 bytes=561 protocol=http tls_version=tls1.3\n \n\n\n## after\n\n\n\n\n# ## 1lock\ncreated_at:Tue Jan 20 1970 08:07:01 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 08:07:01 GMT+0900 (日本標準時)\n### 1lock\nhttp://localhost:3002/v1/u/logs/?lock_id=95c04672-8a49-fea6-8541-4d37025fe8d9&log_types%5B%5D=1&log_types%5B%5D=2&log_types%5B%5D=3&log_types%5B%5D=4&log_types%5B%5D=6&log_types%5B%5D=7&log_types%5B%5D=9&log_types%5B%5D=11&log_types%5B%5D=45&log_types%5B%5D=46&latest=1638417934&limit=100\n#### 新\n[{\"id\":\"6d319a78-b20d-402f-bd93-f8cb71f1213f\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":115,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T04:05:01.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7d621ddd-0c89-487f-b9d1-77bedce77b6e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":114,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T04:04:27.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"4716ed64-8661-4969-8d7c-b35eb078fcd6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":113,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:18.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"aecf07ae-fd4f-45c3-8417-74a8f43e19f9\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":112,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:14.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ddaf5331-a30d-4985-9e74-936d329561eb\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":111,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:10.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"dacb1b64-8b9b-4d74-8b34-7da7e9bf6918\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":110,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:06.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"cae455c9-edfe-4247-996b-68e20d4d9094\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":109,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:02.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"917e696a-bc3b-4b76-b8c1-e5b4782cd2ad\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":108,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:59.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"eb5ee911-d406-4840-9f52-0c5112062e44\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":107,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:55.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"f2c3334e-6396-4432-bd10-35d50d6ef6b8\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":106,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:51.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1804a050-c120-4706-a430-90645c100848\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":105,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:47.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"9dd3442d-edd1-4a63-b68f-ea2bd09f17d6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":104,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:44.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1ec26d32-a8d1-4f49-864b-1ee9f7ab15ab\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":103,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:40.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1cbf392b-76cb-41cf-a184-7783b1921c47\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":102,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:36.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"b462d433-1a1b-4abb-be57-22fdbdbf71f9\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":101,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:32.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7124eb35-a688-4bad-979e-b0ac3c981e05\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":100,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:29.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"5a2dab72-a623-49e5-ad8b-976e2b7cfff2\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":99,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:25.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"f462c48f-7bdc-4c91-bde7-ee9906c69a14\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":98,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:22.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8adb50d8-5ad5-46bb-844d-1aed5958a5ee\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":97,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:18.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"752fbab2-6df6-45d7-948d-812ef1fe818d\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":96,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:15.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"07e10804-b558-43a3-ba62-fdf20a7bb306\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":95,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"af887ac0-6208-423a-82d7-696161144a5d\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":94,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:08.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"57b3c8fe-1050-4a03-9790-0d63b9b7cfdd\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":93,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:05.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"6a8f4345-5816-407f-bea0-8d4edaac61cf\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":92,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:01.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"287e4e26-6cc3-4f47-845f-85d0b204d769\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":91,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:58.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1256f2eb-5e21-4b32-ad8f-54305c0fee9e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":90,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:55.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"276edc06-417c-4997-ba6c-457d65c59632\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":89,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:52.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"9de23625-8ffd-4591-b0e2-b7e57c71d87b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":88,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:49.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"d89f3f62-32ff-4c61-9056-81786f3198ae\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":87,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:46.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"f57c776c-de8d-4f43-b87f-999119ce3cbd\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":86,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:42.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"f8fa8f23-1a7b-4ab5-8c39-2eba77efb3d9\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":85,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:24.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"5b898639-b073-4662-984b-428f1c444f3a\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":84,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:19.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1dcb7e70-fccc-4de0-ba5a-fc1cfd400875\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":83,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:15.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e9b5464a-e4b0-4d1f-a488-184af031d966\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":82,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"6a8ffcf6-d13b-458d-a878-73ec1677fb6e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":81,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"bccc379f-9b68-4c2f-9e7b-06aee2d41b6c\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":80,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:03.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e6b7bbaf-8631-45d9-99e9-cf2058e07752\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":79,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:59.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ac0a2816-670c-44af-b820-282969715726\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":78,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:54.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"c47048f1-d10c-4b48-91fd-5f0aca479e5b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":77,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:50.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"56178ab7-ea53-474f-b991-c3d54c8c0fa7\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":76,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:46.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"3ede1bdc-6d6b-4fac-96df-93be8168929d\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":75,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:42.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"4b9ee116-eb0d-4f5c-8ee4-4fe274a3b53b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":74,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:37.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ba9512e6-a5c6-48dc-8d57-a8e17abab2d6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":73,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:30.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"2bc3f2fc-e701-4fe2-af43-3aa1b8f73a03\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":72,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:24.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"fad8e638-e896-4f3d-99e8-ffd0d4cf5828\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":71,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:19.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8da96ed9-7f7d-4b2e-a31f-5bf88ec615c5\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":70,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:12.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"c2e1b3d0-8dd1-45fd-bd75-7c63efa2d2fc\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":69,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:08.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"65f2bac8-518d-45a9-8554-4affeac3c1a2\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":68,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:04.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"a5d40e3a-8b30-4f8a-a640-23f999b3cc25\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":67,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:00.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"75bdb1b5-e651-40cb-8244-5d3fa76c5574\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":66,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:56.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ad732ae2-7555-47b7-b9dd-788f0b985d2c\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":65,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:52.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8c537b70-5fcb-4469-a302-59edfff36f74\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":64,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:48.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"2327dee0-a70d-4290-84d6-96e6de7ba9b0\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":63,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:44.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"65a71963-4d13-4f1c-af6d-3de7ab47c4c1\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":62,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:39.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7185788f-61bc-4c50-b356-660044d7623e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":61,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:34.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"882cfdaf-5741-4532-b204-0eb4f5c7b90d\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":60,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:28.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e5ddec0b-b515-4edb-b925-a451ede0ec06\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":59,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:25.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"2e3c80b9-756d-4ab7-b782-dd1dc5917394\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":58,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:21.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"58e7afb5-cc91-4f4c-9ff9-51b46a196bdb\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":57,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:18.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"d14baae4-d110-4075-8be3-efffbc61b2e5\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":56,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:14.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e230aa76-b5c4-4991-97ed-5d809149dd2e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":55,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:10.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"54642a9e-5dba-4589-b808-3ab3cc2081e7\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":54,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"06048511-ae75-4b90-881b-7b24f423ec51\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":53,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:49.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"b5cd8b79-54d6-4300-a84e-a3ba43df7134\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":52,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:44.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"c9918b72-a502-45fa-96bc-13b2a170c36b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":51,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:39.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7ff7771b-606a-43b1-b0d0-9b9fa6aad88c\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":50,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:33.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"fd5b896d-2189-40cc-8b5b-de6c3ce551d5\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":49,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:29.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7a4a34b0-0429-4d32-82c4-ccd8103e5ff3\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":48,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:25.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"5e7b5965-46cc-47d1-9391-01a365289a16\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":47,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:19.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"0b3fda6c-85f9-45e3-9c40-48f3f4dbffe0\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":46,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:14.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ed2fd6a8-9820-4ccb-98d6-f20412dc03f1\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":45,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:10.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"487c04e1-4b02-468e-980c-b235081652ab\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":44,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:03.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"51909060-4a05-4daa-9d78-8bb2ed3add5b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":43,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:58.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"9b0d86d8-7f7d-491c-a062-669d7be671f1\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":42,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:53.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"4f9ed904-b89f-44d1-a26a-08e29a9d5d43\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":41,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:48.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"afe01e15-6265-4e7f-93a6-3d4ae5599f32\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":40,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:41.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"c7def472-0ade-4c17-8ce8-345fbd54a01c\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":39,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:37.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"dbfc4a96-bd3d-49a6-a1f7-838dbc367e0f\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":38,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:22.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e849bc75-e068-4b90-b9bd-e7d790844be2\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":37,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:19.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8afe7e69-6c6f-4887-a67a-0bba23552da6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":36,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:16.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"3e0b39fc-94fd-4ced-9fdc-fc5ebda7ceec\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":35,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:14.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"d0eef153-d244-43a0-b3c3-953ffed64024\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":34,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"20b8727f-e947-405f-8a51-14e45ae5148a\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":33,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:08.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"41d4b9c9-5644-49ea-ad44-6ba820203552\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":32,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:06.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ab0ab133-dcd2-47a0-a825-5eac777cb0f0\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":31,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:03.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"320b2fbd-02b8-42d8-9427-44a043e66151\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":30,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:00.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7143f1f8-1348-4bb0-9021-65ff9de1d24b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":29,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:47:58.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"863c53d9-f268-4ec1-b3fa-a95a44134991\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":28,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:47:54.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e4e107d0-33e0-438e-bf9f-0a2fe18588b9\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":27,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:42:09.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"4cfe7947-e45a-4953-b68f-3b7ab8efbe61\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":26,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:41:05.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"aef5eef2-af34-42b9-bf1d-8747cf0ce1fc\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":25,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:40:17.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"83fd99a6-9dbe-4d28-bad6-008093f000ee\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":24,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:32:56.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ca11fc6d-718a-44d5-9563-2b03adea3504\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":23,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:28:45.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"16a78a4a-f439-4988-8ad2-d2138b2bced6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":22,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:24:30.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"a2c55eaf-625b-466d-b5f8-0d95646be3ed\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":21,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:22:48.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1b297088-5ce5-4002-8318-1d04fa2b6cde\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":20,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:21:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"2250040c-285c-4969-b811-d7061e2ee9fe\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":19,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:19:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8a80ff67-0dec-4d0b-a42f-52f9b4b36aff\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":18,\"log_type\":3,\"param1\":0,\"param2\":0,\"param3\":0,\"logged_at\":\"2021-12-02T03:18:07.000Z\",\"recordable_type\":null,\"double_lock\":false,\"on_upside\":true,\"user_name\":null},{\"id\":\"03164ae4-9f44-49d2-9023-66704a47d62b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":17,\"log_type\":4,\"param1\":0,\"param2\":0,\"param3\":0,\"logged_at\":\"2021-12-02T03:17:50.000Z\",\"recordable_type\":null,\"double_lock\":false,\"on_upside\":true,\"user_name\":null},{\"id\":\"a57f0728-757c-4c68-88ec-c63027188217\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":16,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:15:45.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"}]\n\n#### 旧\n[{\"id\":\"6d319a78-b20d-402f-bd93-f8cb71f1213f\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":115,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T04:05:01.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7d621ddd-0c89-487f-b9d1-77bedce77b6e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":114,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T04:04:27.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"4716ed64-8661-4969-8d7c-b35eb078fcd6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":113,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:18.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"aecf07ae-fd4f-45c3-8417-74a8f43e19f9\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":112,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:14.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ddaf5331-a30d-4985-9e74-936d329561eb\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":111,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:10.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"dacb1b64-8b9b-4d74-8b34-7da7e9bf6918\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":110,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:06.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"cae455c9-edfe-4247-996b-68e20d4d9094\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":109,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:54:02.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"917e696a-bc3b-4b76-b8c1-e5b4782cd2ad\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":108,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:59.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"eb5ee911-d406-4840-9f52-0c5112062e44\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":107,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:55.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"f2c3334e-6396-4432-bd10-35d50d6ef6b8\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":106,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:51.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1804a050-c120-4706-a430-90645c100848\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":105,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:47.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"9dd3442d-edd1-4a63-b68f-ea2bd09f17d6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":104,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:44.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1ec26d32-a8d1-4f49-864b-1ee9f7ab15ab\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":103,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:40.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1cbf392b-76cb-41cf-a184-7783b1921c47\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":102,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:36.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"b462d433-1a1b-4abb-be57-22fdbdbf71f9\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":101,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:32.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7124eb35-a688-4bad-979e-b0ac3c981e05\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":100,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:29.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"5a2dab72-a623-49e5-ad8b-976e2b7cfff2\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":99,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:25.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"f462c48f-7bdc-4c91-bde7-ee9906c69a14\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":98,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:22.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8adb50d8-5ad5-46bb-844d-1aed5958a5ee\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":97,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:18.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"752fbab2-6df6-45d7-948d-812ef1fe818d\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":96,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:15.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"07e10804-b558-43a3-ba62-fdf20a7bb306\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":95,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"af887ac0-6208-423a-82d7-696161144a5d\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":94,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:08.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"57b3c8fe-1050-4a03-9790-0d63b9b7cfdd\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":93,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:05.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"6a8f4345-5816-407f-bea0-8d4edaac61cf\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":92,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:53:01.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"287e4e26-6cc3-4f47-845f-85d0b204d769\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":91,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:58.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1256f2eb-5e21-4b32-ad8f-54305c0fee9e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":90,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:55.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"276edc06-417c-4997-ba6c-457d65c59632\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":89,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:52.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"9de23625-8ffd-4591-b0e2-b7e57c71d87b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":88,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:49.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"d89f3f62-32ff-4c61-9056-81786f3198ae\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":87,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:46.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"f57c776c-de8d-4f43-b87f-999119ce3cbd\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":86,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:42.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"f8fa8f23-1a7b-4ab5-8c39-2eba77efb3d9\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":85,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:24.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"5b898639-b073-4662-984b-428f1c444f3a\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":84,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:19.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1dcb7e70-fccc-4de0-ba5a-fc1cfd400875\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":83,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:15.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e9b5464a-e4b0-4d1f-a488-184af031d966\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":82,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"6a8ffcf6-d13b-458d-a878-73ec1677fb6e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":81,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"bccc379f-9b68-4c2f-9e7b-06aee2d41b6c\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":80,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:52:03.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e6b7bbaf-8631-45d9-99e9-cf2058e07752\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":79,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:59.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ac0a2816-670c-44af-b820-282969715726\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":78,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:54.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"c47048f1-d10c-4b48-91fd-5f0aca479e5b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":77,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:50.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"56178ab7-ea53-474f-b991-c3d54c8c0fa7\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":76,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:46.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"3ede1bdc-6d6b-4fac-96df-93be8168929d\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":75,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:42.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"4b9ee116-eb0d-4f5c-8ee4-4fe274a3b53b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":74,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:37.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ba9512e6-a5c6-48dc-8d57-a8e17abab2d6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":73,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:30.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"2bc3f2fc-e701-4fe2-af43-3aa1b8f73a03\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":72,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:24.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"fad8e638-e896-4f3d-99e8-ffd0d4cf5828\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":71,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:19.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8da96ed9-7f7d-4b2e-a31f-5bf88ec615c5\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":70,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:12.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"c2e1b3d0-8dd1-45fd-bd75-7c63efa2d2fc\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":69,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:08.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"65f2bac8-518d-45a9-8554-4affeac3c1a2\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":68,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:04.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"a5d40e3a-8b30-4f8a-a640-23f999b3cc25\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":67,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:51:00.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"75bdb1b5-e651-40cb-8244-5d3fa76c5574\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":66,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:56.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ad732ae2-7555-47b7-b9dd-788f0b985d2c\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":65,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:52.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8c537b70-5fcb-4469-a302-59edfff36f74\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":64,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:48.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"2327dee0-a70d-4290-84d6-96e6de7ba9b0\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":63,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:44.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"65a71963-4d13-4f1c-af6d-3de7ab47c4c1\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":62,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:39.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7185788f-61bc-4c50-b356-660044d7623e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":61,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:34.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"882cfdaf-5741-4532-b204-0eb4f5c7b90d\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":60,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:28.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e5ddec0b-b515-4edb-b925-a451ede0ec06\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":59,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:25.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"2e3c80b9-756d-4ab7-b782-dd1dc5917394\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":58,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:21.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"58e7afb5-cc91-4f4c-9ff9-51b46a196bdb\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":57,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:18.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"d14baae4-d110-4075-8be3-efffbc61b2e5\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":56,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:14.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e230aa76-b5c4-4991-97ed-5d809149dd2e\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":55,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:10.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"54642a9e-5dba-4589-b808-3ab3cc2081e7\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":54,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:50:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"06048511-ae75-4b90-881b-7b24f423ec51\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":53,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:49.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"b5cd8b79-54d6-4300-a84e-a3ba43df7134\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":52,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:44.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"c9918b72-a502-45fa-96bc-13b2a170c36b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":51,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:39.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7ff7771b-606a-43b1-b0d0-9b9fa6aad88c\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":50,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:33.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"fd5b896d-2189-40cc-8b5b-de6c3ce551d5\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":49,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:29.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7a4a34b0-0429-4d32-82c4-ccd8103e5ff3\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":48,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:25.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"5e7b5965-46cc-47d1-9391-01a365289a16\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":47,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:19.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"0b3fda6c-85f9-45e3-9c40-48f3f4dbffe0\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":46,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:14.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ed2fd6a8-9820-4ccb-98d6-f20412dc03f1\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":45,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:10.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"487c04e1-4b02-468e-980c-b235081652ab\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":44,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:49:03.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"51909060-4a05-4daa-9d78-8bb2ed3add5b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":43,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:58.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"9b0d86d8-7f7d-491c-a062-669d7be671f1\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":42,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:53.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"4f9ed904-b89f-44d1-a26a-08e29a9d5d43\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":41,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:48.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"afe01e15-6265-4e7f-93a6-3d4ae5599f32\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":40,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:41.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"c7def472-0ade-4c17-8ce8-345fbd54a01c\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":39,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:37.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"dbfc4a96-bd3d-49a6-a1f7-838dbc367e0f\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":38,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:22.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e849bc75-e068-4b90-b9bd-e7d790844be2\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":37,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:19.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8afe7e69-6c6f-4887-a67a-0bba23552da6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":36,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:16.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"3e0b39fc-94fd-4ced-9fdc-fc5ebda7ceec\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":35,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:14.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"d0eef153-d244-43a0-b3c3-953ffed64024\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":34,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"20b8727f-e947-405f-8a51-14e45ae5148a\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":33,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:08.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"41d4b9c9-5644-49ea-ad44-6ba820203552\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":32,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:06.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ab0ab133-dcd2-47a0-a825-5eac777cb0f0\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":31,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:03.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"320b2fbd-02b8-42d8-9427-44a043e66151\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":30,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:48:00.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"7143f1f8-1348-4bb0-9021-65ff9de1d24b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":29,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:47:58.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"863c53d9-f268-4ec1-b3fa-a95a44134991\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":28,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:47:54.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"e4e107d0-33e0-438e-bf9f-0a2fe18588b9\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":27,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:42:09.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"4cfe7947-e45a-4953-b68f-3b7ab8efbe61\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":26,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:41:05.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"aef5eef2-af34-42b9-bf1d-8747cf0ce1fc\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":25,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:40:17.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"83fd99a6-9dbe-4d28-bad6-008093f000ee\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":24,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:32:56.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"ca11fc6d-718a-44d5-9563-2b03adea3504\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":23,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:28:45.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"16a78a4a-f439-4988-8ad2-d2138b2bced6\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":22,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:24:30.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"a2c55eaf-625b-466d-b5f8-0d95646be3ed\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":21,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:22:48.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"1b297088-5ce5-4002-8318-1d04fa2b6cde\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":20,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:21:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"2250040c-285c-4969-b811-d7061e2ee9fe\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":19,\"log_type\":1,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:19:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"},{\"id\":\"8a80ff67-0dec-4d0b-a42f-52f9b4b36aff\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":18,\"log_type\":3,\"param1\":0,\"param2\":0,\"param3\":0,\"logged_at\":\"2021-12-02T03:18:07.000Z\",\"recordable_type\":null,\"double_lock\":false,\"on_upside\":true,\"user_name\":null},{\"id\":\"03164ae4-9f44-49d2-9023-66704a47d62b\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":17,\"log_type\":4,\"param1\":0,\"param2\":0,\"param3\":0,\"logged_at\":\"2021-12-02T03:17:50.000Z\",\"recordable_type\":null,\"double_lock\":false,\"on_upside\":true,\"user_name\":null},{\"id\":\"a57f0728-757c-4c68-88ec-c63027188217\",\"lock_id\":\"95c04672-8a49-fea6-8541-4d37025fe8d9\",\"lock_log_id\":16,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:15:45.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":false,\"on_upside\":true,\"user_name\":\"1stgマスター\"}]\n\n### 2lock\nhttp://localhost:3002/v1/u/logs/?lock_id=236bb1e4-e99c-c39a-024b-52e698da5abd&log_types%5B%5D=1&log_types%5B%5D=2&log_types%5B%5D=3&log_types%5B%5D=4&log_types%5B%5D=6&log_types%5B%5D=7&log_types%5B%5D=9&log_types%5B%5D=11&log_types%5B%5D=45&log_types%5B%5D=46&latest=1638415621&limit=100\n\n#### 新\n[{\"id\":\"b1cb7271-42fa-4736-9168-09d5feb4ec0e\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":5,\"log_type\":1,\"param1\":0,\"param2\":0,\"param3\":17,\"logged_at\":\"2021-12-02T03:26:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"qaaskamijou1\"},{\"id\":\"c677e90f-e3be-4443-b078-2962317762be\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":5,\"log_type\":1,\"param1\":0,\"param2\":4,\"param3\":17,\"logged_at\":\"2021-12-02T03:26:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"qaaskamijou1\"},{\"id\":\"d1f9a234-c911-42a8-8ef9-f00e5133dc8f\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":4,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:26:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"qaaskamijou1\"},{\"id\":\"988c9bdd-4a93-4bc2-bd70-b028346278fd\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":4,\"log_type\":2,\"param1\":0,\"param2\":4,\"param3\":17,\"logged_at\":\"2021-12-02T03:26:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"qaaskamijou1\"},{\"id\":\"e8d38c8f-ecae-4f1e-aa8a-a28be491d288\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":3,\"log_type\":1,\"param1\":0,\"param2\":12,\"param3\":18,\"logged_at\":\"2021-12-02T03:15:00.000Z\",\"recordable_type\":\"FamilyKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"test2\"},{\"id\":\"0bf934d5-08ec-4d56-bc56-0e0ff8b0185f\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":3,\"log_type\":1,\"param1\":0,\"param2\":0,\"param3\":18,\"logged_at\":\"2021-12-02T03:14:55.000Z\",\"recordable_type\":\"FamilyKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"test2\"},{\"id\":\"e44bb9f7-14db-4ff3-95b6-e2ed337088fd\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":2,\"log_type\":2,\"param1\":0,\"param2\":12,\"param3\":17,\"logged_at\":\"2021-12-02T03:07:44.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"qaaskamijou1\"},{\"id\":\"d24cd903-94c5-4d38-afc6-40c2942c04af\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":1,\"log_type\":1,\"param1\":0,\"param2\":12,\"param3\":17,\"logged_at\":\"2021-12-02T03:07:41.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"qaaskamijou1\"},{\"id\":\"5f66cb94-ce4f-4c00-bb6f-cd46ad9c7d3f\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":2,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:06:40.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"qaaskamijou1\"},{\"id\":\"e90aae89-6e39-45d5-b450-ff5f2973255a\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":1,\"log_type\":1,\"param1\":0,\"param2\":0,\"param3\":17,\"logged_at\":\"2021-12-02T03:06:37.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"qaaskamijou1\"}]\n#### 旧\n\n[{\"id\":\"c677e90f-e3be-4443-b078-2962317762be\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":5,\"log_type\":1,\"param1\":0,\"param2\":4,\"param3\":17,\"logged_at\":\"2021-12-02T03:26:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"qaaskamijou1\"},{\"id\":\"b1cb7271-42fa-4736-9168-09d5feb4ec0e\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":5,\"log_type\":1,\"param1\":0,\"param2\":0,\"param3\":17,\"logged_at\":\"2021-12-02T03:26:11.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"qaaskamijou1\"},{\"id\":\"d1f9a234-c911-42a8-8ef9-f00e5133dc8f\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":4,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:26:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"qaaskamijou1\"},{\"id\":\"988c9bdd-4a93-4bc2-bd70-b028346278fd\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":4,\"log_type\":2,\"param1\":0,\"param2\":4,\"param3\":17,\"logged_at\":\"2021-12-02T03:26:07.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"qaaskamijou1\"},{\"id\":\"e8d38c8f-ecae-4f1e-aa8a-a28be491d288\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":3,\"log_type\":1,\"param1\":0,\"param2\":12,\"param3\":18,\"logged_at\":\"2021-12-02T03:15:00.000Z\",\"recordable_type\":\"FamilyKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"test2\"},{\"id\":\"0bf934d5-08ec-4d56-bc56-0e0ff8b0185f\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":3,\"log_type\":1,\"param1\":0,\"param2\":0,\"param3\":18,\"logged_at\":\"2021-12-02T03:14:55.000Z\",\"recordable_type\":\"FamilyKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"test2\"},{\"id\":\"e44bb9f7-14db-4ff3-95b6-e2ed337088fd\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":2,\"log_type\":2,\"param1\":0,\"param2\":12,\"param3\":17,\"logged_at\":\"2021-12-02T03:07:44.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"qaaskamijou1\"},{\"id\":\"d24cd903-94c5-4d38-afc6-40c2942c04af\",\"lock_id\":\"6368692a-ab2a-52bd-1943-f3cdf18a4c56\",\"lock_log_id\":1,\"log_type\":1,\"param1\":0,\"param2\":12,\"param3\":17,\"logged_at\":\"2021-12-02T03:07:41.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":false,\"user_name\":\"qaaskamijou1\"},{\"id\":\"5f66cb94-ce4f-4c00-bb6f-cd46ad9c7d3f\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":2,\"log_type\":2,\"param1\":0,\"param2\":8,\"param3\":17,\"logged_at\":\"2021-12-02T03:06:40.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"qaaskamijou1\"},{\"id\":\"e90aae89-6e39-45d5-b450-ff5f2973255a\",\"lock_id\":\"236bb1e4-e99c-c39a-024b-52e698da5abd\",\"lock_log_id\":1,\"log_type\":1,\"param1\":0,\"param2\":0,\"param3\":17,\"logged_at\":\"2021-12-02T03:06:37.000Z\",\"recordable_type\":\"MasterKey\",\"double_lock\":true,\"on_upside\":true,\"user_name\":\"qaaskamijou1\"}]\n# /v1/u/logs?lock_id 500\ncreated_at:Tue Jan 20 1970 08:05:47 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 08:05:47 GMT+0900 (日本標準時)\n/v1/u/logs?lock_id 500\npath=“/v1/u/logs?lock_id=  lock_responses[]= status=500\n\n\ncode: asdf\n \n Dec 01 16:23:14 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=20f1e672-c298-f182-3f43-a1a8acd1dcb5&lock_responses[]=00a00c0000cc160075ede2a66100000000000000000000000000000000cc03f530ede2a66100000000000000000000000000000000cc28005e8bf5a66100000000000000000000000000000000cc280039b912a76100000000000000000000000000000000040000000e17a76100000000000000000000000000000000cdbfffff0f17a76100000000000000000000000000000000cd0805051317a76100000000000000000000000000000000090100001517a76100000000000000000000000000000000c622a761165e35b43481c7f3e1f699379eb31aa86b8b2557f39fd18852e43f718dc7dcb785d4b5c5b204ddb1230daca12206dfcdfd211fac451730cf279c77b460eed608\" host=sl2-api.qrioinc.com request_id=42915fd2-7014-37d0-441f-0290064d707d fwd=\"52.199.134.250\" dyno=web.1 connect=0ms service=5972ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:23:14 sl2-api-production app/web.1 F, [2021-12-01T07:23:14.304115 ##51] FATAL -- : [42915fd2-7014-37d0-441f-0290064d707d]   \n Dec 01 16:23:14 sl2-api-production app/web.1 F, [2021-12-01T07:23:14.304198 ##51] FATAL -- : [42915fd2-7014-37d0-441f-0290064d707d] ArgumentError ('198' is not a valid log_type):\n Dec 01 16:23:14 sl2-api-production app/web.1 F, [2021-12-01T07:23:14.304269 ##51] FATAL -- : [42915fd2-7014-37d0-441f-0290064d707d]   \n Dec 01 16:23:14 sl2-api-production app/web.1 F, [2021-12-01T07:23:14.304344 ##51] FATAL -- : [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:70:in `create_log'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:39:in `block in logs'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:35:in `map'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:35:in `with_index'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:35:in `logs'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] app/grape/api/users/logs.rb:22:in `each'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] app/grape/api/users/logs.rb:22:in `flat_map'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] app/grape/api/users/logs.rb:22:in `block in <class:Logs>'\n\n\n\n\n# /v1/h/commands/log 500\ncreated_at:Tue Jan 20 1970 08:05:46 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 08:05:47 GMT+0900 (日本標準時)\n/v1/h/commands/log 500\nhttps://qrioinc.slack.com/archives/C029WDCPU8M/p1638346535125600\npath=“/v1/h/commands/log?lock_id main_response= status=500\nhttps://my.papertrailapp.com/systems/sl2-api-production/events?focus=1402608986021281795&q=path%3D\"%2Fv1%2Fh%2Fcommands%2Flog%3Flock_id+main_response%3D+status%3D500&selected=1402601144906190857\n\ncode: log\n Dec 01 16:54:26 sl2-api-production app/web.1 F, [2021-12-01T07:54:26.633493 ##37] FATAL -- : [d7ec28ce-8e94-767b-ff75-5bd2fd9d686f]   \n Dec 01 16:54:26 sl2-api-production app/web.1 F, [2021-12-01T07:54:26.633589 ##37] FATAL -- : [d7ec28ce-8e94-767b-ff75-5bd2fd9d686f] RuntimeError (invalid response):\n Dec 01 16:54:26 sl2-api-production app/web.1 F, [2021-12-01T07:54:26.633635 ##37] FATAL -- : [d7ec28ce-8e94-767b-ff75-5bd2fd9d686f]   \n Dec 01 16:54:26 sl2-api-production app/web.1 F, [2021-12-01T07:54:26.633675 ##37] FATAL -- : [d7ec28ce-8e94-767b-ff75-5bd2fd9d686f] app/grape/api/hubs/commands.rb:28:in `block in <class:Commands>'\n Dec 01 16:54:26 sl2-api-production heroku/router at=info method=GET path=\"/v1/h/commands/log?lock_id=fab66785-c06a-f28e-d048-ed975e4b2122&retry_count=3&main_response=0044010000010008333e0ca761e7ffc304d6801397ff455578d04e45ff01000833790ca761e7ffc304d6801397ff455578d04e45ff01000833b20ca761e7ffc304d6801397ff455578d04e45ff01000833fc0ca761e7ffc304d6801397ff455578d04e45ff02000835370ea761b5865a9c7b4e77b1314339e7bb3c2b82010008355d0ea761b5865a9c7b4e77b1314339e7bb3c2b8202000833ca0ea761e7ffc304d6801397ff455578d04e45ffcc2800ac9d0fa76100000000000000000000000000000000\" host=sl2-api.qrioinc.com request_id=d7ec28ce-8e94-767b-ff75-5bd2fd9d686f fwd=\"39.110.207.11\" dyno=web.1 connect=0ms service=11ms status=500 bytes=1635 protocol=http\n \nhttps://my.papertrailapp.com/systems/sl2-api-production/events?q=\"d7ec28ce-8e94-767b-ff75-5bd2fd9d686f\"&focus=1402608998312574987&selected=1402608998312574987\n\n\ncode: aa\n sign\n => \"b5865a9c7b4e77b1314339e7bb3c2b8202000833ca0ea761e7ffc304d6801397ff455578d04e45ffcc2800ac9d0fa76100000000000000000000000000000000\"\n \n sign_body = payload[0, payload.length - 128]\n => \"0044010000010008333e0ca761e7ffc304d6801397ff455578d04e45ff01000833790ca761e7ffc304d6801397ff455578d04e45ff01000833b20ca761e7ffc304d6801397ff455578d04e45ff01000833fc0ca761e7ffc304d6801397ff455578d04e45ff02000835370ea761b5865a9c7b4e77b1314339e7bb3c2b82010008355d0ea761\"\n \n lock = Lock.find('fab66785-c06a-f28e-d048-ed975e4b2122')\n => ##<Lock id: \"fab66785-c06a-f28e-d048-ed975e4b2122\", serial_no: \"1036690\", bd_address: \"70:26:05:D3:8F:35\", fw_version: \"2.0.9\", key_seed: \"a57d34007c7a360d6e8e1c7cecd91d98e7677ba84599d3e87b...\", nonce: \"87c83194caeb19982e29a6f63be31bde\", enable_sound: true, enable_autolock: false, enable_autolock_sound: false, battery_a: 1, battery_b: 0, created_at: \"2018-06-05 00:00:00\", updated_at: \"2021-11-25 02:21:48\", beacon_interval: 10>\n \n lock.valid_sign?([sign_body].pack('H*'), [sign].pack('H*'))\n => false\n \n \n[https://gyazo.com/2bb4bea4dadfe683719c5f33ff3b13f9]\n\n\n\n\ncode: ロック情報\n sl2-api-production::HEROKU_POSTGRESQL_COPPER=> select * from locks where id = 'fab66785-c06a-f28e-d048-ed975e4b2122';\n                   id                  | serial_no |    bd_address     | fw_version |                             key_seed                             |              nonce               | enable_sound | enable_autolock | enable_autolock_sound | battery_a | battery_b |     created_at      |         updated_at         | beacon_interval\n --------------------------------------+-----------+-------------------+------------+------------------------------------------------------------------+----------------------------------+--------------+-----------------+-----------------------+-----------+-----------+---------------------+----------------------------+-----------------\n  fab66785-c06a-f28e-d048-ed975e4b2122 | 1036690   | 70:26:05:D3:8F:35 | 2.0.9      | a57d34007c7a360d6e8e1c7cecd91d98e7677ba84599d3e87b8d769f2ee1bf08 | 87c83194caeb19982e29a6f63be31bde | t            | f               | f                     |         1 |         0 | 2018-06-05 00:00:00 | 2021-11-25 02:21:48.959504 |              10\n (1 row)\n \n \n sl2-api-production::HEROKU_POSTGRESQL_COPPER=> select * from lock_settings where master_key_id = (select id from master_keys where lock_id = (select id from locks where serial_no = '1036690'));\n                   id                  |            master_key_id             | sub_lock_id |                hub_id                | lock_name | on_upside |         created_at         |         updated_at\n --------------------------------------+--------------------------------------+-------------+--------------------------------------+-----------+-----------+----------------------------+----------------------------\n  f1b0bde3-da88-4d61-98b5-ba360c0cb4f4 | 33726faa-d6f8-4afe-a4e9-19e925a297c6 |             | e7901805-1437-4f6c-a11e-9f990416c438 | demo      | t         | 2021-11-17 08:22:44.645343 | 2021-11-17 08:23:36.110956\n (1 row)\n \n \n\n# 500\ncreated_at:Tue Jan 20 1970 08:05:45 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 08:05:46 GMT+0900 (日本標準時)\n500\n[https://gyazo.com/117603a19812f98a2c8f2325fa36973b]\n\n\ncode: aaa\n \n Dec 01 16:50:56 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=7a248f18-aa39-efbe-984d-09a9a793f0ed&lock_responses[]=00beee1400cc280075196a9c6100000000000000000000000000000000268406411e6a9c6100000000000000000000000000000000cc14008812739c6100000000000000000000000000000000cc1500c112739c6100000000000000000000000000000000cc16fe1212739c61000000000000000000000000000000008c03032012739c6100000000000000000000000000000000268406411c739c6100000000000000000000000000000000cc280080d9869c6100000000000000000000000000000000\" host=sl2-api.qrioinc.com request_id=bbce4af2-b4fb-b33a-50f7-24d0f59b2938 fwd=\"52.199.134.250\" dyno=web.1 connect=0ms service=29550ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:51:04 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=7a248f18-aa39-efbe-984d-09a9a793f0ed&lock_responses[]=00beee1400cc280075196a9c6100000000000000000000000000000000268406411e6a9c6100000000000000000000000000000000cc14008812739c6100000000000000000000000000000000cc1500c112739c6100000000000000000000000000000000cc16fe1212739c61000000000000000000000000000000008c03032012739c6100000000000000000000000000000000268406411c739c6100000000000000000000000000000000cc280080d9869c6100000000000000000000000000000000\" host=sl2-api.qrioinc.com request_id=3b64dbb3-bb02-4849-7b3e-c9159d851d5e fwd=\"52.199.134.250\" dyno=web.4 connect=0ms service=36ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:52:11 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=20f1e672-c298-f182-3f43-a1a8acd1dcb5&lock_responses[]=00b00c0000cd06ff04d428a7610000000000000000000000000000000009010000d628a76100000000000000000000000000000000a729a761ad29a465373c8de1c1accadf9220a1fc51b43fb08b282de93eea767994b7f473e750c9177e63df9640a52537920661cf3dde6fd31da971c0c0a18816e75d9704\" host=sl2-api.qrioinc.com request_id=8814cee6-d985-8608-d294-b19010a6dd84 fwd=\"52.199.134.250\" dyno=web.3 connect=0ms service=51ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:53:11 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=7d71431a-d8f1-0795-9d43-4356377402ac&lock_responses[]=00942e0000cc030f30940ea66100000000000000000000000000000000cc2800160a27a66100000000000000000000000000000000cc2800513444a66100000000000000000000000000000000cc2800675c61a66100000000000000000000000000000000cc2800404b7ea66100000000000000000000000000000000cc280045779ba6610000000000000000000000000000000004000000c0b1a66100000000000000000000000000000000cdbfa4a5beb2a66100000000000000000000000000000000e029a76121904da017b0a3145c5f3be95dca6761a73cc5b49764a3d800c07e19515a93f0c188078fcd0754f48219206c2fcffd97a645f138121ff9be5ea44963febf0502\" host=sl2-api.qrioinc.com request_id=99da3a2b-a34b-5968-39ac-d97295746102 fwd=\"52.199.134.250\" dyno=web.2 connect=0ms service=18ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:53:22 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=f406bc74-b3bf-c9a4-514f-e5d84b782e01&lock_responses[]=00ca190000cd3f0318c629a7610000000000000000000000000000000009000000c929a76100000000000000000000000000000000d429a761dc67a1aa07c871d8f2cd9c5b70b392064c38aa3c03aa58cfad2c8b8f997d8750f9deaf11f0a43b87a43faee13d1415c19ebc9c886d2859208acb746cd33a780a\" host=sl2-api.qrioinc.com request_id=0111e993-d066-b6ba-bd71-e373365a9653 fwd=\"52.199.134.250\" dyno=web.1 connect=0ms service=24505ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:53:30 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=f406bc74-b3bf-c9a4-514f-e5d84b782e01&lock_responses[]=00ca190000cd3f0318c629a7610000000000000000000000000000000009000000c929a76100000000000000000000000000000000e129a76152a392b43068828093e9177ab1073ad964f74eeb1d497f8187f4747bf26492df66ecff3fc74001f8aaf50b86e67138d6a036ee5fd9853d402df0ee20e72b0f09\" host=sl2-api.qrioinc.com request_id=9f31a336-3a11-5cbf-fe19-4305c141ee79 fwd=\"52.199.134.250\" dyno=web.4 connect=0ms service=14ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:54:15 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?is_app=true\" host=sl2-api.qrioinc.com request_id=bcaf1dd0-073e-a372-307d-53ba7632c195 fwd=\"27.136.153.246\" dyno=web.3 connect=0ms service=150ms status=500 bytes=46 protocol=http tls_version=tls1.3\n Dec 01 16:54:39 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=f406bc74-b3bf-c9a4-514f-e5d84b782e01&lock_responses[]=00ca190000cd3f0318c629a7610000000000000000000000000000000009000000c929a761000000000000000000000000000000003b2aa7613994b5be7e1841d8fc299a2c5303aee3d900cc21e9d2ac6c039fdeb8b4ad714887cffda0b9898aeafff809522b42a032d65130364d1814b38cb1ef1a06aa060f\" host=sl2-api.qrioinc.com request_id=d37cfe71-0021-e6d4-68b1-244912de2363 fwd=\"52.199.134.250\" dyno=web.2 connect=0ms service=48ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:55:50 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?is_app=true\" host=sl2-api.qrioinc.com request_id=c87de883-8852-a019-1384-3891cf28533c fwd=\"1.75.0.184\" dyno=web.3 connect=0ms service=230ms status=500 bytes=1635 protocol=http tls_version=tls1.3\n Dec 01 16:56:53 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=0c58d522-486f-62aa-144d-995c8ff8a612&lock_responses[]=0079460000cc200bac816aa56100000000000000000000000000000000cc034f40816aa56100000000000000000000000000000000cc2800671376a56100000000000000000000000000000000cc2800924093a56100000000000000000000000000000000040000002e94a56100000000000000000000000000000000cd3f1d163494a56100000000000000000000000000000000090000003694a5610000000000000000000000000000000001004111199aa56156db3d1a4f8590920e4d53f5e6afab63a52aa761e3125c82b0314b24c1b8abea915cf85e48ca1beebd0544eed274e52bbfd7c3cc7e25059bdf6ff7b37e2fcd68ab8654bc55ba5c9df9ff4dfecbe82b6c85aaa904\" host=sl2-api.qrioinc.com request_id=727c3eb4-e9a7-8290-278a-eac1cafdefac fwd=\"52.199.134.250\" dyno=web.4 connect=0ms service=20281ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:57:05 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=f406bc74-b3bf-c9a4-514f-e5d84b782e01&lock_responses[]=00ca190000cd3f0318c629a7610000000000000000000000000000000009000000c929a76100000000000000000000000000000000cd2aa761c40ea3142c68b0f63696231259662a618b747e1e74d7e9500c486d88f81b98159639de0876dda418f312b731a30c2af2e411d31b8cb034702e65cd7c6f554b0d\" host=sl2-api.qrioinc.com request_id=06b6a728-9157-097a-61e4-802c6ac8803a fwd=\"52.199.134.250\" dyno=web.3 connect=0ms service=39ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:57:33 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?is_app=true\" host=sl2-api.qrioinc.com request_id=8ac6f2a3-ddf7-4840-e47a-28212ed09653 fwd=\"133.106.57.131\" dyno=web.4 connect=0ms service=401ms status=500 bytes=46 protocol=http tls_version=tls1.3\n Dec 01 16:59:10 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=0c58d522-486f-62aa-144d-995c8ff8a612&lock_responses[]=0079460000cc200bac816aa56100000000000000000000000000000000cc034f40816aa56100000000000000000000000000000000cc2800671376a56100000000000000000000000000000000cc2800924093a56100000000000000000000000000000000040000002e94a56100000000000000000000000000000000cd3f1d163494a56100000000000000000000000000000000090000003694a5610000000000000000000000000000000001004111199aa56156db3d1a4f8590920e4d53f5e6afab634a2ba7612e5868b53b3e08781f1addadbb44ed6070371bb1740cbc36661ba00938526b1b4269374fcf02989362aef36117df208b962cbdcc7223c29e895b768204025909\" host=sl2-api.qrioinc.com request_id=f8945c61-c161-ee25-13ff-266702a25ad3 fwd=\"52.199.134.250\" dyno=web.1 connect=0ms service=57ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 17:00:09 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=f406bc74-b3bf-c9a4-514f-e5d84b782e01&lock_responses[]=00ca190000cd3f0318c629a7610000000000000000000000000000000009000000c929a76100000000000000000000000000000000cc28003b762ba76100000000000000000000000000000000852ba761b92474bbb215bac96ce5974f34abde33e27c296182b86fbaf6271331ba6a735b31fd0eac8743e889342e354e9de57526b7ce6b1748578bb322fdf98960c89207\" host=sl2-api.qrioinc.com request_id=80e00bd9-1c3a-0d36-1818-aedee50bb284 fwd=\"52.199.134.250\" dyno=web.3 connect=0ms service=37ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n\n\n\n\nhttps://my.papertrailapp.com/systems/sl2-api-production/events?q=\"42915fd2-7014-37d0-441f-0290064d707d\"&selected=1402601144906190857\ncode: lll\n Dec 01 16:23:14 sl2-api-production heroku/router at=info method=POST path=\"/v1/u/logs?lock_id=20f1e672-c298-f182-3f43-a1a8acd1dcb5&lock_responses[]=00a00c0000cc160075ede2a66100000000000000000000000000000000cc03f530ede2a66100000000000000000000000000000000cc28005e8bf5a66100000000000000000000000000000000cc280039b912a76100000000000000000000000000000000040000000e17a76100000000000000000000000000000000cdbfffff0f17a76100000000000000000000000000000000cd0805051317a76100000000000000000000000000000000090100001517a76100000000000000000000000000000000c622a761165e35b43481c7f3e1f699379eb31aa86b8b2557f39fd18852e43f718dc7dcb785d4b5c5b204ddb1230daca12206dfcdfd211fac451730cf279c77b460eed608\" host=sl2-api.qrioinc.com request_id=42915fd2-7014-37d0-441f-0290064d707d fwd=\"52.199.134.250\" dyno=web.1 connect=0ms service=5972ms status=500 bytes=1635 protocol=http tls_version=tls1.2\n Dec 01 16:23:14 sl2-api-production app/web.1 F, [2021-12-01T07:23:14.304115 ##51] FATAL -- : [42915fd2-7014-37d0-441f-0290064d707d]   \n Dec 01 16:23:14 sl2-api-production app/web.1 F, [2021-12-01T07:23:14.304198 ##51] FATAL -- : [42915fd2-7014-37d0-441f-0290064d707d] ArgumentError ('198' is not a valid log_type):\n Dec 01 16:23:14 sl2-api-production app/web.1 F, [2021-12-01T07:23:14.304269 ##51] FATAL -- : [42915fd2-7014-37d0-441f-0290064d707d]   \n Dec 01 16:23:14 sl2-api-production app/web.1 F, [2021-12-01T07:23:14.304344 ##51] FATAL -- : [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:70:in `create_log'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:39:in `block in logs'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:35:in `map'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:35:in `with_index'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] lib/read_log_response.rb:35:in `logs'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] app/grape/api/users/logs.rb:22:in `each'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] app/grape/api/users/logs.rb:22:in `flat_map'\n Dec 01 16:23:14 sl2-api-production app/web.1 [42915fd2-7014-37d0-441f-0290064d707d] app/grape/api/users/logs.rb:22:in `block in <class:Logs>'\n\ncode: lock情報\n sl2-api-production::HEROKU_POSTGRESQL_COPPER=> select * from locks where id = '20f1e672-c298-f182-3f43-a1a8acd1dcb5';\n                   id                  | serial_no |    bd_address     | fw_version |                             key_seed                             |              nonce               | enable_sound | enable_autolock | enable_autolock_sound | battery_a | battery_b |     created_at      |         updated_at         | beacon_interval\n --------------------------------------+-----------+-------------------+------------+------------------------------------------------------------------+----------------------------------+--------------+-----------------+-----------------------+-----------+-----------+---------------------+----------------------------+-----------------\n  20f1e672-c298-f182-3f43-a1a8acd1dcb5 | 1068392   | 70:26:05:D4:0B:0B | 1.8.0      | e5f87daa3a223a1a715f36942b927813fab8aff815b0f5c94deb3ab31a4e34dd | 42ADADFC5BD00C9E3F3FC79BC37EC003 | t            | t               | f                     |         0 |         5 | 2018-06-05 00:00:00 | 2021-08-15 10:45:10.127143 |               0\n (1 row)\n \n\n\ncode: /v1/h/commands/log\n path=“/v1/h/commands/log?lock_id main_response= status=500\n 17:15\n https://my.papertrailapp.com/systems/sl2-api-production/events?focus=140260903553584334[…]main_response%3D+status%3D500&selected=1402601144906190857\n \n \n Dec 01 16:55:00 sl2-api-production heroku/router at=info method=GET path=\"/v1/h/commands/log?lock_id=fab66785-c06a-f28e-d048-ed975e4b2122&retry_count=3&main_response=0044010000010008333e0ca761e7ffc304d6801397ff455578d04e45ff01000833790ca761e7ffc304d6801397ff455578d04e45ff01000833b20ca761e7ffc304d6801397ff455578d04e45ff01000833fc0ca761e7ffc304d6801397ff455578d04e45ff02000835370ea761b5865a9c7b4e77b1314339e7bb3c2b82010008355d0ea761b5865a9c7b4e77b1314339e7bb3c2b8202000833ca0ea761e7ffc304d6801397ff455578d04e45ffcc2800ac9d0fa76100000000000000000000000000000000\" host=sl2-api.qrioinc.com request_id=4a428711-630b-8cde-7ba6-19bf53546147 fwd=\"39.110.207.11\" dyno=web.4 connect=0ms service=5ms status=500 bytes=1635 protocol=http\n\ncode: lock情報\n \n\n# pubnub\ncreated_at:Tue Jan 20 1970 07:59:56 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 08:05:33 GMT+0900 (日本標準時)\npubnub\ncode: config\n staging\n pub-c-4747c559-635b-4f7c-9b9f-e6368148c734\n sub-c-5cddee9e-f4ff-11e7-9723-66707ad51ffc\n \n production\n pub-c-b5e96be9-856f-42b8-87c5-24403d70891e\n sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2\n\n\nhttps://ps.pndsn.com/publish/##{pub_key}/#{sub_key}/0/#{channel}/0\n\n[https://gyazo.com/41099e1476095f06fd7918377f949f17]\n\n\nhttps://status.pubnub.com/incidents/qw0n8n41j820\n\ncode: 1033166.json\n  sl2-api-production::HEROKU_POSTGRESQL_COPPER=> select * from hubs where serial_no = '1033166';\n                   id                  | serial_no | fw_version |                              ed_pk                               |          pass          |     created_at      |         updated_at\n --------------------------------------+-----------+------------+------------------------------------------------------------------+------------------------+---------------------+----------------------------\n  7484ab1a-d945-4f90-98be-bc7818b27c06 | 1033166   | 1.2.04     | 1f7c84f36bb97a2cdf0b9be44d130fa7c2cfcf08a698f3bc71a2ec98b5f56486 | RIXZUkEPi70mAtiB4nnpvw | 2018-06-27 00:00:00 | 2020-07-22 05:59:14.050479\n (1 row)\n \n \n\ncode: hub_le.sh\n heroku run rails c -a sl2-api-production \n irb(main):001:0> h = Hub.find_by(serial_no: '1033166')\n => ##<Hub id: \"7484ab1a-d945-4f90-98be-bc7818b27c06\", serial_no: \"1033166\", fw_version: \"1.2.04\", ed_pk: \"1f7c84f36bb97a2cdf0b9be44d130fa7c2cfcf08a698f3bc71...\", pass: \"RIXZUkEPi70mAtiB4nnpvw\", created_at: \"2018-06-27 00:00:00\", updated_at: \"2020-07-22 05:59:14\">\n irb(main):002:0>  h.channel\n => \"067cb21878bcbe98904f45d91aab8474\"\n irb(main):003:0>\n \n\n\ncode: curl\n ## https://github.com/qrioinc/king-api/blob/master/app/jobs/publish_pubnub_job.rb#L9\n https://ps.pndsn.com/publish/##{pub_key}/#{sub_key}/0/#{channel}/0\"\n \n curl https://ps.pndsn.com/publish/pub-c-b5e96be9-856f-42b8-87c5-24403d70891e/sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2/0/067cb21878bcbe98904f45d91aab8474/0\n\n\n## workerリスタート検証\n\n> herokuでworkerだけをrestartする方法 - ノンカフェインであなたにやさしい\n> https://l.pg1x.com/Azq4DENkgXUbkEQR6\n\ncode: woker\n jk@KawamotonoMacBook-Pro-3 ~ % heroku ps -a sl2-api-production\n  ›   Warning: heroku update available from 7.59.1 to 7.59.2.\n === run: one-off processes (1)\n run.8578 (Private-M): up 2021/11/27 16:17:36 +0900 (~ 20m ago): rails c\n \n === web (Private-M): bundle exec puma -C config/puma.rb (4)\n web.1: up 2021/11/27 00:49:34 +0900 (~ 15h ago)\n web.2: up 2021/11/27 00:50:50 +0900 (~ 15h ago)\n web.3: up 2021/11/27 00:52:10 +0900 (~ 15h ago)\n web.4: up 2021/11/27 00:53:28 +0900 (~ 15h ago)\n \n === worker (Private-S): bundle exec sidekiq -C config/sidekiq.yml (2)\n worker.1: up 2021/11/27 00:48:57 +0900 (~ 15h ago)\n worker.2: up 2021/11/27 00:49:16 +0900 (~ 15h ago)\n \n\ncode: worker restart\n heroku restart worker.1 -a sl2-api-production\n heroku restart worker.2 -a sl2-api-production\n\n\n## STGでPRDと同じ環境変数にしてみて、本番と同様のエラーが出るかどうかの確認\n→ 結果：出なかった\ncode: aaa\n Nov 27 17:16:57 sl2-api-staging app/worker.1 E, [2021-11-27T08:16:57.378892 ##4] ERROR -- : [ActiveJob] [PublishPubnubJob] [c0e6bb9d-8926-45c9-9a7e-3b2bf7d1bce9] pub-c-b5e96be9-856f-42b8-87c5-24403d70891e\n Nov 27 17:16:57 sl2-api-staging app/worker.1 E, [2021-11-27T08:16:57.378985 ##4] ERROR -- : [ActiveJob] [PublishPubnubJob] [c0e6bb9d-8926-45c9-9a7e-3b2bf7d1bce9] sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2\n Nov 27 17:16:57 sl2-api-staging app/worker.1 E, [2021-11-27T08:16:57.379122 ##4] ERROR -- : [ActiveJob] [PublishPubnubJob] [c0e6bb9d-8926-45c9-9a7e-3b2bf7d1bce9] 9dd744bcc2a955a5f8425ec88d524945\n Nov 27 17:16:57 sl2-api-staging app/worker.1 E, [2021-11-27T08:16:57.379149 ##4] ERROR -- : [ActiveJob] [PublishPubnubJob] [c0e6bb9d-8926-45c9-9a7e-3b2bf7d1bce9] https://ps.pndsn.com/publish/pub-c-b5e96be9-856f-42b8-87c5-24403d70891e/sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2/0/9dd744bcc2a955a5f8425ec88d524945/0\n Nov 27 17:16:57 sl2-api-staging app/worker.1 E, [2021-11-27T08:16:57.379171 ##4] ERROR -- : [ActiveJob] [PublishPubnubJob] [c0e6bb9d-8926-45c9-9a7e-3b2bf7d1bce9] \"0178e9a1614ad94ea63f1403075d42931d6f4416806766d9764bdce807e42fe440fa8a85784657bb55af792501631e00000000000000000000000000000000000000001c02b06fc4071267260ae774b342702bbb85b0352d28dadc50c8a708e20e5e465d009686c999035427e40ede7bfdecc9bcfd3ed1db1653af712e477e455e7879ec6309020400000078e9a1610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000687474703a2f2f736c322d6170692d73746167696e672e7172696f696e632e636f6d2f76312f682f636f6d6d616e64732f38643538366232312d326635382d346437352d616165362d3931633361663664336533652f73696e676c653f757365725f69643d61353338386230332d313634652d346339632d623331322d3132326132373062346431370000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"\n\n\n次にやること\n- workerのアラートキャッチ\n- keyの張替えを動的にできるようにすること\n\n\n\n\ncode: c\n https://ps.pndsn.com/v2/subscribe/sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2/067cb21878bcbe98904f45d91aab8474/0\n \n https://ps.pndsn.com/publish/pub-c-b5e96be9-856f-42b8-87c5-24403d70891e/sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2/0/067cb21878bcbe98904f45d91aab8474/0\n \n 16382736184785775\n \n \n 067cb21878bcbe98904f45d91aab\n \n \n Nov 30 22:29:26 sl2-api-production app/worker.2 E, [2021-11-30T13:29:25.979459 ##10] ERROR -- : [ActiveJob] [PublishPubnubJob] [67f02100-4bf1-4106-9571-d65eaf00a895] https://ps.pndsn.com/publish/pub-c-b5e96be9-856f-42b8-87c5-24403d70891e/sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2/0/067cb21878bcbe98904f45d91aab8474/0/%22012d23a6615588d305267003da10be179913491ebc9094fe40ad9407701a28705a5bf78def41ae7d61f9e1be01631e00000000000000000000000000000000000000001c021f7c84f36bb97a2cdf0b9be44d130fa7c2cfcf08a698f3bc71a2ec98b5f56486dd5c46074baf14e17575a3d2eef5778b3ae90e2e22fe5469441168cb07c7173b0a0605000000a10300000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000687474703a2f2f736c322d6170692e7172696f696e632e636f6d2f76312f682f636f6d6d616e64732f6c6f673f6c6f636b5f69643d30373934616434302d666539342d393062632d316534392d3133393931376265313064612672657472795f636f756e743d33000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000%22\n \n\n\n\n\ncode: aa\n [qb] [536884140] GATT_EVENT_CONNECTED\n [qb] write ccc\n [qb] [536884140] GATTC_EVENT_WRITE_RSP: 0x18\n [qb] register notification\n [qb] [536884140] GATTC_EVENT_VALUE_IND_NOTI: 0x17\n [qb] main conn_id: 536884140\n [qb] [536884140] GATTC_EVENT_VALUE_IND_NOTI: 0x17\n [qb] [536884140] GATT_EVENT_DISCONNECTED: 0x00\n [qb] command response:\n [qb] http://sl2-api.qrioinc.com/v1/h/commands/log?lock_id=0794ad40-fe\n [qb] 94-90bc-1e49-139917be10da&retry_count=3&main_response=84\n [qb] post response: success\n [qb] subscribing... time_token: 16382800803698931\n [qb] uuid: 067cb21878bcbe98904f45d91aab8474\n [qb] subscribe path: https://ps.pndsn.com/v2/subscribe/sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2/067cb21878bcbe98904f45d91aab[qb] Warn: /Users/jk/git/qrioinc/tmp/tmp/qb-sl2-fw/app/src/utils/lock_command_parser.c:109\n seems to be replay-attacked comman[qb] command->type: 1\n [qb] on single lock command: 0\n [qb] request connection\n [qb] [536884140] GATT_EVENT_CONNECTED\n [qb] write ccc\n [qb] [536884140] GATTC_EVENT_WRITE_RSP: 0x18\n [qb] register notification\n [qb] [536884140] GATTC_EVENT_VALUE_IND_NOTI: 0x17\n [qb] main conn_id: 536884140\n [qb] [536884140] GATTC_EVENT_VALUE_IND_NOTI: 0x17\n [qb] [536884140] GATT_EVENT_DISCONNECTED: 0x00\n [qb] command response:\n [qb] http://sl2-api.qrioinc.com/v1/h/commands/log?lock_id=0794ad40-fe\n [qb] 94-90bc-1e49-139917be10da&retry_count=3&main_response=84\n [qb] post response: success\n [qb] subscribing... time_token: 16382800868136279\n [qb] uuid: 067cb21878bcbe98904f45d91aab8474\n [qb] subscribe path: https://ps.pndsn.com/v2/subscribe/sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2/067cb21878bcbe98904f45d91aab[qb] Warn: /Users/jk/git/qrioinc/tmp/tmp/qb-sl2-fw/app/src/utils/lock_command_parser.c:109\n seems to be replay-attacked comman[qb] command->type: 1\n [qb] on single lock command: 0\n [qb] request connection\n [qb] request connection\n [qb] Warn: /Users/jk/git/qrioinc/tmp/tmp/qb-sl2-fw/app/src/central/central_command_executor.c:101\n timeout\n [qb] command response:\n [qb] http://sl2-api.qrioinc.com/v1/h/commands/log?lock_id=0794ad40-fe\n [qb] 94-90bc-1e49-139917be10da&retry_count=3\n [qb] post respo�[sdio] Card detected\n [sdio] Card reset successful\n [sdio] Card Version - (0x32)\n [sdio] Card initialization successful\n\n\n\ncode: assdf\n https://sl2-api.qrioinc.com/v1/u/logs?lock_id=d35fbfe8-fe31-20b7-2340-f0b9fae0f354&lock_responses[]=<略>, response:<!DOCTYPE html>\n\ncode: aa\n http://sl2-api-staging-jp-v2.herokuapp.com/\n \n\n\n\ncode: aaa\n https://ps.pndsn.com/v2/objects/{sub_key}/channels/{channel}\n \n https://ps.pndsn.com/v2/objects/sub-c-5e3eddce-737c-11e8-847f-0e36953de9e2/channels/067cb21878bcbe98904f45d91aab8474\n \n\n# 中長期サーバー考案\ncreated_at:Tue Jan 20 1970 07:32:33 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 07:42:38 GMT+0900 (日本標準時)\n中長期サーバー考案\n[* これからのサービスどうしていきたいか]\n→ 経営陣からうまく聞く\n\n[* 現状サーバーの問題]\n\tマイクロサービスでやっていくにはしんどい\n\t\tそもそもそういう設計思想ではない（現に、外部連携・Roomon・Siriusなどで公開しているAPIはバラバラ）\n　DB設計\n　サービスの規模が大きくなってきたため、Herokuでしんどい部分も出てきた。\n　Log問題\n　Auth0問題\n　クライアントに任せすぎてる部分が多い（クライアントでやると基本Android,IOS両方で対応が必要になるので、サーバーでまとめられるものはまとめた方がいいのでは）\n　Railsどうなんだろう？\n　スキーマ言語を何かしら入れたい\n\n20query * 4 * 20GB /10000GB * 7200 = \n\n# 竹内さんに聞くメモ\ncreated_at:Tue Jan 20 1970 05:07:11 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 07:34:14 GMT+0900 (日本標準時)\n竹内さんに聞くメモ\n20211104\n\tCUで登録するKnightの時刻追従ってONにしたほうがいいですよね？\n\t しなくてもユーザー的には問題ないが、機器を回収した際の調査などで時刻がずれている状態などになってしまう。\n\t共用玄関のsetTimeってどうしていけばいいですかね？\n\t\t入居者の時間で設定してしまうと、アプリで悪さをしようとしたときに時間をずらされる気がする\n\t\tでも、ずれていくとEKeyが使えなくなるタイミングがどこかで発生する\n\t\t退職直前くらいに思いついた案を残してました。内容読み返してないですが、貼っておくので見ておいてもらえると！[takeuchi.icon]\n\t\t\thttps://qrio.esa.io/posts/958\n\t\t共有玄関だったらKnightの時刻を信頼するほうがいいのか？（setTimeをCUでするならそれでいいのでは）\n\t\t竹内さん結果\n\t\t\tLockは電池切っても時刻がとれてる？っぽい？\n\t\t\t停電とかするとどうしようもない\n\t\t\t①時間がセットされないとBUPINが使えない　→ CUで時刻補正で治る（タイミング良く誰かがCU使ってくれないとBUPINが使えない。）\n\t\t\t　→ 計画された停電などは、管理会社が把握してると思うので、BCUで共有玄関の解錠をしてもらう　→ 時刻が治る\n\t\t\t②めちゃくちゃ（６時間とか）時間ずれる　→ CUで時刻補正が全くされない。停電が何回もあった。レアケースとして考えない。\n\n　　　BCUで共用玄関の解錠の際にはSETTIMEする\n\n\n[*** エイジングの説明]\n\t遠藤が結局着手できてない\n\thttps://qrioinc.slack.com/archives/C01ABA9KBSB/p1626239600434800\n\t来週中くらいに渡さないとKnightの耐久テストに影響するらしい\n\tFW側でverifierNonceの更新ができているはずなのに、CUで使っているverifierNonceがデバイスで持っているはずのものではなくコマンドの認証が通らない\n\tsetupNotification\n\tverifierNonceが間違っていて、認証が通らない\n\t２回setupNotificationにレスポンスを返しているっぽい\n\t\t0x71を２回\n\t\tもしかしたらVerifierNonceの\n\t\t取り先が違うとか？\n\t確認すること\n\t Slackに書かれている現象が発生することを確認\n\t \tコマンドの認証に失敗していることを確認\n\t 失敗しているコマンドで使用しているverifierNonceがどうなっているかを確認する\n\t\t おそらく、readCharacteristicsでverifierNonceを取得するときに、コマンドの認証で使っているNonceと違う\n\t\t 具体的には、\n\t\t \tこのコマンドを送る前のエイジングの処理で使っているものと同じになってしまっている可能性がある？\n\t\t \tタイミングによって読み取れるverifierNonceが違っている？\n\t\t \t\treadcharの前に10秒待つとか\n\n　　RU Test画面上でverifier_nonceをログ表示できるようにする？\n　　大西さんの状況を手元で再現する・動作としての期待値が何なのか把握する\n\n[** 調査]\n client.getVerifierNonce() で、同じverifierNonceが取れてしまうことがまれにある\n \tエラーの処理では、71のレスポンスが帰ってくる前にgetVerifierNonceをしている\n 71のレスポンスは何に対して返ってくるのか？（おそらくconnect()でおきていること）\n\n\n\n\n\n\n# うっちーsync\ncreated_at:Tue Jan 20 1970 06:11:55 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 07:32:33 GMT+0900 (日本標準時)\nうっちーsync\n[** 下期の取り組み]\n　蓑毛\n　\tセキュリティ,Rust, web assenbly, Golang, Nuxt3, DBのindex,インフラ　勉強\n　\t中長期システム\n　\tAuth0\n\n　内田\n　\tクライテリア\n　\t\t・No.74: デッドコードを四半期以上のサイクルで定期的に棚卸しし、削除や分解をしているか。\n   ・No.76: 明文化されているコードレビューガイドラインが存在するか。\n   ・No.82: テストカバレッジ基準や自動テストガイドラインを用意し、これらを継続的に改善するための工数がチームで割かれているか\n   ・No.83: プロダクトの半分以上のモジュール/クラスファイルに対して、ユニットテストが存在しているか。\n  中長期システム\n  エマージェンシー\n  TDD\n\n[** サーバー改善運動]\n 内田\n　 ログの計算が遅い\n　  SQL見直す\n　  　Logのfindで時間かかりすぎていたら、スケジューラ的なものを作ってDBのタイムアウトの時間を決めてしまうとか（全体に影響しないように）\n　  データ移動\n　  データ削除\n　次回(11/1)は、SQLPerformanceExplained.ja.pdfの第１章を見ておく\n\n\n herokuの料金高い（コストダウン）\n \tAdoon\n\t\tdynos\n\t\tstorage\n\t\t\tログの件数が多くてお金かかってる　→ これであればそこまで辛くなさそう\n\n みのもさん\n  Auth0の料金高い（コストダウン）\n \t 別のものに乗り換える　→ （RoomonでFirebaseを実験的に使ってる）\n \t 自前で作り\n\n ハッシュの計算に時間がかかる（障害につながっている）\n  -> 難易度高い\n 　ハッシュの背景\n 　\tネット接続なくても、カギを開けたい\n\n\n[** DX Criteria]\n アプリケーションコードの循環的複雑度などのメトリクスを、ツール/サービスを用いて継続的に計測しているか。\n デッドコードを四半期以上のサイクルで定期的に棚卸しし、削除や分解をしているか。\n プロダクトの半分以上のモジュール/クラスファイルに対して、ユニットテストが存在しているか。\n テスト用データやスタブ/モックなどを整備し、テストを書きやすくするための環境整備をしているか。\n\nうっちーやるもの\n　明文化されているコードレビューガイドラインが存在するか。\n　テストカバレッジ基準や自動テストガイドラインを用意し、これらを継続的に改善するための工数がチームで割かれているか。\n プロダクトの半分以上のモジュール/クラスファイルに対して、ユニットテストが存在しているか。\n\n[** ドキュメント]\n　Projectを進める上での管理のひながたを作ってみる。\n\n\n[** TDD]\n とりあえず仕様通りにテストを書いて実装してテストをして・・・（レッドとグリーンを繰り返す）というやり方にまだちょっと慣れない。\n　　最終形のコードがほぼある中でやるため、完全に1から作り始めてレッドグリーンを繰り返せない。（RoomonがKingの既存のAPIを少し変更して作っているため。）\n　　コピペでできるものとは相性がちょっと悪い？\n\n GraphQL、gRPC、OpenAPI\n\n# Dev MTG 2021/11\ncreated_at:Tue Jan 20 1970 07:22:37 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 07:26:51 GMT+0900 (日本標準時)\nDev MTG 2021/11\n[https://www.city.marugame.lg.jp/sightseeing/spot/inoyama/img/img_001.jpg]\n\n[*** JOKER]\n\t外部連携先\n\t\thttps://github.com/qrioinc/joker-dev-tasks/issues/469\n manomaの件\n \thttps://github.com/qrioinc/joker-dev-tasks/issues/256\n\tNatureさん確認の件[k.endo.icon]\n\t\thttps://qrioinc.slack.com/archives/C01ENQXBGHY/p1630305190002100?thread_ts=1623997040.005000&cid=C01ENQXBGHY\n\n[** アプリリリースについて（新プロトコル・Knight・SuperLegend・Q-H1A対応）]\n　手順・スケジュール資料→ [Knight アプリリリース手順]\n\t段階的リリースどうしましょう？[yuma_sato.icon] [k.endo.icon]\n\t\tAndroidは99.9%で一気にリリース？[yuma_sato.icon]\n\t\tiOSは固定だから、やるなら１週間前からとか？\n\t\tKing V2が11/25、Knightの発売が12/1（先行販売11/26）なので、製品発表会から順繰りリリースというかたちがいいのではとおもっている\n\t　[- 11/28] 11/26 Knight web先行販売開始\n\tJOKERスケジュール\n\thttps://docs.google.com/presentation/d/1ZAr5ZcFQW276jzV2l6VD4HhRd8_dudkHmqOBKdPq5-Y/edit##slide=id.gf0a1dcf5d9_0_0\n\thttps://docs.google.com/presentation/d/1tgKwRkfsh5TNqLw1AXA-5u1TiUBIG2_IipIsVbg1BKk/edit##slide=id.gea0b29d338_0_47\n\n[** 10/22 Android ログアウト不具合]\n　　HubのバージョンチェックアラートのロジックがiOSとAndroidで異なる\n　　Androidのrelease版のログアウトが１回目が必ずネットワークエラー\n10/28\n  ログアウト時のOneSignal周りの処理がrelease版だとうまく動作してないっぽい\n  原因特定難しいので説明考える\n\n[*** Kagican]\nフロント\nサーバー\nBCU（沢田、竹内）\n\n\n[*** Roomon]\n 橋本さん・柳さん・高野さんに12月末まで延長の打診\n \t高野さんNGかも\n\n　Android採用について\n　　現実的じゃない\n　　\n\n　Firebase　Roomon本番用アカウント\n　 リージョンを日本にしたいという件\n\n　個体情報サーバーってどういう使い方なのかよくわかっていないので誰か知ってたら教えて欲しいです。\n　　9XXX~はstaging, 1~8XXX~はproductionに入る？\n 　なんでProductionの方に93番台とかが入ってるんだろう？\n　　分からなそうなら三上さんに聞いてきます。\n\n　To End\n　\t今日KEで竹内さんに聞くことがあったような気がするので後で整理したい\n\n　DBのクライアントツールやIDEの購入について\n\n\tLockの開発体制について[k.endo.icon]\n>\t承知しました。ちなみに、Knightのコマンドを使って、LockのFWバージョンを取得することは出来ないのでしょうか？\n>\t バイナリの中にLockのどのバージョンを入れたという情報を書き込んでおけば可能かと思いますが\t\n\t\tLockのインターフェースをどう揃えていくか？\n\n\tレビュー会延期\n\t\t9/22 水曜日\n\n　あずまんいちだん10月にこれそうか\n　　これそう\n　　CUやってもらう想定\n\n　評価面談\n\n　Firebase　Roomon本番用アカウント\n　 リージョンを日本にしたいという件\n　 すみません、倒れていたので来週月曜にリスケさせてもらいます。\n\n ドメイン決定\n 　console\n\t  console.roomon.com\n \t staging-console.roomon.com\n\t\tapi\n\t\t\tapi.roomon.com\n\t\t\tstaging-api.roomon.com\n蓑毛が予定立てて、河本さん・橋本さん・うっちーと相談\n\n BCU名のアプリ名決定\n \tRoomon 管理アプリ\n \tRoomon管理（省略表示名）\n\n　明日レビュー会\n　　特に大きな問題なくできた\n　　皆さんありがとうございます！！\n　　次回は10/27\n\n KEのデバイスやりくりとか・・・不安\n\n　KXは何台来るか\n\n　仮申請\n　\tAndroidは内部テスト版を用意\n　\t コンソールのQRを内部テスト版のstoreから落としてみる\n　　IOSもテスト版を用意\n\t\tサーバーの環境が、RoomonはProduction・Kingはroomon-staging\n　　今もう上げちゃう？w\n\n BCUのスケジュールが厳しくなってきた。\n \t1ヶ月遅れ\n \t12月頭リリース予定　-> すみません末でした。\n \t機能縮小でなんとかならないかを一旦検討したい。\n \t　管理者ログインは２段階認証だったり、絞り込みとかもなし\n \t　ブラックリストは検索機能とかなし。\n\n\tあずいち参画\n\n　金子さん参画\n　\t現状を確認して嘆いている印象\n　\tすみませんという感じですが、どうしようもないので協力してもらって頑張ってやっていきたいと思います。\n　\t参画してもらいたてなので、どういうふうに関わればいいかお互い様子伺ってるような形か\n\n　BCUのスケジュールのエスカレーション会議検討中（ブラックリストと管理者ログインをドロップ）\n　\t現場握る　ー＞　関さんと話してOKそう\n　\tエスカレーション会議（10/21）\n　\t伸ばした場合、どのくらいでできそうかの工数間を出す\n\n　あずまさん11月末まで\n　\t河本岩村と話す\n\n　SQAの新しい人きた\n　　元エンジニア？\n　　第一印象はちゃんとしてそう\n\n　山下さんKnightのKeruがマスタデータに入ってなさそう\n\n 11/25, 11/27 Roomonメンバー出社お願いします。\n\n[*** その他]\n[*** Hashcode][komai.icon]\n ８つのハブと繋がったロックのゲストキーを所持するとhash_codeの呼び出しに30秒以上かかり爆発する\n 割と簡単にallが呼べなくなる、ログインもできない、CUで何もできない！\nhttps://qrioinc.slack.com/archives/CPFLQ24J2/p1620891505006000\n　三上さんに一旦調査お願い中\n　 [king hashの計算が重すぎる問題]\n 河本要件まとめ → 村上に下ろす\n\n\n[*** 採用周り]\n　採用のスクレイピングをBeGlobalに投げたい件\n　\t履歴書ベースで見るのがだいぶ大変（面接までこぎつける率も低い）\n　\tAndroid/iOSに関しては遠藤、サーバ/フロントに関してはみのもが、スクレイピングの条件を提示する\n　\t\t（必須）ポートフォリオがある程度書かれていること\n　\t\tリーダーをやっているかどうかは見なくてもOK\n \t\t\tアプリ開発（swift or kotlin)の[* 業務経験]あり or 独学でアプリを作り切ったことがある\n \t\t\t[* チーム開発（実装）の業務経験]あり\n \t\t\t\tサーバーの人と会話のできるアプリエンジニア\n \t\t\t\t\t例）PM / CS / QA / サーバサイドエンジニア / Android エンジニアと連携して進めていくものが多いです。\n \t\t\t\t次点：アプリのレビューができるエンジニア\n \t\t\tエンジニアとして2,3年以上\n \t\t\t希望年収500万円以上\n \t\t\t\t若いけど優秀そうであればOK\n \t\t\tわりとこれくらいでいいのでは？\n \t\t（河本オーダー）：yahooとか東証一部系出は期待値UP\n \t\t出社できる人（週１以上）\n \t\t\tフルリモート以外\n \t\t\tフルリモートだとコミニケーションが取りづらい\n \t\t\t\tデバイス送るのがめんどくさい\n \t\tマネジメントできない（やりたくない）は現時点ではNG\n \t\t\t理由：設計メインの仕事が比率を占める想定なので\n\t \t\t（例）PMなどのマネジメントはあまり合っていない。\n\t \tFlutterに興味あるswift,kotlinエンジニアとかならOK\n　\t開発チームで条件をすり合わせたらBeGlobalと打ち合わせる\n 加藤さん(ios)\n \tオファー済み→回答待ち（2021/07/07）\n \tさようなら\n 岩井さんが辞退\n サーバーフロント全然来てない\n \t何故かビグロに聞く\n\n[*** 秋にAndroid 12が出る]\nhttps://developer.android.com/about/versions/12\nBeta1が5月、final Betaがたぶん8月に出てくるので、SQAリソース確保しておきたい。詳細は[Dev MTG 2021/06] 参照\n\n[*** 秋にiOS15が出る]\n(´・ω・`)\nI can Fly\n[yuma_sato.icon*10]\n[k.endo.icon*4]\n\n\n\n[*** 花田][hanada.icon]ダ\n10/1\nSoftBank,ヤフー,LINE TECH meet up\nhttps://techplay.jp/event/828888\n\n10/7\nGoogleAppがMaterialYouに対応\nhttps://workspaceupdates.googleblog.com/2021/09/material-you-for-android.html\n\n10/11\nDroidKaigi前夜祭\nhttps://droidkaigi.connpass.com/event/225493/\n\n[*** 遠藤][k.endo.icon]\n\t竹内さんいなくなってさみしい\n\tライブラリ更新定期的にしたほうがいいのか？\n\n[*** 内田][TomokiUchida.icon]\n 河本さん・蓑毛さん\n \tKingのログの件、11/2 15:00〜 仮で予定入れさせてもらいました！！\n \t都合悪かったら移動するので言ってもらえると〜\n\n[*** 河本][junichi.kawamoto.icon]\n 竹内相談枠バラシますか？\n 飲み会スケジュール考える\n\t\t第一回目ゲスト\n\t\t\t郁磨さん？りゅうさん？\n \t\t魅力ある人希望（花田さん）ーインターン生\n \t\t\tクリセン\n \t\tコンパニオン（佐藤）\n \t27仮押さえ（GT含め）\n \t\tGTいなくても経費でるかのslackリンク探す\n [webox振り返り → joker振り返り → FB]→ 下期目標 \n\n 目標設定シート・各自金曜日までに事前の記入の程よろしくお願いします。\n[https://gyazo.com/7a25f915aebb5533cde61d263d69c24e]\n\n\n[https://gyazo.com/f872042bf7f0158cf965dc25228c27ce]\n\n# Dev MTG 2021/10\ncreated_at:Tue Jan 20 1970 06:42:18 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 07:16:51 GMT+0900 (日本標準時)\nDev MTG 2021/10\n[https://www.city.marugame.lg.jp/sightseeing/spot/inoyama/img/img_001.jpg]\n\n[- [*** Guardian（QH1A）]]\n[-  STG確認用と本番確認用を山田さんにお渡しするやつを作る]\n[-  GM判定承認]\n\n[*** JOKER]\n\t外部連携先\n\t\thttps://github.com/qrioinc/joker-dev-tasks/issues/469\n manomaの件\n \thttps://github.com/qrioinc/joker-dev-tasks/issues/256\n\tNatureさん確認の件[k.endo.icon]\n\t\thttps://qrioinc.slack.com/archives/C01ENQXBGHY/p1630305190002100?thread_ts=1623997040.005000&cid=C01ENQXBGHY\n\t外部連携先確認用サーバーリリース→三上さん対応中\n\t 9/9 リリース済。河本さん遠藤さんありがとうございました。\n Nature: v2プロトコルサーバー動作確認済み\n Manoma: 本番ログ削除の件調整中\n staging環境SQA準備: 9/22 方針決定。サーバーチームの方々、よろしくお願いしますmm\n Androidビルドエラー対応中　-> 済み\n\n[** アプリリリースについて（新プロトコル・Knight・SuperLegend・Q-H1A対応）]\n　手順・スケジュール資料→ [Knight アプリリリース手順]\n 10/15くらいにストア申請出したい（上の資料参照）\n\t段階的リリースどうしましょう？[yuma_sato.icon] [k.endo.icon]\n\t\tAndroidは99.9%で一気にリリース？[yuma_sato.icon]\n\t\tiOSは固定だから、やるなら１週間前からとか？\n\t\tKing V2が11/25、Knightの発売が12/1（先行販売11/26）なので、製品発表会から順繰りリリースというかたちがいいのではとおもっている\n\t　[- 11/28] 11/26 Knight web先行販売開始\n\tJOKERスケジュール\n\thttps://docs.google.com/presentation/d/1ZAr5ZcFQW276jzV2l6VD4HhRd8_dudkHmqOBKdPq5-Y/edit##slide=id.gf0a1dcf5d9_0_0\n\thttps://docs.google.com/presentation/d/1tgKwRkfsh5TNqLw1AXA-5u1TiUBIG2_IipIsVbg1BKk/edit##slide=id.gea0b29d338_0_47\n\t10/12 knight対応アプリstaging版テスト項目確認→今週ストア申請したい！\n\tバージョン2.0.0にする\n\n　サーバーリリース周り\n\t 10/15 - knight-dev環境でのリリース本番想定リハーサルの実施\n\t 10/21 13:00 ~ 15:00 本番リリース\n\t 10/20一応データのバックアップ取る（夕会の時herokuから）\n\n アプリストア申請進捗\n  Android\n 　 10/20 内部テスト公開\n 　 10/21 Androidクローズドテスト審査提出→審査now\n 　 10/22 製品版審査提出\n 　iOS\n 　 準備中\n\n[** 10/22 Android ログアウト不具合]\n　　HubのバージョンチェックアラートのロジックがiOSとAndroidで異なる\n　　Androidのrelease版のログアウトが１回目が必ずネットワークエラー\n10/28\n  ログアウト時のOneSignal周りの処理がrelease版だとうまく動作してないっぽい\n  原因特定難しいので説明考える\n\n[*** Kagican]\nフロント\n　　入退室履歴API繋ぎ込み中\n　　[- 申込画面の一部修正]\n　　カード一覧画面の実装対応中\nサーバー\n　　[- カードの登録周りのDB設計]\n　　[- 入退室管理のDB設計]\n[- 　　Knight関連のAPI修正中]\n　　利用者数取得APIの修正\nBCU（沢田、竹内）\n　　Knightの設定画面周り\n　　APIの繋ぎこみ\n　　Hub\n　　\tFWupdate\n　　\t初期化\n　　カードの連続読み出し部分 →\n\n[*** Roomon]\n 橋本さん・柳さん・高野さんに12月末まで延長の打診\n \t高野さんNGかも\n\n　Android採用について\n　　現実的じゃない\n　　\n\n　Firebase　Roomon本番用アカウント\n　 リージョンを日本にしたいという件\n\n　個体情報サーバーってどういう使い方なのかよくわかっていないので誰か知ってたら教えて欲しいです。\n　　9XXX~はstaging, 1~8XXX~はproductionに入る？\n 　なんでProductionの方に93番台とかが入ってるんだろう？\n　　分からなそうなら三上さんに聞いてきます。\n\n　To End\n　\t今日KEで竹内さんに聞くことがあったような気がするので後で整理したい\n\n　DBのクライアントツールやIDEの購入について\n\n\tLockの開発体制について[k.endo.icon]\n>\t承知しました。ちなみに、Knightのコマンドを使って、LockのFWバージョンを取得することは出来ないのでしょうか？\n>\t バイナリの中にLockのどのバージョンを入れたという情報を書き込んでおけば可能かと思いますが\t\n\t\tLockのインターフェースをどう揃えていくか？\n\n\tレビュー会延期\n\t\t9/22 水曜日\n\n　あずまんいちだん10月にこれそうか\n　　これそう\n　　CUやってもらう想定\n\n　評価面談\n\n　Firebase　Roomon本番用アカウント\n　 リージョンを日本にしたいという件\n　 すみません、倒れていたので来週月曜にリスケさせてもらいます。\n\n ドメイン決定\n 　console\n\t  console.roomon.com\n \t staging-console.roomon.com\n\t\tapi\n\t\t\tapi.roomon.com\n\t\t\tstaging-api.roomon.com\n蓑毛が予定立てて、河本さん・橋本さん・うっちーと相談\n\n BCU名のアプリ名決定\n \tRoomon 管理アプリ\n \tRoomon管理（省略表示名）\n\n　明日レビュー会\n　　特に大きな問題なくできた\n　　皆さんありがとうございます！！\n　　次回は10/27\n\n KEのデバイスやりくりとか・・・不安\n\n　KXは何台来るか\n\n　仮申請\n　\tAndroidは内部テスト版を用意\n　\t コンソールのQRを内部テスト版のstoreから落としてみる\n　　IOSもテスト版を用意\n\t\tサーバーの環境が、RoomonはProduction・Kingはroomon-staging\n　　今もう上げちゃう？w\n\n BCUのスケジュールが厳しくなってきた。\n \t1ヶ月遅れ\n \t12月頭リリース予定　-> すみません末でした。\n \t機能縮小でなんとかならないかを一旦検討したい。\n \t　管理者ログインは２段階認証だったり、絞り込みとかもなし\n \t　ブラックリストは検索機能とかなし。\n\n\tあずいち参画\n\n　金子さん参画\n　\t現状を確認して嘆いている印象\n　\tすみませんという感じですが、どうしようもないので協力してもらって頑張ってやっていきたいと思います。\n　\t参画してもらいたてなので、どういうふうに関わればいいかお互い様子伺ってるような形か\n\n　BCUのスケジュールのエスカレーション会議検討中（ブラックリストと管理者ログインをドロップ）\n　\t現場握る　ー＞　関さんと話してOKそう\n　\tエスカレーション会議（10/21）\n　\t伸ばした場合、どのくらいでできそうかの工数間を出す\n\n　あずまさん11月末まで\n　\t河本岩村と話す\n\n　SQAの新しい人きた\n　　元エンジニア？\n　　第一印象はちゃんとしてそう\n\n　山下さんKnightのKeruがマスタデータに入ってなさそう\n\n 11/25, 11/27 Roomonメンバー出社お願いします。\n\n[*** その他]\n[*** Hashcode][komai.icon]\n ８つのハブと繋がったロックのゲストキーを所持するとhash_codeの呼び出しに30秒以上かかり爆発する\n 割と簡単にallが呼べなくなる、ログインもできない、CUで何もできない！\nhttps://qrioinc.slack.com/archives/CPFLQ24J2/p1620891505006000\n　三上さんに一旦調査お願い中\n　 [king hashの計算が重すぎる問題]\n 河本要件まとめ → 村上に下ろす\n\n\n[*** 採用周り]\n　採用のスクレイピングをBeGlobalに投げたい件\n　\t履歴書ベースで見るのがだいぶ大変（面接までこぎつける率も低い）\n　\tAndroid/iOSに関しては遠藤、サーバ/フロントに関してはみのもが、スクレイピングの条件を提示する\n　\t\t（必須）ポートフォリオがある程度書かれていること\n　\t\tリーダーをやっているかどうかは見なくてもOK\n \t\t\tアプリ開発（swift or kotlin)の[* 業務経験]あり or 独学でアプリを作り切ったことがある\n \t\t\t[* チーム開発（実装）の業務経験]あり\n \t\t\t\tサーバーの人と会話のできるアプリエンジニア\n \t\t\t\t\t例）PM / CS / QA / サーバサイドエンジニア / Android エンジニアと連携して進めていくものが多いです。\n \t\t\t\t次点：アプリのレビューができるエンジニア\n \t\t\tエンジニアとして2,3年以上\n \t\t\t希望年収500万円以上\n \t\t\t\t若いけど優秀そうであればOK\n \t\t\tわりとこれくらいでいいのでは？\n \t\t（河本オーダー）：yahooとか東証一部系出は期待値UP\n \t\t出社できる人（週１以上）\n \t\t\tフルリモート以外\n \t\t\tフルリモートだとコミニケーションが取りづらい\n \t\t\t\tデバイス送るのがめんどくさい\n \t\tマネジメントできない（やりたくない）は現時点ではNG\n \t\t\t理由：設計メインの仕事が比率を占める想定なので\n\t \t\t（例）PMなどのマネジメントはあまり合っていない。\n\t \tFlutterに興味あるswift,kotlinエンジニアとかならOK\n　\t開発チームで条件をすり合わせたらBeGlobalと打ち合わせる\n 加藤さん(ios)\n \tオファー済み→回答待ち（2021/07/07）\n \tさようなら\n 岩井さんが辞退\n サーバーフロント全然来てない\n \t何故かビグロに聞く\n\n[*** 秋にAndroid 12が出る]\nhttps://developer.android.com/about/versions/12\nBeta1が5月、final Betaがたぶん8月に出てくるので、SQAリソース確保しておきたい。詳細は[Dev MTG 2021/06] 参照\n\n[*** 秋にiOS15が出る]\n(´・ω・`)\nI can Fly\n[yuma_sato.icon*10]\n[k.endo.icon*4]\n\n\n\n[*** 花田][hanada.icon]ダ\n10/1\nSoftBank,ヤフー,LINE TECH meet up\nhttps://techplay.jp/event/828888\n\n10/7\nGoogleAppがMaterialYouに対応\nhttps://workspaceupdates.googleblog.com/2021/09/material-you-for-android.html\n\n10/11\nDroidKaigi前夜祭\nhttps://droidkaigi.connpass.com/event/225493/\n\n[*** 遠藤][k.endo.icon]\n\t竹内さんいなくなってさみしい\n\tライブラリ更新定期的にしたほうがいいのか？\n\n[*** 内田][TomokiUchida.icon]\n https://qrio-transfer-test.herokuapp.com/\n \tTLS1.0, 1.1がenabledに未だになっていない...\n 河本さん・蓑毛さん\n \tKingのログの件、11/2 15:00〜 仮で予定入れさせてもらいました！！\n \t都合悪かったら移動するので言ってもらえると〜\n\n[*** 河本][junichi.kawamoto.icon]\n 竹内相談枠バラシますか？\n 飲み会スケジュール考える\n\t\t第一回目ゲスト\n\t\t\t郁磨さん？りゅうさん？\n \t\t魅力ある人希望（花田さん）ーインターン生\n \t\t\tクリセン\n \t\tコンパニオン（佐藤）\n \t27仮押さえ（GT含め）\n \t\tGTいなくても経費でるかのslackリンク探す\n [webox振り返り → joker振り返り → FB]→ 下期目標 \n\n 目標設定シート・各自金曜日までに事前の記入の程よろしくお願いします。\n[https://gyazo.com/7a25f915aebb5533cde61d263d69c24e]\n\n\n[https://gyazo.com/f872042bf7f0158cf965dc25228c27ce]\n\n\n# ハッシュの計算に時間がかかる（障害につながっている）\ncreated_at:Tue Jan 20 1970 07:02:20 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 07:02:20 GMT+0900 (日本標準時)\nハッシュの計算に時間がかかる（障害につながっている）\nfrom [うっちーsync]\n ハッシュの計算に時間がかかる（障害につながっている）\n  -> 難易度高い\n 　ハッシュの背景\n 　\tネット接続なくても、カギを開けたい\n# Knight アプリリリース手順\ncreated_at:Tue Jan 20 1970 06:37:47 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 06:56:35 GMT+0900 (日本標準時)\nKnight アプリリリース手順\n[** 大まかなスケジュール感]\n\n　10/6 or 7 stagingサーバーSQA完了\n　　10/13 JokerソフトウェアGM判定→サーバーリリース\n\n　10/7-8 iOS/Androidでknight-devブランチをdevelopブランチにマージする（環境変数も合わせて変更）\n　\tkeyfi\n　\tCU\n\n　10/11~13 開発チーム、SQAチームで一連の正常動作確認\n\n　10/13~14 ストア申請準備（佐藤・遠藤作業）\n　 Android: 最終版productionのapkで内部テストと製品版を申請\n　 iOS: 最終版　Productを申請\n\n　10/15 ストア申請完了\n\t　ストア審査リードタイム考慮（通常1週間 + リジェクト受けた場合のバッファー3週間 = 4週間）\n\t　Android: 内部テスト終わり次第社内配布\n\n　11/18 製品発表会・Hub V2 FWリリース（Q-H1/Q-H1A）\n　\tアプリリリース（公開範囲どうする？20%だと発表会後に見れない人多数。最初から99.9％公開にするか）\n　\tiOSは割合調整不可\n\n　11/25 King FW V2リリース（新プロトコル対応）\n　\tこのときまでにアプリは100%にしてく必要あり\n\n　11/26 Knight web先行販売開始（Amzonセール）（ユーザーへの着荷日相談中）\n\n　12/03(04)ユーザー着想定？→なかじ確認\n\n# Dev MTG 2021/09\ncreated_at:Tue Jan 20 1970 06:01:58 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 06:37:59 GMT+0900 (日本標準時)\nDev MTG 2021/09\n[https://www.city.marugame.lg.jp/sightseeing/spot/inoyama/img/img_001.jpg]\n\n[*** Guardian（QH1A）]\n 9/15 住宅展示場で測定テスト（世田谷（仮）） - 河本行く\n \t機材集め中\n \thttps://docs.google.com/spreadsheets/d/1choIqfH-RrMTI66v21jjSTSsPzPhrkkXh09wizdrh3M/edit##gid=0\n \tQH1Aの出荷版のfwを焼いたものおをソーバルさんから頂く\n \t開発陣でKing(V2)対応したものでknigh-devのCUで登録とかしてFTの実施が来週くらいからして欲しいって中島さんが言ってました\n \tFT機のお渡し済み\n \tQH1A (PRD) - 水曜まで\n Hub焼き込みは誰がやる？（河本さん以外ができるようにする必要あり）[k.endo.icon]\n [- 焼き込みトラブル中]\n\n[*** JOKER]\n\t外部連携先\n\t\thttps://github.com/qrioinc/joker-dev-tasks/issues/469\n[** 確認事項]\n>■Knight-dev→Stagingマージのタイミング（サーバー/アプリ）\n> ※SQA受け入れ検証は2機種1000件くらいを想定\n> ■Staging→本番に移行\n> 本番のサーバーはいつ更新する？\n> 本番用のiOSTestFlightとAndroidβ版はいつリリース？\n> 本番用の公開アプリはいつリリース？\n manomaの件\n \tV2使えない\n \thttps://github.com/qrioinc/joker-dev-tasks/issues/256\n\tNatureさん確認の件[k.endo.icon]\n\t\thttps://qrioinc.slack.com/archives/C01ENQXBGHY/p1630305190002100?thread_ts=1623997040.005000&cid=C01ENQXBGHY\n\tQ-H1A再テスト？（FW実装中）\n\t外部連携先確認用サーバーリリース→三上さん対応中\n\t Staging 修正反映済。テスト項目作成中。→9/3~ テスト開始\n\t [k.endo.icon]リリースどうします＞河本さん\n\t \t火曜にテスト完了する場合\n\t \t\t水曜日の午後一リリース\n\t \t\t要監視体制\n\t \t\tテスト完了次第manoma,natureに水曜日の午後一リリースのお知らせメールする\n\t \t水曜にテスト完了する場合\n\t \t\t木曜リリースの対応営業日が金曜日しかなくなるリスク\n\t \t\t翌週月曜日のリリース\n\t リモート解施錠後に履歴がリアルタイムに更新されない件→調査中\n\t 9/9 リリース済。河本さん遠藤さんありがとうございました。\n\t\t\t修正対応後からのレスポンス待ち\n\tリリースに向けて\n Knight-dev→Stagingマージの件 -> 8/20 MTG\n \tマージ前に各プロジェクトのサーバーのブランチ状況の確認\n 9/14 MTG (to Cリリース判定日程確認→サーバーknight -> stagingへのマージ -> staging環境SQA）\n  9月末staging環境でのSQA完了目標\n  10月上旬リリース判定・サーバーリリース\n 9/16 staging環境でのテスト実施項目決定MTG\n 　GM判定とリリース判定まとめて実施\n \t~9/27, 28頃までにサーバー統合完了→v1ロック等準備、SQA開始（山田さんテスト項目作成中）→10/8までにSQA完了\n 9/17 サーバー統合手順確認MTG -> 9/22 再MTG\n Nature: v2プロトコルサーバー動作確認済み\n Manoma: 本番ログ削除の件調整中\n staging環境SQA準備: 9/22 方針決定。サーバーチームの方々、よろしくお願いしますmm\n\n[** アプリリリースについて（新プロトコル・Knight・SuperLegend・Q-H1A対応）]\n　手順・スケジュール資料→ [Knight アプリリリース手順]\n 10/15くらいにストア申請出したい（上の資料参照）\n\t段階的リリースどうしましょう？[yuma_sato.icon] [k.endo.icon]\n\t\tAndroidは99.9%で一気にリリース？[yuma_sato.icon]\n\t\tiOSは固定だから、やるなら１週間前からとか？\n\t\tKing V2が11/25、Knightの発売が12/1（先行販売11/28）なので、製品発表会から順繰りリリースというかたちがいいのではとおもっている\n\t　11/28 Knight web先行販売開始\n\tJOKERスケジュール\n\thttps://docs.google.com/presentation/d/1ZAr5ZcFQW276jzV2l6VD4HhRd8_dudkHmqOBKdPq5-Y/edit##slide=id.gf0a1dcf5d9_0_0\n\thttps://docs.google.com/presentation/d/1tgKwRkfsh5TNqLw1AXA-5u1TiUBIG2_IipIsVbg1BKk/edit##slide=id.gea0b29d338_0_47\n\n[*** Kagican]\nフロント\n　　入退室履歴API繋ぎ込み中\n　　申込画面の実装中\nサーバー\n　　カードの登録周りのDB設計\n　　入退室管理のDB設計\n　　Knight関連のAPI修正中\nBCU（あずいち）\n　　Knightの設定画面周り\n　　APIの繋ぎこみ\n　　Hub\n　　\tFWupdate\n　　\t初期化\n\n hub,lock,knightの\n 　lock→hubバージョンみる\n 　knight→lockのバージョンをみる\n　Roomonでも入れるよね？\n　\t登録時に最新にするので不要\n\n 業務委託採用\n 　ios→決まり（https://qrioinc.slack.com/files/U01M6BU7MS9/F02D5D11QJX/___ma-sf_____________________.pdf）\n 　and→竹内\n 　\tカードの連続読み出し\n\n\n[*** Roomon]\n 橋本さん・柳さん・高野さんに12月末まで延長の打診\n \t高野さんNGかも\n\n　Android採用について\n　　現実的じゃない\n　　\n\n　Firebase　Roomon本番用アカウント\n　 リージョンを日本にしたいという件\n\n　個体情報サーバーってどういう使い方なのかよくわかっていないので誰か知ってたら教えて欲しいです。\n　　9XXX~はstaging, 1~8XXX~はproductionに入る？\n 　なんでProductionの方に93番台とかが入ってるんだろう？\n　　分からなそうなら三上さんに聞いてきます。\n\n　To End\n　\t今日KEで竹内さんに聞くことがあったような気がするので後で整理したい\n\n　DBのクライアントツールやIDEの購入について\n\n\tLockの開発体制について[k.endo.icon]\n>\t承知しました。ちなみに、Knightのコマンドを使って、LockのFWバージョンを取得することは出来ないのでしょうか？\n>\t バイナリの中にLockのどのバージョンを入れたという情報を書き込んでおけば可能かと思いますが\t\n\t\tLockのインターフェースをどう揃えていくか？\n\n\tレビュー会延期\n\t\t9/22 水曜日\n\n　あずまんいちだん10月にこれそうか\n　　これそう\n　　CUやってもらう想定\n\n　評価面談\n\n　Firebase　Roomon本番用アカウント\n　 リージョンを日本にしたいという件\n　 すみません、倒れていたので来週月曜にリスケさせてもらいます。\n\n ドメイン決定\n 　console\n\t  console.roomon.com\n \t staging-console.roomon.com\n\t\tapi\n\t\t\tapi.roomon.com\n\t\t\tstaging-api.roomon.com\n蓑毛が予定立てて、河本さん・橋本さん・うっちーと相談\n\n BCU名のアプリ名決定\n \tRoomon 管理アプリ\n \tRoomon管理（省略表示名）\n\n　明日レビュー会\n　　特に大きな問題なくできた\n　　皆さんありがとうございます！！\n　　次回は10/27\n\n KEのデバイスやりくりとか・・・不安\n\n　KXは何台来るか\n\n　仮申請\n　\tAndroidは内部テスト版を用意\n　\t コンソールのQRを内部テスト版のstoreから落としてみる\n　　IOSもテスト版を用意\n\t\tサーバーの環境が、RoomonはProduction・Kingはroomon-staging\n　　今もう上げちゃう？w\n\n BCUのスケジュールが厳しくなってきた。\n \t1ヶ月遅れ\n \t12月頭リリース予定　-> すみません末でした。\n \t機能縮小でなんとかならないかを一旦検討したい。\n \t　管理者ログインは２段階認証だったり、絞り込みとかもなし\n \t　ブラックリストは検索機能とかなし。\n\n\tあずいち参画\n\n[*** その他]\n[*** Hashcode][komai.icon]\n ８つのハブと繋がったロックのゲストキーを所持するとhash_codeの呼び出しに30秒以上かかり爆発する\n 割と簡単にallが呼べなくなる、ログインもできない、CUで何もできない！\nhttps://qrioinc.slack.com/archives/CPFLQ24J2/p1620891505006000\n　三上さんに一旦調査お願い中\n　 [king hashの計算が重すぎる問題]\n 河本要件まとめ → 村上に下ろす\n\n\n[*** 採用周り]\n　採用のスクレイピングをBeGlobalに投げたい件\n　\t履歴書ベースで見るのがだいぶ大変（面接までこぎつける率も低い）\n　\tAndroid/iOSに関しては遠藤、サーバ/フロントに関してはみのもが、スクレイピングの条件を提示する\n　\t\t（必須）ポートフォリオがある程度書かれていること\n　\t\tリーダーをやっているかどうかは見なくてもOK\n \t\t\tアプリ開発（swift or kotlin)の[* 業務経験]あり or 独学でアプリを作り切ったことがある\n \t\t\t[* チーム開発（実装）の業務経験]あり\n \t\t\t\tサーバーの人と会話のできるアプリエンジニア\n \t\t\t\t\t例）PM / CS / QA / サーバサイドエンジニア / Android エンジニアと連携して進めていくものが多いです。\n \t\t\t\t次点：アプリのレビューができるエンジニア\n \t\t\tエンジニアとして2,3年以上\n \t\t\t希望年収500万円以上\n \t\t\t\t若いけど優秀そうであればOK\n \t\t\tわりとこれくらいでいいのでは？\n \t\t（河本オーダー）：yahooとか東証一部系出は期待値UP\n \t\t出社できる人（週１以上）\n \t\t\tフルリモート以外\n \t\t\tフルリモートだとコミニケーションが取りづらい\n \t\t\t\tデバイス送るのがめんどくさい\n \t\tマネジメントできない（やりたくない）は現時点ではNG\n \t\t\t理由：設計メインの仕事が比率を占める想定なので\n\t \t\t（例）PMなどのマネジメントはあまり合っていない。\n\t \tFlutterに興味あるswift,kotlinエンジニアとかならOK\n　\t開発チームで条件をすり合わせたらBeGlobalと打ち合わせる\n 加藤さん(ios)\n \tオファー済み→回答待ち（2021/07/07）\n \tさようなら\n 岩井さんが辞退\n サーバーフロント全然来てない\n \t何故かビグロに聞く\n\n[*** 秋にAndroid 12が出る]\nhttps://developer.android.com/about/versions/12\nBeta1が5月、final Betaがたぶん8月に出てくるので、SQAリソース確保しておきたい。詳細は[Dev MTG 2021/06] 参照\n\n[*** 秋にiOS15が出る]\n(´・ω・`)\nI can Fly\n[yuma_sato.icon*10]\n[k.endo.icon*4]\n\n\n\n[*** 花田][hanada.icon]ダ\n9/3\nJetpackCompose MVVM書籍\nhttps://www.amazon.co.jp/gp/product/B09DNV323P/\n\nRegional Scrum Gathering 2021（SpeakerのJoe先生がアタクシの先生です）\nhttps://rsgpe2021.scrumdayperu.org/\nRegional Scrum Gathering in Tokyo 2022\nhttps://2022.scrumgatheringtokyo.org/index.html\n\n9/13\nAppleEvent（日本時間9月15日午前2時！）\nhttps://www.apple.com/apple-events/\n\n9/15\nMaterial Design Award　知らんかった\nhttps://material.io/blog/material-design-awards-2021\n\n9/17\nGoogle 旗艦イベント\nAI、アプリケーション開発、データ分析、データベース、インフラストラクチャ、セキュリティなど\nhttps://cloud.withgoogle.com/next?utm_source=twitter&utm_medium=social_websitecar&utm_campaign=FY21-Q4-global-ES903-onlineevent-er-next-2021&utm_content=FY21Q4-Next-US_tw_WebsiteCard_FollowerKW_PC_BannerA_Text2&utm_term=-&dclid=CJ-NwdTShfMCFW1ovQod_OIKUA\n\n9/21\nDroidKaigiアプリのissue\nhttps://github.com/DroidKaigi/conference-app-2021/projects/1\n\n[*** 遠藤][k.endo.icon]\n\t竹内さんいなくなってさみしい\n\tライブラリ更新定期的にしたほうがいいのか？\n\n[*** 内田][TomokiUchida.icon]\n 開発用にロックをいただくこと可能でしょうか？  \n RubyWorldConferenceが12/16に開催決定（YouTube）\n \thttps://2021.rubyworld-conf.org/ja/\n newrericの設定したことある方いますか。。。？\n\n[*** 河本][junichi.kawamoto.icon]\n\tto Androider\n\t ZOZOTOWN AndroidへのJetpack Compose導入の取り組み - ZOZO Technologies TECH BLOG\n  https://l.pg1x.com/c88j\n to Servers\n \tRubyKaigi Takeout 2021\n  https://l.pg1x.com/xByP\n 蓑毛さん\n \tセコムでApple watchのuniversal link対応が必要\n \t対応目処10月10日\n \t深澤さんヒロさんにヒアリング中\n\t \t厳しそうであれば遠藤さんのリソースも検討したいがいかが？\n\t \tひろさんOK\n ruby会議\n  https://techracho.bpsinc.jp/hachi8833/2021_09_09/111519\n  　見ます[TomokiUchida.icon]\n 蓑毛さん内田さん\n \tAlexaに状態変更通知をする処理を追加 by qrio-kawamoto · Pull Request ##840 · qrioinc/king-api\n  https://github.com/qrioinc/king-api/pull/840/files\n\t\tJX/kxの個体データ作成時、一緒にやりませう！\n\t\thttps://docs.google.com/document/d/1ZHWP4bbyPvk8dVVBCetmPq0advKvBmYWvjPqGkoSkq4/edit?usp=sharing\n 連休休みの人〜\n 使命目標の伝達！\n# HerokuへのRailsプロジェクトデプロイで詰まりそうなところ\ncreated_at:Tue Jan 20 1970 06:37:47 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 06:37:48 GMT+0900 (日本標準時)\nHerokuへのRailsプロジェクトデプロイで詰まりそうなところ\nsmartlock-ekey-productionをQrioスペースからQrioIncスペースに移動する前段としてHerokuのTransfer機能の調査だよ\n　heokuでのrubyサポートバージョンは決まっているよ\n　\thttps://devcenter.heroku.com/articles/ruby-support##supported-runtimes\n　なんかエラー出たよ\n　\tFailed to install gems via Bundler\n　\t\t`bundle lock --add-platform x86_64-linux`\n　\t\tこれでなおるよ\n　\tYay! You’re on Rails!はdevelopmentでしかrootされないの忘れてたよ\n　\t\tHealthCheck用のコントローラを爆速で作ったよ\n\n\n# Dev MTG 2021/08\ncreated_at:Tue Jan 20 1970 05:11:35 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 06:01:45 GMT+0900 (日本標準時)\nDev MTG 2021/08\n[https://www.city.marugame.lg.jp/sightseeing/spot/inoyama/img/img_001.jpg]\n\n[*** Guardian（QH1A）]\n\tWi-Fi AP接続検証6月いっぱい[takeuchi.icon]\n\t\t[takeuchi.icon]の自宅の大東建託ルーターに接続できない件の調査のみ[takeuchi.icon]が実施する\n\t\tなかじに聞く[junichi.kawamoto.icon]\n\t\t\tアリオンので網羅できるのであれば竹内の手止めれる\n\t\t\t\t大東建託の備え付けなので止められません\n\t\t\t\t石井さんに竹内宅のルーターの情報を共有します（明日）[takeuchi.icon]\n\t\t\t\t\t手を離れられるように\n\t\t\t\t\thttps://netopi.jp/daitoukentaku-net-wifi/\n\t\t調査結果出して判断\n\t\t　ほんばんでーたとうにゅう（まち）\n  ナカジー対応中\n  \tタスク管理した方がよさそう（チケットとかで）[junichi.kawamoto.icon]\n リモートコマンド周り\n 　リモートコマンド対応要件一覧\n 　\thttps://docs.google.com/spreadsheets/d/1Dbhb1SVyR6Ex61LJBdUlVr_n3Uvi0FTWIkCiFevh_iI/edit##gid=0\n \troomon要件\n \t\thttps://docs.google.com/spreadsheets/d/1yZIiFQK2oF2nOoT8D8uw9o81wLT5PeE1MyzovWXEG7A/edit##gid=0\n　週次で確認MTG\n　\t明後日三上さん欠席になっていたけど、リスケした方がよさそう？\n\n ヘルツ関さんから\n　　量産書き込み時の失敗判定調査\n　　問題なさそう\n\n竹内さんからピン治具の使い方教わらないと・・・\n\tQ-H1Aのデバイスから、ESP32のモジュールを取り出す（ネジで）\n\tomnipeakが届いた\n\t\t動作確認してもらう\n\n ナリ（部揃＝部品が揃う）でいくと10/18生産開始\n \t現行モデルの在庫切れ想定＝＞10/31\n \tナカジー頑張ってる（デンソー＝＞モジュールが足りない）\n V2(V2.1.00（仮)\n \t大西さん曰く終わっている\n \t\t一部河本アサインが残っている\n \t\t\tすみません、漏れてました\n\n　TLS1.2対応を優先させる方で動いていこうとしています。\n\n タスク整理したい\n\n https(TLS1.2)\n 　httpにしている（竹内確認ずみ）\n 　httpsにした時にリモート解施錠のパフォーマンスが低下しました\n 　qh1同等のパフォーマンスにhttpにするとなったのでそうした\n SONY基準→TLS1.2以上を推奨している\n \t中身をキャプチャされても問題ないものを渡している\n\n部ゾロ（部品が揃う）\n　ケーブル\n　10月開始の現状のステータス\n\n \n\n[*** JOKER]\n 大西さんからのRU Testの修正依頼、竹内が週2hくらいでやってましたが、もう巻き取れませぬ(´・ω・`)\n \t今、KnightのAgingで言われてるコレ https://qrioinc.slack.com/archives/C01ABA9KBSB/p1626239600434800\n\t\t\tKnight FW側があやしかったので、RU Testの修正はたぶんしない。\n\t\t\tなんか遠藤まき取りましたがなにも作業してないです\n\t\t\t\tさっちゃんちょっと相談させて下さい\n\t外部連携先\n\t\thttps://github.com/qrioinc/joker-dev-tasks/issues/469\n\tQrio Padなどの購入サイトはいつできる？\n\t\t製品発表会（11/15）当日にリリース。担当は中野さん\n\t業務委託のタスクがなくなってきました・・\n\t\tiOSはもうちょいありそう\n\t個体情報データサーバー\n[** 確認事項]\n>■Knight-dev→Stagingマージのタイミング（サーバー/アプリ）\n> ※SQA受け入れ検証は2機種1000件くらいを想定\n> アプリリリース判定は？8月末？ -> JOKER リリース判定9/15\n> ■Staging→本番に移行\n> 本番のサーバーはいつ更新する？\n> 本番用のiOSTestFlightとAndroidβ版はいつリリース？\n> 本番用の公開アプリはいつリリース？\n　Q-H1AのV2対応の完了タイミングが知りたいです。\n　SQA用Q-H1A(V2)についての相談 with JK\n　カード1000枚負荷テスト：iOS問題なし、Android 激重\n　そろそろマージしたい（develop からテスト用ブランチきる？）サーバーも\n　\tSTG環境での動作確認をしたい\n　アズ1のタスクdone\n　Knight検品用RU Test改修（改修済みアプリ入りスマホ8/16必着）\n　\t端末のIMEIをアプリから取得したいけど権限設定で苦戦中。。。[yuma_sato.icon]\n　\thttps://qiita.com/hiesiea/items/6a2deb479958a3b44707\n　東さん市田さんは朝会からはリリースしようかと思います。（※夕方の進捗共有は要相談。カギカン夕会？）\n　toCのカード登録上限枚数相談させてください（FWの仕様に合わせるなら50、なるべく多く、なら100）\n　　サーバーへのリクエスト・サーバーからのレスポンスの個数を制限する？\n　　1000枚対応するなら2nd以降とか\n　　50枚超えるならカギカン使ってもらった方がいい？（toCのゲストキーは上限20件）\n　　結論：50枚で中島さん→りょうさんにインプットしてもらう！\n RUTestのアプリのパスワードが長くて手入力不可問題\n \tその日のパスワードを発行してくれるサーバーを作ってください（by 大西）\n Q-H1A FWアップデート失敗 -> ソーバルさん確認中\n Knight-dev→Stagingマージの件 -> 8/20 MTG\n \tマージ前に各プロジェクトのサーバーのブランチ状況の確認\n manomaの件\n \tV2使えない\n \thttps://github.com/qrioinc/joker-dev-tasks/issues/256\n 8/EまでにV1ロック・V1ハブ用意する（アップデートSQA用）→8/26 V1ロック追加で焼く→ 8/30 済\n アップデートテスト開始　→1ロックテスト済。8/30~ 1ドア2ロックテスト中\n カード上限の件が不明。ナカジー確認→アプリで50枚制限かける方向で進める→ 8/30 アプリ改修済\n 8/25 最新のknight-devのCUでV1ロック/ハブのリモート解施錠に失敗する件→解決。河本さんありがとうございました。\n\tNatureさん確認の件[k.endo.icon]\n\t\thttps://qrioinc.slack.com/archives/C01ENQXBGHY/p1630305190002100?thread_ts=1623997040.005000&cid=C01ENQXBGHY\n\tQ-H1A再テスト？\n\t外部連携先確認用サーバーリリース→三上さん対応中a\n\t Staging 修正反映済。テスト項目作成中。→9/3~ テスト開始¥\n\t [k.endo.icon]リリースどうします＞河本さん\n\n[*** Kagican]\n HubのFwアップデートできない\n 　登録したときに最新にしてる疑惑\n 　\t実装みてない。できないとしても、今は追加開発できないのでいったん置きで[takeuchi.icon]\n V3仕様まとめ振り返り\n\t https://docs.google.com/presentation/d/1PNnFNYKhNJl_j3eNq7-83RBryu3AEW8G8At0_zmgAxg/edit##slide=id.gd092b153ae_0_317\n　２社ほどコンソール上から削除できない会社がある\n　　三上さんが対応してくれるとのこと\n　　　論理削除を物理削除に変える変更なのでいろんなとこに確認取る必要あり\n　　応急処置はした[komai.icon]\n　　 organization.state = suspendedという幻のステータスにしといた(DBいじる以外に変える方法なし)\n 成田さん含めて画面仕様確認中\n \t完了\n\n　一応RoomonでのKing環境構築メモです。\nhttps://qrio.esa.io/posts/938\n\nnow\n （PM業宅）長川さんジョイン\n \tタスク整理も含めてインプット中\n フロント\n \tVue3対応\n \t\tViteやらないと意味ない\n サーバー\n \tKnight dev向き環境構築\n BCU\n \t業務委託探し中\n \t人事ハンドリングしてもらっている\n \tあずいちにBCUの作り見てもらい共有受ける\n  \tデザイン仕様あれば共有お願いします！[yuma_sato.icon]\n\n脆弱性診断\n　8/2 ~ 8/5にかけて2社打ち合わせ\n　\t今後の進め方検討中\n　\t本見積もりの検討中\n\nバックアッププラン\n　三上さん召喚\n\n市田さんのkeystoreの件、未だによく分かってない。。\n→ 佐藤さん遠藤さんどこかで教えてください。。\n\n hub,lock,knightの\n 　lock→hubバージョンみる\n 　knight→lockのバージョンをみる\n　Roomonでも入れるよね？\n　\t登録時に最新にするので不要\n\n[*** Roomon]\n・開発進捗３週間〜４週間の遅延\n\tRoomon BCU2ヶ月遅れ想定\n・内田さん参画\n　2021/08/10 ~ さっちゃん徐々にbcu mtg参加\n\n AndroidのUI設計に関して、構造欠陥を発見\n  そのまま進んだ場合のリスク、直した場合に増える工数などを確認の上、対策を検討する。\n  原因：業務委託の制作物を確認できる体制が整っていなかった（リスクは共有済み）\n\t\t佐藤さん8月中頃から0.5ほどの稼動で、JOINできないか相談したい　[yuma_sato.icon][yuma_sato.icon][yuma_sato.icon]\n\n\t岩村さん、りょうさんで再設計構想のレビュー\n\t\tBCU/Consoleは11月末リリース　→ 12月末リリース\n\n\tリモートコマンドが常時通信じゃなくなる可能性が高い\n\t\t開発完了できない可能性高\n\t\troomonとして9中にできてないと\n\t\t\tKnight+hubの接続部分\n\t\t\tシステムアーキも含め\n\n\t新規に業務委託を雇うための準備\n\t\t書類選考で河本・花田・遠藤\n\t\t面接は花田・遠藤？\n\t\t募集要項\n\t\t\tcode: .md\n\t\t\t ▍案件\n    ・期間：2021/04/01 〜 2021/11/30\n    ・委託内容：設計、実装、単体テスト\n    ・開発言語・環境　Kotlin・AndroidStudio\n    ・委託形態：委任\n    \n    ▍勤務体系\n    ・9:30~18:30\n    ・週５勤務（相談可）\n    ・基本フルリモート作業となりますが、実機を使ったテストなどもあるため出社が必要となる可能性もあります。\n    ・開発PCは貸与（郵送可能）\n    \n    ▍必須スキル\t\n    - Androidアプリ(Kotlin)の開発経験\n    - GitHubなどの構成管理ツールを利用したチーム開発経験\n    - ReactiveXプログラミングの知見、導入経験\n    - MVVMやClean Architectureなどのモバイルアプリアーキテクチャの知見、導入経験\n    - 多端末対応の経験\n    \n    ▍尚可スキル\t\n    - IoTデバイスをからめたプロダクト・サービス開発経験\n    - BLEなどIoT向け通信規格の知見、開発経験\n    - GraphQLを用いた開発経験\n    \n    ▍使用している開発環境\n    ## 利用言語\n    - Kotlin\n    \n    ## IDE\n    - Android Studio\n    \n    ## 主なOSS\n    - Realm\n    - Retrofit2\n    - RxAndroidBle\n    - RxJava2\n    \n    ## CI\n    - Bitrise\n    - Firebase App Distribution\n    \n    ## チームコミュニケーション\n    - Slack\n    - Scrapbox\n    - esa.io\n    - Backlog\n    \n    ## その他\n    - Auth0\n    - Firebase\n    - GitHub\n    - PubNub\n    - InVision\n    - Zeplind\n\n　hub要件firstスコープから外す？\n　　プレサンス状況確認する\n\n 業務委託採用について\n \t進め方遠藤さんと花田さんと河本で確認\n \t進め方決まり次第蓑毛さん共有\n↓\n android\n （ kagican - 河本）\n  roomon - 花田さん、遠藤さん、蓑毛さん\n ios\n  kagican - 河本　\n\n　ヘルプページを開発で作るものだと勘違いされていた。\n　\thttps://help.roomon.jp/\n　\t\t多分ヘルプスカウト？\n　\t\thttps://www.helpscout.com/knowledge-base/?utm_source=docs&utm_medium=footerlink&utm_campaign=Docs+Branding\n　\t\tカギカンはこれ\n　\t\t\thttps://help.kagican.jp/\n　橋本さんから吉澤さんのクレーム\n　\t吉澤さんのフォロー\n\n　クリセンのハンドリング\n　\tいったん蓑毛やる\n　\tディレクション的に岩村さんにも絡んでもらう\n　\tSQA・エンジニアからも直接やってもらうようにしたい。\n\n　再設計構想が終わった\n　\thubが後ろ倒しになりそう\n　\tBCUの導入も含め\n\n Roomonドメインについて\n \tcastleどうなってたから調査\n \tサブドメインだとどういうふうにできるか？\n \t河本さんのおかげで一旦解決\n\n　カード1000件　→　50件\n　\t中島さんがRoomon定例の中で先走って話してましたが、Joker側取り上げてくださいとつき返されてました。\n　\tちょっとまだかかりそう。決まるのは来週末とか・・・？\n\n　frontのテストコード　方針アップデート\n　　Propsの変更までテストする\n\n 橋本さん・柳さん・高野さんに12月末まで延長の打診\n \t橋本さん・柳さんはできれば今後もKeepしたい（橋本さんは高いので週２稼働とかどうか検討、直契約ならコスト抑えられたりするか？）\n \t吉澤さんは11月末まで\n \t遠藤相談　→ 高野さんはどうか？\n \t橋本さんOK\n \t柳OK\n \t高野さんNGかも\n\n さっっちゃん9月から入れるのかどうか？\n \tBCU\n\n　りょうさんに突撃\n説明:仕様に関していくつか心配事があり、３点ほどご相談させていただきたいです。\n　レジデントキーについて\n　-> レジデントキーはレジデントキーを作れる。\n　　上記を認めると複数作られることになるので、管理会社も複数作れるという仕様にしておりますがご意見をお聞きしたいです。\n\t\tレジデントキーのできること\n\t\thttps://docs.google.com/spreadsheets/d/1Spky9Wld7CZnPG6rIuTY1aA0LRUfQMjtIksAyuizLt8/edit##gid=557314565\n\t\tOK\n\n\t入居者が自分でレジデントキーの削除、アカウント削除を行った場合の挙動\n\t　再びカギを手に入れるには、管理会社にQRコードを発行してもらうという挙動を突っ込まれており、ご相談です。\n\t　消えちゃうで問題なし。MasterKeyを持ってる人に改めて作ってもらう\n\n\t履歴について\n\t　いつまで保持するか、セキュリティ的にもちすぎるのは危ないのか？そのあたりの感覚をお聞きしたいです。（一定期間で消す。退去したら終わったら消すなど。）\n\t　履歴は個人情報ではない\n\t　Roomonの情報と紐づくと確かにまずいかも。KingとRoomonでDBが分かれているので、ハッキング難易度はたかい\n\t　情報セキュリティレベルの分類\n\n[*** その他]\n[*** Hashcode][komai.icon]\n ８つのハブと繋がったロックのゲストキーを所持するとhash_codeの呼び出しに30秒以上かかり爆発する\n 割と簡単にallが呼べなくなる、ログインもできない、CUで何もできない！\nhttps://qrioinc.slack.com/archives/CPFLQ24J2/p1620891505006000\n　三上さんに一旦調査お願い中\n　 [king hashの計算が重すぎる問題]\n 河本要件まとめ → 村上に下ろす\n\n\n[*** 採用周り]\n　採用のスクレイピングをBeGlobalに投げたい件\n　\t履歴書ベースで見るのがだいぶ大変（面接までこぎつける率も低い）\n　\tAndroid/iOSに関しては遠藤、サーバ/フロントに関してはみのもが、スクレイピングの条件を提示する\n　\t\t（必須）ポートフォリオがある程度書かれていること\n　\t\tリーダーをやっているかどうかは見なくてもOK\n \t\t\tアプリ開発（swift or kotlin)の[* 業務経験]あり or 独学でアプリを作り切ったことがある\n \t\t\t[* チーム開発（実装）の業務経験]あり\n \t\t\t\tサーバーの人と会話のできるアプリエンジニア\n \t\t\t\t\t例）PM / CS / QA / サーバサイドエンジニア / Android エンジニアと連携して進めていくものが多いです。\n \t\t\t\t次点：アプリのレビューができるエンジニア\n \t\t\tエンジニアとして2,3年以上\n \t\t\t希望年収500万円以上\n \t\t\t\t若いけど優秀そうであればOK\n \t\t\tわりとこれくらいでいいのでは？\n \t\t（河本オーダー）：yahooとか東証一部系出は期待値UP\n \t\t出社できる人（週１以上）\n \t\t\tフルリモート以外\n \t\t\tフルリモートだとコミニケーションが取りづらい\n \t\t\t\tデバイス送るのがめんどくさい\n \t\tマネジメントできない（やりたくない）は現時点ではNG\n \t\t\t理由：設計メインの仕事が比率を占める想定なので\n\t \t\t（例）PMなどのマネジメントはあまり合っていない。\n\t \tFlutterに興味あるswift,kotlinエンジニアとかならOK\n　\t開発チームで条件をすり合わせたらBeGlobalと打ち合わせる\n 加藤さん(ios)\n \tオファー済み→回答待ち（2021/07/07）\n \tさようなら\n 岩井さんが辞退\n サーバーフロント全然来てない\n \t何故かビグロに聞く\n\n[*** 秋にAndroid 12が出る]\nhttps://developer.android.com/about/versions/12\nBeta1が5月、final Betaがたぶん8月に出てくるので、SQAリソース確保しておきたい。詳細は[Dev MTG 2021/06] 参照\n\n[*** 秋にiOS15が出る]\n(´・ω・`)\nI can Fly\n[yuma_sato.icon*10]\n[k.endo.icon*4]\n\n\n\n[*** 花田][hanada.icon]ダ\n8/2\nAccompanist\nhttps://qiita.com/Nabe1216/items/e6057e69f4f7a0d90b86\n\n8/3\n（予定）Android13のコードネーム（Tiramisu）\nhttps://japanese.engadget.com/android-13-tiramisu-023016442.html\n\n8/6\nCompose用のMaterial\nhttps://material.io/blog/jetpack-compose-catalog\n念のため\nこれがMaterialだ！\nhttps://material.io/components/text-fields##outlined-text-field\n\n8/12\nkaptからkspに変わるとどれくらい早くなるのか\nhttps://qiita.com/RyuNen344/items/d61f1bc1cf57f575eace\n※android-dev-blog ：https://android-developers-jp.googleblog.com/2021/02/announcing-kotlin-symbol-processing-ksp.html\nTips\nFigmaの使い方で一つの要素を選択中、オプション押しながら周りの要素にカーソル合わせたら距離（マージン）が表示される\n\n8/13\nAndroid マルチモジュール化\nhttps://droidkaigi.github.io/codelab-2020/ja/index.html##0\n\n8/20\nProgressDialog非推奨\nhttps://developer.android.com/reference/android/app/ProgressDialog.html\n\n8/23\nbarcodescannerライブラリ廃止\nhttps://github.com/dm77/barcodescanner\n\n8/27\nDroidKaigi2021\nhttps://droidkaigi.doorkeeper.jp/events/126292\n\n9/3\nJetpackCompose MVVM書籍\nhttps://www.amazon.co.jp/gp/product/B09DNV323P/\n\n[*** 遠藤][k.endo.icon]\n\t竹内さんいなくなってさみしい\n\t旭さんにデザイン確認用のAndroid端末あげたい\n\t\t河本さん、買っちゃいますね\n\t\t吉井さん分を渡す\n\t関口さんからの依頼、ロック設置についてのナレッジに相当するものなので確認おねがいします\n\t　https://qrioinc.slack.com/archives/C0465STDQ/p1628675053054500\n\tライブラリ更新定期的にしたほうがいいのか？\n\n[*** 内田][TomokiUchida.icon]\n Android端末一台ほしいです\n  申請しましたありがとうございます(8/13)\n 前にちらっと話したエンジニア提案してくれる知り合いの営業さん、加納さんにお願いしてBeGlobalさんへ\n 8/18(木)19時~ 前職業務入りました。\n （給与遅配） \n RubyのSlackコミュニティ \n \truby-jp.slack.com\n t_wadaさんのTDD動画見たまとめを色々書いてます\n\n[*** 河本][junichi.kawamoto.icon]\n to 遠藤さん\n \t32GBmac郁磨さんにインプットしてOKもらいました\n to 遠藤さん\n \tちょっとapple watch周りでお聞きしたいことがあるのでこの後少しお時間よろしいでしょうか？（セコム案件です）\n to 蓑毛さん\n \tぼちぼちカギカンの2kn登録のシーケンス考えるのに遠藤さんの時間を借りることが発生するかもしれません（そんなに時間取らないように事前にまとめとかはしようと思っています）\n \n to 遠藤さん\n\t 本番用のロックをknight-dev(STG)環境で使えるようにしたいんだけど、どうしたらいいんだっけ？DB登録すればいけるんだっけ？\n \t\t「無効なカギです」になっちゃう\n \t\thttps://drive.google.com/file/d/1EMdnxUJWede3yb_Ix0coR98Akw_5KlB2/view?usp=sharing\n \t\t\tもう一回本番からデータ入れ直したらいけました\n 業託用に\n \tロックとKnight、端末の在庫確認\n to 遠藤さん\n\t macの在庫2台だが、kagican2名分とroomon android1名分で1名分mac購入申請出そうと思うけど、遠藤さん32GBに変えるのなら今の遠藤さんの使ってるのを業託用に回す？\n\t \t遠藤さんのを業託に回す\n\tto Androider\n\t ZOZOTOWN AndroidへのJetpack Compose導入の取り組み - ZOZO Technologies TECH BLOG\n  https://l.pg1x.com/c88j\n to Servers\n \tRubyKaigi Takeout 2021\n  https://l.pg1x.com/xByP\n\n[*** 業宅]\n河本からアンケート\n　月曜と金曜だけするとかどう？\n　　週に30min * 5 = 2.5時間 * 人数\n　　週に30min * 2 = 1時間 * 人数\n　15分で毎日にする？\n　もっと絞って共有したいことがある人\n 夕会の目的\n 　趣旨が変わる\n 1日の最後の息抜きw\n↓\n会議体見直す\n\n8月飲みに行く日決めたい\n→ 調整さん流す\nhttps://chouseisan.com/s?h=3525e1dfee984b208272c7bf798e4b52\n→ 8/17(火)予定（佐藤・蓑毛ワクチン）\n→ やっぱり24日\n\n月初面談\n佐藤さん遠藤さん蓑毛さん6日(金)に入れさせてもらいました\n\n\n>だいぶ先ですが、26日(木) にCD部からPSの出社枠を2枠もらえないか相談がきました。\n> 各PJで、26日(木)　に集まって検討・作業等したいという予定はありますでしょうか？　\n> @kawamoto_junichi 明日の夕会等で開発課側ご確認頂けますと。\n　Roomonとしてはno mtg dayなので、開発としてはおｋ\n\n>開発の夕会などでご共有いただきたいのですが、開発メンバーの勤怠の打刻が著しくされていないので出勤と退勤の徹底をお願いできますでしょうか？？\n> 8月入ってからも打刻が確認できていないメンバーが多くいるのでお手数ですが、打刻修正などのご対応もいただきたいです。\n> 残業時間などの管理をしていて、日々確認しているためご協力いただきたいです！\n\n▼組織診断の専用ページ▼\n社内カルチャー診断\nhttps://jobgram.jp/survey/4UPy93MrpmQ\n※回答期限：8/16（月）中\n\t 済[k.endo.icon]\n\n[* 竹内さん9月延長理由]\n　Roomonの登録シーケンス等の相談（操作、セキュリティ上問題ないか）[k.endo.icon]\n　CUの共有玄関対応周りの実装相談（FTは９月以降、佐藤さんと遠藤）[k.endo.icon]\n　BCU共有玄関の設計相談\n　ログ同期設計相談\n　HUB対応設計相談\n　引き継ぎ資料作成\n\nみのもん、うっちーへ\n僕が大変なことになった時にはこのコマンドを実行してください\n> heroku features:enable spaces-tls-legacy --app sl2-api-production\n\n\n\n# 内田がt_wadaさんのTDDの動画をみて色々学ぶscrap\ncreated_at:Tue Jan 20 1970 05:56:15 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 05:56:26 GMT+0900 (日本標準時)\n内田がt_wadaさんのTDDの動画をみて色々学ぶscrap\n[https://www.youtube.com/watch?v=Q-FJ3XmFlT8]\n\n\n[*** mdで書いてたから汚い]\n 後で直す[TomokiUchida.icon]\n scrapboxの記法でかけるエディタとかあるのかしら[TomokiUchida.icon]\n\n[*** まず概要]\n TDDとは\n  テスト駆動開発\n  ケント・ベック考案の手法\n  動作するきれいなコード\n    TDDのゴール\n    TDDの価値\n  TDDのサイクル\n    1: 目標を考える\n      どこかに書き出す（txtファイルなど）\n      やることリストなどを作る\n        TDDにおける設計書\n        問題分割←ここ重要\n        表記を揃えておくと違いが見える\n      粒度を揃える必要はない\n    2: その目標を示すテストを書く\n      やることリストを一つ一つ潰していく\n        テスト書きやすいものから（テスト容易性）\n        重要なもの＝テスト容易性が高い\n    3: そのテストを実行して失敗させる（Red)\n      テストファースト\n    4: 目的のコードを書く\n      RedをGreenにするために最短で実装する\n        汚くてもコピペでもなんでもいい\n      「動作する」を片付ける\n    5: 2で書いたテストを成功させる(Green)\n    6: テストが通るまでリファクタリングを行う\n      Greenのまま、きれいなコードにする\n      「きれいなコード」を片付ける\n      時間を決めてやる\n        リファクタリングにはきりがない\n        あとでやるタイミングは来る\n      重複を取り除く\n    7: 1~6を繰り返す\n    レッド・グリーン・リファクタの繰り返し\n  アジャイルは設計をしないは誤解\n    常に設計をする\n  必ず失敗するテストを用意する\n    スタートラインのチェック\n    もちろんデプロイ時には無い状態に\n  遠慮なく母語でテストを書く\n    テストコードから仕様が理解できるように\n  テストのテンプレ\n    準備(before)\n    実行(it)\n    検証(expect)\n    後片付け（Rspecの場合は結構そのままやってくれる）\n    ※検証→実行→準備の順番で書いていく\n  手が止まるのは残酷な瞬間\n    できると思っていたことが、実際はちゃんと理解できていなかった\n    具体的にどうなればOKなのかを突き詰める\n    抽象度を下げる\n  コンパイルエラーもRedに数える\n\n Next: 1:26:50から見る\n\n\n# Dev MTG 2021/04\ncreated_at:Tue Jan 20 1970 02:14:02 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 05:41:49 GMT+0900 (日本標準時)\nDev MTG 2021/04\n[*** 聞きたいこと]\n\t評価の最終フィードバックはいつでしたっけ？[k.endo.icon]\n\t\t先週でDone[junichi.kawamoto.icon]\n\n[*** JOKER]\n\tすみません外部連携のRUレスポンスのパースってどこでやるイメージでしょうか...[takeuchi.icon]\n\t\thttps://staging-king-api-document.herokuapp.com/get_command.html##command_response\n\t\t\tこまいさん調査お願いした\n\t\t\t\tnatureさんに確認してもらった。done\n 山下さん朝会出てもらってもいいかも？[junichi.kawamoto.icon]\n \t初回のみでて、必要になったらまた参加してもらいます（直近はPJに絡まないのでKeyfi修正をメインにする）\n 次回ふかひろさん依頼分整理させてください[k.endo.icon]\n 業務委託の（契約とか）時間の管理[k.endo.icon]\n\tカードのブラックリストの要件の認識ズレあり[takeuchi.icon]\n\t\t高橋さんともっかい話す[takeuchi.icon]\n\t\t　カードなくしても削除できるので機能としてはいらない認識[takeuchi.icon]\n\t\t　\tみのもんも呼ぶ\n\t\t　\t来週どっかで設定[junichi.kawamoto.icon]\n\t\t　\t\t高橋さんに認識合わせずみ。toCでは不要、Roomon要件ということで認識一致。\n\t竹内負荷がハイヤー[takeuchi.icon]\n\t QBSとのコミニケーションコスト\n\t \tリモートコマンドの検討\n\t \tGuardianのディレクション\n\t \t\t期待する想定とセットで回答が返ってこない\n\t \t\tGardianを外だしするところのコスト\n\t \t個体データの作業まとめ\n\t \t\t大西さんとのコミニケーションコストが・・・\n\t \t\t大西さんがまとめたやつ見てもよくわからない\n\t\t中島さんに入ってもらうもあり？\n\t\t\t逆にかもしれない\n\t\t[takeuchi.icon]の見積を出し直す\n\t\t\tその上で、スケジュール・アサインなどは中島さんに判断してもらう\n\t\t[20200405 リモートコマンド対応の相談]\n\tGuardianの出荷っていつ？[k.endo.icon]\n\t\t直近やらなくていいなら竹内さんがとられているキャッチアップコスト下げたい\n\t\t8月に出荷予定\n\t\t\tQBSの開発スケジュールとかどうなっている？[k.endo.icon]\n\t\t\t\tもらったけど読み方わからん\n\t\t\t\tまとめて大西さんに聞く\n\t\t\t\t\t竹内さんと確認させてください（GM判定資料作成のスケジュール調整など）\n\tSuperLegend RC1 4/12週 - 4/26週 \n\t\tGM 5月21日\n\t\t優先してSQA\n\t\tやる中身については今週確認\n\t\t\tハンズフリーのテストどうするだったけ\n\t\t> 4/12 RC1\n  > 4/26 RC2\n  > →RC2でSQA実施、フィードバック\n  > 5/12 GMC（リリース候補）\n  > →GMCでSQA実施\n  > 5/20 SQA完了\n  > 5/21 GM判定（リリース）\n\t\thttps://qrioinc.slack.com/archives/C01LQCJJ9U5/p1617760485155300?thread_ts=1617668177.144800&cid=C01LQCJJ9U5\n\t\thttps://qrioinc.slack.com/archives/C01ABA9KBSB/p1617763715418700\n\tSLのCI回すの失敗した\n\t\tQBSが個体情報消す状態のコミットをmasterにしていて、CIでその状態のOTAがアップロード＞SQAチームがSLを更新して破壊\n\t\t大西さんの言い分は「QBSからリリースしたもの以外はアップロードするな」\n\t\t\tdevelopブランチ使え\n\t\thttps://app.zenhub.com/workspaces/joker-5fab39ce2b1b60000f5430fe/issues/qrioinc/joker-dev-tasks/370\n\t\tFWのCIどうするの（リリースフロー含む）？\n\t\t\t遠藤が資料化する\n\t\tCodeshipはpush tagをビルドのトリガーにはできるが、tagをトリガーの条件として運用することはできなさそう[takeuchi.icon]\n toB要件スケジュール\n \tmtg多くてなかなか手が付けられていない\n \t一旦今週末に共有\n　仮登録はあったけど、仮削除がなかった\n　QH1Aのリリースまでの準備が多くて（[takeuchi.icon]竹[takeuchi.icon]内[takeuchi.icon]さ[takeuchi.icon]ん[takeuchi.icon]が）大変[k.endo.icon]\n　\t現状\n　\t\t7月に開発済みFW（現行Hubと同等品）で出荷予定がある\n　\t\tKnight対応については、QBSに委託しようとしているが、準備段階での整備に竹内さんの工数が割ととられている\n　\tリモートコマンド対応のことを考えると、委託するよりうちで担当した方がいいのでは？\n\tto 河本さん[k.endo.icon]\n\t\tZenhub管理方法のレビューをいただけたら嬉しいです\n\t\t連休明けしょっぱなとかに入れさせてもらいます\n\n[*** Kagican]\n V3開発中\n 　https://app.asana.com/0/1199522101046125/timeline\n HubのFwアップデートできない\n 　登録したときに最新にしてる疑惑\n 　\t実装みてない。できないとしても、今は追加開発できないのでいったん置きで[takeuchi.icon]\n\t/homeのロックが96個あった会社の一覧が読み込めない\n\t　今の所問題が起きているのが１社なので置き\n\t　　homeからログ読ませないようにする\n 2021/03/23 v2.5って言ってるやつ（村上さん）の確認\n  新料金プランの登録、変更 + 請求方法変更のこと\n  とりあえず4/26リリースとかにした\n   新料金プランの登録のみリリースdone\n   請求方法変更と機器セット数変更する機能は延期\n　代理店が使う具体的な日程聞いておくべきだった\n　\tもうソフバンは新プランで売り出してるらしいから出来次第リリース\n V3仕様まとめ振り返り\n\t https://docs.google.com/presentation/d/1PNnFNYKhNJl_j3eNq7-83RBryu3AEW8G8At0_zmgAxg/edit##slide=id.gd092b153ae_0_317\n\n[*** Roomon]\n\tAndroid Navigation検討\n\t\t吉井さんに提案資料（メモ程度）の作成を依頼\n\t\t\t導入リスクがまだわからぬす[takeuchi.icon]\n\t\t\t\tもとのアーキがきれいなので導入しなくてもいいかもしれぬ[takeuchi.icon]\n\t\t\t\t4/12週あたりまでに、カード登録画面をNavigationで作ってもらうことに\n\t\t\t\t\t導入する方向でFA[takeuchi.icon]\n\tvercel使おうと思ってます。\n\t\tproのジョブカンを上げる。\n\t\t早くやらないとやばい。\n\tログイン周り終わりそう\n\t\t2段階認証(firebase)\n\t\t\tauthty\n\t\t\tワンタイムパスワード\n フロントCI\n \t差分わかる仕組みを導入中（storybook）\n\n　進行目標\n> v0.1 5月末　アカウント・ログイン周り\n> v0.2 6月末　建物・部屋周り\n> v0.3 7月末　カギ管理周り・CU\n> v0.4 8月末　カギ管理周り・リモートコマンド・CU\n> v0.5 9月末　故障時対応　→　ここで開発完了\n> v0.6 10月末　→　SQA中、一旦コードフリーズ\n> v0.7 11月末　→　SQA完了（一旦リリース）\n> v1.0 12月末　→　チョコチョコ修正があれば入れてリリース\n\n フロントのレベルが低いかも・・・テコ入れします。\n　企画デザ相変わらずガタガタ\n　アプリ周りがあんまり見れていないから〜\n　ペアプロやってみました\n　　もうちょっとドライバー・ナビゲーターが何やるか、決めてからやって行った方がいいか。\n　　かといって準備しすぎるとやるのがめんどくさくなるんで、まったりやっていきたい。\n　デザイン・仕様が4中出てくる想定だったが遅れていて、それに足を引っ張られている\n　Optex関係で、予算を出して欲しい？from なかじー\n　アプリの設定やっている\n　\tfastlane,bitriseとか任せるに任せられない\n　\tアプリ監督必要\n　\t\t最終目標はみのもんキャッチアップ\n　\t\tstore connectのところからPMに任せようと（文言とか画像とか）\n　\t\t\t岩村さん\n\n zenhub\n\t https://github.com/qrioinc/roomon/pull/239/files##workspaces/roomon-605854dbf98bad000ec53576/roadmap?repos=335818810\n wbs\n\t https://docs.google.com/spreadsheets/d/1G95lYj4a4bUxYICgyR3FQwnM3dWo0FT-P39LWseC3K8/edit##gid=1744206090\n　zenhubだけだとなかなか詳細の依存関係がわからないのでスプリントごとに下記のようなスプシも作ってみる。\n\t　https://docs.google.com/spreadsheets/d/1BXKhEq7Tr0IWtcG7QKBo3VJOVb_akcp2JAYIP1IL1yc/edit##gid=0\n\tadmin-consoleのログインについて\n\tJX/KX/KEのことを考えると頭痛がします。\n  https://docs.google.com/spreadsheets/d/17et0mJFCNGn3Wg6R0SAz4ZOGy208b9K050gKxWYhuJw/edit##gid=436793438\n　Frontのテストが\n\n\n[*** Ienaka]\n スケジュール再見積もりneed[junichi.kawamoto.icon]\n　岩村さんと現状すり合わせ\n　PM代行河本実施中\n　外部（ぶん投げ）に出すかもの仕様資料周り作成中\n　\t引き継ぎ先→一旦石井さん\n　一旦KagicanV3ボールを石井さんに投げれてから着手\n\tサイドバーのバナー消したい話\n\t\thttps://qrioinc.slack.com/archives/C018T6QR13N/p1613437627002200\n \t内部で確認できる人がいれば\n \tUI表示落とし\n \t\t来週頭に確認　　　[yuma_sato.icon]\n\n\n\n[*** その他]\n　リファービッシュどうなってる？[komai.icon]\n　 期限決まってないからまだ具体策いらない\n　 今月中にSNCに提案しなきゃならない？\n　 \t今月中に実現可能性だけ村上さんに報告\n　 書き始めました\n　 \tDevelop/大量リファビッシュ方法考える - qrio.esa.io\n   https://qrio.esa.io/posts/800\n  > ロック大量初期化ツール by qrio-kawamoto · Pull Request ##713 · qrioinc/king-api\n  > https://github.com/qrioinc/king-api/pull/713\n SNCからリスト貰えそうなのがGW前か後になりそう\n\n Webフロント絡んだ良さそうなサーバー設計\n 　https://qiita.com/kuromitsu0104/items/dc0021a20100e11f2f7d\n 　https://github.com/kuromitsu0104/gadget-app\n 　　いまのとこカギカンとkingオペで利用できそう。変な独自アーキ全く使ってないっぽいしベストプラクティス候補。\n 　ienakaで必要になりそう\n 　そのための、サーバーエンジニアも採用しないとけない\n\n[*** log]\n　SL2のクエリ重くなってそう\n　　最適化が必要なのだろうか？[komai.icon]にこれ以上のpostgressqlの知見は無い\n　　logsが8億レコード(834,880,562)\n\t　　https://qrioinc.slack.com/archives/C0H333VB7/p1615196461000800\n[https://gyazo.com/b277cfc8226cb8f05f6f5146bd967427]\n\t\t18時台に河本がミスって本番のlogsをcountしたらタイムアウト出始めてるから多分原因こいつ\n\t\ttoCでログの表示、扱い方と、中野さんと分析でのログデータのもたせ方調整必要\n\t\tpartitionでキャパプラしてみてもいいかもね\n\t\t１年以上前のデータはBiqQueryに移動して、検索できるようにしたい！（有料）\n\n[*** webLP移管]\n \tgazってところにkaigcanのLPのstduio移管を依頼中\n \t\t3月~4月頭にかけて実装\n \t\tKagicanはできている\n \t\t\t料金プランの変更に共にサービスin予定\n \tRoomonのLPは河本やってる\n \t\t3月中\n \t\tgaz4月に発注\n\n[*** 業務委託業務報告方法まとめたい]\n　開始と終了\n　業務内容報告\n　ハシモトさんはスプレッドシートに書いて貰ってるんだっけ？\n→ レバテックさん経由\n→ 報告フォーマット\n\t加納さんへの相談内容\n\t\t業務委託先への報告書がどのくらい種類があって、開発で何をとりまとめればいいか\n\t　\t（管理すべき項目が知りたい）\n\t\t時間超過はどの程度管理すればいいか？\n\t\t\t（進捗度合いで必要な分は働いていただく必要があると思うのですが、その場合は事業責任者にその月分の超過\t見込みを伝える？）\n\t　\t（日次なのか週次なのかは別途考える）\n\t課題\n\t\t残業時間が増えていて〜\n\tかのさんに聞いた結果\n\t\t結局大事＝相手が気にするのは、請求金額に直結する「時間」のみだと思います\n\t\t時間超過に関しては、業務委託の方個別に条件が設定されているため、確認が必要（鈴田さんが実施済み）\n\t\t\t基本的には１ヶ月160時間の場合、上下20時間ずつ幅が設けられていて、140-180時間の間におさまっていたら追加料金も減額もなし\n\t\t\t\t140未満の場合は時間単価で計算して減額、180超の場合も時間単価で増額\n\t\t\tプロダクトの開発にかかっている人件費は即費用（＝営業利益に影響）ではなく、いったん資産化されて、リリース後から減価償却というプロセスで利益にヒットします。なので、少しくらいの超過は、ぶっちゃけ事業責任者も気にしないはずです。\n\t\tフォーマット自体は通常業務委託先の方がフォーマットをもっているので、それベースで確認すれば良い\n\tおそらく今後考えるべきこと\n\t\t時間超過の条件を業務委託の方々に個別に聞いておいて、PJないでの共通認識としてひとつのドキュメントにまとめておきたい\n\t\t時間超過に関してはある程度事業責任者とすり合わせておき、必要以上にしばらなくてもいいかも\n\t\t業務報告書はPJ単位でどこかひとところにまとめておきたい\n\t\t\t時間のみ考えればいいから、それがわかる資料をおいてもらって、PJ単位で管理するのがいい？\n\t\t\t\t勤怠管理するほどではない\n\tアクション\n\t\t各PJの開発リーダは口頭ベースで時間超過について業務委託の方に時間超過しないようインプットする\n\t\t\t必要な場合には連絡するようにしてもらう（ここら辺は個別対応）\n\t\t契約書が別途あるかとおもったら、レバテックだったら見積書に書いてあるっぽい[k.endo.icon]\n\t\t\t権限絞ったところに見積書まとめときたいなー\n\n\n[*** forkwell]\n>こういう人はピックアップしてほしくない人\n> → 今回に関してはNGを抽出\n> ← 例）C向けのサービスやっていないからとか\n\n\t25人とか多すぎませんか！？[k.endo.icon]\n　beglobalさんと話す\n\n[*** OSS ]\nSNCの小野坂さんとSonyの上田さん\nライセンス表記\n→ 使っているソフトウェア\n例えば\nhttps://www.atmarkit.co.jp/ait/articles/0902/05/news135.html\n Guardian → QH1A\n \tOSSライセンスはこちら\n \thttps://docs.google.com/presentation/d/1oB4hCOGIA_lAum0KIZScziaYuqEQnqPJ3mbeQmUcW00/edit##slide=id.g6ae03626ca_0_0\n QH1\n \tOSSライセンスはこちら\n \thttps://docs.google.com/presentation/d/0B1UN_JVwEUTWSmNKUkQxb2FRUUE/edit##slide=id.p32\n　Keyに関してはまだ刺されてないから大丈夫だと思っているが、刺される可能性あり\n　\tKnightも？？？\n　参考（ソニーのやつ）\n> ヘルプガイド | ライセンスについて\n> https://helpguide.sony.net/ilc/1540/v1/ja/contents/TP0000808241.html\n> \n> ODS-L10 (P19)\n> https://www.sony.jp/professional/support/manual_pdf/strage/4451115031.pdf\n> \n> ライセンス情報について | Panasonic\n> https://panasonic.jp/car/navi/license/license/license01.html\n> \n 作業ブランチ\n \thttps://github.com/qrioinc/corporate-site/tree/feature/licence\n シカトしまくり中\n \tGTと認識合わせた方がいいかも\n \t2021/04/06 このあとやる\n   落としていいと思うが、いつやるか\n   地味に進めていく（2021/04/06）\n\n[*** 正社員サーバー内田さん内定承諾]\n　入社日等未確定\n　4月退社\n　\t5月入りそう予定（未確定）\n　\t8月\n\n[*** ANRI 合カギ発行制限を解除したking-cu-androidを提供する]\n\t2018年に、合カギ発行制限を解除してローカルビルドしたapkを、Qrioから某VCに特別に提供していた。\n\tしかし、最近そのアプリを起動すると「不明なエラー」によりログインできない\n\tパスワード再発行もしたがダメ\n\t\t原因調査するより、最新verから制限解除したやつ作ってログインした状態で渡すとかがよさそう\n\t今後のススメ方\n\t\t今回特別対応するが、営業サイドからカギカンの導入を進めてもらう\n\t川上さんにandroid端末用意してもらう\n\t\tCSにあるやつなんかいっこ\n\t（確認）アプリの渡し方（開発）\n\t\tapkかapp distributionで可能？（たけちゃんにきく）\n\t\t作業依頼投げたら2,3時間でいけそう\n  >Release release/anri · qrioinc/smartlock-king-cu-android\n  > https://github.com/qrioinc/smartlock-king-cu-android/releases/tag/release%2Fanri\n\t今回暫定対応・今後アップデート（→ カギカン）\n　川上待ち\n　\t2021/04/06 確認する\n　\tこちらの用意はできて、先方にコンタクト取っているがまだレスがない状態（2021/04/06）\n\n\n[*** 面談・選考の違い]\n> ＝＝＝＝\n> “話を聞いてみたい“=面談と表記しているもの\n> “選考“=面接と表記しているもの\n> ＝＝＝＝\n> 面談の場合は“話を聞いてみたい“というご認識でお願いいたします。\n> “話を聞いてみたい“の方でも温度感高めな方もいらっしゃる場合がある為、面談時に選考に進むかどうかをヒヤリングしていただき、進みたい方には面談時にそのまま選考していただいても大丈夫です。\n\n\n\n[*** レビューはハイプラだよ]\n> Code Review Guidelines | GitLab\n> https://docs.gitlab.com/ee/development/code_review.html##review-turnaround-time\n\n\n[*** 秋にAndroid 12が出る]\nhttps://developer.android.com/about/versions/12\nBeta1が5月、final Betaがたぶん8月に出てくる[takeuchi.icon]\n次の方針でいきたい[takeuchi.icon]\n\tbehavior changes把握しておく\n\tfinal Beta出てからSQA回す\n\t\t少なくともking-cu-androidは回す\n\t\t現行のカギカンBCU、RoomonBCUは優先度は劣る\n\t\tSL1、ただいまキット、SmartTagはSQAせず\n\tSQAリソース確保しておきたい\n\n[*** ruby2.5系EOL]\nhttps://forest.watch.impress.co.jp/docs/news/1316784.html\n[https://gyazo.com/d557dca319d327db182c1fee17809247]\nYou are not logged in to https://gyazo.com\nIf you are already logged in, please enable 3rd party cookies in your web browser settings.\n\n[https://gyazo.com/0f2d0a3b6b937392934f3a8b5815b69f]\n[https://gyazo.com/503e4cfdc2a597b2472ed428a9f0556e]\n[https://gyazo.com/166998a0cf8a6b448359db8e5a59fb06]\nYou are not logged in to https://gyazo.com\nIf you are already logged in, please enable 3rd party cookies in your web browser settings.\n\n\n[*** MANOMA]\n「MANOMAのロック時刻ズレ問題の対策について」\n質問メールきてたけど読んでない、4/22以降に読んで返信します[takeuchi.icon]\n→ 別案件での回答と合わせて\n　https://github.com/qrioinc/king-api/pull/739\n　できた\n　4/26リリス\n  5/6明け対応\n\n[*** 脆弱性のやつ]\n[https://gyazo.com/caac40c921ae7e47e5dd68c59cdaeda2]\nYou are not logged in to https://gyazo.com\nIf you are already logged in, please enable 3rd party cookies in your web browser settings.\n\n# TomokiUchida\ncreated_at:Tue Jan 20 1970 05:27:13 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 05:27:13 GMT+0900 (日本標準時)\nTomokiUchida\n[https://gyazo.com/fb1a4639a69d438378dcbc1e50d6d5a3]\n\n##member\n\n# 開発キャッチアップ（king）\ncreated_at:Mon Jan 19 1970 20:29:12 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 05:27:08 GMT+0900 (日本標準時)\n開発キャッチアップ（king）\n\n2020.08.18 [takeuchi.icon] 佐藤さんキャッチアップ用だったのを汎用的な内容に変更\n2020.08.05 [takeuchi.icon] 初版\n\n\n[*** はじめに]\nようこそQrioへ！\n\n最初はking (Q-SL2) のキャッチアップからおねがいします\n\t主にアプリエンジニア向けです。\n　イメージつかんでもらうために、説明はぼかしてたりします。\n　細かいところで正確じゃない記述もありますが、注釈はつけてます。\n\n\n[*** キャッチアップ内容]\n[** Qrio用語]\n　歴史的経緯により、独自用語が多い(´・ω・`)\n　\t用語集: https://docs.google.com/spreadsheets/d/1O1emBFCCIzQWNwTomr0ZD8u-NpBj619ED3gCQ3NFIc4/edit##gid=1053220588\n\n[** アーキ]\n　いちばん簡単なアーキ図\n　　https://docs.google.com/presentation/d/1x-VyU_AjcJWpeSwvvAMbQVbMkNAGMIa2RPtFPeQsa0w/edit##slide=id.p\n\n[** BLE]\n\tKing Bluetooth LE仕様\n\t\thttps://docs.google.com/spreadsheets/d/1PH2wmbsHIryiI6BLKa1w-9lEMieO_pjd_VKGJGyhZks/edit##gid=0\nBLEの本\n\thttps://www.amazon.co.jp/Bluetooth-Low-Energyをはじめよう-Make-PROJECTS/dp/4873117135\n\t公式のpdfドキュメントは3000ページあるんで上記がいいです(´・ω・`)\nBLEの規格は、大きく分けると、ADV(Advertising)とGATT通信の二つがある。\n\tADV\n\t\tブロードキャストされるBLEの電波。\n\t\t\t現実世界でいうところの、選挙カー（不特定多数への発信、片方向のコミュニケーション）。\n\t\t\t\t厳密に言うと違うけど、いったんそういうことにしておいてください(´・ω・`)\n\t\tiBeaconは、ADVの一種。ADVの規格の範疇でAppleが定義を加えた、Appleの規格。\n\t\tロックは、iBeaconとADVの両方を常時送出している。\n\t\tCUは、ロックの放出するiBeaconとADVの両方を、scanして取得する。\n\t\t\tロック→CUの片方向通信、だと今は思ってくだされ(´・ω・`) ScanResponseの話はおいおいします。\n\tGATT通信\n\t\tコネクションを確立して行われる、BLE通信。\n\t\t\t現実世界でいうところの、対話（お互い相手を認識してコミュニケーションをとる）。\n\t\tpayload (ekey, command) のやりとりに使う通信経路。\n\t\tBLEの通信シーケンスは、次のイメージ。\n\t\t\tRU (Peripheral Device) は、ちっさいDBを持っている（GATT Attributeといいます）。\n\t\t\tCU (= Central Device) が、接続したいRUに対して、接続要求&接続確立（connect）。\n\t\t\tCUは、RUが持っている特定のAttributeに対して、Ekey, コマンドを書き込む (writeCharacteristic) 。\n\t\t\tRUは、書き込みを検出。コマンドを認証し、認証されたらコマンドを実行する。\n\t\t\tコマンドの実行結果を、CUに伝える（notify）\n\t\t\tCUは、RUとの接続を解除する（discoonect）。\n\t\t上記のPeripheral, Central, GATT Attribute, writeCharacteristic, notifyは、BLEの仕様です。\n\t\t\tnotifyはBLE本にはのってないっぽい(´・ω・`)\n[https://gyazo.com/24f5b9ac2f171ea1c06defc9b01df187]\nCU - RU間のBLE通信の図\n\n[** Ekey]\n　EKeyの思想\n　\thttps://qrio.esa.io/posts/895\n\tKing EKey v3プロトコル\n\t\thttps://docs.google.com/spreadsheets/d/1bZ6d_1WtRlyv6VSa0P9DCQIW4LVjTrj2Ssi-XpDw9d0/edit##gid=480944432\n電子カギ本体。ロックに対するコマンドの認証/認可の情報を持っている。詳細は別途説明します。\nEKeyは、改竄やなりすましを防ぐために、Qrioサーバーにしか発行できないようになっています。\n[* EKeyの特徴]\n\tオフラインでも使える。なのでQrioKeyにBLEでつっこんで、QrioKeyでRUを解施錠できる。\n\t第三者に盗まれても、第三者がEKeyを使ってRUを操作することはできない。\n\n\n[** Command]\n\tKing RU Command仕様\n\t\thttps://docs.google.com/spreadsheets/d/1ClJsdeN6XnjdQbuViCa6b1L9F01NJTZYMSNOUaJXa3s/edit##gid=1271907145\nロックに対する操作の定義です。\n解錠とか施錠とか、ログ取得するとか、状態取得するとか、あります。\n\n\n[** Payload]\n\tKing RU通信仕様\n\t\thttps://docs.google.com/presentation/d/1gSnfrs16GB9AqgOuMPzXKnHOwH7pLOu4YHvDRDTv9tw/edit##slide=id.p4\nロックにコマンドを送る際、必要な情報をいろいろくっつけたカタマリです。\n\tスーパー雑にいうと、Payload = Ekey + Command + 署名です。\n\t\t他にもくっついてる情報があります。詳細は上記の仕様書を参照。\nさらにPayloadは、BLEで送信される際は、分解されて、Pacektという細切れの配列になります。\n\tBLEでは少量のデータしか送信できないので、データの送受信は、細切れの配列にしてから一つずつ行います。\n\t\t一度にたくさん送信する方法もBLEの規格上は存在しますが、使っていません(´・ω・`)\n\t1パケットは20byteです。\n\tペイロードは、Ekeyが122byte、コマンドがだいたい10byte~、署名64byte、その他数バイト、といったところです。\n\n\n[** 署名検証]\nコマンドは、ロックに対する操作です（カギあけたりとか）。\nなので当然、知らない人や悪意のある人が、コマンドを実行できてしまうとマズイです（勝手にカギあけられたりとか）。\nそのためRUは、コマンドを受信したあと、それを実行する前に、Ekeyやその他の仕組みを使って、コマンドを検証します。\nたとえば次の事項を検証します。\n\tコマンドが改竄されていないか\n\tコマンドを送ってきた人が、想定していない人でないか\n\tコマンドがBLEとか無線上で盗まれて（盗めます）、あとでロックに不正な方法で送信されないか\n\n上記の検証のために、ロックコマンドでは主に次の方法を用いています。\n\tロック個体ごとの共通鍵による証明書の作成と検証\n\tクライアント（CUやハブ）が作成した、秘密鍵・公開鍵ペアによる、ペイロードの署名の作成と検証\n\tペイロード時刻による認証（リプレイアタック対策）\n\n\n[*** githubリポジトリ]\nAPI\nhttps://github.com/qrioinc/king-api\n\nCU iOS\nhttps://github.com/qrioinc/smartlock-king-cu-ios\nhttps://github.com/qrioinc/smartlock-king-keyfi-ios\n\tQrio Lock, Qrio KeyとのBLE通信ライブラリ\nhttps://github.com/qrioinc/qb-setup-ios\n\tQrio HubとのBLE通信ライブラリ。Qrio Hubの設定に用いる。あまりいじる機会はないと思われる(´・ω・`)\n\nCU Android\nhttps://github.com/qrioinc/smartlock-king-cu-android\nhttps://github.com/qrioinc/smartlock-king-keyfi-android\n\tQrio Lock, Qrio KeyとのBLE通信ライブラリ\nhttps://github.com/qrioinc/qb-setup-android\n\tQrio HubとのBLE通信ライブラリ。Qrio Hubの設定に用いる。あまりいじる機会はないと思われる(´・ω・`)\n\nQrio Hub (Q-H1)\nhttps://github.com/qrioinc/qb-sl2-fw\n\nQrio Hub (Q-H1A)\nhttps://github.com/qrioinc/guardian-esp32\n- 2020.12.02現在、開発は完了しているが生産は始まっていない。\n\nQrio Lock (Q-SL1)\nhttps://github.com/qrioinc/smartlock-king-ru\n\nQrio Key (Q-SL1)\nhttps://github.com/qrioinc/smartlock-king-fob\n\nKnight (Q-KP2)\nhttps://github.com/qrioinc/knight\n- KN, KX, KEopt, KEruすべて同一のリポジトリ。\n\nJoker-X (ビルトインタイプのロック3号機)\nhttps://github.com/qrioinc/smartlock-joker-ru\n\nSuperLegend\nhttps://github.com/qrioinc/superlegend\n\n\n[**** スキルマップ]\nhttps://docs.google.com/spreadsheets/d/1Q8daHQxGeuQVVVXcv3-88N1unlCmy4CMwbWU0K4ZK-Y/edit##gid=0\n　あんまり更新してない......\n\n参考書\n\tセキュリティ\n\t\thttps://www.amazon.co.jp/暗号技術入門-第3版-秘密の国のアリス-結城-浩-ebook/dp/B015643CPE\n\n\n[**** King 仕様]\n置き場: https://drive.google.com/drive/folders/1vr5OfEcNp1GpDyEF2BXCVavl_QJ0pas_\n\tKing 登録／解錠／時刻設定／ログ取得 あたりの整理\n\tKing 合カギ仕様\n\tKing ログ・通知一覧\n\tKing アカウント権限\n\tKing Hub仕様\n\tKing Fob対応\nは、2020.09.01現在の仕様に沿っています。\n\n\n##開発キャッチアップ\n\n# RUTestを検品で使う\ncreated_at:Tue Jan 20 1970 05:25:32 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 05:25:32 GMT+0900 (日本標準時)\nRUTestを検品で使う\n\n\tサーバー通信でEKeyをとってくる\n\t\tpros\n\t\t\tkeyseedをクライアントに持たせないようにできる\n\t\tcons\n\t\t\t認証機能が入っていないため、誰でも取得できてしまう\n\t\t\tEKeyの妥当性検証の時間が必要\n\t\t工数（イメージ）：大（サーバー＆アプリ＆テスト）\n\n 時刻サーバーを使って、使用期間を制限する\n \tpros\n \t\t実装は割と簡単\n \tcons\n \t\t使用可能な期間中は誰でも使える\n \t工数（イメージ）：小\n\n アプリ起動時＆アプリをバックグラウンドから復帰した時に特定のパスワードを入力させる\n \tpros\n \t\t特定の情報を渡した人だけしか使えないようになる\n \tcons\n \t\tパスワードが固定であれば総当たりで使えるようになるかも\n \t\t工数（イメージ）：小\n\n IMEIなど端末固有情報で制限をかける\n 　pros\n 　 APKファイル自体が漏洩しても、スマホ自体が紛失しない限り、セキュリティ担保できる\n 　cons\n 　　スマホ端末の保証外すなど、準備が特殊\n 　　実現可能か不明\n \t工数（イメージ）：未知数\n\n# Dev MTG 2021/07\ncreated_at:Tue Jan 20 1970 04:25:18 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 05:11:35 GMT+0900 (日本標準時)\nDev MTG 2021/07\n[https://www.city.marugame.lg.jp/sightseeing/spot/inoyama/img/img_001.jpg]\n\n[*** Guardian（QH1A）]\n\tGuardianの出荷っていつ？[k.endo.icon]\n　\t現状\n　\t\t7月に開発済みFW（現行Hubと同等品）で出荷予定がある\n　\t\tKnight対応については、QBSに委託しようとしているが、準備段階での整備に竹内さんの工数が割ととられている\n　\tリモートコマンド対応のことを考えると、委託するよりうちで担当した方がいいのでは？\n\t\t\t\t中島さんが5/7にQBSと相談する\n\t\tGTとかに確認します[junichi.kawamoto.icon]\n\t\t\t和田様に確認しました。\n\t\t\t初回出荷の予定は8/27(1,000台)です。\n\tWi-Fi AP接続検証6月いっぱい[takeuchi.icon]\n\t\t[takeuchi.icon]の自宅の大東建託ルーターに接続できない件の調査のみ[takeuchi.icon]が実施する\n\t\tなかじに聞く[junichi.kawamoto.icon]\n\t\t\tアリオンので網羅できるのであれば竹内の手止めれる\n\t\t\t\t大東建託の備え付けなので止められません\n\t\t\t\t石井さんに竹内宅のルーターの情報を共有します（明日）[takeuchi.icon]\n\t\t\t\t\t手を離れられるように\n\t\t\t\t\thttps://netopi.jp/daitoukentaku-net-wifi/\n\t\t調査結果出して判断\n 修正誰やんの？\n \t基本治さない前提ではある\n 恐らく出荷判定通らない結果が返ってきている\n \t2021/06/15 入隅さんと大西さんを交えて対応策考える\n 別端末（android-vaioフォン| ios, pexle周り）を中島さんから入隅さんに送る\n \t再度検証 \n scurebootの件\n \t竹内さん対応→pro/conだす\n \t[Q-H1A Secure Bootのpros/cons]\n \t以下2021/06/21夕会で確認\n\t \t現状の実装から何か変更を加える必要があるのかないのか？\n\t \t\tGMタグから変更は不要\n\t \t現状工場に渡しているFWがどの状態なのか？\n>セキュリティまわりの対応で、Q-H1AのFWを更新する必要はあるか？\n> 「No」です！\n> make menuconfigより、GM判定版のguardianで、OTAバイナリの署名だけが有効になっていることを確認しました。\n> https://qrioinc.slack.com/archives/C01A1LSGGG0/p1624278946018600\n 工場用のFWはGoogle driveで管理している\n \tDriveのURLください！！to 竹内\n \t>Q-H1Aで、ヘルツさんとやりとりしていたgoogle driveのディレクトリです。\n  > https://drive.google.com/drive/folders/1wRdAsUyI-KVE_tJLDmh8UsBDxLOg4Yxd\n  > FWの内部リリースのたびに、書き込み方法と一緒に共有していました。\n  > https://qrioinc.slack.com/archives/C01A1LSGGG0/p1624352808041900?thread_ts=1624278946.018600&cid=C01A1LSGGG0\n\n>from 大西さん\n>  ところで、量産に向けて下記の準備は問題無いですか？>\n> 量産に向けての体制どうなりますか？これまでは竹内さんがヘルツさんとやり取りしてました。\n> ・量産用個体データ\n> ・書き込むソフトウェア\n> ・調整検査(検査方法、判定基準、検査に使う機材)\n> ・抜き取り検査(検査方法、判定基準、検査に使う機材)\n→ナカジーに相談（河本）\nhttps://github.com/qrioinc/joker-dev-tasks/issues/493\n→ 7/6(火)にヘルツ関さんとすり合わせ\n↓\n竹内さんに最終確認\n>QH1A、基板に書き込み直しできるかの確認 · Issue ##511 · qrioinc/joker-dev-tasks\n> https://github.com/qrioinc/joker-dev-tasks/issues/511\n 量産個体データ作成（7/16まで）\n>QH1A量産個体データの作成 · Issue ##512 · qrioinc/joker-dev-tasks\n> https://github.com/qrioinc/joker-dev-tasks/issues/512\nDBインサート方法考える（河本）\n hubsのpassって何？\n \tSL1で使っていた想定\n \t三上さんに確認\n\n リモートコマンド周り\n 　リモートコマンド対応要件一覧\n 　\thttps://docs.google.com/spreadsheets/d/1Dbhb1SVyR6Ex61LJBdUlVr_n3Uvi0FTWIkCiFevh_iI/edit##gid=0\n \troomon要件\n \t\thttps://docs.google.com/spreadsheets/d/1yZIiFQK2oF2nOoT8D8uw9o81wLT5PeE1MyzovWXEG7A/edit##gid=0\n\n 本番データ投入（待ち）\n→ wifiルータ接続問題解決後のFWversionでの投入\n\n ヘルツ関さんから\n>①今回いただいたデータは、個体データのみ10万台分でした。\n> 　それらにはパスワードがありませんでした。\n> 　Q-H1A（QB2)の試作時も、LEGENDも、個体データの圧縮ファイルには\n> 　パスワードがあって、それを書き込むたびに呼び出してパスワードで\n> 　解凍して、HASH値を確認して、書き込み後にヌル上書きしてからPC上から\n> 　削除していました。\n> \n> ②bootloaderやその他のバイナリデータは試作時のままで、変更はないので\n> 　しょうか？\n> \n> 個体データ (二次試作) - Google ドライブ\n> https://drive.google.com/drive/u/0/folders/1IOD2elEjUTtDvxGksYQBQvt2rIZ5M2ny\n\n量産用のフォルダ作り直した\n>個体データ(量産) - Google ドライブ\n> https://drive.google.com/drive/u/0/folders/1azHSK9yqZYFMie2qYLWnnpxFEkCv0_bc\n\n竹内さんからピン治具の使い方教わらないと・・・\n\tQ-H1Aのデバイスから、ESP32のモジュールを取り出す（ネジで）\n\n\n[*** JOKER]\n 大西さんからのRU Testの修正依頼、竹内が週2hくらいでやってましたが、もう巻き取れませぬ(´・ω・`)\n \tさっちゃん、ハンドリングお願いしたく[takeuchi.icon]\n \t今、KnightのAgingで言われてるコレ https://qrioinc.slack.com/archives/C01ABA9KBSB/p1626239600434800\n \t\t竹内巻き取る場合、上記が最後でありまする。\n \t\t\tKnight FW側があやしかったので、RU Testの修正はたぶんしない。\n　Knight GM判定 FWはOKでした！\n　\tHWはNGでした（ウイスカ対策でNG）\n\t外部連携先\n\t\thttps://github.com/qrioinc/joker-dev-tasks/issues/469\n\tCU Lock/Hub V2更新チェック追加 -> バージョン管理はサーバーに持たせる？7/5(月)三上さんに相談 [yuma_sato.icon]\n\t\tこれが終われば後はローカライズとバグ修正のみ。\n\t\t7/5 対応方針決定。実装WIP\n\t\t徐々に着手中\n\tKnightがピーピー鳴るエラーの件（CUでのエラーハンドリング）\n\t\tえんどぅ→大西さんに仕様確認中\n\t\t改竄検知/取り外し検知のUI上の説明について考える\n\t\tPIN/Card盗聴の件も\n\t\t7/12 MTG -> 方針大体決定。CUでは電池交換画面の説明と改竄検知のダイアログ（CS問い合わせ促す）のみ\n\tSuperLegendハンズフリー解錠の問題\n\t\tハンズフリーをONにして、削除→再度登録すると、登録時にアプリでハンズフリーをONにしていなくてもデバイスの設定がONになったままになっている→修正タスク起票済（7/8）→アプリ修正済\n\t\t[- API作ってもらう必要あるかも。]\n\t上2件明日えんどぅと話す→ done　[yuma_sato.icon]\n\t佐藤用iPhone買いたい[yuma_sato.icon] -> done\n\tSQA用Q-H1Aどうするか（今は山田さんの1台のみ）\n\t\tなるはや\n\t\tバイナリOTA考えとして進める\n\t\t治具借りれるか確認してみる（河本）\n\t\t\tナカジー宛に送ってもらいます -> 到着\n\tSLegendのハンズフリー解錠がV2ロック以降しか対応していない件\n\t\t7/15 中島さん金子さんと対応話す -> 仕様決定・実装タスク起票済み -> Android: done / iOS: 実装中\n\t\tログのサーバー側対応は三上さん依頼済み -> done\n\tQrio Padなどの購入サイトはいつできる？\n\t\t製品発表会（11/15）当日にリリース。担当は中野さん\n\t\t\tURLわかればおk -> 確認済み\n\tKN GM1.1 SQA対応\n\t　設定テーブルの変更に伴うサーバー・CU・esaの項目名変更（指定時刻設定→常時リモート設定モード動作設定）→タスク切る\n\t　デバイスSQA(KN GM1.1): toC部分に絞って実施。スケジュール検討中（なかじー取りまとめ）-> 7/28 完了！\n\t業務委託のタスクがなくなってきました・・\n\t\tiOSはもうちょいありそう\n[** 確認事項]\n>■Knight-dev→Stagingマージのタイミング（サーバー/アプリ）\n> ※SQA受け入れ検証は2機種1000件くらいを想定\n> アプリリリース判定は？8月末？\n> ■Staging→本番に移行\n> 本番のサーバーはいつ更新する？\n> 本番用のiOSTestFlightとAndroidβ版はいつリリース？\n> 本番用の公開アプリはいつリリース？\n\n[*** Kagican]\n V3開発中\n 　https://app.asana.com/0/1199522101046125/timeline\n 　herokuのking-apiにsl2-api-sirius-staging作成した\n HubのFwアップデートできない\n 　登録したときに最新にしてる疑惑\n 　\t実装みてない。できないとしても、今は追加開発できないのでいったん置きで[takeuchi.icon]\n V3仕様まとめ振り返り\n\t https://docs.google.com/presentation/d/1PNnFNYKhNJl_j3eNq7-83RBryu3AEW8G8At0_zmgAxg/edit##slide=id.gd092b153ae_0_317\n　２社ほどコンソール上から削除できない会社がある\n　　三上さんが対応してくれるとのこと\n　　　論理削除を物理削除に変える変更なのでいろんなとこに確認取る必要あり\n　　応急処置はした[komai.icon]\n　　 organization.state = suspendedという幻のステータスにしといた(DBいじる以外に変える方法なし)\n 成田さん含めて画面仕様確認中\n \t完了\n\n　一応RoomonでのKing環境構築メモです。\nhttps://qrio.esa.io/posts/938\n\nnow\n （PM業宅）長川さんジョイン\n \tタスク整理も含めてインプット中\n フロント\n \tVue3対応\n \t\tViteやらないと意味ない\n サーバー\n \tKnight dev向き環境構築\n \truby 2.7.4アプデ対応\n BCU\n \t業務委託探し中\n \t人事ハンドリングしてもらっている\n\n[*** Roomon]\n　竹内さんがきて心理的な負担が減った気がする🙌\n\t\twa-i [takeuchi.icon]\n　ペアプロ\n　\t疲れる\n　\tやる意味はある\n　雑に共有。iOS/AndroidにBDDのテストフレームワーク入れようと思います[takeuchi.icon]\n　\thttps://techblog.timers-inc.com/entry/bdd_with_spek_quick\n　PMはスケジュールに責任持たないもの・・・？\n　\tどう動かしたいか。どうしたいか。\n\t　\tminomo → 開発品質にコミットする\n\t\t\tスケジュールはPMが持つ\n\t\t\t\tスケジュール管理誰でもできる→線引いてるから\n\t\t\t開発のスケジュールを開発が持つのか？\n\n　りょうさん宮澤さんにスケジュール相談したら、また話そうということになった。\n　\t月曜日に夜話します！\n\n BCU実装メンバー（高野さん、吉井さん）に、Knight試作機をお渡ししたく[takeuchi.icon]\n \t2台、余っていますか？ [takeuchi.icon]\n \t\t試作機が2台ある\n \t\tKNがよいですが、KXでもよいです[takeuchi.icon]\n \tあと、みのもんと岩村さんのぶんも、追加でいただけると助かります[takeuchi.icon]\n\n 河本さんりょうさん保さん岩村さんとスケジュールについて話した\n 　保さんとタスク検討するという話になった\n 　蓑毛が自信持って進められるところを目指す\n 　https://docs.google.com/spreadsheets/d/1Qgd_V7Oecin7iHQUULP7IiKWR3BXcukwJgntHMV_e0c/edit##gid=0\n 　もう僕にはどうにもできない状態。やる気も無くなってしまった。本当にこの会社は冷たすぎる。\n\n セキュリティソフトの話（高野さんから出た話）\n\t\t有海さんに相談（河本さん）\n\t\t→ 有海さんにヒアリングお願いする（河本）\n\n\tさっちゃん。こちらがFTでやろうとしていることのイメージです[takeuchi.icon]\n\t\thttps://docs.google.com/spreadsheets/d/1zYAqzjwe0VorsywQCLtJa9hL4Ea9KtsBOPXSbdBKUcw/edit##gid=0\n\t\t非機能要件とは: https://e-words.jp/w/非機能要件.html##:~:text=非機能要件とは,に関する要件が含まれる。\n　[yuma_sato.icon]\n 会議体を検討中\n  朝会 -> 岩村・蓑毛・遠藤・花田・山田・橋本・旭・竹内\n 　 コンソール進捗確認会 -> 蓑毛・橋本・柳・吉澤ここどーする（月・水・金）\n 　 BCU進捗確認会 遠藤・竹内・花田・高野・吉井　-> どこかでやる（毎日）\n  要件共有（ビジネス観点も含む）-> 岩村・蓑毛・主要開発メンバー\n   岩村・蓑毛・遠藤・花田\n  コンソール・BCUデザイン検討 -> 蓑毛・遠藤・旭\n  仕様＋デザイン共有（どう作るか）→　蓑毛・開発メンバー・デザイン\n  　蓑毛・橋本・遠藤・竹内・花田・旭\n  CUデザイン検討 -> 中島・金子・蓑毛・花田・遠藤\n  スプリントタスク定例\n   コンソールスプリントタスク -> 蓑毛・橋本・柳・吉澤\n   BCUスプリントタスク -> 蓑毛・橋本・遠藤・花田・竹内\n\tCUのデザイン周りでわからないところあるので、明日7/7午前のMTGで教えてください→みのも、竹内[k.endo.icon]\n\t\thttps://qrioinc.slack.com/archives/C01A1LSGGG0/p1625562367163100\n　この後竹内さん・遠藤さんと話したい\n　\tデバイスの設定項目\n　\tアプリ側のMTGなど（朝会の代わり）\n 7月末くらいからオンスケ(0.3くらいから）じゃなくなってきている\n 　体感的に2週くらい\n 　11月に出したい（触る）コンソールとBCUお客さん\n\n[*** その他]\n[*** Hashcode][komai.icon]\n ８つのハブと繋がったロックのゲストキーを所持するとhash_codeの呼び出しに30秒以上かかり爆発する\n 割と簡単にallが呼べなくなる、ログインもできない、CUで何もできない！\nhttps://qrioinc.slack.com/archives/CPFLQ24J2/p1620891505006000\n　三上さんに一旦調査お願い中\n　 [king hashの計算が重すぎる問題]\n 河本要件まとめ → 村上に下ろす\n\n\n[*** 採用周り]\n　8月が内田さん（サーバー）\n　採用のスクレイピングをBeGlobalに投げたい件\n　\t履歴書ベースで見るのがだいぶ大変（面接までこぎつける率も低い）\n　\tAndroid/iOSに関しては遠藤、サーバ/フロントに関してはみのもが、スクレイピングの条件を提示する\n　\t\t（必須）ポートフォリオがある程度書かれていること\n　\t\tリーダーをやっているかどうかは見なくてもOK\n \t\t\tアプリ開発（swift or kotlin)の[* 業務経験]あり or 独学でアプリを作り切ったことがある\n \t\t\t[* チーム開発（実装）の業務経験]あり\n \t\t\t\tサーバーの人と会話のできるアプリエンジニア\n \t\t\t\t\t例）PM / CS / QA / サーバサイドエンジニア / Android エンジニアと連携して進めていくものが多いです。\n \t\t\t\t次点：アプリのレビューができるエンジニア\n \t\t\tエンジニアとして2,3年以上\n \t\t\t希望年収500万円以上\n \t\t\t\t若いけど優秀そうであればOK\n \t\t\tわりとこれくらいでいいのでは？\n \t\t（河本オーダー）：yahooとか東証一部系出は期待値UP\n \t\t出社できる人（週１以上）\n \t\t\tフルリモート以外\n \t\t\tフルリモートだとコミニケーションが取りづらい\n \t\t\t\tデバイス送るのがめんどくさい\n \t\tマネジメントできない（やりたくない）は現時点ではNG\n \t\t\t理由：設計メインの仕事が比率を占める想定なので\n\t \t\t（例）PMなどのマネジメントはあまり合っていない。\n\t \tFlutterに興味あるswift,kotlinエンジニアとかならOK\n　\t開発チームで条件をすり合わせたらBeGlobalと打ち合わせる\n 加藤さん(ios)\n \tオファー済み→回答待ち（2021/07/07）\n \tさようなら\n 岩井さんが辞退\n サーバーフロント全然来てない\n \t何故かビグロに聞く\n\n[*** 秋にAndroid 12が出る]\nhttps://developer.android.com/about/versions/12\nBeta1が5月、final Betaがたぶん8月に出てくるので、SQAリソース確保しておきたい。詳細は[Dev MTG 2021/06] 参照\n\n[*** 秋にiOS15が出る]\n(´・ω・`)\nI can Fly\n[yuma_sato.icon*10]\n[k.endo.icon*4]\n\n[*** iOS Profile(AdHoc, AppStore)のexpireが2021/08/09で期限切れになる]\nApple Developerのサイトから更新が必要[takeuchi.icon]\n状況によっては代表アカウントが必要かも（出社してiPhoneX端末でMFAする必要がある）[takeuchi.icon]\n 対応済み\n\n[*** 竹内引き継ぎ]\n　項目整理しました[takeuchi.icon]\n　　https://qrioinc.slack.com/archives/C0187P906SU/p1622267822004900\n　項目を記述するツールは検討しましたが、esaで妥協します。他によさそうなのがなかったので\n　 ポータルページ: https://qrio.esa.io/posts/894\n　 6, 7月はRoomon開発やるので、8月以降にQrioと契約して資料つくります[takeuchi.icon]\n\n[*** 竹内]\n 8月以降の契約の進め方\n 1. Qrioは時間稼働を希望とのこと\n \t今ココ[takeuchi.icon]\n 2. 竹内が稼働できそうな日時時間をQrioに共有（7月前半くらい？までに）\n 3. 合意形成\n 7/21最終出社日\n \t有給消化\n\n\n[*** Apple Storeのレビューガイドライン更新メールきた]\nあとよむ[takeuchi.icon]\nメール件名\n Updates to the App Store Review Guidelines, Program License Agreement, Schedules, and Apple Developer Agreement.\n  同意する必要がありそう\n  \t遠藤さん対応します\n  \t\tあちゃー[k.endo.icon]\n  \t\t7/5 対応済み\n\n[*** LastPassアカウント増やしたい]\n[takeuchi.icon]\nLastPassのAdmin Console→Usersみたら、竹内、こまいさん、マユトさん、ゆりさんの4人しかいなかった\n開発メンバーしか権限持ってないので、加納さんや和田さんや他のどなたかも、アカウント持ってるべきだよね......\n\tゆりさんからのアカウント引き継ぎが、されてないっぽい。\n\n有海さんに相談\n→ 河本確認\n\n[*** 花田]\n7/2\nAndroid Studio 4.2でビルドに失敗する\nhttps://github.com/qrioinc/smartlock-king-cu-android/issues/1485\n　Android Studio 4.2になってJava11への移行が必須な認識でしたが、そうでもないみたいでした[takeuchi.icon]\n　　https://stackoverflow.com/questions/67944752/android-studio-use-java-8-instead-of-11\n　　gradle更新せずCUのビルドはできました[takeuchi.icon]\n7/5\nhttps://github.com/qrioinc/smartlock-king-cu-android/pull/1669\n7/6\nknight-dev にprotectedかけていただくことは可能か。\n7/7\nGihub ブランチのProtected対応→まだ未対応です。\nJetpack Composeの本です！！（予約受付中です）※花田購入済み\nhttps://booth.pm/ja/items/3101567\n7/8\n・Knight接続画面実装開始\n・Jcenter廃止（2022/2/1）　marvinCentralに移行しなければ\nhttps://jfrog.com/ja/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\n・久々のRxに苦戦\n7/9\nroomon Knight設定（まだWIPです）\nhttps://github.com/qrioinc/roomon/pull/712/files\n7/13\nhttps://github.com/qrioinc/roomon/pull/712/files\n\n7/15\n・DroidKaigi2021\nhttps://droidkaigi.jp/2021/\nBluetoothAPIのSpeakerいます。（cofeegyunyu　⇦曲者です）\nhttps://docs.google.com/spreadsheets/d/1qyVj97m-KKCbEefopZmhzN-YxCHb4bnL7JESlgMUAXw/edit##gid=0\n竹内さんSpeakerで出てください！\n\n・ホラクらシー組織\nhttps://medium.com/@showwin/holacracy-と-scrum-は共存できるのか-da017a4725f6\n今、18:00〜19:00 でこれやってます\nhttps://lapras.connpass.com/event/218121/?utm_campaign=event_participate_to_follower&utm_source=notifications&utm_medium=twitter\n\n7/21\n・7/29(木)【耳だけ参加OK！覗き見OK！】iOSエンジニア 4社合同LT会\nhttps://radiotalk.connpass.com/event/219952/\n・DroidKaigi日程\n10/19〜10/21\nhttps://droidkaigi.jp/2021/\niOSDC\nhttps://iosdc.jp/2021/\n\n7/29\nAndroidStudio ArcticFox がStableに！\nhttps://twitter.com/androidstudio/status/1420429245201924099\n\nJetpack Compose 1.0がリリース\nhttps://android-developers.googleblog.com/2021/07/jetpack-compose-announcement.html\n\n8/2\nAccompanist\nhttps://qiita.com/Nabe1216/items/e6057e69f4f7a0d90b86\n\n[*** 花田さんデバイス周り]\n[hanada.icon]\n 検証端末\n\t iPhone/Android\n PC\n\t\t有海さん確認（河本）\n\t\t武藤さんのお下がりでした\n\t\tmacbookpro購入\nhttps://www.apple.com/jp/shop/buy-mac/macbook-pro/16インチ-シルバー-2.6ghz-6コアプロセッサ-512gb##\n＊メモリは32GB\n\n[*** 遠藤]\n\tscrapboxのオーナーください！竹内さん！[k.endo.icon][yuma_sato.icon]\n\t河本\n\t\tCD部にアカウントオーナーになってもらう\n\t\t\tそもそもscrapbox捨ててもいいかも\n\tその他、使用中のサービスで移行してないのなんだっけ？\n\t\thttps://qrio.esa.io/posts/672\n\t\tpostmanとかどうなってるんでしたっけ？\n\n[*** 業宅]\nios\n> 申し訳ございません。\n> 東より8月末までの現契約を持って終了を希望するとの連絡をうけました。\n> 理由につきましては、\n> 2020年の9月から参画し1年間経過し、現場や作業内容を変えたいとのことでした。\n> 下記ご確認いただけますでしょうか。\n> ・8月末にて終了となっても問題ないのか。\n> ・仮に更新となった場合、プロジェクトの状況として何か月更新になるのか。\n> ・別チームや別の作業内容になった場合は継続するとなった場合、\n> ご調整いただけるのか。\n> また、可能であれば一度現場で1on1等を実施していただき、\n> 作業内容等の擦り合わせを行っていただけますでしょうか。\n↓\nJoker終わり次第〜9月：KagicanBCU\n10月〜：Roomon\nでお願いできないか、ヒアリングかけてみる\n↓\n加藤さんの回答次第でもあるので再度確認\n→ さようなら\n\n市田さん、東さん、柳さん、山下さんの4名に関して、\n9月以降の契約継続に関する確認がありました。\ndone\nhttps://qrioinc.slack.com/archives/G015S15QRPB/p1625808282033700\n\n東さん12月までOK\n→ 市田さんにも今後の進め方軽くインプットしないとだ\nあずいち１月までもう握るか？\n→ 今回のようなリスクを避けるため\nヤマピーも1月\n\n[** 課の隔週振り返りについて]\n期待値を花田さんと詰め（別途すり合わせ）\n\n河本からアンケート\n　月曜と金曜だけするとかどう？\n　　週に30min * 5 = 2.5時間 * 人数\n　　週に30min * 2 = 1時間 * 人数\n　15分で毎日にする？\n　もっと絞って共有したいことがある人\n 夕会の目的\n 　趣旨が変わる\n 1日の最後の息抜きw\n↓\n会議体見直す\n\n8月飲みに行く日決めたい\n→ 調整さん流す\nhttps://chouseisan.com/s?h=3525e1dfee984b208272c7bf798e4b52\n\n\n[https://gyazo.com/d83de6e21700d6aee80e59322be7a145]\nYou are not logged in to https://gyazo.com\nIf you are already logged in, please enable 3rd party cookies in your web browser settings.\n\n\n人周り\n　（主に蓑毛さん向け）うっちー前職の引き継ぎのため8月の間週4時間サポート対応入ります\n　（主に蓑毛さん向け）東さん一旦11月末までの契約の状態。＋12月以降の分は増額したいという意思表示\n\n[** Google Play ポリシー対応]\nGoogle Play Developer Program Policy Update\nhttps://notifications.google.com/g/vib/AD-FnEwbUl7VHZ0lWnQcDoeQSp8m0emYCdd6QnxGYh5UvTlp6BlpTIddwRTULePtx8aFF15n2O6JqMJep2ydTBin_n_bM3dZEQm5X98k8MwI9s39G00UHWpp_-iXHG073OCeRHscJW8PEL8_WQ9hA10Gi9NT8oAkj3AEXFY5znnJvPJkwn8ofGlj-7qUE3kpSlVWO1dqNDPnIgDHc-En2ab6PkxKR99YueI1RSw34pGYDTJQQVkCbmepJlZGqkA0sPMLEy80D1aBJZ7trHMMcTX501irp6vw-e22vP-J5p8pr-tk\n\n　7/29 こんなんきてた（Play Console）[yuma_sato.icon]\n>アプリがログイン認証情報を必要としているかどうかを 9月1日までにお知らせください\n>ログイン認証情報、メンバーシップ情報、位置情報などの認証情報に基づいてアプリの特定の機能が制限される場合は、制限されている機能にアクセスする手順を提供してください。これにより、アプリの審査を適切に行えるようになります。 この情報を 9月1日 までにご提供いただけない場合、お客様のアプリのすべての機能が特別なアクセス権を必要とすることなく利用できるものと判断させていただきます。アクセス制限のためにアプリの審査が行えない場合、更新をリリースできなくなったり、Google Play からアプリが削除されたりする可能性があります。\n\n\t対象\n\t\tカギカン（Q-SL2専用）\n\t\tQrio Roomon\n\t\tQrio ただいまキット\n\t\tQrio Keypad　←公開停止中\n\t\tカギカン設定アプリ（旧）　←公開停止中\n※ Qrio Lock, Qrio Smart Lock, Qrio Smart Tag は位置情報関連対応の時に対応済み\n\n\tTODO（9/1 まで）\n\t\tログイン認証情報、メンバーシップ情報、位置情報などの認証情報に基づいてアプリの特定の機能が制限される場合は、制限されている機能にアクセスする手順を提供する。（Play Console上の申請）\n→ done. 皆様ありがとうございました。\n\nhttps://support.google.com/googleplay/android-developer/answer/10208820?visit_id=637632352504999663-288585922&rd=1\n\n\n# GooglePlayデベロッパープログラムポリシーの更新（2021/7/29）\ncreated_at:Tue Jan 20 1970 05:07:04 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 05:07:07 GMT+0900 (日本標準時)\nGooglePlayデベロッパープログラムポリシーの更新（2021/7/29）\n>こんにちはGooglePlay開発者、\n>Google Playを開発者と消費者の両方にとって、安全で信頼できるエクスペリエンスにする方法を常に模索しています。 開発者ポリシーセンターの最近の更新についてお知らせします。\n>注意が必要なポリシーの更新を紹介します。すべての新規および既存のアプリは、次の変更に準拠するために、この通知の発行 から少なくとも30日の猶予期間を受け取ります（特定の発効日については、 ポリシーセンターを参照してください）。\n\n>今後の新しいポリシー\n\n>　ユーザーデータポリシーに新しいデータプライバシーとセキュリティのセクションを追加します。開発者は、アプリが収集、使用、または共有する個人データまたは機密ユーザーデータに関連する正確な情報を提供する必要があります。すべてのアプリにはプライバシーポリシーも必要です。\n\n\n>　分析や不正防止などの重要なユースケース向けに、 アプリセットIDの開発者向けプレビューを提供しています。アプリセットIDは、広告のパーソナライズや広告の測定には使用できません。\n　\tアプリセットID・・？https://developer.android.com/training/articles/app-set-id\n\n>　子供を対象とするアプリで使用される識別子に関するファミリーポリシー要件に新しい制限を追加します。\n　\tQrio 関係なさそう\n\n>　事前に承認されたユースケースを除き、永続的なデバイス識別子を個人の機密性の高いユーザーデータまたはリセット可能なデバイス識別子にリンクすることを禁止するように、ユーザーデータポリシーを更新しています。\n\n\n> デバイスとネットワークの不正使用に関するポリシーを明確にして、実行時に読み込まれるインタープリター言語（JavaScriptなど）を使用するアプリやSDKがGooglePlayポリシーに違反することを禁止します。\n\n\n>　Accessibility APIとIsAccessibilityToolの使用に関する要件を提供するために、新しいアクセス許可ポリシーを追加します。\n\n\n>　施行ポリシーに新しいセクションを追加して、1年間の休止と追加の要因の後に、非アクティブまたは放棄された開発者アカウントを閉鎖します。\n\n\nポリシーの更新\n\n>　不適切なコンテンツのポリシーを更新して、性的なコンテンツに新しい制限を設け、特に補償された性的関係（つまり、砂糖のデート）を禁止しています。\n　\tQrio 関係なさそう\n\n\n>　Android広告IDの使用法の変更を示すために、広告ポリシーを更新しています。ユーザーが新しいデバイスでAndroid広告IDを削除すると、広告IDが削除され、ゼロの文字列に置き換えられます。\n　\tQrio 関係なさそう\n\n\n>　金融サービスポリシーを更新して、ローンの総費用の定義を明確にし、すべての個人ローンアプリを金融カテゴリで適切にタグ付けする必要があります。また、インドとインドネシアで個人ローンアプリの新しい要件を追加しています。\n　\tQrio 関係なさそう\n\n\n>　アプリのダウンロードを促進するための禁止されている広告/プロモーション戦術の追加の例を使用して、アプリプロモーションポリシーを更新しています。\n\n\n>　アプリのタイトル、アイコン、デベロッパー名にスパムのテキストやグラフィックを含めることを禁止するために、ストアリストとプロモーションのポリシーを更新しています。\n\n\n>さらに、一部のポリシーに新しい例と説明を追加しました。これらは新しいポリシーではなく、これらの更新の結果として施行基準と慣行を変更しないことに注意してください。\n\n\n>　ログインウォールのあるアプリのログインクレデンシャルなど、必要なアプリ情報をPlayConsoleから提供するためのガイダンスを明確にして統合しています。\n\n\n>　ニュースアプリのポリシーをさらに明確にする、更新されたヘルプセンターの記事へのリンクを追加します。\n　\tQrio 関係なさそう\n\n追加のリマインダー\n\n>　2021年8月2日以降、すべての新しいアプリはBillingLibraryバージョン3以降を使用する必要があります。 2021年11月1日までに、既存のアプリのすべての更新でBillingLibraryバージョン3以降を使用する必要があります。\n　\t課金に関するライブラリ。Qrio 関係なさそう\n\n\n>　対象となる開発者には、6か月の延長をリクエストするオプションを提供しています。これにより、2022年3月31日まで支払いポリシーに準拠することができます。詳細については、 ヘルプセンターにアクセスし、 ブログをお読みください。\n\n\n>アプリが影響を受ける場合に備えて、これらのポリシーの更新を注意深く確認することをお勧めします。詳細については、 ブログを読むか、このPolicyBytesビデオを見るか、複数の地域（ グローバル、 インド、 日本、または韓国）で利用できるポリシーウェビナーに登録してください。\n\n ポリシー更新情報\nhttps://support.google.com/googleplay/android-developer/answer/9934569?hl=ja\n\n# 2021/7/9 KN ユーザーへの説明必要箇所整理\ncreated_at:Tue Jan 20 1970 04:36:44 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:43:51 GMT+0900 (日本標準時)\n2021/7/9 KN ユーザーへの説明必要箇所整理\nhttps://qrioinc.backlog.com/view/JKR_01-144\n[yuma_sato.icon]\n[*** 1. 電池交換時]\n\t内容\n　\t新しい電池を入れ通電させた際、アラーム音が鳴る\n　\tカードもしくはPINで正常な解錠が行われるまで鳴り続ける\n\n\tユーザーへの説明方法（案）\n\t\tアプリの関連画面での説明文言追加\n\t\t取扱説明書への記載\n\t\tFAQへの記載\n\n[*** 2. 取り外し検知]\n\t内容\n \t第三者が取り外した後、ユーザーが操作した時（Knightの本体ボタンを押した時？）にアラーム音が鳴る\n\n\tユーザーへの説明方法（案）\n\t\tアプリでの説明文言追加\n\t\t取扱説明書への記載\n \tFAQへの記載\n\n[*** 3. 改竄検知]\n\t内容\n  EEPROMへのデータ書き込み中に電源切ったり、データが破損したり、本当に改竄したりした場合、解施錠や設定変更など、操作自体はできる（？）がコマンドエラーとしてエラーのアラーム音が鳴る\n\n　ユーザーへの説明方法（案）\n　\tアプリでの説明必要？\n　\t取扱説明書への記載\n　\tFAQ\n\n[*** 7/12 MTG]\n　1, 2 はCU上は電池の交換方法の説明に含める\nhttps://www.figma.com/file/JaXCJkN88ieSTisLXR4KmS/Qrio-Lockアプリ-CU?node-id=583%3A177\n\n　3は\nハンドリングで対応する（初期化を促す）\n　\t案１：ダイアログでアクション記載（初期化してください）\n　\t案２：ダイアログで改竄検知のエラーコード表示→CSに問い合わせてもらう\n　\t　「不明なエラーです。時間をあけて何度か試してみてください。それでも回復しないようでしたら、エラーコードを沿えてお問い合わせください。\\n エラーコード: (%d)」\n\n　FAQ\n　　中島さん・川上さんアプリ完成次第作成\n\n　大西さん確認事項\n　　改竄検知エラーが出る状態（Knight → RUの操作はできるのか？）：大西さん確認\n　　Knightが操作できなくなるケースあるか\n　　エラー音鳴るけど本体操作できてしまうようなケースあるか\n　　 Slack: https://qrioinc.slack.com/archives/C01ABA9KBSB/p1626073548404300?thread_ts=1626070909.404200&cid=C01ABA9KBSB\n\n# Untitled\ncreated_at:Tue Jan 20 1970 02:14:47 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:37:09 GMT+0900 (日本標準時)\n\n# Tour of Rust\ncreated_at:Tue Jan 20 1970 04:12:17 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:32:34 GMT+0900 (日本標準時)\nTour of Rust\n2021/7/6\n\nhttps://qiita.com/kahirokunn/items/74302d2a7ab4a110f272\ncode: sample\n {\n   let r;                // ---------+-- 'a\n                         //          |\n   {                     //          |\n     let x = 5;          // -+-- 'b  |\n     r = &x;             //  |       |\n   }                     // -+       |\n                         //          |\n   println!(\"r: {}\", r); //          |\n }                       // ---------+\n\nライフタイム修飾子（橋下さんから教えてもらう）\n\tRustでは{}をでたらメモリを解放したい\n\tが、関数だとreturnする必要がある\n\t\tmove（権限委譲する場合）\n\t\t\thttps://doc.rust-jp.rs/rust-by-example-ja/scope/move.html\n\t\t参照\n\t\t\thttps://tourofrust.com/52_ja.html\n\n\n\nnext: https://tourofrust.com/53_ja.html\nmemo: \n蓑毛勇太13:01\nhttps://tourofrust.com/\n蓑毛勇太13:03\nhttps://tourofrust.com/38_ja.html\n蓑毛勇太13:29\nstruct Foo {\n    x: i32,\n}\n\nfn main() {\n    let foo = Foo { x: 42 };\n    let f = &foo;\n    let bar = foo;\n    println!(\"{}\", f.x);\n    // f はここでドロップ\n    // foo はここでドロップ\n}\n\n7 |     let f = &foo;\n  |             ---- borrow of `foo` occurs here\n8 |     let bar = foo;\n  |               ^^^ move out of `foo` occurs here\n9 |     println!(\"{}\", f.x);\n  |                    --- borrow later used here\n蓑毛勇太13:30\nerror[E0505]: cannot move out of `foo` because it is borrowed\n --> src/main.rs:8:15\n  |\n7 |     let f = &foo;\n  |             ---- borrow of `foo` occurs here\n8 |     let bar = foo;\n  |               ^^^ move out of `foo` occurs here\n9 |     println!(\"{}\", f.x);\n  |                    --- borrow later used here\nあなた13:48\nfn main() {\n    let mut foo = 42;\n    let f = *(&mut foo);\n    println!(\"{}\", f);\n}\n\n\n# hanada\ncreated_at:Tue Jan 20 1970 04:26:50 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:26:50 GMT+0900 (日本標準時)\nhanada\n[https://lh3.googleusercontent.com/a/AATXAJxidE7_zGjHasq6HPAHOp93BpBHqSHah9DALFPK=s96-c##.png]\n\nthis is hanada’s page\n\n##member\n# Dev MTG 2021/06\ncreated_at:Tue Jan 20 1970 03:42:16 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:25:30 GMT+0900 (日本標準時)\nDev MTG 2021/06 \n[https://www.city.marugame.lg.jp/sightseeing/spot/inoyama/img/img_001.jpg]\n\n\n[*** Guardian]\n\tGuardianの出荷っていつ？[k.endo.icon]\n　\t現状\n　\t\t7月に開発済みFW（現行Hubと同等品）で出荷予定がある\n　\t\tKnight対応については、QBSに委託しようとしているが、準備段階での整備に竹内さんの工数が割ととられている\n　\tリモートコマンド対応のことを考えると、委託するよりうちで担当した方がいいのでは？\n\t\t\t\t中島さんが5/7にQBSと相談する\n\t\tGTとかに確認します[junichi.kawamoto.icon]\n\t\t\t和田様に確認しました。\n\t\t\t初回出荷の予定は8/27(1,000台)です。\n\tWi-Fi AP接続検証6月いっぱい[takeuchi.icon]\n\t\t[takeuchi.icon]の自宅の大東建託ルーターに接続できない件の調査のみ[takeuchi.icon]が実施する\n\t\tなかじに聞く[junichi.kawamoto.icon]\n\t\t\tアリオンので網羅できるのであれば竹内の手止めれる\n\t\t\t\t大東建託の備え付けなので止められません\n\t\t\t\t石井さんに竹内宅のルーターの情報を共有します（明日）[takeuchi.icon]\n\t\t\t\t\t手を離れられるように\n\t\t\t\t\thttps://netopi.jp/daitoukentaku-net-wifi/\n\t\t調査結果出して判断\n 修正誰やんの？\n \t基本治さない前提ではある\n 恐らく出荷判定通らない結果が返ってきている\n \t2021/06/15 入隅さんと大西さんを交えて対応策考える\n 別端末（android-vaioフォン| ios, pexle周り）を中島さんから入隅さんに送る\n \t再度検証 \n scurebootの件\n \t竹内さん対応→pro/conだす\n \t[Q-H1A Secure Bootのpros/cons]\n \t以下2021/06/21夕会で確認\n\t \t現状の実装から何か変更を加える必要があるのかないのか？\n\t \t\tGMタグから変更は不要\n\t \t現状工場に渡しているFWがどの状態なのか？\n>セキュリティまわりの対応で、Q-H1AのFWを更新する必要はあるか？\n> 「No」です！\n> make menuconfigより、GM判定版のguardianで、OTAバイナリの署名だけが有効になっていることを確認しました。\n> https://qrioinc.slack.com/archives/C01A1LSGGG0/p1624278946018600\n 工場用のFWはGoogle driveで管理している\n \tDriveのURLください！！to 竹内\n \t>Q-H1Aで、ヘルツさんとやりとりしていたgoogle driveのディレクトリです。\n  > https://drive.google.com/drive/folders/1wRdAsUyI-KVE_tJLDmh8UsBDxLOg4Yxd\n  > FWの内部リリースのたびに、書き込み方法と一緒に共有していました。\n  > https://qrioinc.slack.com/archives/C01A1LSGGG0/p1624352808041900?thread_ts=1624278946.018600&cid=C01A1LSGGG0\n\n>from 大西さん\n>  ところで、量産に向けて下記の準備は問題無いですか？>\n> 量産に向けての体制どうなりますか？これまでは竹内さんがヘルツさんとやり取りしてました。\n> ・量産用個体データ\n> ・書き込むソフトウェア\n> ・調整検査(検査方法、判定基準、検査に使う機材)\n> ・抜き取り検査(検査方法、判定基準、検査に使う機材)\n→ナカジーに相談（河本）\n\n[*** JOKER]\n　Legendの共有玄関対応のマイルストーンってどうなってるの？（遠藤→竹内）\n　\t中島さんにインプットしたけど、、、？\n　\tissue化して聞く[k.endo.icon]\n　\tRoomonでやるらしい？\n　SLのGM1.1はデバイスSQAをやるのか？（オンラインは秋）\n　\tDefer案件２項目中の１項目対応したもの\n　\tであれば２項目同時に確認すればいいのでは\n　\t\t中島さんにインプットして日程調整してもらう\n　Knight GM判定 FWはOKでした！\n　\t:wa-i\n　\tありがとうございました[takeuchi.icon]\n　\tHWはNGでした（ウイスカ対策でNG）\n　\t残件は「常時リモート設定モード対応」「BU PINの修正（FW、RU Test）」\n　\t\tRoomonがBU PINの実装を6月下旬くらいから着手しそう\n　\t\t\tそれまでに少なくともRU Testは修正しておきます[takeuchi.icon]\n　\t\t\t\tBU PINの対応はdone[takeuchi.icon]\n　\t\t常時リモート設定モード対応のEpic: https://github.com/qrioinc/joker-dev-tasks/issues/232\n　\t\t\t6末までに竹内対応しておきます[takeuchi.icon]\n\t実装タスクがもう少しで全部切り出せそう\n\t\t８月までにきちんと終われるのかを計測可能になる想定\n\tリリーススケジュール相談\n\t\thttps://qrioinc.slack.com/archives/C01ABA9KBSB/p1623391436422500\n\t\tリリーススケジュール方針決定したので展開します\n\t外部連携先\n\t\thttps://github.com/qrioinc/joker-dev-tasks/issues/469\n\t\tNatureから連絡あった\n\t\t\tきた2021/06/22\n\t\t中島さんから確定リリーススケジュール展開してほしい[yuma_sato.icon]\n\tPIN登録のコマンド置き換え（register_pin -> replace_pin）→ 実装中\n\tHub V2チェック実装対応中 -> UX 相談 with なかねこ\n\tローカライズ対応やる[yuma_sato.icon]\n\t電池残量Server修正対応（三上さん対応）\n\t\tさっちゃんの資料できたら読み込む（河本）\n\n[*** Kagican]\n V3開発中\n 　https://app.asana.com/0/1199522101046125/timeline\n 　ＣＳツール台数変更機能\n 　 API繋ぎこみちう\n HubのFwアップデートできない\n 　登録したときに最新にしてる疑惑\n 　\t実装みてない。できないとしても、今は追加開発できないのでいったん置きで[takeuchi.icon]\n\t/homeのロックが96個あった会社の一覧が読み込めない\n\t　今の所問題が起きているのが１社なので置き\n\t　　homeからログ読ませないようにする\n V3仕様まとめ振り返り\n\t https://docs.google.com/presentation/d/1PNnFNYKhNJl_j3eNq7-83RBryu3AEW8G8At0_zmgAxg/edit##slide=id.gd092b153ae_0_317\n　２社ほどコンソール上から削除できない会社がある\n　　三上さんが対応してくれるとのこと\n　　　論理削除を物理削除に変える変更なのでいろんなとこに確認取る必要あり\n　　応急処置はした[komai.icon]\n　　 organization.state = suspendedという幻のステータスにしといた(DBいじる以外に変える方法なし)\n APIの修正する\n 台数変更CSツールがPRマージされた\n \t川上さんに動作確認依頼中\n V3問い合わせ導線の整備タスク着手中\n \t完了\n 不具合周りの対応方針策定中\n \tコード修正周りは挙動確認完了\n \t成田さんに確認\n 入退室ログ周りの仕様下ろしを2021/06/16 実施\n 成田さん含めて画面仕様確認中（進捗1/3）\n\n[*** Roomon]\n　竹内さんがきて心理的な負担が減った気がする🙌\n\t\twa-i [takeuchi.icon]\n　ペアプロ\n　\t疲れる\n　\tやる意味はある\n　雑に共有。iOS/AndroidにBDDのテストフレームワーク入れようと思います[takeuchi.icon]\n　\thttps://techblog.timers-inc.com/entry/bdd_with_spek_quick\n　PMはスケジュールに責任持たないもの・・・？\n　\tどう動かしたいか。どうしたいか。\n\t　\tminomo → 開発品質にコミットする\n\t\t\tスケジュールはPMが持つ\n\t\t\t\tスケジュール管理誰でもできる→線引いてるから\n\t\t\t開発のスケジュールを開発が持つのか？\n\n　りょうさん宮澤さんにスケジュール相談したら、また話そうということになった。\n　\t月曜日に夜話します！\n\n BCU実装メンバー（高野さん、吉井さん）に、Knight試作機をお渡ししたく[takeuchi.icon]\n \t2台、余っていますか？ [takeuchi.icon]\n \t\t試作機が2台ある\n \t\tKNがよいですが、KXでもよいです[takeuchi.icon]\n \tあと、みのもんと岩村さんのぶんも、追加でいただけると助かります[takeuchi.icon]\n\n 河本さんりょうさん保さん岩村さんとスケジュールについて話した\n 　保さんとタスク検討するという話になった\n 　蓑毛が自信持って進められるところを目指す\n 　https://docs.google.com/spreadsheets/d/1Qgd_V7Oecin7iHQUULP7IiKWR3BXcukwJgntHMV_e0c/edit##gid=0\n 　もう僕にはどうにもできない状態。やる気も無くなってしまった。本当にこの会社は冷たすぎる。\n\n セキュリティソフトの話（高野さんから出た話）\n\t\t有海さんに相談（河本さん）\n\t\t→ 有海さんにヒアリングお願いする（河本）\n\n\tさっちゃん。こちらがFTでやろうとしていることのイメージです[takeuchi.icon]\n\t\thttps://docs.google.com/spreadsheets/d/1zYAqzjwe0VorsywQCLtJa9hL4Ea9KtsBOPXSbdBKUcw/edit##gid=0\n\t\t非機能要件とは: https://e-words.jp/w/非機能要件.html##:~:text=非機能要件とは,に関する要件が含まれる。\n　[yuma_sato.icon]\n\n　高野さん（ios）\n　　竹内ー正直な人好き\n　　できる人\n　　コミニケーションに難あり\n　　実装の相談とかすぐしてくれる\n　吉井さん(android)\n　\tおじいちゃん\n　\t実装はきれい\n　\t自分で解釈しちゃう\n　吉沢さん(frnot）\n\n[*** Ienaka]\n\tGT承認とるフローはなくしたい（開発者で合意が取れればよいので、夕会確認で良いのでは）\n\t\t情報共有を全社にする、というので十分\n\t来週月曜日6/7にリリースしまーす\n  6/9にリスケ\n Androidアプリのクラッシュの件、申し訳ありません。\n \t6/9 に再度審査提出します。\n \tリリースフロー再考します。\n クラッシュしない修正版6/11 審査提出\n エビデンス録る→https://drive.google.com/drive/folders/1sXvC_RicmB8fcPuYkrvP4NIkAV02pVTj\n\t審査終わったあとの予定\n\t\thttps://qrioinc.slack.com/archives/C3W3GMGAE/p1623639800006500\n\t6/21  100% release [yuma_sato.icon]\n\t6/22 振り返り with GT done\n\n[*** その他]\n[*** Hashcode][komai.icon]\n ８つのハブと繋がったロックのゲストキーを所持するとhash_codeの呼び出しに30秒以上かかり爆発する\n 割と簡単にallが呼べなくなる、ログインもできない、CUで何もできない！\nhttps://qrioinc.slack.com/archives/CPFLQ24J2/p1620891505006000\n　三上さんに一旦調査お願い中\n　 [king hashの計算が重すぎる問題]\n 河本要件まとめ → 村上に下ろす\n\n[*** MANOMA]\nSNC山田さんから、アーキ相談のメールがきている[takeuchi.icon]\n\ttitle: `[SNC] Qrio Lockのlock_time取得シーケンスについてのお問い合わせ`\n\t6/8 (火) までの回答を希望されている\n\t\t河本一旦ボール持つ\n\t\t\tそれ関連今後引き継げるようにしておく\n\t2021/06/08 返した[junichi.kawamoto.icon]\n\t\tazms![takeuchi.icon]\n\n[*** 採用周り]\n\t佐藤さん内定承諾出ていない\n\t\t6月頭回答\n\t\t回答としてはポジティブ\n　花田さん（android）→ 金子さんの紹介で7月\n　\t最終待ち\n　\t7月入社決定\n　\tキャッチアップ絡みは今後要相談\n　8月が内田さん（サーバー）\n　フロントの人通過\n　採用のスクレイピングをBeGlobalに投げたい件\n　\t履歴書ベースで見るのがだいぶ大変（面接までこぎつける率も低い）\n　\tAndroid/iOSに関しては遠藤、サーバ/フロントに関してはみのもが、スクレイピングの条件を提示する\n　\t\t（必須）ポートフォリオがある程度書かれていること\n　\t\tリーダーをやっているかどうかは見なくてもOK\n \t\t\tアプリ開発（swift or kotlin)の[* 業務経験]あり or 独学でアプリを作り切ったことがある\n \t\t\t[* チーム開発（実装）の業務経験]あり\n \t\t\t\tサーバーの人と会話のできるアプリエンジニア\n \t\t\t\t\t例）PM / CS / QA / サーバサイドエンジニア / Android エンジニアと連携して進めていくものが多いです。\n \t\t\t\t次点：アプリのレビューができるエンジニア\n \t\t\tエンジニアとして2,3年以上\n \t\t\t希望年収500万円以上\n \t\t\t\t若いけど優秀そうであればOK\n \t\t\tわりとこれくらいでいいのでは？\n \t\t（河本オーダー）：yahooとか東証一部系出は期待値UP\n \t\t出社できる人（週１以上）\n \t\t\tフルリモート以外\n \t\t\tフルリモートだとコミニケーションが取りづらい\n \t\t\t\tデバイス送るのがめんどくさい\n \t\tマネジメントできない（やりたくない）は現時点ではNG\n \t\t\t理由：設計メインの仕事が比率を占める想定なので\n\t \t\t（例）PMなどのマネジメントはあまり合っていない。\n\t \tFlutterに興味あるswift,kotlinエンジニアとかならOK\n　\t開発チームで条件をすり合わせたらBeGlobalと打ち合わせる\n\n[*** 秋にAndroid 12が出る]\nhttps://developer.android.com/about/versions/12\nBeta1が5月、final Betaがたぶん8月に出てくるので、SQAリソース確保しておきたい。詳細は[Dev MTG 2021/06] 参照\n\n[*** 秋にiOS15が出る]\n(´・ω・`)\nI can Fly\n\n[*** 竹内引き継ぎ]\n　項目整理しました[takeuchi.icon]\n　　https://qrioinc.slack.com/archives/C0187P906SU/p1622267822004900\n　項目を記述するツールは検討しましたが、esaで妥協します。他によさそうなのがなかったので\n　 ポータルページ: https://qrio.esa.io/posts/894\n　 6, 7月はRoomon開発やるので、8月以降にQrioと契約して資料つくります[takeuchi.icon]\n\n[*** 駒井さん]\n 6/21 週で飲みに行きますか\n \t皆で\n\n[*** 竹内]\n 8月以降の契約の進め方\n 1. Qrioは時間稼働を希望とのこと\n \t今ココ[takeuchi.icon]\n 2. 竹内が稼働できそうな日時時間をQrioに共有（7月前半くらい？までに）\n 3. 合意形成\n\n[*** Apple Storeのレビューガイドライン更新メールきた]\nあとよむ[takeuchi.icon]\nメール件名\n Updates to the App Store Review Guidelines, Program License Agreement, Schedules, and Apple Developer Agreement.\n  同意する必要がありそう\n  \t遠藤さん対応します\n\n[*** LastPassアカウント増やしたい]\n[takeuchi.icon]\nLastPassのAdmin Console→Usersみたら、竹内、こまいさん、マユトさん、ゆりさんの4人しかいなかった\n\t河本さんLastPass見れてますか？\n\t\tadminではなく、特定のディレクトリのoutside your organizationになってた\n和田さんにクレカの番号聞いて、User登録しないとです\n\tUser登録にクレカ番号入力がいるので\n\tpasswordを隠したままコピペだけしたい要件があり、それが可能なサービスが当時LastPassしかなさそうだったからLastPassにしたが、不要かも？\n\nどなたか出社いただいたとき、、って思ったけど、\n\t今LastPassにログインできるの竹内だけ\n\tクレカ番号は出社してる和田さんに聞かないと取得できない\n\n竹内が一時的にログインパスワード変更して、和田さんに作業依頼するか。。。\n\tとりあえず河本、遠藤、蓑毛、の3名ぶんのライセンス買ってもらう、でよいすか？\n\t\tてか、やめた人の分を3名に置き換えたらいいんだわ(´・ω・`)\n\t\t置き換えたんだわ(´・ω・`)\n\n開発メンバーしか権限持ってないので、加納さんや和田さんや他のどなたかも、アカウント持ってるべきだよね......\n\tゆりさんからのアカウント引き継ぎが、されてないっぽい。\n\n有海さんに相談\n→ 河本確認\n\n\n[*** 花田さんデバイス周り]\n 検証端末\n\t iPhone/Android\n PC\n\t\t有海さん確認（河本）\n\t\t武藤さんのお下がりでした\n\n# Dev MTG 2021/05\ncreated_at:Tue Jan 20 1970 03:04:51 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:25:30 GMT+0900 (日本標準時)\nDev MTG 2021/05\n[https://www.city.marugame.lg.jp/sightseeing/spot/inoyama/img/img_001.jpg]\n\n\n[*** JOKER]\n 次回ふかひろさん依頼分[k.endo.icon]\n \t見積もり分は5/6-7で依頼出す（ジョブカン通過）\n \t\tサーバーログを打ち込んだりが残っている\n \tブラックリスト対応ですが、iOSのほうが思ったより開発が進んでいるので、Androidのみ依頼するかも\n 業務委託の（契約とか）時間の管理[k.endo.icon]\n \tまとめてなかった、、、山下さんはオンラインで管理してる\n\tGuardianの出荷っていつ？[k.endo.icon]\n　\t現状\n　\t\t7月に開発済みFW（現行Hubと同等品）で出荷予定がある\n　\t\tKnight対応については、QBSに委託しようとしているが、準備段階での整備に竹内さんの工数が割ととられている\n　\tリモートコマンド対応のことを考えると、委託するよりうちで担当した方がいいのでは？\n\t\t\t\t中島さんが5/7にQBSと相談する\n\tKnightコマンドのハッシュ化ロジックに不備あり[takeuchi.icon][k.endo.icon]\n\t\t5/7定時後に現行仕様のコマンド表のレビュー[takeuchi.icon][k.endo.icon][minomo.icon][yuma sato.icon]\n　\t\tレビューした結果、セキュリティ面に問題なし\n　\t\t\t修正だん。マージされた[takeuchi.icon]\n　中島さんタスクを石井さんにインプット[k.endo.icon]\n\t\t済み\n\t本番DBみれるようにしたい[k.endo.icon]\n\t\tknight-devで本番き使うため\n\t\t\t中野っちにredashどうなっているか確認[junichi.kawamoto.icon]\n\t\t\t暫定endoさんに共有[junichi.kawamoto.icon]\n\t\t\thttps://app.redash.io/qrio_analytics/\n\t竹内の6月からのスケジュール調整中ンゴ[takeuchi.icon]\n\t\t1. Roomon開発\n  2. Joker toBタスク着手\n  3. Q-H1A 残件（竹内宅のWi-Fiルーター接続調査）およびリリース準備\n\t KEの巻取り必要kamone-[k.endo.icon]\n\tSuperLegend FT機を開発にまわしたい\n　　いつまでにいりますか？\n　　\tそんな急ぎではない\n　　\t確認タスクを直接SQAに回すでも問題ない\n　　今週どっかでランチごはん時にお渡し\n　サーバチームにテコ入れしたい[k.endo.icon]\n　\t直近の開発による修正が必要な箇所が少しずつ増えている\n　\t２週間程度追加の人出があれば嬉しいかも？\n　BU PIN\n　\tdeferにできないか相談 → 中島&大西？\n　Legendの共有玄関対応ってどうなってるの？（遠藤→竹内）\n　\t中島さんにインプット済み\n　SLのGM1.1はデバイスSQAをやるのか？（オンラインは秋）\n　\tDefer案件２項目中の１項目対応したもの\n　\tであれば２項目同時に確認すればいいのでは\n　\t\t中島さんにインプットして日程調整してもらう\n RUTest項目SQA項目完了\n 　SQA項目以外でQBSから指摘あり\n 　指摘内容について竹内5/28まで確認\n　金子さん入って仕様の不備治せる感じ\n　タスクアサイン周り、リスク\n　　このあとすり合わせ\n　toB要件どうやって巻き取っていくのか相談[k.endo.icon]\n　\t７月までに竹内さんからHub改修のノウハウや必要なことを先んじて吸収しておきたい\n　\t\tJokerタスクより優先して実施する必要があるかも\n\t　\tKnightリモートコマンドで、Hub改修と同時にフィジビリや精度検証が必要になるため\n\n[*** Kagican]\n V3開発中\n 　https://app.asana.com/0/1199522101046125/timeline\n 　請求方法変更のstaging確認5/10予定\n 　 5/12確認済み\n 　 CSのフロー、見せ方の修正吉田さんに共有済みでまずAPI側のレスポンスの変更が必要\n HubのFwアップデートできない\n 　登録したときに最新にしてる疑惑\n 　\t実装みてない。できないとしても、今は追加開発できないのでいったん置きで[takeuchi.icon]\n\t/homeのロックが96個あった会社の一覧が読み込めない\n\t　今の所問題が起きているのが１社なので置き\n\t　　homeからログ読ませないようにする\n V3仕様まとめ振り返り\n\t https://docs.google.com/presentation/d/1PNnFNYKhNJl_j3eNq7-83RBryu3AEW8G8At0_zmgAxg/edit##slide=id.gd092b153ae_0_317\n　5/10週から台数変更周り\n　CSコンソールの請求方法変更申請中の文言修正周りからやる\n　2.5のリリース後に不具合周りが発生中\n　\tここの中身を駒井さんに見てもらう必要がありそう\n　\t2021/05/11インプット\n　２社ほどコンソール上から削除できない会社がある\n　　謎\n　　三上さんが対応してくれるとのこと\n　カードタッチ登録のあとに紐付けをしないと使えなくしたい\n　\tカードタッチフローだと登録した時点で使えるようになっちゃうからダメ\n　吉田さんから上がってきているやつを確認→駒井さん\n　2021/05/26\n　台数変更側できました 吉田さん→\n　三上さんPR\n　　明日朝会で共有確認\n　2021/05/27\n　\t請求方法レビュー\n 管理画面請求方法審査中面での追加改修発見\n\n[*** Roomon]\n テストの進め方相談Done\n　蓑毛Android端末欲しい\n　 えんどうにおねがいしました。\n　 土日に届きます[k.endo.icon]\n　竹内さんを引っ張る計画\n　PM頼りない\n　\t認識はあるけど動いていない説PMO課\n　中島さんにデザインのスケジューリングをお願いしていますが、デザインで、完了しているところ・未完了のところの回答ができない。\n　　もう外して欲しいw\n　プルリクのレビューは無しにします！\n　\t効率化のため。コードの品質はペアプロで保証する。動作確認は常にデプロイしているのですぐできる。\n　KEruのruはシリアルNoあるのか？　→ 中島さんに整理依頼\n SQAのハンドリングがどうなるんだろう\n 竹内タスク溢れる\n \tFT周り\n \t竹内タスク掘り下げる\n \t PM陣とGT含めてすり合わせ\n ボヤキ\n \tバサバサ切ってくれる\n スラックのユーザーグループを作って欲しい\n \tJKできるけど、今後のことを考えて総務経由で作成できないか？\n \t（蓑毛）##総務で確認\n \tできた。\n ちょっと関係者増えてしんどくなってきた。喋るのがめんどくさい。。。\n \t森田さん、関さん、岩村、蓑毛sysnc、花井さん\n \tユースケースガンガン詰めて行こうではじめたものの\n\t本番用、Dev用のGCPのRoomon用アカウントが欲しい\n\t\t別のプロジェクトとかに関わる変更\n\t\t\tマルチリージョンの話とか（1例）\n\t\t2021/05/28 金曜\n\t\t本番用\n\tRoomonFT詳細2021/05/27夜（竹内）\n　　竹内さんが岩村さんと中島さんをハンドリングしている衝撃（河本）\n\n[*** Ienaka]\n スケジュール再見積もりneed[junichi.kawamoto.icon]\n　岩村さんと現状すり合わせ\n　PM代行河本実施中\n　外部（ぶん投げ）に出すかもの仕様資料周り作成中\n　\t引き継ぎ先→一旦石井さん\n　一旦KagicanV3ボールを石井さんに投げれてから着手\n\tサイドバーのバナー消したい話\n\t\thttps://qrioinc.slack.com/archives/C018T6QR13N/p1613437627002200\n \t内部で確認できる人がいれば\n \tUI表示落とし\n \t\t来週頭に確認　　　[yuma_sato.icon]\n  PR出してもらった？→2021/05/07まだ\n　\tPRのマージがまだ 2021/05/10\n　\t修正がありますAndroid\n　\tios余計なコミットがあったのでリコミットしています\n　\tandroidは確認中\n　\t河本Android届き次第確認\n　\t\t本番アプリでの確認\n　\tさっちゃん指摘事項の修正必要\n　\t\tプッシュOK\n　\tリリースです（佐藤さんお願いします！）\n　\t\tリリースノートほぼdone -> 来週川上さん連絡・郁磨さん承認依頼 [yuma_sato.icon]\n　\t\t来週頭えんどぅ時間取れます？（iOSストア申請お願いしたいです）[yuma_sato.icon]\n　\t絶賛対応中\n　\tテスト版の審査中（And）/ iosこれから申請 2021/05/25~26\n　\t\tAndがCBTestまでいってる\n\t\t2021/05/28 ios審査中\n\t\t\t審査通った\n\tGT承認とるフローはなくしたい（開発者で合意が取れればよいので、夕会確認で良いのでは）\n\t\t情報共有を全社にする、というので十分\n\t来週月曜日6/7にリリースしまーす\n\n\n[*** その他]\n Webフロント絡んだ良さそうなサーバー設計\n 　https://qiita.com/kuromitsu0104/items/dc0021a20100e11f2f7d\n 　https://github.com/kuromitsu0104/gadget-app\n 　　いまのとこカギカンとkingオペで利用できそう。変な独自アーキ全く使ってないっぽいしベストプラクティス候補。\n 　ienakaで必要になりそう\n 　そのための、サーバーエンジニアも採用しないとけない\n\n みのも・河本さんAndroid/iOSデバイスは、届き次第台帳にID等を記載しておいてください[k.endo.icon]\n \thttps://docs.google.com/spreadsheets/d/19BK1urFGW-8Ez5Klc_FhZvvoCSmPawrboJl2M52bsYo/edit##gid=0\n\n[*** log]\n　SL2のクエリ重くなってそう\n　　最適化が必要なのだろうか？[komai.icon]にこれ以上のpostgressqlの知見は無い\n　　logsが8億レコード(834,880,562)\n\t　　https://qrioinc.slack.com/archives/C0H333VB7/p1615196461000800\n[https://gyazo.com/b277cfc8226cb8f05f6f5146bd967427]\n\t\t18時台に河本がミスって本番のlogsをcountしたらタイムアウト出始めてるから多分原因こいつ\n\t\ttoCでログの表示、扱い方と、中野さんと分析でのログデータのもたせ方調整必要\n\t\tpartitionでキャパプラしてみてもいいかもね\n\t\t１年以上前のデータはBiqQueryに移動して、検索できるようにしたい！（有料）\n\n[*** Hashcode][komai.icon]\n ８つのハブと繋がったロックのゲストキーを所持するとhash_codeの呼び出しに30秒以上かかり爆発する\n 割と簡単にallが呼べなくなる、ログインもできない、CUで何もできない！\nhttps://qrioinc.slack.com/archives/CPFLQ24J2/p1620891505006000\n　三上さんに一旦調査お願い中\n　 [king hashの計算が重すぎる問題]\n \n\n[*** 業務委託業務報告方法まとめたい]\n　開始と終了\n　業務内容報告\n　ハシモトさんはスプレッドシートに書いて貰ってるんだっけ？\n→ レバテックさん経由\n→ 報告フォーマット\n\t加納さんへの相談内容\n\t\t業務委託先への報告書がどのくらい種類があって、開発で何をとりまとめればいいか\n\t　\t（管理すべき項目が知りたい）\n\t\t時間超過はどの程度管理すればいいか？\n\t\t\t（進捗度合いで必要な分は働いていただく必要があると思うのですが、その場合は事業責任者にその月分の超過\t見込みを伝える？）\n\t　\t（日次なのか週次なのかは別途考える）\n\t課題\n\t\t残業時間が増えていて〜\n\tかのさんに聞いた結果\n\t\t結局大事＝相手が気にするのは、請求金額に直結する「時間」のみだと思います\n\t\t時間超過に関しては、業務委託の方個別に条件が設定されているため、確認が必要（鈴田さんが実施済み）\n\t\t\t基本的には１ヶ月160時間の場合、上下20時間ずつ幅が設けられていて、140-180時間の間におさまっていたら追加料金も減額もなし\n\t\t\t\t140未満の場合は時間単価で計算して減額、180超の場合も時間単価で増額\n\t\t\tプロダクトの開発にかかっている人件費は即費用（＝営業利益に影響）ではなく、いったん資産化されて、リリース後から減価償却というプロセスで利益にヒットします。なので、少しくらいの超過は、ぶっちゃけ事業責任者も気にしないはずです。\n\t\tフォーマット自体は通常業務委託先の方がフォーマットをもっているので、それベースで確認すれば良い\n\tおそらく今後考えるべきこと\n\t\t時間超過の条件を業務委託の方々に個別に聞いておいて、PJないでの共通認識としてひとつのドキュメントにまとめておきたい\n\t\t時間超過に関してはある程度事業責任者とすり合わせておき、必要以上にしばらなくてもいいかも\n\t\t業務報告書はPJ単位でどこかひとところにまとめておきたい\n\t\t\t時間のみ考えればいいから、それがわかる資料をおいてもらって、PJ単位で管理するのがいい？\n\t\t\t\t勤怠管理するほどではない\n\tアクション\n\t\t各PJの開発リーダは口頭ベースで時間超過について業務委託の方に時間超過しないようインプットする\n\t\t\t必要な場合には連絡するようにしてもらう（ここら辺は個別対応）\n\t\t契約書が別途あるかとおもったら、レバテックだったら見積書に書いてあるっぽい[k.endo.icon]\n\t\t\t権限絞ったところに見積書まとめときたいなー\n\n\n[*** OSS ]\nSNCの小野坂さんとSonyの上田さん\nライセンス表記\n→ 使っているソフトウェア\n例えば\nhttps://www.atmarkit.co.jp/ait/articles/0902/05/news135.html\n Guardian → QH1A\n \tOSSライセンスはこちら\n \thttps://docs.google.com/presentation/d/1oB4hCOGIA_lAum0KIZScziaYuqEQnqPJ3mbeQmUcW00/edit##slide=id.g6ae03626ca_0_0\n QH1\n \tOSSライセンスはこちら\n \thttps://docs.google.com/presentation/d/0B1UN_JVwEUTWSmNKUkQxb2FRUUE/edit##slide=id.p32\n　Keyに関してはまだ刺されてないから大丈夫だと思っているが、刺される可能性あり\n　\tKnightも？？？\n　参考（ソニーのやつ）\n> ヘルプガイド | ライセンスについて\n> https://helpguide.sony.net/ilc/1540/v1/ja/contents/TP0000808241.html\n> \n> ODS-L10 (P19)\n> https://www.sony.jp/professional/support/manual_pdf/strage/4451115031.pdf\n> \n> ライセンス情報について | Panasonic\n> https://panasonic.jp/car/navi/license/license/license01.html\n> \n 作業ブランチ\n \thttps://github.com/qrioinc/corporate-site/tree/feature/licence\n シカトしまくり中\n \tGTと認識合わせた方がいいかも\n \t2021/04/06 このあとやる\n   落としていいと思うが、いつやるか\n   地味に進めていく（2021/04/06）\n Gurdianのソースコード入手しないといけない\n \t\tOSSの部分のみ\n \t\tS3とかに上げる\n \t\t作成したライセンスページにリンクを貼る\n \t法務（加納さん）にレビューしてもらう\n \t加納さんに進めて\n\n[*** 正社員サーバー内田さん内定承諾]\n　4月退社\n　\t8月\n　\tQrioサーバー研修プログラム叩き作成中（来週の月曜）\n\t佐藤さん内定承諾出ていない\n\t\t6月頭回答\n\t\t回答としてはポジティブ\n\t元波さん(android）最速6月\n\t\t最終OK出た\n\t\t他2社結果待ち\n\t\tNG\n　花田さん（android）→ 金子さんの紹介で7月\n　\t最終待ち\n　\t7月入社決定\n　\tキャッチアップ絡みは今後要相談\n\n[*** 秋にAndroid 12が出る]\nhttps://developer.android.com/about/versions/12\nBeta1が5月、final Betaがたぶん8月に出てくる[takeuchi.icon]\n次の方針でいきたい[takeuchi.icon]\n\tbehavior changes把握しておく\n\tfinal Beta出てからSQA回す\n\t\t少なくともking-cu-androidは回す\n\t\t現行のカギカンBCU、RoomonBCUは優先度は劣る\n\t\tSL1、ただいまキット、SmartTagはSQAせず\n\tSQAリソース確保しておきたい\n\n[*** ruby2.5系EOL]\nhttps://forest.watch.impress.co.jp/docs/news/1316784.html\n[https://gyazo.com/d557dca319d327db182c1fee17809247]\nYou are not logged in to https://gyazo.com\nIf you are already logged in, please enable 3rd party cookies in your web browser settings.\n\n[https://gyazo.com/0f2d0a3b6b937392934f3a8b5815b69f]\n[https://gyazo.com/503e4cfdc2a597b2472ed428a9f0556e]\n[https://gyazo.com/166998a0cf8a6b448359db8e5a59fb06]\nYou are not logged in to https://gyazo.com\nIf you are already logged in, please enable 3rd party cookies in your web browser settings.\n\n\n[*** MANOMA]\n「MANOMAのロック時刻ズレ問題の対策について」\n質問メールきてたけど読んでない、4/22以降に読んで返信します[takeuchi.icon]\n→ 別案件での回答と合わせて\n　https://github.com/qrioinc/king-api/pull/739\n　できた\n　4/26リリス\n  5/10リリース予定\n  \t出したら、試してもらう旨を伝える\n> 時刻ズレのままでRead_logコマンドを実行すると、\n> Lockへのコマンド実行時にエラーとなり、そのエラーイベントがREACHに送られて\n> 無限ループが発生します。\n> \n> 2020年5月7日 木曜日 20:19  竹内さんからのメールにも、\n> Read_logコマンドの場合も、lock_timeを利用することで無限ループが解消されるとの\n> 記載がありました。今回の対応で無限ループを解消したいので、対応いただけないでしょうか？\n> ----------------------\n> 時刻がズレたまま解施錠せず（＝時刻補正せず）放置しているときに実施されるread_logは、初回は失敗しますが、リトライ時は成功します。\n> read_logコマンドの成功が契機となりロックのADVが更新される、ということはありません。そのため、改修すると無限ループは発生しなくなる\n> \n> ----------------------\n　槇本さんにlock_timeの利用を依頼する\n　\tサーバー実装漏れ\n　\t\t対応する（こまちゃｎ）\n　\t竹内さんから資料貰って、それベースで会話する\n　\thttps://github.com/qrioinc/king-api/pull/749\n　\t\tマージ済み\n　\t5/17 に本番デプロイ\n　2021/05/31 OK\n\n[*** 脆弱性のやつ] DONE\n[https://gyazo.com/caac40c921ae7e47e5dd68c59cdaeda2]\nYou are not logged in to https://gyazo.com\nIf you are already logged in, please enable 3rd party cookies in your web browser settings.\n\n[*** 目標設定]\n ファーストレビュー → 5/17(月)\n \tセカンドが必要そうであればセカンドを人単位で設定\n \t5/24 GT含めてすり合わせ\n \t GT入れた方がいい？\n \t \t石井さんが副部長になるのであれば石井さんでいいのであれば\n \t \tちょっと聞いてみる[junichi.kawamoto.icon]\n DX Criteria\n\t https://dxcriteria.cto-a.org/\n\t https://docs.google.com/spreadsheets/d/1-JSrU_dWGtfRoqm7X-ID9lF57X1s18Fv7y5Y-TQ1S9s/edit##gid=822867839\n \t課目標として各個人にアクションを設けるのはOK\n \t（GT）目的は何か明確にしてください。\n \t\t\n \t各プロジェクトでやるか、チームでやるか？\n \t\t個々人で一旦ビュー\n \t\tシステムとチームの項目\n　　内容次第\n   各自さらっと見ておく（シートダウンロードして付けてみてもいい）\n   \tチームとシステム\n   プロジェクトあるいは職能（元シート）\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1ixlAkM_L-3M2QFtPgUMtEHWzcEGUfG30Su9N9JfyqO4/edit##gid=1387617166\n　5/17 にもう一回みんな(みのもんもいる状態で）やる\n  状態目標（目的）の再定義\n  \t\t使い方より抜粋「DX Criteriaの目的は、不確実な時代に必要な事業活動の競争力を得ることです。（中略）そのうえで、自社にあった適切な形を模索していくためのきっかけとしてご利用ください。」\n  \t\t改善とかに目が向く\n  \t\t具体的な項目に目を向けてみる\n  \t\tIoTにおけるDX向上（長い目でみた時の目標）\n  開発として全体として見るか OR プロジェクト単位でやるか\n \tプロジェクト毎\n 2021/05/25 に各プロジェクトスコア確認\n\t\t2021/05/25 やるMTG入れた\n\t一個やることを決めて\n\n　原因\n\t　read_logコマンド対応でログ更新できるようになった\n　\t可能性としては更新した時にallを叩いているのではないか説\n1分に2000req\nv1/h/packet/packet\n allがpacketを超えることがありえない\nmanomaがHubより叩いてる\n・ユーザーのログ更新される\n↓\n・all叩く\n↓\nallのrequest2000rpmくる\n↓\nCPU負荷\n　2021/05/18 dyno10追加してみて試してみる\n　\t30分耐えた\n→ 　実装面と合わせて槇本さんとすり合わせが必要そう\n[https://gyazo.com/42a1fd58fb29d10d05d34736577786a0]\n\n　案１）＋あと、あるとするとhashの改善\n　\t再度read_logのやつリリース\n　案２）allのhashを抜いたやつを別で作る案\n　　で、allじゃなくてこっち叩いてくださいを案内する\n 案３）allをどのタイミングで叩いているか確認\n  ログが更新される度にall叩いている？\n\nmanomaはまだlock_timeまだ入れてない\nlock_timeがない状態でcommandを間違った時刻を返していて無限ループしている可能性？\n[https://gyazo.com/6c9d87ac11249e19b0a9d995a5fa47cb]\n↑manomaから叩いているallのrequest\n↓\n　API修正してみる（optionalのdefault値を外して、パラメータにあれば入れて、なければいれないようにしてみる）\n　\t駒井さんお願いします🙇\n　\t改めてお願いします🙇\n　\t改めてお願いします🙇（2021/05/26）\n　\t改めてお願いします🙇（2021/05/27）\n　\t\t5/31の月曜出す\n コマさんの有給予定確認（5/31の月曜確認）\n\t\t6/3まで（6/4金曜から有給）\n\n[*** 竹内引き継ぎ]\n　項目整理しました[takeuchi.icon]\n　　https://qrioinc.slack.com/archives/C0187P906SU/p1622267822004900\n　項目を記述するツールは検討しましたが、esaで妥協します。他によさそうなのがなかったので\n　 ポータルページ: https://qrio.esa.io/posts/894\n\n\n# 花田さんジョイン\ncreated_at:Tue Jan 20 1970 04:25:21 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:25:26 GMT+0900 (日本標準時)\n花田さんジョイン\n\n[** Qrioアプリのキャッチアップポータル]\nhttps://scrapbox.io/qrio/%E9%96%8B%E7%99%BA%E3%82%AD%E3%83%A3%E3%83%83%E3%83%81%E3%82%A2%E3%83%83%E3%83%97%EF%BC%88king%EF%BC%89\n\n\n[** RoomonV2資料ポータル]\nhttps://qrio.esa.io/posts/854\n\n\n[** RoomonV2開発スケジュール]\nhttps://docs.google.com/spreadsheets/d/1qGwUESkf_K49bNqJbpG4mfbL73j_AbDfF2dYHgKw9pQ/edit##gid=430022666\n\n\n[** やること]\n[* 直近]\n　アカウント作成\n　 github\n　 esa\n　 scrapbox\n　 bitrise\n　 figma\n　 discord\n Roomon BCU Androidのタスク（竹内指示します）\n　 Android Studio 4.2対応（keyfi-android, king-cu-android）\n 　\n\n[* 今後]\n　Roomon BCUアプリチームの業務委託とりまとめ\n　\tBCUタスクのスプリントプランニング、作業進捗の確認\n　\tiOS: 高野さん（@yuki_takano）、Android: 吉井さん（@Masamichi Yoshii ）\n　BLEまわりキャッチアップ\n　\tBCUアプリチームは、BLEまわりの知見はないので、現状竹内がiOS/Android両方実装している感じです。\n　\t基盤部分は竹内実装しますが、仕様変更やバグ改修で、BLEまわりの設計・実装をお願いしていきたいです。\n　デバイスの仕様キャッチアップ\n　\tロック、Knight、ハブまわり\n\n# LeanとDevOpsの科学\ncreated_at:Tue Jan 20 1970 03:35:01 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:15:17 GMT+0900 (日本標準時)\nLeanとDevOpsの科学\n\n次の宿題：リードタイムとデプロイ頻度の理解を各々勉強してくる\n\n[***  2021/06/03]\n 不満を不満のまま終わらせたくはない。会社全体を短期的、中長期的にどうすべきか提案する\n\t\t短期的　-> Roomonで４メトリクスの計測\n\t\t中長期的　-> 組織\n Jokerは難しいので、Roomonやカギカンのモデルで、４メトリクスの計測をしたらどうなりそうか\n\n 燃え尽き症候群\n \tスケジュール的や精神的な無理が祟り、作業が思うように進まなくなる。離職率や休職などにつながる\n \t\t４メトリクスを改善する　→　DevOpsを活かせる\n\n　Roomonで４メトリクスの計測\n\t\tリードタイムの定義\n\t\t\t新規開発\n\t\t\t\t機能実装\n\t\t\t\tバグ改修\n\t\t\t運用\n\t\t\t\t\n\n　組織改善\n\n\tリードタイムを改善するには？\n\t\tIssueの粒度によって変わる？\n\t\t\t新規開発ではこちらを意識すべき\n\tデプロイ頻度を改善するには？\n\t\t開発がどれだけ自動化できているか、による？\n\t\t運用フェーズだと、Qrioではデプロイする際のハードルを下げていく\n\t\t\tアプリでは？\n→この違いがよくわかっていないかも\n→次までにちょっとみておく\n\n\n[***  2021/05/27]\n DevOpsって・・・\n\t エンジニアとインフラが喧嘩しちゃうから\n\t 一緒に仲良くやろうよ！w\n\t っていう認識だったけど\n\t LeanとDevOpsの科学でいうフォーメトリクスの改善をすること\n\n4つのメトリクス\n　MTTR（平均修復時間）→ 切り戻しだったりインフラおちたり\n　変更失敗率　→ 本番にデプロイした時にサービスが止まる割合\n　リードタイム　→ コミットしてから本番にデプロイされるまで\n　デプロイ頻度　→　1日あたりのデプロイの回数（エンジニアで割った方がいいかも）\n\n 現状分析はやろう\n\n うちの会社自体がDevOpsが言ってるような感じでもない\n \tQrioだとFW（というかking-api系の基幹部分）がボトルネック？\n \t\t将来的にはking-apiを主にしていくのであれば、テコ入れすべき\n\t\tRoomon/Kagikanは適用可能\n\t\tCUのデプロイ頻度って効果あるのか？上げる必要あるのか\n\t\t\tある\n\t\tCUの改善は制限される？\n\t\t\t審査があるからデプロイ頻度は限定される\n\t\t\t現状CUに関しては、結局ユーザーが期待しているのが鍵を空ける行為なだけなので、そもそもデプロイする物が無い\n\n\tJokerの中で、DevOpsっぽくするなら\n\t\tハードの不具合（物理的なところ）　→ 送ってもらって調査　→ もうどうしようもない\n\t\tFWの不具合　→ 送ってもらって調査　→ FWアップデート\n\t\t　ロックにSIM積めばw\n\t\t　現実的じゃない・・・値段的にも、電池の持ち的にも\n\n\n2021/05/27　次回の議論\n 不満を不満のまま終わらせたくはない。会社全体を短期的、中長期的にどうすべきか提案する\n\t\t短期的　-> Roomonで４メトリクスの計測\n\t\t中長期的　-> 組織\n Jokerは難しいので、Roomonやカギカンのモデルで、４メトリクスの計測をしたらどうなりそうか\n\n# 20210623 Roomon開発共有　遠藤&竹内\ncreated_at:Tue Jan 20 1970 04:13:41 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:13:44 GMT+0900 (日本標準時)\n20210623 Roomon開発共有　遠藤&竹内\n\n[**** 体制]\n\n仕様取りまとめ：蓑毛\nスプリントまわす：蓑毛\n\nバックエンド：橋本\n\tKing周りは蓑毛、橋本\n\nフロント：吉澤、柳\n\t蓑毛がリファクタとかサポートで入ってる\n\nBCU\n\tシーケンス設計、詳細設計（クラスの設計とか）：竹内\n\t実装：iOS：高野、Android：吉井さん\n\nCU\n\t未着手（遠藤担当想定）\n\n動作チェック\n\tSQAに渡す前の動作チェック：岩村\n\tSQA：クアーズ\n\n\n[*** 現状のBCU]\nWebAPIはMockとかStub（BCUにEKey生成ロジック入れたり、KeySeedをStubで持ってたりとか）\nKeyfiはknight-devを入れている\nロック登録シーケンスは、6月中に、QRコードでロックスキャン→初期化→FW更新、まではだいたい完了する見込み\nKnight登録シーケンスは、シーケンス図つくったところ。\n\nUI実装は、iOSは終わってる。Androidは、8割？くらい（Knightのカード登録まわり）\n\n\n[*** 今後の共用玄関対応]\n（OPTEXはやらなくなった）\n\nざっくり分担表\n\thttps://docs.google.com/spreadsheets/d/1Qgd_V7Oecin7iHQUULP7IiKWR3BXcukwJgntHMV_e0c/edit##gid=1901270403\n\n[** BCU]\nKEru登録フロー\n\t登録シーケンス設計\n\tEntranceRegistrationUseCase→UnitTestをつくる\n\tEntranceRegistrationUseCaseの実装\n\n[** CU]\n\n\n\n竹内がBCUの設計できるところは7月中に遠藤と終わらせておきたい\n\n\n# Q-H1A Secure Bootのpros/cons\ncreated_at:Tue Jan 20 1970 04:06:58 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:11:03 GMT+0900 (日本標準時)\nQ-H1A Secure Bootのpros/cons\nまとめ\nhttps://qrioinc.slack.com/archives/C01A1LSGGG0/p1624243385004900\n>Q-H1Aのセキュアブートの件についてです。\n> （MTG時間いれなさそう＆結論だけお伝えできればよいと考えたのでSlackでご連絡します）\n> 結論からいうと、現在のQ-H1相当の方法で、Q-H1Aの生産をして良いという認識です。\n> 話題になっていたSecure Bootについては、竹内さんにpros/consを出して考えていただき、書き込み可能な状態で問題ない、という結論がでました。\n> 検討内容のメモはこちらです。\n> [Q-H1A Secure Bootのpros/cons]\n\n\n[*** HW Secure Boot]\n[** OFFにした場合]\nONにした場合と比較したときのメリット\n\t開発が楽\n\t\tこれまでの運用コスト云々カンヌンでいっぱい話す\n\t工場も楽\n\t\t工場側の運用コスト云々カンヌンでいっぱい話す\n\nリスク\n\t悪意のあるFWを書き込まれる可能性が（実質限りなくゼロに近いが）ゼロではない\n\nただし、\n\t家庭用およびSOHO事務所など室内に設置されている場合、まず室内に闖入するという行為が前提となる。\n\t\tその場合は、「室内に闖入されること自体が利用者の責任である」としてリスクを転嫁する。\n\t屋外など開かれた場所での利用の場合、書き換えられる可能性はゼロではない\n\t\tただしその場合、本来のFWとして正常でなくなることを意味するので、利用者はリアルタイムで操作できなくなることに、FW改変から少ない時間で異常に気づくことができる（＝リモート操作ができない、解施錠通知がないなど）\n\nポイント\n　OTAバイナリの署名検証機能は有効にするので、従来のQ-H1のセキュリティ機構と同様に、OTAの改ざん・なりすましによる不正なFWの実行は、防止できる。\n　\tOTAバイナリの署名検証を有効にすることによるリスクはない。\n\n以上、開発としては、\n　HW Secure BootはOFF\n　OTAバイナリの署名検証機能はON\nとしたい。\n\n\n[** ONにした場合]\n実際どうなるか\n 初回書き込み時と同じBootloaderしか書き込めなくなる\n\npros\n　悪意のある第三者に、悪意のあるFWを実行される可能性を限りなくゼロにできる\n　\t書き込みはHWのI/Fから行う\n　\t\tどこで書き込みを行うことができるか？　家の中？　家の外？　など\n　\t想定と異なるFWを書き込むと、2度と起動しなくなる\n\ncons\n 異なるBootloaderを書き込まないといけなくなったときに、少なくとも生産されたものについては、詰む\n \t工場のFWを差し替えるしかない。残りは全て廃棄\n \t\tそんなことはおそらくほぼないが、万一発生したら、非常に大きな損害になると思われる\n \t\t\t精神衛生上よくない\n 開発者のオペミスなどで、試作機を壊してしまう可能性もある\n \tビルドオプション変更などでBootloaderが意図せず書き変わる可能性もあるかもしれない。。\n \tとくに人材移動が激しいので、十分な知見がないままとりかかるなどしたときにミスるかも\n \t\t精神衛生上よくない\n 初回書き込み時のBootloaderのダイジェスト計算の時間分だけ、生産力が低下する恐れがある\n \t時間は測ってはいないが、、\n\n\n# EKey取得社内サーバー（仮）\ncreated_at:Tue Jan 20 1970 04:07:02 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:07:03 GMT+0900 (日本標準時)\nEKey取得社内サーバー（仮）\n案\n\tCloud FunctionとFirebaseつかって、DB上のkeyseedを引っ張ってきて、Ekeyを返す\n\t\tイメージはRU Testのkeyseed.csvを使ってEKey生成する、という部分を外出しする\n\t\tCloudFunctionにはKotlinでデプロイする\n\n\nBCUで実装する際の懸念点\n\t認証\n\t\t最低限、対象者のみアクセスできるようにしたほうがいい？\n\t\tEKeyなら別に全アクセスでもいいかも？\n\tDBとの通信\n\t\tやりかたを考える\n\n\n\n# コマンドのパースと署名検証のAPIは別にすると、Jokerのスケジュールに影響せずに外部連携先が対応できるようになる\ncreated_at:Tue Jan 20 1970 04:03:49 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 04:03:51 GMT+0900 (日本標準時)\nUntitled_3\nコマンドのパースと署名検証のAPIは別にすると、Jokerのスケジュールに影響せずに外部連携先が対応できるようになる\n　署名検証APIはQrio内で先に対応しておいて、外部連携先にはJokerリリース後に対応してもらう\n　\t署名検証が必要かどうか（ロックのバージョン判定）もこちらでAPI用意してもいいかも\n　\t\treadCharしたレスポンスをもらう\n\t外部連携先に署名検証のチェックをしてもらう\n\t\tエラーが出ると、外部連携先のエラーが修正されるまで、Jokerが出せなくなる\n\t\t\tJoker対応後にしたい\n\n対象コマンド\n\thttps://staging-king-api-document.herokuapp.com/get_command.html##unlock\n\thttps://github.com/qrioinc/king-api/blob/ef574eceecd4327470362edc102da7b29fe38e24/app/grape/api/users/commands.rb##L141\n　サーバー実装は1週間くらい、QAが大変そう\n\n対応時期\n\t対応早いと思われるNatureをベースに考えるのではなく、ManomaやSoftbankが対応できる時期から、対応完了時期を考慮する必要がある\n\n対応方針\n\tJoker対応とはわけてすすめる\n\t\tアプリ・HubでのV2プロトコル対応はJoker対応で完了しているので、リリース後対応くらいの優先度にする\n\t確認すべきはレスポンスが増えているところの影響範囲\n\t\t各会社に連絡し、ロックV2を送って、レスポンスが増えていても問題なく処理ができるかを確認してもらう\n\t\tこちらは優先して確認する必要がある\n\n\n\n\n# 遠藤のHub理解スクラップ\ncreated_at:Tue Jan 20 1970 03:24:55 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 03:55:07 GMT+0900 (日本標準時)\n遠藤のHub理解スクラップ\n[k.endo.icon]：\nRoomonのリモートコマンド対応やるまでに気になったことや、見積もり時に注意すべき点をメモしておき、\n参画したタイミングで参考にできるように残す\n\n[* 既存機能：そのそもロックと現在どういう通信をしているのか？]\n\t外部連携先に公開している資料から、Lock-Hub-外部サーバ(not king-api)との通信内容\n\t\thttps://github.com/qrioinc/guardian-esp32/tree/knight-dev/lib/qb/docs\n\tking-apiを使ってpubnub経由でコマンドを送るときの仕様\n\t\t５分間HubはPubNubを監視し、サーバーがPubNubにQueuePutしたPayloadをPacketにしてLockに送信する\n\t\thttps://docs.google.com/presentation/d/1SlnQRf4209QP_zBeA9STM7OhEFYPL73C3r1ZhzPmCOw/edit##slide=id.p\n\n\n[* ではKnightではどうするか]\n\tKnightのリモートコマンドの要件を確認する（常時ADV吹く想定）\n\t現行Hubの仕組みを理解して、要件の違いを整理する\n\n修正が見込まれるソースコード\nhttps://github.com/qrioinc/qb-sl2-fw/blob/knight-dev/app/src/central/central_worker.c\nlock_command_parser.c\n_qb.hにKnightCommandの構造体が増える\ncentral_command_executor.cでKnigntコマンドシーケンスを実装する\nhttp_client.cでレスポンスをPOSTする\n\n[* 6/10 gurdian改修箇所説明]\n\ncode: central_subscriver.c\n typedef union {\n   uint8_t type;\n   pubsub_fw_update_command_t update;\n   qb_pubsub_lock_command_t lock;\n   // Knightのコマンドの構造体をかく\n } pubsub_command_t;\n \n // L110のswitchに上記のパーサーを追加する\n \n // static void job_looper()でループしてsubscribeする\n // CENTRAL_WORKER_STACK_SIZEはそのスレッドで使えるメモリの数\n\n\n\n\n\n\n\n# リモートコマンド対応に関連するアサインについて\ncreated_at:Tue Jan 20 1970 03:50:56 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 03:50:58 GMT+0900 (日本標準時)\nリモートコマンド対応に関連するアサインについて\n\n2020.06.07 竹内、河本、遠藤、蓑毛\n\nリモートコマンド対応詳細タスク\nhttps://docs.google.com/spreadsheets/d/1IfLA5ez_9pYmN3fci-h6gcZYZZPg1tHD7mJ-sW6h50o/edit##gid=975811736\nRoomonで実施するリモートコマンド一覧\nhttps://docs.google.com/spreadsheets/d/1Dbhb1SVyR6Ex61LJBdUlVr_n3Uvi0FTWIkCiFevh_iI/edit##gid=613693811\n\n\n経緯\n　リモートコマンド対応の見積感触を確かめてきた\n　　https://qrioinc.slack.com/archives/C01A1LSGGG0/p1623030609273000?thread_ts=1622804549.269200&cid=C01A1LSGGG0\n　ので、アサインの話をしたい\n　次のアサイン案3を想定して話を進める\n　\thttps://docs.google.com/spreadsheets/d/1IfLA5ez_9pYmN3fci-h6gcZYZZPg1tHD7mJ-sW6h50o/edit##gid=975811736&range=I1\n\nアジェンダ\n　花田さん内田さんのアサイン想定のすり合わせ\n　リモートコマンド対応で誰をアサインするか\n　\t竹内、遠藤\n　\t遠藤がやっていたアプリのハンドリングを誰にお願いするか？\n\n\n議事録\n想定\n\t花田さん\n\t　Joker toCアプリに着手（遠藤、竹内）\n\t　カギカン（河本）\n\t　\t以下で認識合わせする\n\n\t内田さん\n\t　RoomonのKing側の実装など8~11月にfullで欲しい（蓑毛）\n\t　カギカン（河本）\n\t　\t上記、また別途すり合わせる必要ある\n\n結論\n　花田さん\n　\tJoker toC: 7, 8, 9, 10, 11月\n　\t\t最も優先度高い\n　\t\t佐藤さんのJoker toCアプリタスク振りのフォローから入ってもらう\n　\t（カギカンは花田さんと別リソースで考える）\n　\t\tJoker toCの業務委託（あずまさん、いちださん、山下さん）をアサインするか？\n　\t\t\tBCUの仕様が出てきしだい、BCU実装のアサインは検討\n　\t\t花田さんにはキャッチアップ終えて、秋くらいからカギカン入ってもらえるか？？\n　\t\t\tまだ不明\n\n-----\n別の話\n　Roomon FTは、実タスクベースはまだ不明瞭だが、佐藤さんにも入ってもらう想定でいることにする。\n　\t→さっちゃん、花田さんをフレキシブルにRoomonのFTにアサインしていく想定でいることにする。\n　\t\tFT開発窓口は遠藤の想定でできればよい。\n\n\n# JOKER Dx Criteria振り返り\ncreated_at:Tue Jan 20 1970 03:23:28 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 03:43:48 GMT+0900 (日本標準時)\nJOKER Dx Criteria振り返り\n気になった箇所\n- バリューストリームマッピング\nhttps://docs.google.com/spreadsheets/d/1-JSrU_dWGtfRoqm7X-ID9lF57X1s18Fv7y5Y-TQ1S9s/edit##gid=550012027&range=E60\n- Linter/フォーマッタ\nhttps://docs.google.com/spreadsheets/d/1-JSrU_dWGtfRoqm7X-ID9lF57X1s18Fv7y5Y-TQ1S9s/edit##gid=550012027&range=E79\n\n\tインセプションデッキとは？\n\tカナリアリリースとは？\nhttps://docs.google.com/spreadsheets/d/1-JSrU_dWGtfRoqm7X-ID9lF57X1s18Fv7y5Y-TQ1S9s/edit##gid=550012027&range=E92\n\n スモークテスト\nhttps://docs.google.com/spreadsheets/d/1-JSrU_dWGtfRoqm7X-ID9lF57X1s18Fv7y5Y-TQ1S9s/edit##gid=550012027&range=E92\n\nドメインサービス発火に伴う関連サービスとの連携\nhttps://docs.google.com/spreadsheets/d/1-JSrU_dWGtfRoqm7X-ID9lF57X1s18Fv7y5Y-TQ1S9s/edit##gid=550012027&range=E109\n\n疎結合なシステムだが〜\nhttps://docs.google.com/spreadsheets/d/1-JSrU_dWGtfRoqm7X-ID9lF57X1s18Fv7y5Y-TQ1S9s/edit##gid=550012027&range=E113\n\n\n[* JokerでDxCriteriaのスコア向上のためにやる個人作業めも]\n[k.endo.icon]\n CI整備→テスト共通化（標準化、ドキュメント整備）、アプリテスト自動化、\n\t\tSystem3-2/3-3/3-4/3-5/3-6/3-7\n アプリリリース半自動化（バージョン更新とかBeta版公開とか）\n \tSystem4-2\n\t\t目的\n \t\t属人化しない\n \t\tリリースを容易にする\n \t\tロールバックも簡単にできる\n \tやること\n \t\tiOSアプリのリリース自動化\n \t\t\tfastlane使う？\n\tダークローンチできる環境・ルールの整備\n\t\tSytem4-5 e.t.c.\n\tデッドコードの棚卸し・Linterの整備\n\t\tSystem2-2/2-8\n\n\n[takeuchi.icon]\n　SYSTEM-2-4 明文化されているコードレビューガイドラインが存在するか。\n　SYSTEM-2-5 コードレビューガイドラインを満たさないコードを自動的に検出・補正する各種Linterやフォーマッタなどのツール群を整備しており、ソースコードを変更する誰もが使うことができるか。\n　\tコーディング規約の整備\n\n　SYSTEM-3-4 テスト用データやスタブ/モックなどを整備し、テストを書きやすくするための環境整備をしているか。\n　SYSTEM-3-6 一部の人だけがテストを書き、一部の人はテストを書かないといったように自動テストを個々人の努力目標などになっている。\n　SYSTEM-3-7 テスト自体が複雑になって、長期間メンテナンスされていない。\n　\tUnitTestの方針、規約の整備\n\n　SYSTEM-7-8 システム構成要素の構築方法や運用方法が属人化しており、同じインスタンスを構築できない。\n　\t属人化の解消\n　\tデプロイの簡素化？\n\n\n[yuma_sato.icon]\n [- 12 (TEAM 2-4) オンボーディング・デック（ドキュメント集）の一部作成（新ジョインアプリエンジニア向け）]\n \t優先度低いかも。えんどぅのディレクション系引き継ぐ方が重要\n \t\t優先度判断\n \t\tサーバーのコミュニケーション\n \t\t見積もり・反省・提案\n 89 (SYSTEM 4-2) Android アプリリリース周り効率化\n \t手作業を減らす（Bitrise -> Google Play Store/Apple Storeの連携）、テスト版の社内配布など\n \t現状の課題\n \t\tリリースの\n \t削減されるコスト\n \tやりたいこと：効率化\n \t\tルール作り（例：機能追加と軽微な修正（文言修正・バナー削除など）で分ける\n \t\t\t軽微な修正であればテスト版の事前配布＆報告のみでOKにするとか\n \t\t自動化\n \t\t\t現状：Bitriseからsinged-apkをダウンロード→Google Playへアップ（手動）\n \t\t\t\t非効率＆人的ミス発生し得る\n \t\t\tTOBE：自動アップロード\n \t\t\t俗人化軽減\n \t\t\tリリーススピード上がる\n \t\t\t社内でテストが本番環境ですぐにできる\n\n[* TODO (5/28)]\n　具体的なアウトプットの記述、および共有\n　タスクへの落とし込み\n　重複分などの整理\n\n\n\n\n\n\n\n# king hashの計算が重すぎる問題\ncreated_at:Tue Jan 20 1970 03:32:06 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 03:35:12 GMT+0900 (日本標準時)\nking hashの計算が重すぎる問題\n起きていること\n(master_key, family_keyなどで他の鍵情報も表示する関係で) 「自分がキーを保持するロックの全てのキー情報とその全てのTOV」を計算するようになっている\nカギカンでゲストキーが2000ある組織に所属している場合、2000のキーとそのTOV20000とかに対して計算してしまう\n\n(後で書く) その昔開発当初昔検討したけどボツになったもの\n変更があったタイミングで都度計算する\n定期的に計算しておく\n1は単純にハッシュ値の計算に影響ある変更全ての箇所にロジックを差し込む必要があり、漏れが怖かった\n2は次の計算が実行されるまでキャッシュが更新されないので、キーが発行されるまで待つ必要がある （編集済み） \n\n(後で書く)\nhash_codeとallが実装された背景\n当時必要とされたもの、今は不要かもしれないもの\n\n\nまとめ中[takeuchi.icon]\n問題\n　/hashを叩いたとき、そのロックにひもづいているguest_keyのハッシュ値をすべて計算するが、紐づいているゲストキーが多いと、ハッシュ計算に時間がかかる\n\n要件と/hashと/allについて\n 「ゲストキー（それがサーバーから削除されていたとしても）をオフラインでも使えるようにしたい」という要件\n 「アプリの状態を（なるべく？　然るべきタイミングで）サーバーと同期させたい」という要件？\nがあって、そもそも後者は前者の要件を満たそうとした時点で、完全に実現することはできない。\nそこでアプリは、起動時と画面遷移時に/allを叩いてサーバーと同期しようとするが、毎回/allを叩きたくないので/hashをつくって、/allを叩いて最新の情報に更新しなければならないときのみ/allを叩くようにしていた。\n/hashをつくった当時（king開発中）は、カギカンほどゲストキーが増えることは想定していなかった。\n 対象のロックに対し、たくさんのゲストキーが紐づいているとき、ゲスト権限のユーザーがCUから/hashを叩いたとき、サーバーはそのたびに、そのロックに紐づいているすべてのキー（や他の情報）のハッシュ値を計算しており、それに時間がかかる\n\n対策（開発案）\n　次のとおり、CUを改修する\n　　アプリが/hashを叩かないようにする。\n　　/allは起動時にのみ叩く。画面遷移時には叩かない。\n　これにより、CUは\n　\tアプリ内で保存している情報（EKeyなど）は、起動時のみ更新される。画面遷移をしても更新されなくなる。\n\n影響範囲\n\ttoC\n\t\t起動時以外は、サーバーと同期がとれなくなる。たとえば、\n\t\t\t起動後に削除されたキーによる解施錠、履歴参照、（ファミリーであれば）合カギ管理、ロックなどデバイス設定画面に遷移できる\n\t\t\t\tただしサーバーへのオペレーションは失敗する（そのキーは削除されているから）\n\tカギカン\n\t\tないと思うが、管理者が管理者アカウントでCUにログインした場合、上述の影響がでる。\n\t\t\t上述の影響の上述はどこ？\n\t\tCUでゲストキーを使うエンドユーザーは影響なし（履歴参照、合カギ管理を実施できる権限がないため）。\n\tRoomon\n\t\tおそらくking CUのみ。CU以外はRoomonで/allは叩いてない（と思われる）\n\t外部連携（MANOMA、ほか/allを公開しているところ）\n\t\t外部連携先に連絡し、/hashを使わないアーキ、仕様に変更してもらう必要あり。\n\nnext action\n　村上さんに開発案を提示して、落としどころをきめて、承認フローを決める。\n\nQuestion\n 同期できていない状態で例えばAが合鍵20個作った後にBが合鍵を追加できたりすることはないか？→結果的に21個の合鍵が存在することにならないか\n hubの時の解施錠画面は同期されないのか？\n hashを叩かないようにしてallは起動時のみ叩くようにしようとしているが、allの中のhashも外す前提であっているか？\n 履歴は最新取れるんだよね？\n セキュリティ観点\n \tekey残って使えちゃうのはマズイんじゃない？\n\n\n# PINの再登録フローについて\ncreated_at:Tue Jan 20 1970 03:26:23 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 03:30:16 GMT+0900 (日本標準時)\nPINの再登録フローについて\n\n問題\n\tPINが仮登録状態の時（KnightにはPIN登録できちゃっているとき）、再度PIN登録フローを踏ませると、Knightに１件以上PIN登録できずにエラーになる\n\tまた、仮登録PINが<1234>のとき、再度PINを<0000>と登録すると、登録しているPINが１件以上になるのでは？\n\n解決方法\n1. PINをいったん通常フローで削除してから、再度登録してもらう\n\t\tフロー\n\t\t\t要再登録を押したら、Knightスキャン画面へ遷移し、KnightとサーバからPIN番号を削除する\n\t\t工数\n\t\t\t編集画面に制限をかける\n\t\t\t\tカード名の非表示やトグルを使えないようにする、など\n\t\t\tSQA工数かけたら４人日\n\t\tpros\n\t\t\t処理がシンプル\n\t\tcons\n\t\t\t再登録のステップ数が増える\n[- 2. 仮登録のカード・PINを選択したら、Knight接続画面に遷移して、再登録フローを踏ませる（削除フローは踏ませない）]\n\t\t工数\n\t\t\tカード・PINでそれぞれ再登録フローを作る\n\t\t\t\t工数２人日\n\t\t\t\t\t個別PIN置き換え\n\t\t\t\tSQAとかもはいってくると４人日\n\t\tpros\n\t\t\tユーザのステップ数が少なくなる\n\t\tcons\n\t\t\t工数がかかる\n\t\t\t仮登録用の処理としてメンテする必要がある\n[- 3. PINを再登録する際に仮登録PINの削除を実施してから、KnightのPINを全置き換えする]\n\t\t工数\n\t\t\tサーバーから仮登録PINをけす→DELETE PIN\n　\t\t「個別PIN置き換え」に変える\n\t\tpros\n\t\t\tユーザーステップ数が少なくなる\n\t\tcons\n\t\t\t通常フローに不要な処理がまざる\n\n\n\n（PIN登録されない状態で）\n　PIN1234をサーバーに仮登録する\n　knightにPIN1234を登録（置き換え）する\n　PIN1234をサーバーに本登録する→失敗した\n\n　PIN5678をサーバーに仮登録する\n　\tそうすると、PIN1234とPIN5678がサーバーにできちゃう？\npin {id: XXXX, pin: 1234} がサーバーに仮登録されている状態で、\npin {id: XXXX, pin: 5678} をサーバーに仮登録すると、、\n\n\n# ブラックリスト仕様再考\ncreated_at:Tue Jan 20 1970 03:13:15 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 03:13:18 GMT+0900 (日本標準時)\nブラックリスト仕様再考\n[* 0. 実現すべき要件はなにか]\n\tエンドユーザがなくしてしまったQrioKeyを第三者に使用（解錠）されるのを防ぐため\n\tエンドユーザのロックのリハッシュしないで上記を実現したい\n\n[* 1. 実現すべき仕様はなにか]\n\tブラックリストに登録したFobを使用（解錠）しても、ロックが解錠しないようにする\n\t\t現状の仕様\n\t　　ブラックリストのvalueは、fob_keysのid（= fobに転送したekeyのkey_id）である\n\t　　RUに対してコマンドが送信されると、ekeyのkey_idがブラックリストに含まれているかチェックされる。\n\t　　\t含まれていた場合、その時点でコマンドは受理されない。\n\t　　\t含まれていなかった場合、後続の処理が継続される。\n\n[* 2. 実現された仕様において、想定外の動作はなにか]\n 現状の実装\n \tブラックリストのvalueは、16byteの配列である。\n \tブラックリストへの追加および削除は、カードの登録および削除コマンドで実施する。\n \t\t仕様上、16byteの配列であること以上の制約は設けていない。\n　　RUに対してコマンドが送信されると、ekeyのkey_idがブラックリストに含まれているかチェックされる。\n　　\t含まれていた場合、その時点でコマンドは受理されない。\n　　\t含まれていなかった場合、後続の処理が継続される。\n\n　想定外の動作\n　\tfob_keysのid（= fobに転送したekeyのkey_id）以外を、カード登録コマンドの引数にセットして、ブラックリスト登録が実施できてしまう。\n　\t\tたとえばCUのマスターキーのkey_idを登録してしまうと、CUのマスターキーによるコマンドの一切が受理されなくなる（InitializeKeyについても同様で、RUのinitializeコマンドも受理されなくなる）。\n\n[* 3. 想定外の動作について、どこで制約を持たせるか、あるいは持たせられないか]\n\t制約を持たせれない事項\n\t\tブラックリスト登録するEKeyIDがfob以外も登録できるので、ゴミを登録することがコマンドのIFの仕様上可能になってしまう\n\t\t\t制約を持たせられないため、防げない\n\n　制約を持たせることで、実装者の実装コストが低下する\n　\t実装ミスによる手戻りが少なくなる\n\n　RU側で制約を持たせる場合\n　\tRUがコマンドを受信した際、ekeyのkey_idをブラックリストと突合する前に、ekeyのkey_typeをチェックする。もしkey_typeがfobあるいはwena以外だったら、ブラックリストの突合は行わず、後続の処理を継続する。\n　\t\tpros\n　\t\t\tkey_type != fobのEKeyは既存の仕様のまま（コマンドの認証にブラックリストによる制限が発生しない）\n　\t\tcons\n　\t\t\t\n　\tRUがコマンドを受信した際、解施錠コマンド以外は受け付ける様にする\n　\t\tpros\n　\t\t\tEKeyを使った解錠方法であれば、今後デバイスが増えたとしても解施錠の制限を設けることができる\n　\t\tcons\n　\t\t\tマスターキーやInitializeKeyなど、特殊な鍵の解施錠も制限されてしまう\n\n\tアプリで制約を持たせる場合\n\t\tライブラリ（keyfi）上で、ブラックリストに登録できるkey_idをサービスの制約としてfob_key_idのみに制限する\n  \tpros\n  \t\tQrio共通のライブラリなので、CU/BCUなどでkeyfiを使う際に、プログラムミスが発生しない\n  \tcons\n  \t\tコマンドのIFの仕様上、マスターキーなどもブラックリストに登録可能なので、ライブラリ以外からコマンドを送信されたときの制限がきかない\n  \t\t\tつまり、リモートコマンド対応する際にはサーバー側での制約の実装も必要になる\n\n\t制約を持たせない場合\n \tpros\n \t\t追加の開発がない\n \tcons\n \t\t想定外の動作が許容されてしまう\n \t\t\t実装者がプログラミングミスをしたときの復旧コストや、コミュニケーションコストが発生する可能性がある\n\n\n# joker PS スプリントMTG議事録\ncreated_at:Tue Jan 20 1970 01:39:47 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 03:06:13 GMT+0900 (日本標準時)\njoker PS スプリントMTG議事録\n### 2021/3/8~\nブラックリスト\n　ドロップする方向ですすめる（中島さん）\n\t\tドロップしないと他のmust要件が間に合わないため\n\t\tドロップした代わりに他案件を実施するリソースはないため\n\t\tブラックリスト機能をinitialではなくいつ実装するかは検討が必要\n\n\t\tRoomonは、専有玄関はブラックリスト要件はない。共用玄関のみ。\n\t\t3/9: スケジュール調整の結果まだ未確定\n\nリモートコマンド対応\n\t3/9: \n\t\tカギカンの開発が4/Mに始まるので、それまでに基本設計は押さえておきたい\n\t\t\t設計: 3/M ~ 3/E, Joker側の実装: 3/E ~ 4/Mにプロットした\n\t4/1\n\t\t設計からやり直す必要がある。\n\t\t大西さんがほぼ常時ADVの対応してもらったので、その設計をQrioが確認してから動く。\n\nリリースのマイルストーン\n\tリリース判定とサービスイン判定の違いは？　toCでやる必要ある？\n\t\tHWはGM判定というイベントをこれまでもやってきた\n\t\tアウトプットの承認を得る場は必要\n\t\t\t【宿題】判定会自体をどうするかは後藤さんに相談して決める（中島さん）\n\t\t\t\t一緒でいいのでは？\n\t6/Bまでに終わらせるスケジュール（= 設計構想時点のマイルストーン）\n\t\t設計構想に載せたスケジュール\n\t\t\thttps://docs.google.com/presentation/d/1nrodU32whYwcov3y9IVjBBNz_H16NLbiiHf_JdNmaIA/edit##slide=id.g977305c612_0_0\n\t\t実質バグ修正などやってたら6/Eまでかかっちゃうのでは？\n\t\tカギカンを1ヶ月後ろにずらしたほうがいいかも\n\t\t\tカギカンチームにインプットする（神谷さん）\n\t\t\t\t1King2KNは、Basicプランのオプションとして考えられている\n\t\t\t\tJX/KXを用いたProプランは、Phase1ではやらない方向でも相談可能\n\t\t\t\t\t→from カギカン定例議事録: https://docs.google.com/document/d/1eYtj8-u04Ttv0oh1QQWBeI8eKaS4UbcvDr-M25xRIMs/edit##\n\n3/9: JX/KXのCU対応\n\tJX/KXのテーブル設計、ekey発行、CUで登録されたJXを使えるようにする対応\n\t\tJoker/カギカン/Roomonぜんぶでやること\n\t  Roomon用のekey(権限)をサーバーで実装（Roomon入居者用ファミリーキーに相当するもの1つ）\n \t CU側も上記の権限にあわせて、合カギ作成などのUIの権限管理の仕様策定・実装\n  \tCUでJX/KXをBLEでスキャンしてコマンドを実行できるようにする（CU内部の条件分岐とかを追加する）\n  \t（もしあれば）UIの差し替え。基本はKing/KNの画面を流用できる想定\n\n3/9: 1King2KNの設計検討（カギカン）\n\tカギカンで1King2KNで使うプラン（Basicプランのオプション）をPhase1(= initial)で導入したい。\n カギカンの機能開発が4/Mから始まるので、それまでに（？）Joker側の設計の検討までしておく。\n\n ログ・履歴のKN対応の仕様決めたい\n　\t別途仕様決めMTG実施\n　\t仕様案はあるが仕様としてfixしてない状態\n　\t\t仕様案はここに書いてる https://github.com/qrioinc/joker-dev-tasks/issues/84\n\n 対応OS\n\t　2バージョン前のlatestまで(大体動くでしょう、それ以下のマイナーバージョンであれば）\n\t　例えば\n\t\t　13.5が最新だとする\n\t　\t13全部を検証するのは不可能\n\t　\t→ 市場に出た時に13.3障害が出た\n\t　\t\t出た時には障害として対応します\n\t\t前回：通達1ヶ月半前\n\t\t【宿題】PSで方針固める（中島さん）\n\n4/16\n\tセキュリティ案件\n\t\tデバイスの後方互換性\n\t\t\tユーザーがデバイス群をアップデートすれば解決するが、FWアップデートの導線を設けないとユーザー負荷が高い\n\t\t\t案1: 各デバイスをリリースするタイミングをずらす方向\n\t\t\t\tその場合CSに負荷がかかることが想定されるが、会社として許容されるか？\n\t\t\t案2: CUを改修して、FW更新の導線または更新通知を設ける方向\n\t\t\t上記、どちらの方向性でいくか、会社の方針を確認する→中島\n\t\t\t\t詳細はgithub issueでやりとりする\n\n5/7\n\t再設計構想会議（Jokerファミリー・カギカン）スケジュールを仮決めする（中島）\n\t\t5/27くらいに実施？\n\t\tそもそもの目的は何か？\n\t\t\t必要なアウトプット項目を、GTさんに確認する（中島）\n\t\t2020.09の設計構想資料\n\t\t\thttps://drive.google.com/drive/folders/1h-4lItd9p63iTPPQ5738irOwlXu1MNVy\n\t\t\tFW or FW以外のシステム\n\t\t\tデバイスごと\n\t\t\t\tJX/KX、SuperLegend、それ以外（デバイス対応）\n\t\t\t再設計構想の対象は「ソフトウェアの設計構想」だけでよいか？　確認する（中島）\n\t\tセキュリティ責任者、レビュワー、承認者の体制を決める\n\t\t\tセキュリティ専門家がいないことのリスクも含めて記述する\n\t\t\t体制自体のリスク\n\t\t\t\t体制の話メモ\n\t\t\t\t\thttps://qrio.esa.io/posts/856\n【宿題】\n　スケジュールマイルストン（中島さん）\n　再設計構想要求事項確認（中島さん）\n\n# 2021/5/6 Zenhub相談memo\ncreated_at:Tue Jan 20 1970 03:04:44 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 03:04:44 GMT+0900 (日本標準時)\n2021/5/6 Zenhub相談memo\nZenhubでの管理方法を説明し、\n現時点で竹内・遠藤が実施しているZenhubを使った見積もり方法について\n河本さんにレビューいただき見積もり精度をあげる\n\n[* アジェンダ：]\n- 現時点での使い方説明\n- 見積もり方法の説明\n   - 現時点のspと想定工数を使って、残工数を計算\n       - https://qrioinc.slack.com/archives/G01EGJ98U4D/p1619437763022100?thread_ts=1618396776.013100&cid=G01EGJ98U4D\n- レビュー\n   - spの付け方\n   - Issueの粒度\n   - 残タスクの管理方法\n- 不安な点\n   - 当初の想定よりかなりsp増えている、、、見えないタスクがなかなか可視化しきれていない\n   - 仕様系のタスクが増え続けているが、工数管理していない\n\n・SQAがまわりきっていないものが、バーンダウンチャートに完了として反映されていない\n→完了タスクに関してはスプリントを外してしまう\n↑バーンダウンチャートでは見積もりと実績が見える様にするため\n\n・動いていないタスクをどう捌くか？\n→中島さんタスクは、いったん河本さんにハンドリングしてもらう\n\n・バグの増加率を出す（チケット進んだ分とバグ起票の比率を出す）\n↑ 5月はでないので、4月実績を集計する\n↑ SQA側の進捗率と比較する\n（実施項目数とバグ発生率をみる）\n\n・ロードマップから残タスクの優先度をつけてエピックを終わらせることに注力する\n\n・動かないタスクに関しては、少し時間かかっても他者をまきこんで進めた方がいい　←遠藤タスクはこれで対応する\n→スプリントを先にきってしまうでもいいかも？\n→中島さんに終わったタスク・終わっていないタスクを提出できる様にして、中島さんが確認できる様にする\n→中島さんにタスクと進捗状況、締めの期日をすり合わせる、アプリで確認できる様にする、すり合わせた上で中島さんに責任を持ってもらう\n# pin hash\ncreated_at:Tue Jan 20 1970 02:55:50 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:56:08 GMT+0900 (日本標準時)\npin hash\nknightの個別PINの管理についての仕様草案です。\n\nsalt = sha256(keySeed + knightNonce)\n\nsalt = keySeed + knightNonce\nkeyseed = salt - knight_nonce\n saltがわかると、keyseedがわかる\n\n\nsha256(salt + pin + length)\n\n01234567\n-> []\n-> \"01234567\"\n-> 01234567: Unsigned Int\n-> 0x00, 0x12, 0xd6, 0x87 : byte array (Big-Endian)\n-> 0x87, 0xd6, 0x12, 0x00 : byte array (Little-Endian)\n\npin_length = PINを文字列にしたときの長さ（先頭の0をどうするか）\n\n\nブルートフォースの計算量\nPINの総数は、次のとおり。\n10^8 + 10^7 + 10^6 + 10^5 + 10^4 = 111110000\n\n1回のコマンドあたりに設定可能なPINの個数は、17個。\n\n全てのPINを総当たりするには、111110000 / 17 = 6535882回のコマンド送信が必要。\n\n1回のコマンド送信にかかる時間を1分とすると、\n6535882回のコマンド送信には6535882分かかる。\n\n\n\n\n[**** 議事メモ] \n2021.04.30 [takeuchi.icon] [mikamix.icon]\nハッシュ値生成\n\nsalt(16byte) = SecureRandom(size=16)\npin(4byte) = input_pin.to_byte_array()\npin_length(1byte) = input_pin.length.to_byte()\n\nhash(32byte) = sha256(salt + pin + pin_length)\n\n\nsaltは、knightデバイスが生成する。\nsaltは、knightデバイスの機密領域に保存する（key_seedを保存している領域と同じ領域）\nsaltは、knightから取得することも、外部からknightに設定することもできない。\nsaltは、knightのオーナー変更時にリセットする。\n\tknightのオーナーが変更されることで、同じPIN番号に対するハッシュ値が変わる\n\t\tknightの前オーナーによる、PINのハッシュ値のレインボーテーブルアタックによるPIN番号の特定を防止するため\n\n\nユーザーA、ユーザーBがいたとして、\n　ユーザーAが0123を使って、それをどこかで破棄した\n　ユーザーBが0123とすると、ユーザーAは前に自身が入力したパスワードのハッシュ値を保存していれば、ユーザーBのPIN番号を特定できてしまう\n\n\nプランA\nピン番号ごとにsaltを生成するのが上記の要件を満たすセキュアな方法である\n\tFW的には、容量の問題がある\n\tsaltが16byteなら、PIN番号のキャッシュ個数は最大50個なので、全部で16 * 50 = 800byte\n\t\t解錠スピード\n\tsaltのライフサイクルはPINと同じ\n\tデファクト案\n\n他プラン\n\tsaltは16byteでなくてもよい？\n\t\t16byte出ない場合、オフラインによるブルートフォースが成立してしまう\n\tsaltは1つでよい？\n\t\t上記の攻撃が許容されるならよさそう\n\n\nPIN番号を登録できないことによってPIN番号が特定できてしまう脆弱性がある\n\tエスカレする\n\n\tPIN解錠時におけるクールダウン（10回連続して入力を間違えると5分間入力を受け付けない）による堅牢性について、登録についても解錠時と同じセキュリティレベルにもっていく必要がある\n\t\t最もセキュリティレベルの低い箇所に合わせる（一部分のセキュリティレベルだけを高めても意味がないので）\n\n\n\nどちらもsaltは秘匿にする必要がある\nsaltをパスワードごとに別にした場合\n saltがわかると辞書攻撃は成立する\n 総当たりは成立しない\n\nsaltを共通にした場合\n saltがわかると辞書攻撃は成立する\n 総当たりは成立しない\n\n\n# OPTEX見積\ncreated_at:Tue Jan 20 1970 02:42:44 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:43:14 GMT+0900 (日本標準時)\nOPTEX見積\n\nOPTEXさんへの請求\n\n\nOPTEXさん側の作業\n\tRU基盤の組み込み\n\tRU基盤が解錠信号を受け付けたら、電気信号を流して自動ドアセンサーの判定条件も見て、ドアを開ける\n\nハードウェアとしての初期システム設定・登録（１人月）\n\t「OPTEXさんが作業に着手するに当たって、Qrio側で実施する下準備の開発が必要」ということで、その費用をOPTEXさんに請求する\n\t\tQrio側で実施する下準備の開発\n\t\t\tKingとKEopt(RU)を識別するための仕様検討\n\t\t\tRU TestでKEopt(RU)のコマンド発行ができる（？）\n\t\t\t\tOPTEX側が作業するにあたり、Qrioサーバーへのデバイス登録などは特に不要なのでは？\n\t\t\t\tだからサーバー費用を請求することにはならない気がする\n\t\t\t他、必要な仕様の策定・すり合わせなど（具体的に何が必要か？）\nサービス実現のための開発（CU・DU・SQA・FT）（２人月）\n\t↑OPTEXさんには請求しない\n\n\n下記を決める必要があります\n　オプテックスモジュールのCU、サーバーからの見え方\n　　現状のFWでは、Q-SL2として見えます。なので、CUで普通に解錠操作が出来ています。\n　　FWアップデート時は、オプテックスモジュール向けのFWをサーバーから取って来る必要があります。\n　対応するコマンド\n　　現状のFWでは、モーター制御に関するコマンドは、実際には行わずに、成功を返しています。電池チェックも行っていません。\n\n\nTODO\n 開発の段取りと、何の作業があるかをおおまかに整理する\n \tking ru FWのOPTEX対応\n \t\tOPTEX用基盤に向けた変更（電池ついてないからその辺の変更）\n \t\t\tポートふさぐとか\n \t\tTX Power Levelの変更\n \t\tModel名の変更\n \t\tFWアップデート\n \t\t\tDFUの署名鍵がKingと同じになってるので変更する\n \t\t\t\tbootloaderも変更する\n\n OPTEX担当分を明確にする\n  1. RU基盤を自動ドアに組み込んで、BLEの解錠コマンドをトリガーに自動ドアの解錠システムを作る\n  \tQrio側で準備が必要なもの\n  \t\tking ru FWのOPTEX対応\n  \t\t\t1人月\n  \t\tRU Test Android (OPTEX対応する)\n  \t\t\t0.5人月\n  \t\t\tサーバーやCUの実装は不要な認識\n  2. Roomonシステムの、共用玄関のフィールドテスト・SQAなど\n  \tQrio側がRoomonシステムをつくるだけで、OPTEXさんはテストするだけ\n  \t\t誰がテストするかはさておき、OPTEXさんの設備環境は必要\n\n\n\nOPTEX対応\nA. KEopt対応（Roomon）\n\t\n\nB. OPTEXさん手動でやりたい企画（プロジェクト未定）\n\tRoomon以外で、自動ドアやシャッターをQrioLock化したい\n\t\tこれらをエンドユーザーがCUで登録して、解錠orハンズフリー解錠できるようにしたい\n\t\t\tサービスではない\n\t\t\t\tカジュアルに登録できる、というだけ\n\tまだ何も決まってない\n\n\nRU基盤のシリアルNo、モデル名をどうするか？\n\n\n# Dev MTG 2021/03\ncreated_at:Tue Jan 20 1970 01:29:49 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:22:38 GMT+0900 (日本標準時)\nDev MTG 2021/03 \n##devmtg\n[*** この時間で共有・相談したいこと]\n 今週からJOKERの朝会をはじめました\n Apple MemberShip更新しました\n Push通知の更新をしないといけません\n \t河本対応中\n \t2/15にStaging適応して動作チェック\n \t問題なければ2/16以降に本番適用を実施\n \t締め切り2月20日まで\n \t完了しました\n\n[*** JOKER]\nhttps://github.com/orgs/qrioinc/projects/4 でissue、進捗管理してます。ここでは詳細は書きません。\n全体はasanaです。 https://app.asana.com/0/1199671273936821/timeline\n\n\tセキュリティ対応のリリース時期をGTさんに確認中[takeuchi.icon]\n\t\tknight開発環境に対応入れてるので、別出しするなら分離する必要がある\n\t\t外部連携先の日程調整にもかかわってくる\n\t\t\tKnight toCリリースと同日でよい、でFA[takeuchi.icon]\n\n\tプロトコル対応したロックを、外部連携先で動作確認するための環境を準備する必要があるが、相談したい[takeuchi.icon]\n\t\t以下それぞれの検証環境って、Qrioのproductionでしたっけ......？　まだ調べ切れておらず[takeuchi.icon]\n\t\t\tNature\n\t\t\tMANOMA\n\t\t\tSoftbank\n\t\t\twena\n\t\tknight-dev環境で試してもらうしかないので、そのへんは先方にお願いすることになる\n\t\t\tproduction環境\n\tコストかけてでも、プロトコル対応だけ別出しすべきだったかも[takeuchi.icon]\n\t\t別出ししたとしても同様の問題は残るけど[takeuchi.icon]\n どちらかというと7月の握りも握りだけで必達要件ではなさそうだった。\n \tンゴ(´・ω・`)\n\tすみませんRUレスポンスのパースってどこでやるイメージでしょうか...[takeuchi.icon]\n\t\thttps://staging-king-api-document.herokuapp.com/get_command.html##command_response\n\n\t1ヶ月あたりにどれだけのissueがcloseされたか知りたい\n\t\tいい方法はないか（github cliとかで出せないかとか）ちょっと橋本さんらに聞いてみるか......[takeuchi.icon]\n  俺わかったで！[junichi.kawamoto.icon]\n  \t神[takeuchi.icon]\ntable:  3月close (3/23時点) \n repo\tclose\topen bug\n smartlock-king-cu-android\t17\t26\n smartlock-king-keyfi-android\t3\t1\n smartlock-king-cu-ios\t13\t10\n smartlock-king-keyfi-ios\t5\t0\n king-api\t8\t1\n\n　スケジュール整理中[takeuchi.icon]\n　　[Joker 開発スケジュール見える化 2021.03.23]\n\n\tSQA用デバイス用意するの結構大変、、、割と時間取られる[k.endo.icon][yuma sato.icon]\n\tKnightの設計ヤバイむずそう[minomo.icon]\n\tKnightのCRUDが思ったより出戻りが多い\n\t\tコミニケーションコストが変わってない[minomo.icon]\n\t\t実装しないとわからないところがかなり多い[takeuchi.icon]\n\t\t\tシーケンス、API、画面、SQA、全部見直しが定期的にかかってる[k.endo.icon]\n\t\tRoomonの要件もCUに入ったり、見積もり切れないところ[minomo.icon]\n\t\t今回の対応ではセキュリティや実装面でいざやってみないとシーケンスが複雑で多かったのが想定より膨らんでる[takeuchi.icon]\n\t\t\tやっと登録できたンゴ[takeuchi.icon] [## god!!!!! ]\n\tセキュリティ案件面もSQA戻りがかなりある[k.endo.icon]\n\t\tブロッカーになっているので優先度高めで戻ってくるからKnight対応できなかったりとか\n\t\t既存アプリの潜在バグとかもあったり\n\t\t\t同時接続できない対応\n\t今根幹の部分をやっていて要件としては一番重いところ\n\tKnight専用の環境を予め用意しておいた方がよかった\n\tワンタイムパスワードの件、2/22週に高橋・中島に展開、スケジュール調整\n\t\tスケジュールするので、スケジュール調整お願いできますか＞河本さん[k.endo.icon]\n\t適切な見積もり\n\t設計\n\t毎日開発朝会するのいい\n\tSLの2週目のFT\n\t\t河本・蓑毛・（誰か→山田さん）\n\tざわひろさん\n\t\t開始タイミング（3月から）\n\t要件→仕様に落とし込む作業は誰がやっているのか[k.endo.icon]\n\t\thttps://qrioinc.slack.com/archives/C01ABA9KBSB/p1613984242031500\n\t\t取りまとめがいない\n\t\t中島さんにやってもらうのがいいと思う\n\t\t\tJX/KXほんとにやるの？とか\n\t\t\t\thttps://qrioinc.slack.com/archives/C01ABA9KBSB/p1614130463039500\n　週次でasanaスケジュール確認した方がよさそう\n　\t週頭と週終わりとかに進捗確認として\n　\tブラックリスト対応抜けてた！[k.endo.icon]\n　\t\tスケジュール調整したい\n セキュリティ対応、外部連携周り\n\t\tgetTimeしてたら改修必要\n\t\t進捗確認して行きましょう\n\t\t\tmanoma,natureだけ？softbank←進捗わからない（確認）\n\t\tプロトコル対応したロックを渡す方向\n\t\t\t先方には1,2行直してもらう必要\n　4月からios入ります（山下さん）\n　\t遠藤の手足要因\n\t　\tライブラリの修正周り\n\t　\t既存バグ\n\t　東さんが6月からカギカンに行く\n\t\tデバイス周り\n\t\t\t基本戻り品使いつつ\n\t\t\t量子を\n　デザイン←空きそうかも\n　\t- Jokerシーケンス変更に伴うUI修正\n  - カード登録シーケンス変更に伴うUI修正\n  - SLegendハンズフリー設定の前の設定モードにいれるUI修正\n  - 電池残量のステータス「不明」の画像追加依頼\n  - 合鍵管理タブの現行仕様:「利用時間外」\n\t\t\t→仕様書の修正メインになりそう\n\n[** ペネトレ]\n　社外でやると結構高い\n フロー図\n \tネット通信の\n \tid、時間、nonceが取られた時に電子署名が取れない\n　大西さん呼んだ方がいい\n　\t出荷時にKnightに\n　BLE取られて大丈夫か\n　サーバー観点では多分いらない\n　ポイントはBLE周り\n　大西さん、竹内さんアサインして再度実施\n　DB周り\n　\tパブリックサブネット下かー\n　\t\t中の構成\n　\t\tVPCとか\n　\tプライベートサブネットなのかー\n　\tidパスワードで丸見えかー的な\n　\t秘密鍵生で置いているかー？\n　\tDBの暗号化しているかー\n　\tstg,prd\n　\tdb操作の履歴はあるかー(cloudtrail的な)\n 正式レビュータイミング\n \tなるはや\n\t\t4/6,7,8,9\n\n[*** Kagican]\n V3開発中\n 　https://app.asana.com/0/1199522101046125/timeline\n 　料金プランの細分化\n 　 料金プランを表す英語plan以外に何かない？\n 　  chargesにした！\n 　新プランのカード請求、NP請求周り動作確認したらリリース(今月中目標)\n 　 sirius-apiのmigrationファイルとブランチとコミット整理してる\n 　 できたらmasterにマージ\n HubのFwアップデートできない\n 　ﾅﾝﾃｺｯﾀ\n 　登録したときに最新にしてる疑惑\n 　\t実装みてない。できないとしても、今は追加開発できないのでいったん置きで[takeuchi.icon]\n カギカン4月からフロント入ります！\n\t\tこのままいくと僕とかが仕様周りとかを展開するかも\n\t\t開発サイドはミノモン・駒井さんと一緒に進められると\n\t\t slack, github, asana, confluenceを見れるようにする\n\t\t 触っていいユーザー用意する\n\t/homeのロックが96個あった会社の一覧が読み込めない\n\t　今の所問題が起きているのが１社なので置き\n 2021/03/23 v2.5って言ってるやつ（村上さん）の確認\n  新料金プランの登録、変更 + 請求方法変更のこと\n  とりあえず4/26リリースとかにした\n　代理店が使う具体的な日程聞いておくべきだった\n　\t4/6の定例で聞いてみる\n\n[*** Roomon]\n　仕様策定中[minomo.icon]\n　 一部ER図が決まらないと、仕様検討できない箇所あり\n　 \tJokerデバイス側との作業分担は調整済み[takeuchi.icon]\n　KEやRoomonのことを考えたER図作成中[minomo.icon]\n　　4月中に対応したい\n　三上さんと、ユーザーのCUで入居モード変更相談中[minomo.icon]\n　　もうちょっと話す\n　Roomonの権限を検討中[minomo.icon]\n\tZenhubのメンバーの増やし方が不明[minomo.icon]\n\t　シートは増やしたった[minomo.icon]\n モノレポ構成[minomo.icon]\n\t サーバー　→　モノレポ\n\t フロント　→　モノレポ\n\t ios →　モノレポいけるっぽい！\n\t Android　→　ios行けたから多分行ける\n\tgitブランチ運用など[minomo.icon]\n\t\tGitLab frowを使う　https://qrio.esa.io/posts/829\n\t\tプルリクはスカッシュマージでやる\n\t\tモノレポなので、プレフィックスにディレクトリ名などつける\n\tログイン周りはFirebaseを使いながら実装できている\n\t\t二段階認証も対応できそう\n\tIOSのUI実装\n\t\t20日〜30日で終わりそう\n\tコンソールのUIがひっちゃかめっちゃかでヤバスwww\n\t\tなかじ、宮澤さん、りょうさんが進めている。\n\tvue3使っていきます。\n\t\tほぼvue2と同じ使い方もできるし、機能が増えただけなので上げない理由もそこまでないと判断しました。\n\tvite使おうと思ってます。\n\t\t一旦使ってみて、vue-cliと比較検討しながら進めていきます。（すぐ戻せるので問題があればvue-cliに戻す）\n\t\t何より起動時間が激早\n\t\thttps://qrio.esa.io/posts/836\n\tvercel使おうと思ってます。\n\t\tデプロイすぐできた。\n\t\treview upがプルリクに紐づいて良い感じ\n\t\t\thttps://github.com/qrioinc/roomon/pull/54\n\t\therokuとの比較などは資料作ろうと思います\n\tcss frameworkは今のところ使わない想定\n\t\t既存でTailwind CSSを使っていましたが、学習コストが高い\n\tAndroid Navigation検討\n\t\t吉井さんに提案資料（メモ程度）の作成を依頼\n\n[*** roomon証明書更新]\nここでつらつらと調べたこと書いてる\n\tDevelop/RoomonSSL更新 - qrio.esa.io\n\thttps://qrio.esa.io/posts/812\n\tjobkan上げた\n\t終わりました2021/03/04\n\n[*** Ienaka]\n\tイエナカCPN実施中\n\tLP複数社対応\n 品質設計に向けて準備を進めています[junichi.kawamoto.icon]\n \t[k.endo.icon]から[junichi.kawamoto.icon]にバトンタッチ\n \tただざっと見たところ実施が3月の中旬位を見込んでいます\n \tまだ村上さんとかにも報告していません\n \t\tしました\n \tCU周りの話を進めています。[junichi.kawamoto.icon]\n \t\t来週に月曜詳細周り王と村上さんと一緒にここの話をしてくる状態です\n \t\tコンソールの部分もあるのでそっちの設計と要件のすり合わせも同時に進めてます\n サイドメニューのバナー削除を3月にやる予定[k.endo.icon]\n 新しいゲストキー（イエナカキー）みたいなのを作らないといけない可能性大\n 2wblank作ります（GT承認済み）\n カギカン立ち直るまで一旦保留予定\n\n[*** toC関連]\n\t[! 済み]Googleプライバシーポリシー[yuma_sato.icon] (3/29がデッドライン)\n\t\tsmart Tag/QSL1用アプリ修正版リリース済み（フライング）[yuma_sato.icon]\n\t\tフロー見直し＆次回以降気をつけます。（リリースは作成時から必ず2人の目で見ながらやる）[yuma_sato.icon]\n\t\t[! 済み]GitHubのタグ＆バージョン管理やります。[yuma_sato.icon]\n\t[! 済み]QSL1（smart Tagも？）のiOSアプリはもう改修できない\n\t\tSwiftのバージョンが古くてストアに出せないお[takeuchi.icon]）\n\n\n[*** その他]\n hubのSSL証明書の対応しています[junichi.kawamoto.icon]\n \tSTGの証明書買っていいよ\n\t河本さん、えんどぅ、佐藤New Joker（新サービス検討）やる（〜3/5）->一旦お休み[yuma_sato.icon] [new!]\n\t\t周辺デバイスのbeacon強度検知アプリ作成[yuma_sato.icon]\n\t\tAppClipやる[junichi.kawamoto.icon]\n\t\tハンズフリーをWifiトリガーにすると精度上がるか竹内さんと遊ぶ[k.endo.icon][takeuchi.icon][k.endo.icon][takeuchi.icon][k.endo.icon][takeuchi.icon][k.endo.icon][takeuchi.icon]\n　リファービッシュどうなってる？[komai.icon]\n　 期限決まってないからまだ具体策いらない\n　 今月中にSNCに提案しなきゃならない？\n　 \t今月中に実現可能性だけ村上さんに報告\n　 書き始めました\n　 \tDevelop/大量リファビッシュ方法考える - qrio.esa.io\n   https://qrio.esa.io/posts/800\n pubnubが三上さんのアカウントに紐付いている件\n  https://qrioinc.slack.com/archives/C01ABA9KBSB/p1612853210070100?thread_ts=1612850709.055400&cid=C01ABA9KBSB\n  まだ何も手がつけられていない状態\n  やっぱり移管する時とかに何か考えるか\n Webフロント絡んだ良さそうなサーバー設計\n 　https://qiita.com/kuromitsu0104/items/dc0021a20100e11f2f7d\n 　https://github.com/kuromitsu0104/gadget-app\n 　　いまのとこカギカンとkingオペで利用でき{そう。変な独自アーキ全く使ってないっぽいしベストプラクティス候補。\n 　ienakaで必要になりそう\n 　そのための、サーバーエンジニアも採用しないとけない\n\n RoomonV1の運用費を知りたい\n Androidのベータ版、クローズする？[k.endo.icon]\n \tハンズフリーのβ版よね。ストアから消していいお[takeuchi.icon]\n\t\tいったん放置でOK　次のアプリリリースタイミングで相談する[takeuchi.icon]\n\n[*** log]\n　SL2のクエリ重くなってそう\n　　最適化が必要なのだろうか？[komai.icon]にこれ以上のpostgressqlの知見は無い\n　　logsが8億レコード(834,880,562)\n\t　　https://qrioinc.slack.com/archives/C0H333VB7/p1615196461000800\n[https://gyazo.com/b277cfc8226cb8f05f6f5146bd967427]\n\t\t18時台に河本がミスって本番のlogsをcountしたらタイムアウト出始めてるから多分原因こいつ\n\t\ttoCでログの表示、扱い方と、中野さんと分析でのログデータのもたせ方調整必要\n\n[*** webLP移管]\n \tgazってところにkaigcanのLPのstduio移管を依頼中\n \t\t3月~4月頭にかけて実装\n \tRoomonのLPは河本やってる\n \t\t3月中\n\n[*** 他社との話 ] \n[** TOTO連携]\n[https://gyazo.com/d676821e67e55f085893615e25d29cb5]\n移動式のトレイにLockをつけて、予約して開けしめすることを利用想定\n\n[** obnizLTE]\n実現したいこと\n 他社のhub的なものを（Qrioアプリ OR 先方の登録アプリ（新規））で登録して、Qrioアプリで解施錠できるようにしたい\n→ 新しいスキームだけど行けるか否か\n　追加になりそうなもの\n　\t他社管理用のhubテーブル的なもの\n　\thub登録画面に他社機器の登録的な画面の作成\n　\t他社ADVから機器情報\n　あるいは（中間案）\n　\t登録周りは向こうで持って貰って〜って思ったけど、登録機器のDB登録・情報取得周りがあるからNGか\n[https://gyazo.com/3059515ea38be99b3b4b9f3a6c380a83]\n wenaと一緒\n \tうちで登録していいデバイスかどうか管理しないといけない\n \t\t「登録するデバイスが、Qrioが認めたものである」ことを証明するにはQrioのDBにデバイス情報を入れておく必要があるから[takeuchi.icon]\n セキュリティ要件がどういったものか\n \twenaとは違うのかな。わからぬす[takeuchi.icon]\n Next Action\n \twenaと同様の管理で、どれくらい開発掛かりそうかこうきちくんに返信\n \t\tメールきてたンゴ[takeuchi.icon]\n \t\t\t【確認依頼】Qrio_APIの仕様書\n \t\t\t\tこうきちさん窓口なので、聞かれたら返事する、で[takeuchi.icon]\n\n\n[*** 業務委託のPC購入のやつ]\n\t想定している人数分今年度予算で購入する\n\t（河本やる）2021/02/18\n\t今まだ発注かけてない人数分の確認\n\t\tRoomon\n\t\t\tハシモトさん以外？\n\t\t\tios,android,front2の合計4台？\n\t\tKagican\n\t\t\tfront1台\n\t\tJoker\n\t\t\tiosバックアップで1台？\n\t\t\t\t決まり次第といったところもあるが、今後の社員も含めた在庫として購入しておくのはあり\n\t\t合計6台？\n\t現在進行中\n\t2台20発注、4台20以下にしたい\n\t\t8GB → 最低 ← アプリ人員に関しては関しては高くしてあげたい\nhttps://qrioinc.slack.com/archives/G015S15QRPB/p1612761185003900\n　本人に送ってもいいかと\n　出社するのもあれだし\n\nCPUをi7じゃなくてi5にすれば20万切れる\n[https://gyazo.com/c1bc361fc589db0f4c676bf3b786c2e0]\n一旦i5で\n→特段問題あれば、変更可\n\nID周り\n何か言っているが \n\t特にこのままでいいんじゃないか[takeuchi.icon]\n[https://gyazo.com/9ac12d7bcbb9858d9ac3e08623c814ce]\n\n\n[*** 業務委託業務報告方法まとめたい]\n　開始と終了\n　業務内容報告\n　ハシモトさんはスプレッドシートに書いて貰ってるんだっけ？\n↓\nレバテックさん経由\n→ 報告フォーマット\n\n[*** TwitterCP規約更新依頼]\n[https://gyazo.com/96b112a1d1a624aca9f9feab7d1da8f7]\nたまにこういうの来ます。\nS3に上げて公開してあげればOK\nhttps://s3.console.aws.amazon.com/s3/buckets/assets.qrio.me?region=ap-northeast-1&prefix=terms/\n　なんかだんだん依頼されて上げるの面倒な気がしてきたから、該当箇所だけ権限渡して勝手にしてもらおうかな\n→ 真司くんに責任あてられない\n← 河本がcliで自動化できるようにする\n>Develop/twitter_cp楽して上げたい - qrio.esa.io\n> https://qrio.esa.io/posts/837\n\n業宅ジョインランチ、今後も検討\n\n[*** QaasカギカンRoomon]\n PCとios,and端末選定\n \tPC\n \t\t要望：8GB 14incくらい\n \t\t案\n \t\t\t価格.com - HP Chromebook x360 14b-ca0019TU 価格.com限定 Pentium&メモリ8GB&64GB eMMC&フルHD・IPSタッチ・360度回転ディスプレイモデル 価格比較\n    https://kakaku.com/item/K0001303193/\n    zoomとかできないといけない\n    https://www.amazon.co.jp/Dell-1ノートパソコン-Inspiron-i7-1165G7-NI574CA-AWL/dp/B08QJ6Y27V/ref=dp_prsubs_2?pd_rd_i=B08LQK979Z&th=1\n    https://kakaku.com/item/J0000033150/?lid=20190108pricemenu_ranking_1\n   決定\n   \thttps://www.amazon.co.jp/Dell-1ノートパソコン-Inspiron-i7-1165G7-NI574CA-AWL/dp/B08QJ6Y27V/ref=dp_prsubs_2?pd_rd_i=B08LQK979Z&th=1\n  ios,and\n  \tios: iphoneSE\n  \t\thttps://www.apple.com/jp/shop/buy-iphone/iphone-se\n  \tand: pixel4a\n  \t\thttps://store.google.com/jp/config/pixel_4a?hl=ja\n\n[*** FAIT]（半分メモ）\nhttps://github.com/qrioinc/qb-tk-fw/tree/feature/fait_\nマージはしないが治具焼き込みする\n\n[*** 【SmartLock】週次レポートの送付が送れなくなった事象]\nDevelop/【SmartLock】週次レポートの送付のあれこれ - qrio.esa.io\nhttps://qrio.esa.io/posts/820\n\n\n[*** 東さん市田さん]\n契約どうするかか\n↓\n手を動かして欲しい\n→ キャッチアップ・採用コスト\n↓\n「タケウチさん」\n期待値とか変わってくるかも\n→ いてくれた方がいい\n↓\n「遠藤」\n・iosに関してはいる\n・Androidは佐藤/タケウチで大丈夫\n↓\nできる限り更新\n---\n結局次いつまで更新するか決めてなかった！！！\n> 5月1日～8月31日（4か月更新）で進めてOK？\n> あと、併せて市田さんの契約更新期間もお返事しますので、こちらも情報ください。\n↓\n8末で出す\n→→出した\n\n\n\n[*** 自由記入]\nhttps://qrioinc.slack.com/archives/G015S15QRPB/p1615514408090900\n明日のこの時間までお願いします。\n[https://gyazo.com/7d57c08553ed2fd21031fc476a028eed]\n\n\"「ここを一緒に解決して欲しい！」という文脈でエンジニアの求人に盛り込もうと考えています。\n共通でも個別でも構いませんので、記入いただけますと幸いです。\"\t\nアプリ\n（竹内）FWの設計・仕様もからめた開発速度の向上\n（佐藤）修正コストとのバランスを見つつ、既存実装のリファクタを考えられる[yuma_sato.icon]\n（遠藤）アイデアを整理して効率のいい開発をできるようにして欲しい[k.endo.icon]\n\nフロントエンドエンジニア\t\n（蓑毛）\n社員のフロントエンドエンジニアが少なく、インフラやCI・テストの整備が追いついていないので一緒に解決して欲しい！\n社員のフロントエンドエンジニアが少なく、Qrio社としてのフロント技術スタックが固まっていない状況なので、\nアーキテクチャや利用するフレームワークやライブラリなどの選定を一緒にやっていきたい！\n\nサーバーサイドエンジニア\n（蓑毛）\n・インフラでherokuを利用しているが、プロジェクトの規模も大きくなってきて限界を感じている。一緒に対策を練りたい\n・各種セキュリティ対策など、一緒に解決していきたい\n（駒井）\n（河本）\n\n\n[*** forkwell]\n>こういう人はピックアップしてほしくない人\n> → 今回に関してはNGを抽出\n> ← 例）C向けのサービスやっていないからとか\n\n\t25人とか多すぎませんか！？[k.endo.icon]\n\n\n[*** モデルハウス無人内覧サービス][takeuchi.icon]\n　無人内覧サービス提供元が、彼らのWebサービスで、QrioのAPIを使って無人内覧をしたい、という話があった（翔さん経由、宮澤さんが案件持っている）\n　エンドユーザーにはQrioアプリを一切ダウンロードさせず、サービス提供元のWebサービス内で予約から解施錠まで完結させたいとのこと。\n　2021.03.16に上記相談が竹内宛にあった。既存のAPIでたぶんできそうなので、APIドキュメント渡して検討してもらえればよいのでは、と回答した。\n　また後日、ドキュメントの提供などで相談したいとのことでした。\n\n[*** OSS ]\nSNCの小野坂さんとSonyの上田さん\nライセンス表記\n→ 使っているソフトウェア\n例えば\nhttps://www.atmarkit.co.jp/ait/articles/0902/05/news135.html\n Guardian → QH1A\n \tOSSライセンスはこちら\n \thttps://docs.google.com/presentation/d/1oB4hCOGIA_lAum0KIZScziaYuqEQnqPJ3mbeQmUcW00/edit##slide=id.g6ae03626ca_0_0\n QH1\n \tOSSライセンスはこちら\n \thttps://docs.google.com/presentation/d/0B1UN_JVwEUTWSmNKUkQxb2FRUUE/edit##slide=id.p32\n　Keyに関してはまだ刺されてないから大丈夫だと思っているが、刺される可能性あり\n　\tKnightも？？？\n　参考（ソニーのやつ）\n> ヘルプガイド | ライセンスについて\n> https://helpguide.sony.net/ilc/1540/v1/ja/contents/TP0000808241.html\n> \n> ODS-L10 (P19)\n> https://www.sony.jp/professional/support/manual_pdf/strage/4451115031.pdf\n> \n> ライセンス情報について | Panasonic\n> https://panasonic.jp/car/navi/license/license/license01.html\n> \n 作業ブランチ\n \thttps://github.com/qrioinc/corporate-site/tree/feature/licence\n\n\n[*** 正社員サーバー内田さん内定承諾]\n　入社日等未確定\n　4月退社\n　\t5月入りそう予定（未確定）\n\n[*** 合カギ発行制限を解除したking-cu-androidを提供する（ANRI）]\n\t2018年に、合カギ発行制限を解除してローカルビルドしたapkを、Qrioから某VCに特別に提供していた。\n\tしかし、最近そのアプリを起動すると「不明なエラー」によりログインできない\n\tパスワード再発行もしたがダメ\n\t\t原因調査するより、最新verから制限解除したやつ作ってログインした状態で渡すとかがよさそう\n\t今後のススメ方\n\t\t今回特別対応するが、営業サイドからカギカンの導入を進めてもらう\n\t川上さんにandroid端末用意してもらう\n\t\tCSにあるやつなんかいっこ\n\t（確認）アプリの渡し方（開発）\n\t\tapkかapp distributionで可能？（たけちゃんにきく）\n\t\t作業依頼投げたら2,3時間でいけそう\n  >Release release/anri · qrioinc/smartlock-king-cu-android\n  > https://github.com/qrioinc/smartlock-king-cu-android/releases/tag/release%2Fanri\n\t今回暫定対応・今後アップデート（→ カギカン）\n\n[*** 中野さん]\nwellcartからメール配信されていない\nstore@qrioinc.comの注文メール\n2021/03/24 22時までは大丈夫だった\n本日分のQrio Store からの注文がwelcartからクロスモールへ受注が配信されてないことが判明\n\nスマスピの利用状況\n→ 森田さん調べてくれって\n\n\n[*** 面談・選考の違い]\n> ＝＝＝＝\n> “話を聞いてみたい“=面談と表記しているもの\n> “選考“=面接と表記しているもの\n> ＝＝＝＝\n> 面談の場合は“話を聞いてみたい“というご認識でお願いいたします。\n> “話を聞いてみたい“の方でも温度感高めな方もいらっしゃる場合がある為、面談時に選考に進むかどうかをヒヤリングしていただき、進みたい方には面談時にそのまま選考していただいても大丈夫です。\n\n\n[*** Flutterについて（2021/03/30）]\nFlutter採用してもQrio的にはメリット少なそう[takeuchi.icon]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1616985776004200\n\n\n[*** レビューはハイプラだよ]\n> Code Review Guidelines | GitLab\n> https://docs.gitlab.com/ee/development/code_review.html##review-turnaround-time\n\n[*** forkwellのスカウトについて]\n\n\n# [WIP] アプリエンジニアNOTE\ncreated_at:Tue Jan 20 1970 02:15:49 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:21:28 GMT+0900 (日本標準時)\n[WIP] アプリエンジニアNOTE\n2021.4.2 作成中\nこの資料の概要：[開発キャッチアップ（king）]に加えて、アプリエンジニアに特化したQrio開発の基礎知識やTipsをまとめた\n想定ターゲット：ジョインしたてのアプリエンジニア\nこの資料の目的：Qrioに新しくジョインしたアプリエンジニアがQrio独自の領域のキャッチアップコストを減らし、スムーズに開発作業に入れるようにする（とっつきやすさ重視。詳細な情報は各仕様書などを参照）\n\n[*** 基礎知識]\n\tまずはこれ（BLE/EKey/Command/Payload/署名検証などQrioの基礎知識）\n\t\t[開発キャッチアップ（king）]\n\t上の情報に補足して\n\t\tByteArray/ByteBuffer\n\t\t\tByteArrayとは・・・バイト列のこと。実装上では主に16進数で扱われる。\n\t\t\tByteBufferとは・・・バイト列の入れ物のようなもの。バイト列に対し様々な操作ができるようになる。\n\t\t　　参考：https://nompor.com/2018/05/06/post-3660/\n\t　\tエンディアンとは・・・雑に言うとバイト列の並び順のこと。\n\t　\t　参考：https://www.uquest.co.jp/embedded/learning/lecture05.html\n\t　各データ型のByteサイズ\n\t　\thttps://docs.oracle.com/cd/E19253-01/819-0395/chp-typeopexpr-2/index.html\n\t　（※符号あり/なし、補数表現）\n\t\t（※実装サンプル）\n\t\t（※ペイロード解読サンプル）\n\n\tデータの流れのイメージ\n[https://gyazo.com/6634fa3dd1825468da71250b6e1238d6]\n\n[*** 使えるツール]\n\tN進数変換ツール（コマンドやペイロードの16進数の解読用。3つの中では一番多用する）\n  https://hogehoge.tk/tool/number.html\n\tデータ変換ツール\n  https://hogehoge.tk/tool/\n\tHMAC Generator\n  https://www.liavaag.org/English/SHA-Generator/HMAC/\n\n[*** FW作業いろいろ（テスト・デバッグ用）]\n　細かいことは書かないので詳細はwikiなど別資料参照。ここではアプリ実装する上での導入を大まかに記載する。\n　FW関連の詳細はhttps://qrio.esa.io/posts/835 を参照。\n 環境構築\n  RU(King)\n  https://github.com/qrioinc/smartlock-king-ru/wiki/Mac%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\n  Knight（FW側のログを見る方法も記載してあります）\n  https://github.com/qrioinc/knight/wiki/%E3%83%93%E3%83%AB%E3%83%89%E6%96%B9%E6%B3%95(mac)\n\n RUはsmart-lock-ru, KnightはknightのFW側のリポジトリをクローンして、ビルドしたいブランチ（基本的にはmaster）にcheckoutする\n 治具をつなぐ\n（※写真追加する）\n　上記wikiの方法に従ってコマンドラインでビルドする。\n　各コマンドでエラーが出ていなければ成功。\n　エラーが出る場合はまず各端子の接続を確認＆治具の電源はONになっているか確認→繋ぎ直しorコードを変えて治ることも多々ある。\n　アプリでFWバージョンを確認し、指定したブランチのバージョンと合っていれば成功。\n　バージョン確認方法\n　　RU Test\n　　　RU：設定取得→weakを選択→画面のログにFW verが表示される\n　　　Knight：情報読み出し→画面のログにFW verが表示される\n　　CU：設定画面で確認できる\n\n　その他\n　　本体情報書き込み方法：WIP（SQA用に量産試作機をデバッグ機に焼き直す時などに使用）\n　　Debug版とRelease版とでビルドする際のコマンドが異なるので注意（wiki参照）\n　　FWで詰まったら、とりあえずログを出して大西さんもしくはQBS担当に聞くのが早い\n\n# 20200405 リモートコマンド対応の相談\ncreated_at:Tue Jan 20 1970 02:20:02 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:20:05 GMT+0900 (日本標準時)\n20200405 リモートコマンド対応の相談\nリモートコマンド対応がJokerPJの負荷になっているので、タスクの振り方や方針を決めたい\n\n[*** 経緯]\n\tカギカン・Roomon要件として、Knightにサーバーからコマンドを送信できる仕組みが現在入っている。\n\t（省電力のため、設定した指定時間のみリモート通信できるようにする）\n\t（もともと企画要件で時間指定で通信する仕様になった、電池の消費を懸念していた）\n\tただし、ロックが常時通信できるのにKnightはやらないのか、ということが話に上がり、開発側が常時通信できないか、と再検討している。\n\t再検討に際して、Hubを改修したりして要求を叶えられるかどうかフィジビリをとらないといけないが、作業員が少なく（現在竹内さんのみ）、対応ができていない。\n\tPMには話自体を伝えていて、ロードマップがひかれていない状態\n\n\n[*** 考えたいこと]\n１：常時通信する方法を切り捨てるか、もしくは常時通信できるようにする検討を進めるか、何をもってFIXするか\n\n２：切り捨てる場合、そもそも現在の仕様が、カギカン・Roomonの要件を満たせているか確認するためのリソースと手段\n　フィジビリが取れてないとシステムが破綻する可能性がある\n　　どのくらい通信が失敗するのか\n　　カード1000枚登録するのに、１回で100枚しか登録できないなら10時間かかるかも\n　　　FWを修正したら改善できる\n　企画にはリスクを伝えてはいるが、、、\n\n３：常時通信できるようにする場合、竹内さんを専任にしないといけないので、Jokerの見積もりに影響する\n\t　ハンドリングする人が竹内さんになっているので、PM側で回して欲しい\n\n\n[*** MTG議事]\n中島）常時ADVは決まったことではないのか？\n\t竹内）決まっていない、全体に「できるかも」と伝えただけ\n\t\tサービス要求について確認はした\n\t\tその後竹内さんが休みに入ったため、状況・進捗が曖昧になってしまった\n\n中島）フィジビリとる、というのは要件をFIXしたいということか？\n\t竹内）そう、カード1000枚登録できるかどうかの確認など、要求を実現できるかどうかは、実機では未確認\n\n中島）Roomonとしてはほしいが、カギカンの温度感がわからない\n\t竹内）開発は駒井さん想定だが、河本さんがメインでやりそう？\n\n遠藤）いつまでに何をやればいいのか、早くに決めたい\n\n中島）toC要件にはかかわらないか？\n\t遠藤）（ワンタイムパスワード含め）いっさい関わらない\n\n中島）今週後半にカギカンのリモートコマンド対応のMTGを設定するので、竹内さんは初回だけ参加してほしい\n\n中島）toB要件は別にFWつくってもらうほうがいいのでは？\n\n\n[** メモ]\n[takeuchi.icon]\n　Knightの生産を遅らせることはできないので、toC向けの開発を先に行うのであれば、「1時間に1回通信」として1stリリースし、その後「常時通信」対応を行う（QBSには別途作業依頼する）ほうが、プロジェクト全体としてはよさそう（今からの仕様変更はリスクが大きすぎる）。\n　toBでKnightのFWアップデートが必要になってしまう件は、カギカンについては問題なし（こうきちさんとも認識合わせ済み）。Roomonについては、可能であれば業者のFW更新を避けたいが、2ndリリースで常時通信対応後、2ndリリースのFWで出荷されるロットを優先的にRoomonに導入してもらう運用フローでおさまる可能性もなくはない。\n　4/5週の宿題・進め方については以下参照。\n　　https://github.com/qrioinc/knight/issues/521##issuecomment-813225101\n\n\n# Untitled_2\ncreated_at:Tue Jan 20 1970 02:15:53 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:15:53 GMT+0900 (日本標準時)\n\n# Joker 開発スケジュール見える化 2021.03.23\ncreated_at:Tue Jan 20 1970 02:01:00 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:14:09 GMT+0900 (日本標準時)\nJoker 開発スケジュール見える化 2021.03.23\n\n[**** 経緯]\nJoker開発が、予定より1~2ヶ月遅れている。\nこのままいくとリリースに間に合いそうになく、調整が必要そう。\nしかしそれはエンジニアの感覚値でしかなく、経営・ビジネスサイドに伝わりやすいかたちになっていない。\nエンジニアも心理的不安を抱えたまま開発を続けており、健全ではない。\nそこで、残りの開発工数、スケジュールを詳細まで見える化したい。\n2021.03.23 - 24 で実施する。\n\t3.25までかかった[takeuchi.icon]\n\n\n[**** アジェンダ]\ndone\n\tゴールの設定\n\tアウトプットの設定\n　コストの書き出し\n　見積もりのテンプレ化\n\tepicと既存issueの関連付け\nwip\n　エピックに見積入力\n　\tstory pointの単位を仮置き\n　\tissue化（既存issueの整理も含む）\n　\tsub task記載\n　人員のアサイン\n　マネジメントコスト見積もり\n　スケジューリング\n　\tまずは1つの案を作成\n　\t代案作成（1つ以上）\n　SpreadSheetにまとめる\n\n\n[**** ゴール]\n1. [* 各人がやっているタスクまたはやるであろうタスクが全てisuueに落とし込めていること、また適切な工数が割り当てられていること、また優先度をつけること]\n\n2. [* 後藤さん向けの線表、スケジューリングと、具体的なプラン（代案含む）]\n\n以下を満たすように、詳細な工数・スケジュールを見える化する。\n 経営・ビジネスサイドとのコミュニケーションがとれること。\n 開発の心理的不安が取り除かれた状態であること。\n\n[*** ゴールのイメージ]\n[takeuchi.icon]\nZenHubのGantt Chart\n　epic, issue, sub taskが記載された状態であること。\n　issueにstory pointが入力された状態であること。\n　issueには、要件・仕様の他、これまで見えづらかったコストについても、可能な限り記載されており、見積もりに含まれていること。\n　epic, issue, sub taskの記載内容が、以下を満たすこと。\n　　「これらのsub taskをすべて消化すればこのissueをクローズできる」ことが明確であること。\n　　「これらのissueをすべて消化すればこのepicをクローズできる」ことが明確であること。\n　　「このepicをすべて消化すればこの機能を成果物とできる」ことが明確であること。\n\t粒度\n\t\tepic\n\t\t\t「Knightの登録」「Knightの設定更新」「Knightの登録解除」など、機能を表現する。\n\t\t\t\tこれまでどおり「KnightのCRUD」とかでいいか。外から見えるので、epicが完了していればその機能が実現できます的な表現にしたいから。\n\t\tissue\n\t\t\t多くても5人日で終わる分量であること。\n\t\t\t\tサーバー、アプリ、FWで、それぞれ適切な指標があるはず\n\t\t\t\t\tサーバーならAPIの本数とか、アプリなら画面数とか\n\t\t\t\t\tそこまで見積もることができれば、Jokerプロジェクトの成果物との関連性が明確になると思われる\n\t\tsub task\n\t\t\t多くても1日で作業可能な分量であること。毎日の朝会で進捗が見えるように。\n\n[minomo.icon]\n経営陣への説明資料作成\n各人がやっているタスクまたはやるであろうタスクが全てisuueに落とし込めていること、また適切な工数が割り当てられていること\nまた、優先度をつけること\n仕様作成、UI作成について役割が明確になっていること\n\n\n[yuma_sato.icon]\n 遅れが出るものを機能ごと？に項目分けして、リスク・見積もり工数・後ろ倒しのスケジュールを比較できる\n \t経営陣が何を優先して何を落とすか検討できる\n \t\t経営陣からみたアウトプットとして適切なかたちは何か？　を具体的にできるとよさそう\n \t\t\t線表、スケジューリングの具体的なプラン\n \t\t\t[* 後藤さん向け]。\n\n\n[k.endo.icon]経営陣がスケジュール調整をするための判断材料になること。\n　各人の不安点がタスク化されており、相応のコストが振られていること\n　\t（指示されたらとか）必要に応じてブレイクダウンできるようにタスク化しておく\n　目に見えるところではないが、遅れた原因もある程度説明できるようにしたい\n　\tたとえば２ヶ月前に成果物を作ったとして、どう成果物をみたら原因たるタスクが見えるようになるか、というのは相談したい\n　\tその上で、今回の成果物から遅延原因を洗い出したい\n　進め方についてだけど、、、経営陣に進捗を都度（3時間に１回とか）みてもらう\n　\t何が伝わるかわからないので\n\n\n[**** アウトプット]\nZenHubのGantt Chart\nhttps://app.zenhub.com/workspaces/joker-5fab39ce2b1b60000f5430fe/roadmap\n　epic, issue, sub taskが記載された状態であること。\n　issueにstory pointが入力された状態であること。\n　\t1point = 0.5日とする。\n　issueには、要件・仕様の他、これまで見えづらかったコストについても、可能な限り記載されており、見積もりに含まれていること。\n　epic, issue, sub taskの記載内容が、以下を満たすこと。\n　　「これらのsub taskをすべて消化すればこのissueをクローズできる」ことが明確であること。\n　　「これらのissueをすべて消化すればこのepicをクローズできる」ことが明確であること。\n　　「このepicをすべて消化すればこの機能を成果物とできる」ことが明確であること。\n\n線表とスケジューリングについては、SpreadSheetなどにまとめ、代案も複数記載する。\n\n\n\n[*** コストの洗い出し、テンプレ化]\nメモ: https://qrioinc.slack.com/archives/C01ABA9KBSB/p1616425245091000\n\n\n[** マネジメント]\n遠藤[k.endo.icon](Joker作業工数: 5%, マネジメントその他: 95%)\n\tSQA（0.3）\n\t　戻り調査\n\t　優先度付\n\t　スケジュール遅延によるテスト計画引き直し\n\t　SQA環境構築\n\t　\tデバイス調整\n\t　\t\tFW更新\n\t　\t\t\tQBSとの連携\n\t　\t\t郵送\n\t　\tDBにデバイスのデータを入れるなど\n\t　\tアプリはアプリバージョンの認識合わせくらい\n\t業務委託（市田さん、東さん）開発（UI・UX含む）(0.3)\n\t　実装上変更が必要な箇所の仕様変更\n\t　チーム関連携（サーバ、FW、デザイナ）\n\t　タスク管理\n\t　仕様インプット\n\t　SQA環境構築\n\t　\tデバイス調整\n\t　\t\tFW更新\n\t　\t\t\tQBSとの連携\n\t　\t\t郵送\n\t　\tDBにデバイスのデータを入れるなど\n\t　コードレビュー\n\t　場合によってはペアプログラミング\n\t外部委託（深澤さん、ひろさん）２人(0.05)\n\t　同上で同等以下のコスト（品質安定している＆既存アプリの知見あり）\n\t佐藤さん技術サポート(0.1)\n\t　場合によっては業務委託のコストと同等 \n\t4月からの業務委託のキャッチアップ（0.15）\n\t（Joker以外）(0.05）\n\t\t面接\n\t開発リード(0.05）\n\t\tissue管理\n\t\tJoker朝会\n\n佐藤[yuma_sato.icon] (Joker作業工数: 90%, マネジメントその他: 10%)\n\tSQA(3h/week: 7.5%)\n\t　SQA環境構築\n\t　\tデバイス調整\n\t　\t\tFW更新\n\t　\t\t\tQBSとの連携\n\t　\t\t郵送\n\tissue整理(1h/week: 2.5%)\n\n\n竹内[takeuchi.icon]（Joker作業工数: 60%, マネジメントその他: 40%）\n\tissue整理 (2h/week: 5%)\n\tQ-H1A開発（FW）のQBSディレクション (2h/week: 5%)\n\t\t仕様インプット\n\t\t環境構築\n\tセキュリティ対応の、外部連携先のディレクション (2h/week: 5%)\n\tメンバーへの仕様展開 (2h/week: 5%)\n\t詳細設計の相談 (2h/week: 5%)\n\t佐藤さん技術サポート (2h/week: 5%)\n\tペネトレのハンドリング(2h/week: 5%)\n\t（Joker以外）\n\t\tRoomonアプリエンジニアサポート、API連携相談とかもろもろ (2h/week: 5%)\n\n\n\n河本[junichi.kawamoto.icon]\n(いったん、工数には含めない。)\n\tPM、PdMへの開発進捗共有・スケジュール調整\n\t\tJoker朝会\n\t\tスプリントMTG\n\t\tissue整理\n\n[** 2021/04からの人員と、Joker作業に割ける工数一覧]\n遠藤: 10%\n佐藤: 90%\n竹内: 60%\n河本: 0%\n三上: 60%\n東: 100%\n市田: 100%\n深澤: 25%\n山口（ひろ）: 25%\n 合計：470%\n \tおれたち全員で4.7人！\n\n3/24現在のストリーポイント合計: 537\n537 / 2 = 268.5人日\n268.5 / 4.7 = 57.127659574日\n\n→レビュー工数、レビュー指摘修正工数、SQA戻り工数\n57.127659574 * 1.9 = 108.542553191日かかる\n-> 今後の開発で109日（５ヶ月程度）かかる想定\n\tKN CRUDが曖昧な状態\n\n[*** テンプレ]\n[** アウトプット]\n`- [ ] 項目: 作業工数`\n 作業工数はstory pointとする。\n \t作業工数は、テンプレ下に記載した「タスク」を参照しながら入力すること。\n マネジメントコストは作業工数に含まない（別途計上とする）。\n レビュー指摘対応は計上する。\n \tレビュー自体のコスト（情報共有のためのコミュニケーションコスト含む）は、別途計上とする。\n\ncode:output.md\n ### システム仕様書\n - FW設計仕様書\n   - [x] 作成: \n   - [x] 開発内指摘対応済み: \n   - [x] PM指摘対応済み: \n - シーケンス図\n   - [x] 作成: \n   - [x] 開発内指摘対応済み: \n   - [x] PM指摘対応済み: \n - ER図\n   - [x] 作成: \n   - [x] 開発内指摘対応済み: \n   - [x] PM指摘対応済み: \n - API DOC\n   - [x] 作成: \n   - [x] 開発内指摘対応済み: \n   - [x] PM指摘対応済み: \n \n ### サーバー実装\n - API\n   - [] 実装: \n   - [] 開発内指摘対応済み: \n   - [] SQA指摘対応済み: \n \n ### アプリ実装\n - keyfi BLEライブラリ\n   - [] 実装: \n   - [] 開発内指摘対応済み: \n - RU Test (UI)\n   - [] 実装: \n   - [] 開発内指摘対応済み: \n   - [] SQA指摘対応済み: \n - CU\n   - UI\n     - [] 実装: \n     - [] 開発内指摘対応済み: \n     - [] SQA指摘対応済み: \n   - ロジック\n     - [] 実装: \n     - [] 開発内指摘対応済み: \n     - [] SQA指摘対応済み: \n   - 繋ぎ込み\n     - [] 実装: \n     - [] 開発内指摘対応済み: \n     - [] SQA指摘対応済み: \n \n ### FW実装\n - ロジック\n   - [] 実装: \n   - [] 開発内指摘対応済み: \n   - [] SQA指摘対応済み: \n - 繋ぎ込み: \n   - [] 実装: \n   - [] 開発内指摘対応済み: \n   - [] SQA指摘対応済み: \n \n ### SQA\n - テスト設計書\n   - [ ] 正常系: \n   - [ ] 異常系: \n - テスト結果(1巡目)\n   - [ ] 正常系: \n   - [ ] 異常系: \n - テスト結果(2巡目以降)\n   - [ ] 正常系: \n   - [ ] 異常系: \n \n\n\n[** タスク]\n\tシステム仕様作成\n\t\tアーキ設計\n\t\t\tどこにどういうデータが必要か\n\t\t\tデータのやりとりのフロー（シーケンス）はどうあるべきか\n\t\t\tセキュリティ要件が何か確認\n\t\t\t\t開発がセキュリティ要件の案をつくってPM（PdM）に提出、承認を得る\n\t\t\t権限どうするか\n\t\t\t\tカギカン/RoomonなどtoC以外の要件との兼ね合いの検討\n\t\t仕様案の作成\n\t\t\tデータの持たせ方（テーブル・API草案）\n\t\t\tシーケンス草案\n\t\t仕様レビュー\n\t\t\t指摘事項のフィードバック\n\t\t\t何往復かする（3往復くらいする）\n\t\tシステムをデザインに落とし込む\n\t\t\tデザイナーにインプットして、CUのUIを作ってもらう\n\t\t\tUIのレビュー、フィードバック\n\t\t\t\t3往復くらい\n\t\t詳細設計\n\t\t\tアプリ\n\t\t\t\tサーバー・CU・FW間のシーケンスの作成\n\t\t\t\tレビュー\n\t\t\tサーバー\n \t\t\tテーブル設計\n \t\t\tAPI設計\n \t\t\tAPI Doc作成\n \t\t\tレビュー\n\n\t実装\n\t\tサーバー\n\t\t\t既存の設計のキャッチアップ\n\t\t\tクラス設計\n\t\t\t実装\n\t\t\t\t権限の設計・実装\n\t\t\t\tCUとのつなぎこみの実装\n\t\t\t\tロジックの実装\n\t\t\t単体テスト or 開発者テスト\n\t\t\t仕様に対する指摘・仕様変更の対応\n\t\tアプリ\n\t\t\tkeyfi/RU Test\n\t\t\t\t既存の設計のキャッチアップ\n\t\t\t\tクラス設計\n\t\t\t\t単体テスト or 開発者テスト\n\t\t\t\tUI実装（テスター向け）\n\t\t\t\tロジックの実装\n\t\t\t\tFWとの繋ぎ込み\n\t\t\t\t\t仕様に対する指摘・仕様変更の対応\n\t\t\tCU\n\t\t\t\t既存の設計のキャッチアップ\n\t\t\t\tクラス設計\n\t\t\t\t単体テスト or 開発者テスト\n\t\t\t\tUI実装（デザインの反映）\n\t\t\t\tロジックの実装\n\t\t\t\tサーバー・FWとの繋ぎ込み\n\t\t\t\t\t仕様に対する指摘・仕様変更の対応\n\t\tFW\n\t\t\t既存の設計のキャッチアップ\n\t\t\t設計\n\t\t\t単体テスト or 開発者テスト\n\t\t\tロジックの実装\n\t\t\tサーバー・CUとの繋ぎ込み\n\t\t\t\t仕様に対する指摘・仕様変更の対応\n\n\tSQA（issueは切らず、epic自体の工数に追加する）\n\t\tテスト設計（項目作成）\n\t\t\tSQAへの仕様のインプット\n\t\t\t正常系の項目作成\n\t\t\t異常系の項目作成\n\t\tテスト実施\n\t\t\tテスト\n\t\t\t起票（障害、仕様の指摘）\n\t\t\t\tエンジニアへのインプット\n\t\t開発のSQA対応\n\t\t\tSQA指摘内容の把握\n\t\t\t調査（対応方針の判断含む）\n\t\t\t対応\n\t\t\t\t1. バグ→コード修正\n\t\t\t\t2. 仕様自体の見直しが必要→仕様案見直し、PMと相談、（+ 設計・コード修正）\n\t\t\tSQAに修正内容の共有（必要があれば環境整備）\n\t\t以上、SQA - 開発間でのやりとりが何往復かする\n\n\n\n[*** 例: Epic: Knight登録]\n\tシステム仕様作成\n\t\tアウトプット（これをベースにissueを切っていく）\n\t\t\tFW設計仕様書\n\t\t\tシーケンス図\n\t\t\tER図\n\t\t\tAPI DOC\n\t\t\t（その他、アウトプットの必要があれば随時）\n\t\t発生するタスク\n\t\t\tアーキ設計\n\t\t\t\tどこにどういうデータが必要か\n\t\t\t\tデータのやりとりのフロー（シーケンス）はどうあるべきか\n\t\t\t\tセキュリティ要件が何か確認\n\t\t\t\t\t開発がセキュリティ要件の案をつくってPM（PdM）に提出、承認を得る\n\t\t\t\t権限どうするか\n\t\t\t\t\tカギカン/RoomonなどtoC以外の要件との兼ね合いの検討\n\t\t\t仕様案の作成\n\t\t\t\tデータの持たせ方（テーブル・API草案）\n\t\t\t\tシーケンス草案\n\t\t\t仕様レビュー\n\t\t\t\t指摘事項のフィードバック\n\t\t\t\t何往復かする（3往復くらいする）\n \t\tシステムをデザインに落とし込む\n \t\t\tデザイナーにインプットして、CUのUIを作ってもらう\n \t\t\tUIのレビュー、フィードバック\n \t\t\t\t3往復くらい\n \t\t詳細設計\n \t\t\tアプリ\n \t\t\t\tサーバー・CU・FW間のシーケンスの作成\n \t\t\t\tレビュー\n \t\t\tサーバー\n  \t\t\tテーブル設計\n  \t\t\tAPI設計\n  \t\t\tAPI Doc作成\n  \t\t\tレビュー\n\n\t実装\n\t\tサーバー\n\t\t\tアウトプット\n\t\t\t\tAPI作成\n\t\t\t\t繋ぎ込み\n\t\t\t発生するタスク\n\t\t\t\t既存の設計のキャッチアップ\n\t\t\t\tクラス設計\n\t\t\t\t実装\n\t\t\t\t\t権限の設計・実装\n\t\t\t\t\tCUとのつなぎこみの実装\n\t\t\t\t\tロジックの実装\n\t\t\t\t単体テスト or 開発者テスト\n\t\t\t\t仕様に対する指摘・仕様変更の対応\n\t\tアプリ\n\t\t\tkeyfi/RU Test\n\t\t\t\tアウトプット\n\t\t\t\t\tkeyfiライブラリ（ほとんどがBLEコマンド）\n\t\t\t\t\tサーバー・FW繋ぎ込み\n\t\t\t\t\tRU Test実装\n\t\t\t\t発生するタスク\n\t\t\t\t\t既存の設計のキャッチアップ\n\t\t\t\t\tクラス設計\n\t\t\t\t\t単体テスト or 開発者テスト\n\t\t\t\t\tUI実装（テスター向け）\n\t\t\t\t\tロジックの実装\n\t\t\t\t\tFWとの繋ぎ込み\n\t\t\t\t\t\t仕様に対する指摘・仕様変更の対応\n\t\t\tCU\n\t\t\t\tアウトプット\n\t\t\t\t\tUI\n\t\t\t\t\tロジック\n\t\t\t\t\t繋ぎ込み\n\t\t\t\t発生するタスク\n\t\t\t\t\t既存の設計のキャッチアップ\n\t\t\t\t\tクラス設計\n\t\t\t\t\t単体テスト or 開発者テスト\n\t\t\t\t\tUI実装（デザインの反映）\n\t\t\t\t\tロジックの実装\n\t\t\t\t\tサーバー・FWとの繋ぎ込み\n\t\t\t\t\t\t仕様に対する指摘・仕様変更の対応\n\t\tFW（一応、項目としてあげるのみ）\n\tSQA（issueは切らず、epic自体の工数に追加する）\n\t\tテスト設計（項目作成）\n\t\t\tSQAへの仕様のインプット\n\t\t\t正常系の項目作成\n\t\t\t異常系の項目作成\n\t\tテスト実施\n\t\t\tテスト\n\t\t\t起票（障害、仕様の指摘）\n\t\t\t\tエンジニアへのインプット\n\t\t開発のSQA対応\n\t\t\tSQA指摘内容の把握\n\t\t\t調査（対応方針の判断含む）\n\t\t\t対応\n\t\t\t\t1. バグ→コード修正\n\t\t\t\t2. 仕様自体の見直しが必要→仕様案見直し、PMと相談、（+ 設計・コード修正）\n\t\t\tSQAに修正内容の共有（必要があれば環境整備）\n\t\t以上、SQA - 開発間でのやりとりが何往復かする\n\n\n\n\n[** issueのepic紐付け]\nとりあえずおわた[takeuchi.icon]\n\n\n\n[** story point入力]\n各自、自分assigneeのissueと、他メンバーのassignee && 自分の担当両分だったら見積もる\n1pt = 0.5人日\n2pt = 1.0人日\n3pt = 1.5人日\n5pt = 2.5人日\n8pt = 4.0人日\n13pt = 6.5人日\n21pt = 10.5人日\n\n見積もりはレビュー実施工数、SQA実施工数、戻りの修正工数なしで入力（検討、デザインフィードバック、仕様書作成、実装にかかる工数のみ）。\nのちに係数を掛けて値を算出する。\nほとんどのissueで上記が必要なので、issue全てに対して係数を掛けてよい。\n\tSQA指摘の修正工数: x 0.5\n\tレビュー工数: x 0.1\n\tレビュー指摘修正工数: x 0.2\n\n\n\n[*** スケジュール]\nZenHub Board\nhttps://app.zenhub.com/workspaces/joker-5fab39ce2b1b60000f5430fe/board?repos=181426836,104843419,100921417,105432188,105432216,112175796,100914674,138530333,100928520,261969117,271717284,273175313,300506864\n\n\n\nメモ\n・最適な人員案（駒井さんの合流、Roomon/カギカンの業務委託をどうするとか？）\n・ある程度の優先度の認識合わせをする\n・JX/KX/KEは全部後回し\n・リモートコマンドも一旦後回し　→　検討\n・BUPIN後回し\n・SuperLegendよく分からない\n・レスポンス署名対応の外部連携\n・ワンタイムパス/ブラックリストの扱い検討\n・CUのデザイン不明箇所洗い出し\n・まずは一本通すことを考えて一旦Androidのみに注力するのはどうか？（SQAや仕様の戻りなど色々考慮しつつ）\n\n\tQBS側のスケジュールも考慮して検討する必要あり\n\t\tMaster Scheduleを参照する\n\n\n[*** 今後の開発の運用方法]\n日時で進捗（issue消化率など）を追えるような仕組みを作りたい。\n\tSpreadSheetに書いていく？\n\tZenhubとかでそういう機能ないかな？[takeuchi.icon]\n\n\n[**** notes]\n今回議論した内容をIoT開発見積の知見としてストックしておきたい[takeuchi.icon]\n\n# アプリ開発のキャッチアップコスト削減運動\ncreated_at:Tue Jan 20 1970 02:05:55 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:06:00 GMT+0900 (日本標準時)\nアプリ開発のキャッチアップコスト削減運動\n[yuma_sato.icon]\n入社してからキャッチアップにコストがかかったこと\n Android開発基礎\n プログラミング基礎（主にJavaの知識）\n GitやBitriseなどのツールの使い方\n ReactiveXの概念・使い方\n 16進数・バイナリの扱い方\n BLE知識（Advertise, Charactaristic, notificationなど）\n FW書き込み＆ビルド周り（治具・ログ・JLink）\n API通信\n 認証・署名検証・暗号（公開鍵＆秘密鍵 / HMAC / AES256 / NONCE）\n\nRx\n\tテストコード のようなドリルみたいなのあればよかった？\n\n詳細\nhttps://docs.google.com/spreadsheets/d/1Q8daHQxGeuQVVVXcv3-88N1unlCmy4CMwbWU0K4ZK-Y/edit##gid=1830694354\n\n共通して言えること\n大きいことを小さいことに分割していく\n小さくやって構造を理解していくところからやっていく\n小さいコード書いて反復練習\n\nアウトプット\n今まで潰したissue\nissueを潰すのに必要なスキルセット・それを習得するのにかかるキャッチアップコスト\n→コストに対しての成果物\n\n\n\n\n# k.endo\ncreated_at:Mon Jan 19 1970 23:38:40 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:05:16 GMT+0900 (日本標準時)\nk.endo\n[https://zukan.pokemon.co.jp/zukan-api/up/images/index/621742c1e543e64b5ea327c0cddb04df.png]\n[* wahahahahahaha]\n\ncode:style.css\n body {\n    background-image: URL('https://www.yamakei-online.com/new_images/yamanavi/main_photo/891_raw.jpg');\n }\n .line strong.level-1 {\n     background: linear-gradient(transparent 10%, ##FAE2E1 25%, #FAE2E1 70%, transparent 90%)\n }\n a[type=\"hashTag\"]{\n  display: inline-block;\n  padding: 2px 8px;\n  margin: 0 8px 10px 0;\n  background: ##fff;\n  color: ##f27e48;\n  font-size: 0.8em;\n  border: 1px solid ##f27e48;\n  border-radius: 3px;\n  transition: .3s;\n  -webkit-transform: scale(1);\n  transform: scale(1);\n }\n a[type=\"hashTag\"]:hover{\n  -webkit-transform: scale(1.1);\n  transform: scale(1.1);\n } \n\n\ncode:script.js\n scrapbox.PopupMenu.addButton({\n  title: 'checkRed',\n  onClick: text => {\n   return '[! ' + text + ']';\n  }\n }) \n\ncode:script.js\n scrapbox.PopupMenu.addButton({\n  title: 'onLabel',\n  onClick: text => {\n   return '[{ ' + text + ']';\n  }\n }) \n\n##member\n# settings\ncreated_at:Tue Jan 20 1970 01:25:31 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 02:02:40 GMT+0900 (日本標準時)\nsettings\ncode:style.css\n .deco-\\! { color: red; font-size: smaller; padding: 0 .2em }\n .deco-\\{ {\n   display: inline-block;\n   padding: 2px 8px;\n   margin: 0 8px 10px 0;\n   background: ##fff;\n   color: ##f27e48;\n   font-size: 0.8em;\n   border: 1px solid ##f27e48;\n   border-radius: 3px;\n   transition: .3s;\n   -webkit-transform: scale(1);\n   transform: scale(1);\n }\n\n# Joker SQA定例\ncreated_at:Tue Jan 20 1970 01:49:30 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 01:49:32 GMT+0900 (日本標準時)\nJoker SQA定例\n[*** 2021/03/15]\nセキュリティ\n1件だけNG\n\nKnight\n3月Knightが2週間遅れている\n進捗的に4月1人は難しそう\n→ カギカン4月1名ヘルプをする必要ありそう\n\n5月にios/and一人づつかけたい\n→ KE/JX/KXの後ろ倒し分をこっちに入れることでカバー\nUI改修はKnightで入っている\n\nSL\nRUテストの部分は終わった\nアプリを繋ぎ込んだ後待ち（ふかひろさん実装後）\n\nハンズフリー\nQrioKEyのハンズフリーもオフになるのが懸念\n\n\nRoomon\nどういう機能があるので、どれくらい時間がかかるか予測できていない\n設計書ない状態でテスト・今までのテストと少し違う感じになる\n1からテストする感じ\n電話鍵とかなくなったりとか\n\n機能ベースとかの設計は4月から\n\nBCUはほぼほぼ画面できてる\nコンソールはワイヤーフレームまでできている\n\n概略の説明とか今週やる。BCU/CU・コンソールそれぞれ1時間づつ（中島・山田）\n\n\n# Dev MTG 2021/02\ncreated_at:Tue Jan 20 1970 01:02:29 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 01:34:09 GMT+0900 (日本標準時)\nDev MTG 2021/02\n##devmtg\n[*** この時間で共有・相談したいこと]\n 今週からJOKERの朝会をはじめました\n Apple MemberShip更新しました\n Push通知の更新をしないといけません\n \t河本対応中\n \t2/15にStaging適応して動作チェック\n \t問題なければ2/16以降に本番適用を実施\n \t締め切り2月20日まで\n \t完了しました\n\n[*** JOKER]\nhttps://github.com/orgs/qrioinc/projects/4 でissue、進捗管理してます。ここでは詳細は書きません。\n全体はasanaです。 https://app.asana.com/0/1199671273936821/timeline\n\tSQA用デバイス用意するの結構大変、、、割と時間取られる[k.endo.icon][yuma sato.icon]\n\tKnightの設計ヤバイむずそう[minomo.icon]\n\tKnightのCRUDが思ったより出戻りが多い\n\t\tコミニケーションコストが変わってない[minomo.icon]\n\t\t実装しないとわからないところがかなり多い[takeuchi.icon]\n\t\t\tシーケンス、API、画面、SQA、全部見直しが定期的にかかってる[k.endo.icon]\n\t\tRoomonの要件もCUに入ったり、見積もり切れないところ[minomo.icon]\n\t\t今回の対応ではセキュリティや実装面でいざやってみないとシーケンスが複雑で多かったのが想定より膨らんでる[takeuchi.icon]\n\tセキュリティ案件面もSQA戻りがかなりある[k.endo.icon]\n\t\tブロッカーになっているので優先度高めで戻ってくるからKnight対応できなかったりとか\n\t\t既存アプリの潜在バグとかもあったり\n\t\t\t同時接続できない対応\n\t今根幹の部分をやっていて要件としては一番重いところ\n\tKnight専用の環境を予め用意しておいた方がよかった\n\tワンタイムパスワードの件、2/22週に高橋・中島に展開、スケジュール調整\n\t\tスケジュールするので、スケジュール調整お願いできますか＞河本さん[k.endo.icon]\n\t適切な見積もり\n\t設計\n\t毎日開発朝会するのいい\n\tSLの2週目のFT\n\t\t河本・蓑毛・（誰か→山田さん）\n\tざわひろさん\n\t\t開始タイミング（3月から）\n\t要件→仕様に落とし込む作業は誰がやっているのか[k.endo.icon]\n\t\thttps://qrioinc.slack.com/archives/C01ABA9KBSB/p1613984242031500\n\t\t取りまとめがいない\n\t\t中島さんにやってもらうのがいいと思う\n\t\t\tJX/KXほんとにやるの？とか\n\t\t\t\thttps://qrioinc.slack.com/archives/C01ABA9KBSB/p1614130463039500\n　週次でasanaスケジュール確認した方がよさそう\n　\t週頭と週終わりとかに進捗確認として\n　\tブラックリスト対応抜けてた！[k.endo.icon]\n　\t\tスケジュール調整したい\n\n[*** Kagican]\n V3開発中\n 　https://app.asana.com/0/1199522101046125/timeline\n 　請求方法変更機能いったんシメる\n 　　UI仕様考えきれてないのでAPI後回し\n 　　DBとpayjpのつなぎこみだけあげる\n 何か合鍵グループ紐付けができない\n 　三上さんが応対してた。それ以上のことは知らない。[komai.icon]\n 　コンソールでごにょごにょしたら一応回避できるらしいので一旦放置\n 　三上さんが対応した\n HubのFwアップデートできない\n 　ﾅﾝﾃｺｯﾀ\n 　登録したときに最新にしてる疑惑\n 　\t実装みてない。できないとしても、今は追加開発できないのでいったん置きで[takeuchi.icon]\n\n[*** Roomon]\n　仕様策定中[minomo.icon]\n　 一部ER図が決まらないと、仕様検討できない箇所あり\n　設計構想は2/18に実施する[minomo.icon]\n　 終わり！\n　 \twa-i :[takeuchi.icon]\n　KEやRoomonのことを考えたER図作成中[minomo.icon]\n　　なかなかやる時間なし\n　三上さんと、ユーザーのCUで入居モード変更相談中[minomo.icon]\n　　もうちょっと話す\n　採用（あとはAndroid, front1, パソリ）[minomo.icon]\n　4月からアフロPMが来る？[minomo.icon]\n　\tくるってGT言ってた。中島さんに変わってRoomonアサイン\n　\t\tafuro岩村さん。\n　橋本さんがGraphQLを素敵にしてくれている[minomo.icon]\n　　サーバー、front、ネイティブアプリのコード自動生成など\n　Roomonの権限を検討中[minomo.icon]\n　設計構想終わりました\n　\tこれから割と手離れするつもり\n  状況としては結局手離れしていない\n  \tできればもうちょっと中島さんに巻き取ってもらいたい\n  \t仕様検討とかのMTGキャンセルしたい\n 面接負荷高い\n\t\t書類チェック\n\tログインの外部サービスについて\n\t　自前でいくでも良い？\n\t　 独自化しないか（認証の仕組みなど）\n\t　 性能\n\t　 セキュリティ\n\n[*** Ienaka]\n\tイエナカCPN実施中\n\tLP複数社対応\n 品質設計に向けて準備を進めています[junichi.kawamoto.icon]\n \t[k.endo.icon]から[junichi.kawamoto.icon]にバトンタッチ\n \tただざっと見たところ実施が3月の中旬位を見込んでいます\n \tまだ村上さんとかにも報告していません\n \t\tしました\n \tCU周りの話を進めています。[junichi.kawamoto.icon]\n \t\t来週に月曜詳細周り王と村上さんと一緒にここの話をしてくる状態です\n \t\tコンソールの部分もあるのでそっちの設計と要件のすり合わせも同時に進めてます\n サイドメニューのバナー削除を3月にやる予定[k.endo.icon]\n 新しいゲストキー（イエナカキー）みたいなのを作らないといけない可能性大\n\n[*** toC関連]\n\tGoogleプライバシーポリシー[yuma_sato.icon] (3/29がデッド)\n\t\tsmart Tag/QSL1用アプリ改修済み→ストア上申請やる[yuma sato.icon]\n\t\t権限申告フォームの前にアプリのアクセス権の設定必要[yuma sato.icon]\n\t\t\t調べながら（竹内佐藤遠藤）\n\t\t\t\tやるお[takeuchi.icon][k.endo.icon][yuma sato.icon]\n\t\t\t\t記入済。リジェクトしないでGoogleさん。[yuma_sato.icon]\n\t\t\t\t[k.endo.icon][## おねがいGoogleさん！！！]\n\tQSL1（smart Tagも？）のiOSアプリはもう改修できない\n\t\tSwiftのバージョンが古くてストアに出せないお[takeuchi.icon]）\n\n[** Hubの生産が止まっちゃう件]\nDevelop/hub個体データ、工場連携周り - qrio.esa.io\nhttps://qrio.esa.io/posts/799\n\thubの生産再開に向け個体データ追加する[takeuchi.icon]\n\t\tpsmを作るところで止まっている\n\t\t\t作り方は三上さんに聞いてる\n\t\t2/19に出社して山田さん[k.endo.icon]で確認\n\t持って行き方\n\t\t今までは開発メンバーが現地にUSBとかに入れて持って行って、工場のPCにデータ写してた\n\t\t\t別方法: Google Driveとかで工場と共有して、電話とかしながら工場の人にやらせる\n\t\t\tGoogle Driveにあげることが会社としてOKならそれでもいいかも\n\t\t\t\tでも行った方がコミュニケーションコストが低そう\n\t\t竹内が現地での手順をまとめる[takeuchi.icon]\n\t\t\t\t現地のPCにログイン\n\t\t\t\t個体データとスクリプトがどっかに置いてあるので、探す\n\t\t\t\tUSBで個体データを現地のPCに転送する\n\t\t\t\tバーコードでスキャンする\n\t\t\t\t工場の人に、1060001ハブを借りて、実際の書き込み手順をテスト\n\t\t\t\t問題なければ帰る\n\t\t\t当日は、竹内とかわもんが電話しながら作業する\n\t\t\t持ち物リスト（忘れ物がなきよう）\n\t\t\t\tUSBメモリ（スクリプト入れる）\n\t\t\t\tハブ（シリアルNo: 10XXXXX）、治具、フレキケーブル、USBケーブル（あたらしい個体データの動作確認のため）\n\t\t\t\tPC（作業用PC（MacBookPro）でおk。最新のFWを焼ける環境を持っていこう）\n\t\t工場のPCのスクリプトを持って帰って構成管理にぶっこみたい[takeuchi.icon]\n\t\t\t簡易動作検証\n\t\t\t\t工場検査モードを実行\n\n[*** その他]\n hubのSSL証明書の対応しています[junichi.kawamoto.icon]\n \t一旦決済をあげています。\n\t \t通ってました\n\t\t更新作業しなきゃいけません(2021/2/27)\n\t\thub生産周りでバタバタしてたので\n\t\tdegicertの画面から証明書の更新で、クレカの情報が必要なので、和田さんに依頼する\n\t\t証明書DLとかその後はまだフロー未知数\n\t\therokuに上げるんだけど、DLがどこでできるのかわかってない\n\t\t和田さん\n\t\t証明書\n\t\t\t更新手続き完了\n\t\t\tcertファイル手元にある\n\t\t\thttps://qrio.esa.io/posts/782\n\t\t\t\tコメントの更新のやつがそうです\n\t\t\tで、これをherokuにあげます\n\t\t\t\t今日金曜だったので、水曜にします（火曜休みになるので）\n\tなんかビッククエリのやつdisableしました[junichi.kawamoto.icon]\n\t\t来週まで様子みて特に問題なさそうであれば削除\n\t\tazms[takeuchi.icon]\n\t\t\tたぶん消して問題ないけど消した時に何が起きるかわからないから放置しておこう(´・ω・`)[takeuchi.icon]\n\t河本さん、えんどぅ、佐藤New Joker（新サービス検討）やる（〜3/5）\n\t\t周辺デバイスのbeacon強度検知アプリ作成[yuma_sato.icon]\n\t\tAppClipやる[junichi.kawamoto.icon]\n\t\tハンズフリーをWifiトリガーにすると精度上がるか竹内さんと遊ぶ[k.endo.icon][takeuchi.icon][k.endo.icon][takeuchi.icon][k.endo.icon][takeuchi.icon][k.endo.icon][takeuchi.icon]\n　リファービッシュどうなってる？[komai.icon]\n　 期限決まってないからまだ具体策いらない\n　 今月中にSNCに提案しなきゃならない？\n　 \t今月中に実現可能性だけ村上さんに報告\n　 書き始めました\n　 \tDevelop/大量リファビッシュ方法考える - qrio.esa.io\n   https://qrio.esa.io/posts/800\n pubnubが三上さんのアカウントに紐付いている件\n  https://qrioinc.slack.com/archives/C01ABA9KBSB/p1612853210070100?thread_ts=1612850709.055400&cid=C01ABA9KBSB\n  まだ何も手がつけられていない状態\n  やっぱり移管する時とかに何か考えるか\n Webフロント絡んだ良さそうなサーバー設計\n 　https://qiita.com/kuromitsu0104/items/dc0021a20100e11f2f7d\n 　https://github.com/kuromitsu0104/gadget-app\n 　　いまのとこカギカンとkingオペで利用でき{そう。変な独自アーキ全く使ってないっぽいしベストプラクティス候補。\n 　ienakaで必要になりそう\n 　そのための、サーバーエンジニアも採用しないとけない\n iosPush通知証明書、onesignal更新した[junichi.kawamoto.icon]\n \tazms[takeuchi.icon][k.endo.icon]\n RoomonV1の運用費を知りたい[## new!]\n Androidのベータ版、クローズする？[k.endo.icon]\n \tハンズフリーのβ版よね。ストアから消していいお[takeuchi.icon]\n\n[*** webLP移管]\n \tgazってところにkaigcanのLPのstduio移管を依頼中\n \t\t3月~4月頭にかけて実装\n \tRoomonのLPは河本やってる\n \t\t手を休めてます\n\n[*** 他社との話 ] \n[** TOTO連携]\n[https://gyazo.com/d676821e67e55f085893615e25d29cb5]\n移動式のトレイにLockをつけて、予約して開けしめすることを利用想定\n\n[** obnizLTE]\n実現したいこと\n 他社のhub的なものを（Qrioアプリ OR 先方の登録アプリ（新規））で登録して、Qrioアプリで解施錠できるようにしたい\n→ 新しいスキームだけど行けるか否か\n　追加になりそうなもの\n　\t他社管理用のhubテーブル的なもの\n　\thub登録画面に他社機器の登録的な画面の作成\n　\t他社ADVから機器情報\n　あるいは（中間案）\n　\t登録周りは向こうで持って貰って〜って思ったけど、登録機器のDB登録・情報取得周りがあるからNGか\n[https://gyazo.com/3059515ea38be99b3b4b9f3a6c380a83]\n wenaと一緒\n \tうちで登録していいデバイスかどうか管理しないといけない\n \t\t「登録するデバイスが、Qrioが認めたものである」ことを証明するにはQrioのDBにデバイス情報を入れておく必要があるから[takeuchi.icon]\n セキュリティ要件がどういったものか\n \twenaとは違うのかな。わからぬす[takeuchi.icon]\n Next Action\n \twenaと同様の管理で、どれくらい開発掛かりそうかこうきちくんに返信\n\n\n[*** 業務委託のPC購入のやつ]\n\t想定している人数分今年度予算で購入する\n\t（河本やる）2021/02/18\n\t今まだ発注かけてない人数分の確認\n\t\tRoomon\n\t\t\tハシモトさん以外？\n\t\t\tios,android,front2の合計4台？\n\t\tKagican\n\t\t\tfront1台\n\t\tJoker\n\t\t\tiosバックアップで1台？\n\t\t\t\t決まり次第といったところもあるが、今後の社員も含めた在庫として購入しておくのはあり\n\t\t合計6台？\n\nID周り\n何か言っているが \n\t特にこのままでいいんじゃないか[takeuchi.icon]\n[https://gyazo.com/9ac12d7bcbb9858d9ac3e08623c814ce]\n\n\n\n[*** QrioからREACHへの解施錠通知について]\n（先日のAWS障害を受けて）\n\tそもそもREACHってなに\n\t[https://gyazo.com/d6d020fd863868533f5fcc71d77c8fd2]\n\nSNCの槇本です。お世話になっております。\n2/19 23:20頃から、QrioからREACHへの解施錠通知が急減しております。\nAWS障害が発生している様ですが、御社Serverでの状況はいかがでしょうか？\n\n0:30時点でQrioアプリ内の履歴部分をみると、解施錠の履歴が正しく反映されていたので、\nREACHへの通知部分にのみ影響が発生していたのでしょうか？\n\n→ 内部処理周りを見たが特段目立った原因が見当たらなかったので、\nAWS障害によるネットワーク関連での疎通がうまくいかなかったのかもと返答しました。\n\n[*** 開発で使っているsimがある？]\n社内美品管理表が存在\n社内備品管理表 - Google スプレッドシート\nhttps://docs.google.com/spreadsheets/d/1CRU8hpnZMVgh20uYuEfl5auldF1FPXOz7_4Eq39wQeE/edit##gid=0\n→ sim買ってたのはじめちゃん（SQAとかで）\n← 代表としてのsimは管理していない\n\n[*** 業務委託業務報告方法まとめたい]\n　開始と終了\n　業務内容報告\n　ハシモトさんはスプレッドシートに書いて貰ってるんだっけ？\n↓\nレバテックさん経由\n→ 報告フォーマット\n\n\n# 開発でなにかやりたい\ncreated_at:Tue Jan 20 1970 01:34:08 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 01:34:08 GMT+0900 (日本標準時)\n開発でなにかやりたい\nFirebase\n\t個人の会社アカウントでログインできるようにしたい\n\t￥\n\n# セキュリティ案件タスク整理\ncreated_at:Tue Jan 20 1970 01:31:00 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 01:31:01 GMT+0900 (日本標準時)\nセキュリティ案件タスク整理\n\n\thttps://github.com/qrioinc/joker-dev-tasks/issues/216\n\thttps://www.google.com/url?sa=j&url=https%3A%2F%2Fqrio.esa.io%2Fposts%2F711%23%E5%BE%8C%E6%96%B9%E4%BA%92%E6%8F%9B%E6%80%A7%E3%81%AB%E9%96%A2%E3%81%99%E3%82%8B%E5%BD%B1%E9%9F%BF%E7%AF%84%E5%9B%B2&uct=1607414857&usg=4QUbJ8uZY0FwmIIHnTXFaS23Ooo.&source=meet\n\thttps://qrioinc.atlassian.net/wiki/spaces/QRIOINC/pages/4653058/KN+CRUD+CU\n\n想定外の事象\n\tロックV2を使うには、Qrio Hubのアップデートが必須になっている\n\t\tなので、FWUpdateの順番が重要\n\tknightがロックV2前提\n\t\tknight登録前にはロックのFWバージョンのチェックをアプリでかけている\n\n\nFWVersion組み合わせ表\n\thttps://docs.google.com/spreadsheets/d/1FuKbrWv1xdNiziVn6N0kcv66Ab5NmAXXQUGwYDFoiPg/edit##gid=652722698\n\n# yuma sato\ncreated_at:Tue Jan 20 1970 01:15:35 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 01:15:35 GMT+0900 (日本標準時)\nyuma sato\n[https://gyazo.com/2ab984f62c6ec87d0d1c8b4b255445f1]\n\nthis is yuma sato’s page\n\n##member\n# minomo\ncreated_at:Tue Jan 20 1970 01:02:19 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 01:13:59 GMT+0900 (日本標準時)\nminomo\n[https://zukan.pokemon.co.jp/zukan-api/up/images/index/42062cbeca16839af3efe8a7d61ceb27a30f758b.png]\n\nthis is minomo’s page\n\n##member\n# Dev MTG 2021/02/10\ncreated_at:Tue Jan 20 1970 01:02:18 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 01:02:22 GMT+0900 (日本標準時)\nDev MTG 2021/02/10\n[*** この時間で共有・相談したいこと]\n 今週からJOKERの朝会をはじめました\n Apple MemberShip更新しました\n Push通知の更新をしないといけません\n \t河本対応中\n \t2/15にStaging適応して動作チェック\n \t問題なければ2/16以降に本番適用を実施\n \t締め切り2月20日まで\n\t今週金曜日誰が出社します？\n\t\t[takeuchi.icon]、[k.endo.icon]\n\n[*** JOKER]\n[** 設計、仕様]\n　kngiht アプリのトランザクションについて三上さんとレビュー予定[takeuchi.icon]\n\n[** Server]\n　Knight環境構築[minomo.icon]\n　KnightCRUD　→　三上さん\n　　Rspec書いてほしいなぁ[komai.icon]\n　　サーバー残作業：細かいところ。大体おわり。\n　KnightカードCRUD[minomo.icon]\n　　Rspec書いてほしいなぁ[komai.icon]\n\n\n\n[** CU]\n 新プロトコル対応SQA戻り対応[yuma_sato.icon]\n KnightのCRUD作成中（サーバーとの繋ぎ込み中）\n \tUI作成はだいたい終わり。ロジックの実装をこれから着手\n knight-dev環境構築中\n \tSaas系の必要な情報が揃ったら作業可能\n　RU Test修正\n　\tAndroid[takeuchi.icon][yuma_sato.icon]\n\t　　Knightコマンド不具合修正中[yuma_sato.icon]\n\t　　リモートコマンドをSQAできるよう対応する[takeuchi.icon]\n\t　　ブラックリスト不具合対応[takeuchi.icon]\n\t　iOS\n\t　　iOS側に手をつけている最中（2/19までには作っておきたい）[k.endo.icon]\n　ワンタイムパスワード仕様考える[k.endo.icon]\n　\t2/15に大西さん・神谷さんと話して何を作るか決定＞工数出して河本さんと予定調整[k.endo.icon]\n\n[** Hub]\n knight-dev用環境構築[takeuchi.icon]\n \tPubNub subscribe-keyの準備以外終わりましたん[takeuchi.icon]\n command_paramの固定長64byteをどうするか三上さんとレビュー予定[takeuchi.icon]\n そういえばログ重複取得のやついつどこで誰になげよう・・・[junichi.kawamoto.icon]\n \tAPI\n\t \thttps://github.com/qrioinc/king-api/pull/671\n\t Hub\n\t \thttps://github.com/qrioinc/qb-sl2-fw/pull/65\n\n[** その他]\n JOKER関連PRJ進捗共有会が目新しい情報共有も無くておもんない[komai.icon]\n \tw[takeuchi.icon]\n \tあの無駄に緊張感のある感じいやですね[minomo.icon]\n\n[*** Kagican]\n V3開発中\n 　https://app.asana.com/0/1199522101046125/timeline\n 何か合鍵グループ紐付けができない\n 　三上さんが応対してた。それ以上のことは知らない。[komai.icon]\n HubのFwアップデートできない\n 　ﾅﾝﾃｺｯﾀ\n 　登録したときに最新にしてる疑惑\n\n[*** Roomon]\n　要件はFIX[minomo.icon]\n　仕様策定中[minomo.icon]\n　 一部ER図が決まらないと、仕様検討できない箇所あり\n　設計構想は2/18に実施する[minomo.icon]\n　KEやRoomonのことを考えたER図作成中[minomo.icon]\n　三上さんと、ユーザーのCUで入居モード変更相談中[minomo.icon]\n　橋本さんに仕様inputや開発環境の整備を相談しながら進めてる[minomo.icon]\n　橋本さんと毎日朝会[minomo.icon]\n　採用（あとはAndroid,iOS,front,パソリ）[minomo.icon]\n　4月からアフロPMが来る？[minomo.icon]\n\n[*** Ienaka]\n\tイエナカCPN実施中\n\tLP複数社対応\n 品質設計に向けて準備を進めています[junichi.kawamoto.icon]\n \t[k.endo.icon]から[junichi.kawamoto.icon]にバトンタッチ\n \tただざっと見たところ実施が3月の中旬位を見込んでいます\n \tまだ村上さんとかにも報告していません\n\n[*** toC関連]\n\tGoogleプライバシーポリシー[yuma_sato.icon]\n\t\tking-cuはリリース準備完了、審査中\n\t\tsmart Tagは開発待ち\n\t\tQSL1用アプリは開発待ち\n\n[*** その他]\n hubのSSL証明書の対応しています[junichi.kawamoto.icon]\n \t一旦決済をあげています。\n\t \t通ってました\n\t\t更新作業しなきゃいけません(2021/2/27)\n\tなんかビッククエリのやつdisableしました[junichi.kawamoto.icon]\n\t\t来週まで様子みて特に問題なさそうであれば削除\n\t\tazms[takeuchi.icon]\n\t河本さん、えんどぅ、佐藤New Joker（新サービス検討）やる（〜3/5）\n\t\t周辺デバイスのbeacon強度検知アプリ作成[yuma_sato.icon]\n\t\tAppClipやる[junichi.kawamoto.icon]\n\t\tハンズフリーをWifiトリガーにすると精度上がるか調べる[k.endo.icon]\n　リファービッシュどうなってる？[komai.icon]\n　 期限決まってないからまだ具体策いらない\n　 今月中にSNCに提案しなきゃならない？\n　 \t今月中に実現可能性だけ村上さんに報告\n pubnubが三上さんのアカウントに紐付いている件\n  https://qrioinc.slack.com/archives/C01ABA9KBSB/p1612853210070100?thread_ts=1612850709.055400&cid=C01ABA9KBSB\n Webフロント絡んだ良さそうなサーバー設計\n 　https://qiita.com/kuromitsu0104/items/dc0021a20100e11f2f7d\n 　https://github.com/kuromitsu0104/gadget-app\n 　　いまのとこカギカンとkingオペで利用でき{そう。変な独自アーキ全く使ってないっぽいしベストプラクティス候補。\n\n[*** webLP移管]\n \tgazってところにkaigcanのLPのstduio移管を依頼中\n \t\t3月~4月頭にかけて実装\n \tRoomonのLPは河本やってる\n\n\n# junichi.kawamoto\ncreated_at:Tue Jan 20 1970 01:02:19 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 01:02:19 GMT+0900 (日本標準時)\njunichi.kawamoto\n[https://lh3.googleusercontent.com/a-/AOh14GhjP3MsrOIIr0AThtY4z_U2QA8CV-_W3-Wt8KjJ=s96-c##.png]\n\nthis is junichi.kawamoto’s page\n\n##member\n# デザイナー定例議事録\ncreated_at:Mon Jan 19 1970 22:07:57 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 00:39:10 GMT+0900 (日本標準時)\nデザイナー定例議事録\n[**** template]\n[** 先週やったこと]\n[* 武藤]\n[* 米澤]\n[* 神谷]\n\n[** 今週やること]\n[* 武藤]\n[* 米澤]\n[* 神谷]\n\n[** デザインレビュー（随時）]\n\n[**** 2021/1/25]\n[** 先週やったこと]\n[* 武藤]\n\tKE意匠検討・調整\n パッケージ記載内容整理\n Card記載内容整理\n SLegend取説準備\n タスク整理まわりなど\n[* 米澤]\n・デザインガイドライン確認用の資料作成\n・カギカンバナー編集\n・JX/KX取付要件チェックシートの修正作成\n[* 神谷]\n カギカンv3仕様作成、レビュー\n Roomon BCU v2 仕様作成、レビュー\n CU 仕様作成、レビュー\n 刷り本レビュー\n PM候補者確認\n\n[** 今週やること]\n[* 武藤]\n\tKE意匠検討・調整\n パッケージ確定デザイン作成（Slegend・Knight）\n Card確定デザイン作成\n[* 米澤]\n・JX/KX取付要件チェックシートの修正作成\n・量販向けPOP作成\n・デザイン確認用のバナー集め\n[* 神谷]\n カギカンv3仕様作成、レビュー\n Roomon BCU v2 仕様作成、レビュー\n CU 仕様作成、レビュー\n イエナカユースケース検討\n\n[** デザインレビュー（随時）]\n\n[**** 2021/1/18]\n[** 先週やったこと]\n[* 武藤]\n Roomon コンソール Figmaトレース\n Roomon V2コンソール ワイヤー作成\n KE意匠検討\n JOKER細かい検討・調整等（Knight名称等 その他諸々）\n[* 米澤]\n・コミュニケーション活性化ページ　中島さんのページ更新\n・カギカンバナー　文言差し替え\n[* 神谷]\n CU仕様作成＆レビュー＆レビュー内容反映中\n \tKnight、Card、PIN、SLegendのCRUD、開扉/閉扉状態の可視化\n \thttps://qrioinc.atlassian.net/wiki/spaces/QRIOINC/pages/46104695/CU\n　Roomon BCU v2仕様作成＆レビュー＆レビュー内容反映\n　\thttps://www.figma.com/file/mhWR2cpdhdKc97xCUcKLjY/Roomon-v2-BCU?node-id=53%3A375\n　カギカンv3 仕様作成開始\n　\tコンソール主要機能、カギカンBCU v2\n　全体会資料作成\n　ユーザーインタビュー結果まとめ\n　\thttps://docs.google.com/presentation/d/1WbIN2tH7B1Qy3oe0fdET0EjkuR15Q3TDronrqBL8Zz4/edit?usp=sharing\n　候補者（PM、デザイナー）確認\n\n[** 今週やること]\n[* 武藤]\n KE意匠検討・調整\n \tイラレとの戦い・・・\n \t[https://gyazo.com/ef45ae5184de08e8c41c3ab01d5a21eb]\n パッケージ記載内容整理\n Card記載内容整理\n SLegend取説準備\n 　イラストで必要なものがあれば神谷→武藤さんにあげる（Consumer向け）\n[* 米澤]\n・コミュニケーション活性化ページ作成\n・デザインガイドライン確認で、今まで作ってきたバナーなどのまとめ作成\n・その他細かいものが入ったらやる！！！！！！！！！！！！！！！！！！！\n[* 神谷]\n CU仕様作成、文言まとめ、レビュー（引き続き）\n Roomon BCU v2 未決事項洗い出し、レビュー\n カギカンv3仕様作成（引き続き）\n\n[** デザインレビュー（随時）]\nCU、Roomon、カギカンなど、UI仕様を随時展開しているので\nデザイナー観点からも是非レビューお願いします🙇‍♀️\n\n\n[**** 2020/12/21]\n[** 先週やったこと]\n[* 武藤]\n\tJOKERパッケージ 包装との連絡/情報整理等\n\tJOKERパッケージ 裏面記載内容検討\n\tNewJOKERリサーチ\n\tRoomonキャッチアップ\n\tその他MTG/細かい作業等\n[* 米澤]\n\tチェックシート作成→いまのところ返信なし\n\tA4チラシ→ストップ\n\tキャンペーンバナー作成→完了\n[* 神谷]\n\tアプリ仕様まとめ（CU、カギカンBCU、Roomon BCU）\n\t\t共通部分の仕様まとめ\n\t\t\tKNのCRUD\n\t\t\tQrio CardのCRUD\n\t\tRoomon BCUの要件洗い出し\n\tJOKER Family 取扱説明書検討\n\t\tJX/KXリスク再評価\n\t\tSLegend、Knightリスク評価確認\n\tカギカンプラン改修\n\t\t料金ページデザイン作成\n\t\tお申し込みフォームデザイン作成\n\tイエナカ\n\t\tバナーマイナーアップデート（→本番リリースまで完了）\n\t\tLPマイナーアップデート（→デザイン確認完了）\n\tユーザーインタビュー\n\t\tインタビュー2件\n\t\tお礼メール・謝礼送付、ユーザー情報まとめ、議事録まとめなど\n\tその他\n\t\tカギカンv3ガントチャート作成、wenaメール対応、コンフルメリデメまとめなど\n\n[** 今週やること]\n[* 武藤]\n\tJOKERパッケージ記載内容検討\n\tNewJOKERリサーチ\n\tRoomon V1遷移図作成\n\tその他MTG/細かい作業等\n[* 米澤]\n\tコミュニケーション活性化ページ\n\tfigmaトレス\n\t〔そろそろ頼まれそう〕キャンペーンバナー作成\n[* 神谷]\n\tアプリ仕様まとめ（CU、カギカンBCU、Roomon BCU）\n\t\t共通部分の仕様まとめ\n\t\tRoomon BCU検討\n\tJOKER Family 取扱説明書検討\n\t\t文言、構成検討\n\t\tテクニカルイラストが必要な箇所洗い出しなど\n\tイエナカ\n\t\tLP実装（今週完了目標）\n\tユーザインタビュー\n\t\tインタビュー2件\n\n[** デザインレビュー（随時）]\n\tイエナカLP\nhttps://www.figma.com/file/iAmGJ6dgzR4ZW132sS83Sw/カジタク連携?node-id=251%3A13\n\n[**** 2020/12/14]\n[** 先週やったこと]\n[* 武藤]\n\tCardパッケージ検討\n\tKingカラバリパッケージ検討\n\tKnightトレース/パッケージ作業\n\tその他パッケージ関連のMTG/作業等（包装設計へのお渡しなど）\n\tブランドブックアップデート（WIP）\n\tその他MTG/調整等\n[* 米澤]\n\tTwitterキャンペーンバナー(完了)\n\tJX/KX/KXs取付チェックシート\n[* 神谷]\n\t既存ユーザー定性調査\n\t\tユーザーインタビュー1件\n\t\tアタックメール第二弾送信\n\t\tラクスル日程調整\n\tカギカンv3\n\t\tフロント実装に必要な画面モック作成\n\t\t開発見積もり出し\n\tカギカンLP\n\t\t「二ヶ月無料キャンペーン」訴求追加、ボタンUI改修\n\tサイトリニューアル案件\n\t\tワイヤーフレーム検討\n\tJX/KX 取扱説明書検討\n\t\t楢原さんとリスク評価についてすり合わせ\n\tCU UI仕様まとめ\n\t\tコンフル試用開始\n\n[** 今週やること]\n[* 武藤]\n\tJOKERパッケージ クリセンレビュー対応\n\tJOKERパッケージ記載内容検討\n\tブランドブックアップデート\n\tNewJOKERリサーチ\n\tRoomonキャッチアップ/コンソール要件整理\n\tその他MTG/細かい作業等\n[* 米澤]\n\tJX/KX/KXs取付チェックシート\n\tA4チラシ作成\n\tその他細かいもの頼まれたらやる\n[* 神谷]\n\t既存ユーザー定性調査\n\t\tユーザーインタビュー3件\n\tカギカンv3\n\t\t開発見積もり出し\n\tRoomon、イエナカキャッチアップ\n\tサイトリニューアル案件\n\t\tワイヤーフレーム検討\n\tJOKER Family 取扱説明書検討\n\t\t各製品のリスク評価\n\tCU仕様まとめ\n\n[** お困りごとの共有（あれば）]\n\n[** デザインレビュー（随時）]\n\n[**** 2020/12/7]\n[** 先週やったこと]\n[* 武藤]\n\tSlegend個装デザイン\n\t\tSlegendトレース\n\t\t背景色の調整等\n\tCardデザイン微調整\n\tCardロゴ作成\n\t新JOKER検討/MTG\n\tブランドブック整理\n\tその他MTG/調整等\n[* 米澤]\n\tクロスセルキャンペーンバナー作成(完了)\n\tJX/KX/KXs取付チェックシート\n A4チラシ作成\n\n[* 神谷]\n　既存ユーザー定性調査\n　\t質問内容、スクリプト検討\n　\tラクスル調査日程調整\n　カギカンv3\n　\tタスクをAsanaに移行\n　\t開発見積もり出し\n\tカギカン導入事例\n\t\tデザイン調整\n\t\tタグ実装\n\tサイトリニューアル案件\n\t\t要件定義（採用ページ、会社情報ページ）\n\t\tワイヤーフレーム作成（採用ページ）\n\tJX/KX 取扱説明書検討\n\tCU UI仕様まとめ\n\t\tesaにまとめようとしている：https://qrio.esa.io/posts/721\n\n[** 今週やること]\n[* 武藤]\n\tCardパッケージ検討\n\tKingカラバリパッケージ検討\n\tKnightトレース/パッケージ作業\n\tその他パッケージ関連のMTG/作業等\n\tブランドブックアップデート（終わらせたい）\n\tNewJOKERリサーチ・検討\n\tその他MTG/調整等\n[* 米澤]\n JX/KX/KXs取付チェックシート\n A4チラシ作成\n[* 神谷]\n\t既存ユーザー定性調査\n\t\tユーザーインタビュー1件\n\t\tアタックメール第二弾送信\n\tカギカンv3\n\t\tフロント実装に必要な画面モック作成\n\t\t開発見積もり出し\n\tカギカンLP\n\t\t「二ヶ月無料キャンペーン」訴求追加\n\t\tボタンUI改修\n\tサイトリニューアル案件\n\tJX/KX 取扱説明書検討\n\t\t楢原さんとリスク評価についてすり合わせ\n\tCU UI仕様まとめ\n\n[** お困りごとの共有（あれば）]\n（お困りごとではない）タスク管理をAsanaに移行するかも\n\n[** デザインレビュー（随時）]\n\n[**** 2020/11/30]\n[** 先週やったこと]\n[* 武藤]\n・JOKER包装まわりの検討/確認\n・イエナカページ/バナー作成\n・目標準備/MTG\n[* 米澤]\nカギカンバナー編集・リサイズ\n[* 神谷]\n・カギカンxみずほLP→先方に確認依頼済み\n・既存ユーザー定性調査準備→アタックメール送信済み（8件、うち2件回答あり）、質問内容設計中\n・KX/JX取扱説明書検討\n・CU JOKER対応 UI仕様まとめ\n・Natureリリース対応\n\n[** 今週やること]\n[* 武藤]\n・Slegendパッケージ版下デザイン（JOKERベース作成）\n・Cardデザイン確定/パッケージデザイン\n・ブランドブック作業（できたらやりたい）\n・新JOKER検討\n・取説周りの作業\n・イエナカ微修正対応\n・その他MTG\n[* 米澤]\n・A4チラシ　12/8 1回目の確認 12/18〆切\n・X/KX/KXs取付チェックシート　今週１回目の確認　来週〆切\n・キャンペーンバナー(４つぐらいある)12/4〆切\n[* 神谷]\n・コーポレートサイトリニューアル案件（要件まとめ、見積もり出しなど）\n・既存ユーザー定性調査準備→質問内容設計など\n・KX/JX取扱説明書検討\n・CU JOKER対応 UI仕様まとめ\n・カギカン導入事例引き継ぎます！＞武藤さん\n\n[** お困りごとの共有（あれば）]\n\n[** デザインレビュー（随時）]\nカギカンxみずほLP\nhttps://preview.studio.site/live/EXawL2yWDr/\n\nイエナカサイト（もうpublish自体はしてるけど）\nhttp://ienaka.qrio.me/\n\n[**** 2020/11/16]\n[** 先週やったこと]\n[* 武藤]\n・イエナカStudio作業\n・JXKXKXs取説構想資料\n・Slegendの取説資料まとめ（WIP）\n・デザインブレスト周り\n[* 米澤]\n・キャンペーンバナー作成\n・コミュニケーション活性化ページ\n[* 神谷]\n\n[** 今週やること]\n[* 武藤]\n・イエナカStudioサイト（ほぼ完）\n・カギカン事例サイト終わらせる\n・Slegend取説終わらせる（たい！）\n・目標設定\n・その他MTGとその準備\n・NewJoker\n[* 米澤]\n・コミュニケーション活性化ページ\n・figma\n・その他諸々頼まれたらそっちをやったりします\n[* 神谷]\n・キャッチアップ\n・デザインタスク分担、整理\n・コーポレートサイトリニューアル検討\n・カギカンxみずほLP検討\n・Figma稟議\n・目標設定\n\n[** お困りごとの共有（あれば）]\nfigmaの権限がないみたいで作業ができないことがわかったので、権限欲しいです！(米澤)\n→稟議出します😭（神谷）\n\n[** デザインレビュー（随時）]\nhttps://preview.studio.site/live/1YWjDKKqmG/kajitaku\nhttps://preview.studio.site/live/6kq97bvWpd\n\n[**** 2020/10/12]\n[** 先週やったこと]\n[* 武藤]\n各種キャッチアップ\nCardのデザイン\n[* 米澤]\nカギカンLPイラスト作成\n[* 神谷]\n・デザインブレスト実施\n・JOKER Family 取扱説明書の叩き作成（KNIGHT、SLEGEND）\nhttps://drive.google.com/drive/folders/1SD7Wb8ARzq_9Oior6oGFZnkSiVBymTUT?usp=sharing\n・UI仕様書まとめ\nhttps://qrioinc.backlog.com/wiki/DSG_01/UI仕様書一覧\n\n[** 今週やること]\n[* 武藤]\nCardデザイン終わらせる\n今後に向けた工数見積もり等\n[* 米澤] \nカギカンLPイラスト作成\n[* 神谷]\n・デザインブレスト参加\n・JOKER Family 取扱説明書の叩き作成（Qrio Card）\n・Qrio Lock Sticker データ作成\n[https://gyazo.com/05311530b2b6eec4fee7e49339bc359d]\n\n[** お困りごとの共有（あれば）]\n・観葉植物（ちひろちゃん）\n・Adobeもらえてない & SSTつついたり\n\n[** デザインレビュー（随時）]\n[https://gyazo.com/049629903ca8d9252e19a773229cf57f]　[https://gyazo.com/4561822984ea230eaf3eb27b5b51ebc3]\n# Androidアプリ位置情報プライバシーポリシー対応\ncreated_at:Tue Jan 20 1970 00:23:17 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 00:23:19 GMT+0900 (日本標準時)\nAndroidアプリ位置情報プライバシーポリシー対応\n[**** バックグラウンドでの位置情報へのアクセスに関する申告]\n　[* 2021年3月29日]より、バックグラウンドで位置情報にアクセスする既存のアプリは全て承認を受ける必要がある。\n　承認を受けていないアプリはアップデートがブロックされたりGoogle Playから削除されてしまう。\n[https://support.google.com/googleplay/android-developer/answer/9799150]\n\n[**** 申告の前に確認すること ]\n　[* ステップ1]: 位置情報へのアクセスに関するベストプラクティスの確認\n　[* ステップ2]: バックグラウンドでの位置情報へのアクセスの代替手段の検討\n　[* ステップ3]: バックグラウンドへのアクセスをユーザーにわかりやすく説明する（Google Playストアの掲載情報の変更）\n\n[**** Qrioがやること]\nQrioのハンズフリー解錠機能はアプリの重要機能、かつバックグラウンドで位置情報をリクエスト/利用する合理的な根拠があり（ステップ1）、フォアグラウンド（アプリ使用中のみアクセス許可）で代替することができない（ステップ2）\n[* →ステップ3をした上で、権限申告フォームを提出する（ステップ4、ステップ5含む）]\n\n[**** 権限の申告フォーム]\nバックグラウンドでの位置情報アクセスをGoogleで評価できるよう下記の手順を行う\n　[* ステップ4]: [* デモ動画の用意]\n動画を使って、バックグラウンドで位置情報にアクセスする機能と、アプリ内でこの機能を実行、有効にするために必要な手順を示す。\n　動画に含める必要があるもの\n- ランタイムプロンプト\n- ユーザーに表示する、目立つ方法によるアプリ内での開示ダイアログ\n- バックグラウンドから有効にされる機能\n\n30秒以内、YouTubeもしくはGoogleドライブストレージへのリンク\n動画はAndroidデバイスを使用して作成\n\n　[* ステップ5]: [* アプリ内での開示を目立つ方法で提供する]\nアプリ内での開示に関する要件\n- アプリ内で開示すること。アプリの説明文やウェブサイトでの開示だけでは不十分です。\n- アプリの通常使用時に表示すること。表示するのにメニューや設定に移動する必要のある開示方法では不十分です。\n- アクセスまたは収集するデータの種類について説明すること。\n- データをどのように使用、共有するかについて説明すること。\n- 掲載場所を、プライバシー ポリシーや利用規約のみとしないこと。\n- 個人情報や機密情報の収集に関係のない他の開示の中に掲載しないこと。\n- 「許可する」、「理解した」など、ユーザーによる明示的な同意を必要としないこと。これは、直後に表示されるランタイム プロンプトで行われるため、開示の画面から移動する方法として、ユーザーが閉じるかスワイプできるようにします。\n\n開示の文言には、以下の要素を含める必要があります。\n-「位置情報」という用語\n-「バックグラウンド」、「アプリが閉じているとき」、「常に使用」、「アプリが使用されていないとき」のいずれかのフレーズを使った、使用の性質がバックグラウンドであるという明記\n- バックグラウンドで位置情報を使用するすべての機能のリスト\n- 権限を拡大して広告にも使用する場合は、「広告の提供 / 広告のサポート / 広告の支援にも使用される」という文言も含める必要があります。\n開示文書の例（広告への位置情報利用なしの場合）\n[/ 「[このアプリ] は、[「機能」]、[「機能」]、[「機能」] を有効にするために、アプリが閉じている場合や使用されていない場合でも位置情報を収集します。」]\n\nこの目立つ方法での開示には、ポリシー要件の遵守を保証し、ユーザーにとって明確にするために、その他の情報も含めることができますが、最低限、上記の該当する文を含める必要があります。\n\n注: バックグラウンドでの位置情報が有効である場合にユーザーにそのことを示すインターフェースが機能に設定されていない場合は、代わりにアプリが初めて開いたときに目立つ方法で開示を通知してください。\n\n[**** 補足]\nアプリのストアの掲載情報にプライバシー ポリシーを追加することで、機密性の高いユーザーデータやデバイスデータの取り扱いについて透明性が高まります。\n\n\n\n\n# 【旧ドキュメント】wena対応\ncreated_at:Mon Jan 19 1970 19:42:40 GMT+0900 (日本標準時)\nupdated_at:Tue Jan 20 1970 00:08:58 GMT+0900 (日本標準時)\n【旧ドキュメント】wena対応\n[*** 概要]\n[wena対応検討]を参照\nデザイン仕様書：https://www.figma.com/file/P6zb16Uub1nykBzRFHwUfJ/wena連携仕様?node-id=0%3A1\n\n[*** 関連仕様]\nKing Fob対応\nhttps://docs.google.com/presentation/d/1ZZUY-wBa1J34Ftge6fsoBnHNy5EChCsW3QHZWuUlZjA/edit##slide=id.p\n\n[*** 改修点]\n\t合カギ管理タブ\n\t\twenaが連携されている場合、一覧に表示する\n\t\t\t登録されているwenaをタップするとwenaの編集画面に遷移する\n\t\t\twenaの編集画面からwenaを削除できるようにする\n\t\t「Qrio Keyを登録する」からwenaを登録できるようにする\n\t\t\twena登録画面はwena側で作成（Qrio側でdirection）\n\t\tキーフォブまたはwenaを紛失した場合、CU上で登録済みのキーフォブとwenaを一括削除できる\n\n[*** UI]\n[** 全体遷移]\n[https://gyazo.com/861bc0c75fcf54c9133fc6b34a99ad02]\n\n[** 合カギ管理TOP]\n\t登録されているQrio Key、wenaが表示される（Qrio KeyはQrio Keyごと、wenaはwenaごとにグルーピングして表示する）\n\t「Qrio Keyを登録する」をタップするとQrio Key登録画面に遷移する\n\t「Qrio Keyを無くしてしまった」をタップするとQrio Key一括削除画面に遷移する\n[https://gyazo.com/4f94fcf0daaa58b548b59da456fb8698]　[https://gyazo.com/dcbc708d96270c76d1920ea8d49482b2]　[https://gyazo.com/e6f7bcf24cb06b443df13efd5ab97821]\n\n[** Qrio Key登録画面]\n\t「wenaの方はこちら」をタップするとwena登録画面に遷移する\n[https://gyazo.com/3aa650e87090df3fad26b2847dfcae64]\n\n[** wena登録画面]\n\tQrio Key登録画面のUIに準拠\n\tイメージ画像はwena側で作成する\n[https://gyazo.com/8164c6d54ec17b8c2ba91060a95ef442]　[https://gyazo.com/03b342a393850f70b217b22313e5715c]\n\n[** wena編集画面]\n\twenaの名前（編集可）、シリアルナンバー、作成日時を表示\n\t\t[- シリアルナンバーはQrio Keyとは被らない]\n\t\t\t2020.07.08 [takeuchi.icon] シリアルNoの重複に関する企画要件はないことを確認。 \n\t\t\t\thttps://qrioinc.slack.com/archives/C0169V4L36E/p1594194596005000\n\t「このwenaを削除」からwenaを削除できる\n[https://gyazo.com/1662de9c72bdf159dce861b2423fff4e]\n\n\n[*** 仕様決定の経緯（20/7/7）]\n\twena側からの提案資料では以下のような構成だったが、遷移が一つ増える（合カギ管理TOP→ハードウェア登録画面→wena登録画面）ため、アクションシートでQrio Key or wenaを選ばせる仕様にしたい\n\t\t→wenaのシェアは限られる（5%未満）ため、Qrio Keyを利用するユーザーのユーザビリティを優先し「Qrio Keyを登録する」->Qrio Key登録画面に遷移させ、画面下部に「wenaの方はこちら」のようなアクションがあった方がよい\n\t\t[https://gyazo.com/1fa6e87c79873a2bc402ddb823084151]\n\t現在のCUの仕様では合カギ管理TOP→Qrio Key一覧→登録されているQrio Keyを表示という構成になっていますが、深い意味はありますか？\n\t\tQrio Key or wenaの登録個数はそれほど多くないことが予想される（数個程度）ので、深い意味がなければ合カギ管理TOPに直で登録されているQrio Key/wenaを表示したいです。無駄な遷移を増やしたくないため\n\t\t\t\t→ファミリーキー、ゲストキーはグルーピングして表示していたため、Qrio Keyもそれに準拠してグルーピング表示にしていた\n\t\t\t\t→改善は別途やる（CU全体の改善というスコープで別途やりたい。全体を通して辻褄をあわせるため）wena連携では最低限のスコープだけで仕様を切る\n\t\t[https://gyazo.com/ff669310981640277c3539b12a34a82d]\n\n\t[- wenaのシリアルナンバーはQrio Keyとは被らない想定]\n\t\t2020.07.08 [takeuchi.icon] シリアルNoの重複に関する企画要件はないことを確認。 \n  \thttps://qrioinc.slack.com/archives/C0169V4L36E/p1594194596005000\n# Castle 開発メモ\ncreated_at:Mon Jan 19 1970 09:38:33 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 23:48:47 GMT+0900 (日本標準時)\nCastle 開発メモ\n[* 各種資料]\n\ttype ormにおけるクエリビルダー\n\t\thttps://typeorm.io/##/select-query-builder\n\trelationsの書き換え\n\t\thttps://github.com/typeorm/typeorm/blob/master/docs/many-to-one-one-to-many-relations.md\n\tapolloでのCRUDサンプル\n\t\thttps://qiita.com/ryo2132/items/429234c9de1b546b3406\n\n[* apolloをデバッグしたい]\nhttps://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm\n\n[* graphQLをデバッグしたい]\n\tpostで確認するとき\n\t\tjsonを投げる\n[https://gyazo.com/92710694c22a228089afcefaa06200cd]  \n\tpostではなくgraphQL直接見られるモードもpostmanにbeta提供されているので、そちらの方が楽。\n\n[* king環境を作りたい]\n\tdbのセットアップをする。これをしないとking系のテストがことごとくコケる。\ncode:bash\n $ docker-compose exec king sh -c 'rails db:setup'\n $ docker-compose exec king sh -c 'rails db:seed_fu'\n\nそれでもコケる場合はcastle-api側のdbを疑う\ncode: bash\n $ yarn migration:run\n $ yarn seed\n\n[* 履歴ってどうなってるの]\n 基本的に１要素を投げて返事をもらう。全体は`requestUserId`、部屋別は`roomId`を投げてクエリを取ってきているよう。なので、全体に出るが部屋別に出てこないものがある。\n api(logの定義)、castle(logに対応するvueファイル)どちらでも対応は必要。\ncode:部屋に関わる履歴\n {\n   \"page\": 1,\n   \"count\": 10,\n   \"start\": null,\n   \"end\": null,\n   \"requestGroupId\": null,\n   \"requestUserId\": null,\n   \"groupId\": null,\n   \"userId\": null,\n   \"appUserId\": null,\n   \"buildingId\": null,\n   \"roomId\": \"5666b0f1-d544-44ef-9b37-bd40ef76ad47\",\n   \"telephoneKeyId\": null  \n }\n\n## QueryResultがrc版からなくなった\n\t関連issue\n\t\thttps://github.com/Akryum/vue-apollo/issues/672\n\tお亡くなりになったので差し替え必要\nhttps://github.com/Akryum/vue-apollo/commit/0254d85180b8a64d336de86706cf7b7dc9d2ccf4##diff-a7cca049f7ea1cf3f781d07694d7b236\ncode: diff\n   ## 元々\n   query<R=any>(options: VueApolloQueryOptions<V, R>): Promise<QueryResult<R>>;\n   mutate<R=any>(options: VueApolloMutationOptions<V, R>): Promise<QueryResult<R>>;\n   subscribe<R=any>(options: VueApolloSubscriptionOptions<V, R>): Observable<R>;\n   ↓\n   ## 変更後\n   query<R=any>(options: VueApolloQueryOptions<V, R>): Promise<ApolloQueryResult<R>>;\n   mutate<R=any>(options: VueApolloMutationOptions<V, R>): Promise<FetchResult<R>>;\n   subscribe<R=any>(options: VueApolloSubscriptionOptions<V, R>): Observable<FetchResult<R>>;\n\n[** docker関連]\n\tnodeのバージョンを上げる\n\t\tDockerfileのバージョンを書き換える\n\t\t\tFROM node:10-alpine -> FROM node:12-alpine\n\t\t再ビルドする\n\t\t\tcode: update\n\t\t\t\tdocker-compose down\n\t\t\t\trm -rf ./node_modules ##node v10向けのnativeモジュールを削除\n\t\t\t\tyarn install ##yarn.lockを更新&node v12向けのnativeモジュールをビルド\n\t\t\t\tdocker-compose build\n\tコマンド参考\n\t\thttps://qiita.com/tomo62/items/d966908cbc79a4c52dc7\n\n# KnightFW仕様書変更点20201214\ncreated_at:Mon Jan 19 1970 23:38:40 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 23:38:44 GMT+0900 (日本標準時)\nKnightFW仕様書変更点20201214\n参加者\n\t[k.endo.icon]\n\t[yuma_sato.icon]\n\n変更比較対象版\n20201130\n\n変更差分\n Characteristics\n  lastLogIdを追加する\n\t\tKeyFi2 Serviceの追加\n\nコマンド\n 1.状態読み出し\n \t動作確認（KX/KX以外の動作分け）\n 4.個別PIN登録\n \t出力項目・動作変更点反映 ##337?\n 6.個別PIN読み出し\n \t出力項目・動作変更点反映 ##337?\n 9.カード本体登録\n \t出力項目・動作変更点反映\n \t（リモート設定モードでは動作しない）←？\n 10.カード連続読み出し\n \t出力項目・動作変更点反映\n \t（リモート設定モードでは動作しない）←？\n 11.カード連続読み出し終了\n \t（リモート設定モードでは動作しない）←？\n 12.複数カード登録\n \t入力・出力項目変更点反映\n 14/15.  カード情報リスト読み出し＆個別読み出し\n \t出力項目変更点反映\n 18.RUInfo登録\n \tRUInfo削除対応（対応中？）\n 19.工場出荷時設定\n \t出力項目・動作変更点反映\n 22.入退出ログ取得\n \tcount上限修正\n 25.nonceリハッシュ\n \t入・出力項目・動作変更点反映\n\n# 20201202 リリース 振り返り\ncreated_at:Mon Jan 19 1970 23:21:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 23:22:50 GMT+0900 (日本標準時)\n20201202 リリース 振り返り\n\n[**** リリース内容と実態]\n wena対応\n 　元々は2019年くらいに「wenaでQrioKeyみたいな動作させられないか？」という話があった\n 　その後デバイス側のフィジビリとっていた。ekey流し込んでロックあけられるか？\n 　\tymtkさん（窓口）、大西さん（FW実装オブザーバー）、林さん（＝wenaの方）\n 　その後しばらく音沙汰なかった\n 　2020.06 ymtkさん退職。責任者は高橋さん、竹内が開発メール窓口になった\n 　wena工場側とのやりとり、デバイス側の仕様策定を竹内が進めた\n 　\tPMいなくて、とりまとめを竹内がやってた\n 　責任者: 高橋さん、企画&デザイン: 神谷さん、開発: 竹内、の座組みで仕切り直し\n 　Qrio側の設計に入った。設計は竹内、こまいさんで決めた\n 　アプリ開発はリソース足りないのでざわさんひろさんに業宅にする話になった。竹内ディレクション\n 　サーバー実装は河本さんに依頼した\n 　機能実装が完了したくらいで、開発ディレクションを竹内→遠藤さんに巻き取ってもらった\n 　// あとの記載えんどぅよろしく[takeuchi.icon]\n\tセキュリティ案件（強制解施錠）\n\t\t依頼としては後藤さんから\n\t\t別件でセキュリティ対応（プロトコル変更）が必要だがとりあえず暫定でもいいから救済策を準備せよとのこと\n\t\tやけちゃんとUIフロー検討\n\t\t途中で竹内→河本さん遠藤さん巻き取り\n\t\t実装はiOSが東、Androidが市田\n\tプライバシーポリシーの改定\n\t\t内容\n 　\tアカウント作成時に承認チェックボックスをいれる\n 　\tCA用PP対応\n\t\t実装はiOSが遠藤、Androidが佐藤\n\tイエナカバナー広告\n\t\t2020.11 イエナカサービス側で実装着手\n\t\t\t急ぎのこともあり、社内SQAを回す\n\t\t\t実装は遠藤と佐藤、テスト項目は遠藤が書き出し、社内SQAはiOSが遠藤、Androidが佐藤\n\tハンズフリーの推奨環境のリンク削除\n\t\t実装はiOSが遠藤、Androidが佐藤\n\n\n[**** 今回の振り返り範囲]\n\tSQA〜リリース準備〜リリース〜リリース後サポート\n\n\n[**** Keep（発揮した価値、成果につながったこと）]\n　SQA\n　　Qaasの方とGitHub Issueでの管理とpriority決め\n　　スケジュールかつかつだったけど、うまくデバイスを回して実施できた？\n\tリリース準備\n\t クローズドテストからの審査のフローは問題なし、今後も続ける\n\n\n[**** Problem（なぜそうなったかを考えられる題材を出す）]\n\tSQA\n\t\t社内SQAを回す際、テスト項目に漏れがあった\n\t\t\t仕様を正確に把握できていない部分があった（イエナカバナーからの遷移はブラウザでなくアプリ内、など）\n\t\tSQA用端末の不足（Wena, Android11端末など）による作業の遅れがあった\n\t\t\t特にwenaデバイスは新規作成で試作機しか存在せず、かつ社外デバイスなので数が限られていることは事前にわかっていたはずだったがそれによるリスクを検討しきれなかった[takeuchi.icon]\n\t\t\t\t「機能としてはQrioKeyと同様」というところでリソースそんなに割かなくてもいいんじゃねとか思ってた[takeuchi.icon]\n\t\t\t\tしかもアプリはざわさんひろさんとはいえ外注でそのディレクションコストが見積もれてなかった[takeuchi.icon]\n\t\t\tざわさんひろさんの契約終了後にもデバイス改修案件が発生してしまったがそこに対する想定があんまりなかった気がする[takeuchi.icon]\n\t\t\t\tお二人だったから柔軟に対応いただいたものの[takeuchi.icon]\n\tリリース準備\n  準備の段階で、公開前まで進めておくべきだった\n    Androidでは公式的に１週間審査かかると記載がある\n    \tもともと1週間前で見込んでいたが開発スケジュールの遅延で3日前とかにした[takeuchi.icon]\n    \tTestFlightとかクローズドリリースの知見[takeuchi.icon]\n    \t\t今回はアプリ改修で小粒なものが多かったので審査にデバイスは不要と判断したが本来は必要な可能性もあった。デバイス必須とか[takeuchi.icon]\n    \t\t\t要するにデバイスをAppleに送付するコストがかかるリスクについて若干放置気味だった[takeuchi.icon]\n  段階リリースを決めてなかった\n  \t担当である遠藤の知見になかった（１００％であるイメージだった）\n  テストの体制が整え切れてなかった\n   一部の人に渡せたが、双プラットフォーム（iOS/Android）での確認を均等にできていない\n   \tCSの人にだけでも最低限確認してもらえるのがいい\n   もっとラフでもいいが、レビューしてもらえる環境をつくりたい（社内公開）\n\tリリース後サポート\n\t wenaのバックアップ体制を整えられてなかった\n 　 CSチームへの渡し方？\n 　 不具合報告きてから試作機貸し出す、とかではないやり方をしたかった\n\n\n[**** Try（具体的な行動に落とし込む）]\n\tSQA\n\t\tデバイス不足によるリスクを検討してスケジュールを立てる\n\t\t\t外注に貸し出す、というのもリスク\n\tリリース準備\n\t\t１週間ちょっと前にはクローズドテストを配布する\n\t\t\t１週間前には本番にあげておく\n\t\t段階リリースは必要そうであれば導入、判断は準備時にする\n  CSとの連携が足りないので、リリース２週間前には事前打ち合わせしておきたい（川上さん）\n   リリース文言チェック\n   内部向けリリースノート（画面キャプチャ並べてesaにはっておくなど）をつくって変更点を簡単にみられるようにする\n   上記のリリースノートを使い、開発とCSの対応想定のすり合わせをする\n   CSにクローズドテスト版を渡しておく\n  \t金曜日リリースは避けたいのだが、外部(wena)のリリースが金曜日ならそれも合わせてこちらの調整ができることが望ましい。\n  クローズドテストを両プラットフォームで確認してもらう\n  \t開発チーム、リリース内容の関係者、CS\n\t  \tここで仕様の齟齬がないことをPDMに確認してもらい、リリースの最終承認をもらう\n\t  \t不明・不在な場合はいったん開発部長に確認\n\tリリース\n  週末にかけてアップデート走りがち、というのを意識したスケジュールを立てる\n\tリリース後サポート\n\t\tCSと予めすり合わせた対応想定通りに動けたらいい\n\t\t\t可能であれば、客からの問い合わせをCSが確認できるようにするなども\n\t\tリリース後ちゃんと実機確認できるように外部と調整できたらいいな（wenaとか）\n\n\n[*** その他]\n今後のことも含めて気になること\n　サーバーの本番リリース、わりとざくっとやっていますが、ロールバックするとどのくらいダウンタイム発生するのでしょうか？\n　サービスがあまり使われていない時間帯の調査と共有\n　サーバーログくらいは自分で出せるようにしておきたい\n\n# Android: Permissions declaration form\ncreated_at:Mon Jan 19 1970 22:52:26 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 22:52:27 GMT+0900 (日本標準時)\nAndroid: Permissions declaration form\n\nCU Androidについて、権限ポリシーの説明付与が必要そう\n付与しないとリジェクトのリスクがあるっぽい\n\n\nhttps://www.google.com/appserve/mkt/p/AD-FnExd-eN6KCJ24Z28nb-d3QLEaoAqNDlQ_lOeXDLrRb4yC54bq-ggcVF3sp6nbyhVl-qQsObj6NSXDQ97t9wyABCp-fQuZoK_oC2Vya-REMeBEDYGIjwvYDXyHP1iX9uHlqcJRy2Euix7RmuOoXyFnf5TE5ddDw\nから飛んで\n\n詳細の説明は以下にしたがう\nhttps://support.google.com/googleplay/android-developer/answer/9799150?hl=en\n\n古いapk(artifacts)を消さないと、設定終わらせたのに「設定しろUI」が表示されたままになるかもしれない\nhttps://medium.com/@bapspatil/dear-googles-permissions-declaration-form-can-we-break-up-85bc6b62f690\nただし権限まわりは昔から変わっていないのでアーカイブを消してもどのみち設定自体は必要\n\nWhat is the main purpose of your app?\nWhy does your app need access to location in the background?\nProvide a link to a short video which shows the feature you've described above being used in your app.\n\n\n# Natureさん打ち合わせメモ\ncreated_at:Mon Jan 19 1970 22:51:13 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 22:52:23 GMT+0900 (日本標準時)\nNatureさん打ち合わせメモ\n2020.11.11 [takeuchi.icon]\n\n\n[**** Next Action]\n　11/13までに、APIの修正（ロックの時刻を受け取ってコマンド発行できるようにする）を行い、Natureに連絡する。\n\n Qrioとしての、Auth0連携時プライバシーポリシーについて確認する\n  確認がとれたら、QrioのAuth0認証ページにプライバシーポリシーを記載できないか検討する\n   WebViewで同じページを表示してるので、すべての外部連携先で同じプライバシーポリシーが表示されるようになる\n   もしできなかったら、ページ遷移の前にRemo側で確認文言を出すが、その際に「連携により、サードパーティ製アプリケーションがどのような権限を得るのか(OAuthのスコープ)」を表示したいので、Qrioで調べてNatureに連絡する\n   https://manage.auth0.com/dashboard/us/qrio-production/login_page\n   サードパーティーとしてEmailとアクセスするためのトークンを渡すことに同意しているかどうか\n\n　「不明なユーザーが...」と表示される原因の調査\n　　NatureからNature RemoデバイスをQrioに2台送ってもらう。発送先の住所をNatureに連絡する\n　　Qrio側の不具合の可能性が高いので障害調査する。障害発生手順、対応希望日はNatureさんから別途連絡がある。\n　　\tlockの本体に保存されているユーザーがDBから削除されていたら不明なユーザーの表示になる記憶（駒井）\n　　\t表示しないようにしようにしてたけど、出てる？\n　　\tiosとandroidで挙動が違う\n　　\tQrioで再現確認\n\n Qrioのid_tokenとaccess_tokenのexpireが違っているので、Qrio側で対応の必要があれば対応する（Nature側は解決済み）\n\n Nature側のサービスについて、Qrio側で不明点の解消の必要があれば、Natureに質問する\n\n\n[**** MTGメモ 2020.11.11]\n\n[*** 開発関連]\n11/13までに、APIの修正を行い、ご連絡いたします。\n\n\nQrio Lockとの連携について、プライバシーボリシー的な観点で確認したいことがあります。\n- Auth0認証時に下記内容についてエンドユーザー向けに表示してもらうことは可能でしょうか？\n    - 連携におけるプライバシーポリシー\n    - 連携により、サードパーティ製アプリケーションがどのような権限を得るのか(OAuthのスコープ)\n現状、認証によって第三者がQrio Lockについてどういった権限や情報を得るのか知るシーンが無く、\nエンドユーザーが不安を感じる可能性があるため、これらを明示したいと思っています。\n御社で対応可能であればQrio LockのAuth0認証ページに記載をお願いしたいのですが、可能でしょうか？\n\n Qrio側でどう対応するか持ち帰りさせてもらう。\n もしできなかったら、ページ遷移の前にRemo側で確認文言を出すが、その際に「連携により、サードパーティ製アプリケーションがどのような権限を得るのか(OAuthのスコープ)」を表示したいので、Qrioで調べて連絡する。Qrio\n\n\nQrioアプリの解施錠履歴について、「不明なユーザーさんが...しました」表示される場合があるのですが、どのような場合にこのような表示になるかご教示いただけないでしょうか？\n本質問について追加の情報ですが、「不明なユーザーさんが...」と表示されるのはAndroidのみのようです。\niPhone, Androidそれぞれで同じアカウントにログインしてみましたが、Androidのみ「不明なユーザーさんが...」と表示されており、iPhone側にはRemoアプリと連携したQrioアカウントのユーザー名が正常に表示されていました。\nまた、いくつか社内で同様のフィードバックをもらっていますが、今のところ全員Androidでした。\n参考に確認に使用したデバイスなどの情報を載せておきます。\niPhone SE(現行) iOS13.6.1\nPixel 3a Android 10\nQrioアカウント: kmatoba@nature.global\n　GET /logsのレスポンスのusername = nullの場合に「不明なユーザーさんが」表示となる。nullになるのは、以下の場合。\n 　ゲストキーを受け取ったユーザーがゲストキーで解施錠し、ロック内部にその解施錠ログが記録された\n  ロック内部の履歴がQrioサーバーにPOSTされる前に、ゲストキーが削除された\n  のちにロック内部の履歴がQrioサーバーにPOSTされ、サーバー側で履歴が生成されるとき、解施錠したゲストキーが存在せず、名前を参照できなかった\n\n 優先度高め。回答希望もNatureからメールしてもらえる。\n  Nature Remoを2台送ってもらう。\n  \t発送先の住所をメールする。[takeuchi.icon]\n  障害発生手順を連絡してもらう。\n  Natureアプリのβ版（Android, iOS）\n  \tqrioのメールを教える。[takeuchi.icon]\n\n\n1. \nRemoアプリでQrio Lockのアプライアンス（操作する機器の単位）を追加する際に、既に同じQrio Lockのアプライアンスが存在する場合に警告を出す、などの対応をしたいのですが、\nQrio Lockのアプライアンスを識別するにはどのidを使用するのが適切かアドバイスをいただきたいです。\n今のところはユーザーの持つキーIDを使用しようと考えています。\n\n master_key.idで判別する\n\n2. \n既にQrio Hubを所有しているユーザーがRemoとQrio Lockの連携も追加で行うと言うユースケースがあると思いますが、その際Qrio HubとRemoでQrio Lockとの接続を取り合う構図になってしまうかと思います。\nこの場合にRemoがQrio Hubの機能を阻害することを懸念しているのですが、Qrio Hubの仕様的に問題ないでしょうか？\n配慮した方が良い部分などあればご教示いただきたいです。\n\n問題なさそう。\nハブは、ロックにログがたくさんたまっている場合、ハブが連続でread_logする。\nRemoがロックの通信をうばってハブが接続できなくても、ハブは再起動し、再びパケットアップロード&read_logを実行するので、時間が経てばそのうちログはアップロードされる。\n\n3.\nQrioサーバーで保持しているロック情報に含まれるID類について、それぞれ変更されるタイミングを伺いたいです。\nロック情報取得のAPIで得られるjsonのうち、\"id\"のキーを持つものについてご教示いただけると幸いです。\n\n lock.id: デバイス生産時点で決め打ち。\n \n\n\nconnectionを維持して状態変更をnotifyで受け取るような変更は、今後ない？\n　ない。\n\nid_token→アクセストークンに切り替わることは将来的にはない？\n　ない。\n　Qrioではid_tokenからauth0_idを参照しているだけ。アクセストークンにもauth0_idが入っているのでどちらでも可能。\n\nid_tokenとaccess_tokenのexpireが違っている、とのこと...\n\n\n[*** CS関連]\n・Nature様 x Qrio連携によって、何ができるのか、確認させていただきたいです (「何ができるようになる」「どういう設定が必要になる」の情報をいただきたいです)\n今回のリリースでは、以下の機能を実装します。\n- RemoアプリからのQrio Lockのリモート操作\n- RemoアプリからリモートでQrio Lockの開閉状態確認\n- Qrio Lock操作時の通知受信（Remoがハブとなって操作ログをQrioServerに登録する）\n上記に加えて、Remoに元々存在するオートメーションやシーンと言った機能と組み合わせて便利に使えるよう、これから改善予定です。\n設定としてはRemoアプリから操作できる家電の一種として、Qrio Lockが追加できるイメージになります。\n設定は Auth0認証 -> 連携するQrio Lockを選択 -> ロックの名前やアイコンを設定と言う流れをRemoアプリでユーザーに実施していただきます。\nこの辺りについてもわかりづらいかと思いますので、良ければ明日の打ち合わせにて紹介させていただきます。\n\n　Nature Remoの製品を2台までならレンタル可能なので、必要であればお願いする。\n\n\n・Nature様側でヘルプページやFAQが用意されるのか、確認させていただきたいです (Qrio側で問い合わせ受けた際のエスカレフローを決めたい意図です)\n（これらについては、明日のMTGでなく別途ご回答いただく、で結構でございます）\n確認の上、明日のミーティングで回答したいと思います。\n\n\n\n[**** 追記: リリース日程について]\n11/24(火)にリリース、翌日にプレスを打つよう予定しております。\nプレスについては既に御社広報担当者様と打ち合わせを進めている段階です。\n\n\n# 2020/10/27 KingAPIのpostgresqlプランアップフレード\ncreated_at:Mon Jan 19 1970 22:28:19 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 22:28:45 GMT+0900 (日本標準時)\n2020/10/27 KingAPIのpostgresqlプランアップフレード\n[*** 事前準備]\n1. `heroku addons:upgrade DATABASE_URL heroku-postgresl:private-3 -a sl2-api-production`\n2. postgresqlのメンテがスケジューリングされるので待つ\n3. 普段ならこれで終わり\n\n[*** 今回の作業]\n[[今回はメンテ待ってられないので手動でpostgresqlのメンテを行う]]\n1. `heroku maintenance:on -a sl2-api-production`\n2. `heroku pg:maintenance:run DATABASE --force -a sl2-api-production`\n3. `heroku pg:wait -a sl2-api-production`\n4. availableになるの待つ\n5. `heroku pg:info -a sl2-api-production`でプラン変わってること確認\n6. `heroku maintenance:off -a sl2-api-production`\n\nおわり\n\n# 2020/10/21 v2.2 リリース手順\ncreated_at:Mon Jan 19 1970 22:15:58 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 22:21:31 GMT+0900 (日本標準時)\n2020/10/21 v2.2 リリース手順\n[mikamix.icon]\n[[前回との違い]]\n 確認用の環境を作らない(本番で確認していく)\n  確認環境を作って消すコストが高い\n フロントはメンテナンスモードで対応する\n  確認環境を作らないため\n\n[[作業割り当て]]\n リリース、ロールバック作業は全て [mikamix.icon]\n アプリの確認は竹内さん\n ミノモさんは勉強がてらログの監視\n Webの確認（コンソール・組織管理ちょっとやるくらい）：蓑毛\n \t組織管理は前もってリリースするとかでもOK\n KingのAdminリリース（駒井さん）\n  sirius止めてkingリリース\n\n\nHEROKU_POSTGRESQL_CHARCOAL_URL\n\n\n[[リリース]]\n　pingdom切る\n Heroku上で新たなdbを作る\n  heroku addons:create heroku-postgresql: standard 0 -a sirius-api-production\n メンテナンスモードを開始する\n  heroku maintenance:on -a sirius-api-production\n  heroku maintenance:on -a sirius-console-production\n Kingのadminをリリース(駒井氏)\n 旧DBから新DBへデータをコピー\n  heroku pg:copy OLD_DB NEW_DB -a sirius-api-production\n 旧DBから新DBへとプライマリDBを変更\n  heroku pg:promote NEW_DB -a sirius-api-production\n コードのデプロイ\n  Heroku上でpromote\n  ブランチはdevのまま\n DBのマイグレーション\n  heroku run rails db:migrate -a sirius-api-production\n dyno再起動\n  heroku restart -a sirius-api-production\n データのマイグレーション\n  heroku run rails migration:whole_groups -a sirius-api-production\n  heroku run rails migration:manager_invitations -a sirius-api-production\n  heroku run rails migration:guest_invitations -a sirius-api-production\n  heroku run rails migration:many_many -a sirius-api-production\n メンテナンスモード終了\n  heroku maintenance:off -a sirius-api-production\n  heroku maintenance:off -a sirius-console-production\n\n[[ロールバック]] \n メンテナンスモード開始\n  heroku maintenance:on -a sirius-api-production\n  heroku maintenance:on -a sirius-console-production\n コードをロールバック\n  masterをデプロイ\n プライマリDBを元に戻す\n  heroku pg:promote OLD_DB -a sirius-api-production\n メンテナンスモード終了\n  heroku maintenance:off -a sirius-api-production\n  heroku maintenance:off -a sirius-console-production\n\n[[アプリリリース]][takeuchi.icon]\n iOSはRelease This Version, AndroidはReview and Publishを押してストアに公開\n  https://appstoreconnect.apple.com/apps/1473544028/appstore/ios/version/inflight\n  https://play.google.com/console/u/0/developers/4945561659099648201/app/4973689015588846910/publishing\n 別途準備しておいた本番用アプリインストール済み端末で、それぞれ動作チェック\n  ストア反映までに時間がかかるかもしれないため\n\n[[デプロイ後の動作チェックの準備]]\n 運用手順にそって以下を実施する。\n 　Companyの作成\n 　組織とCompanyのひもづけ\n 　アカウントにadmin権限をつける\n https://docs.google.com/presentation/d/1Ym76hh-H-q1DxJxaW2oG5-jH4SZYKhSqu6P8ETjc30Y/edit##slide=id.ga0b34a0b6d_3_20\n\n[[チェックリスト]]\n https://docs.google.com/spreadsheets/d/1tTip3WsAeZF6QNQDzmOy40RWMjXdEF6f9EPyzfrgaWw/edit##gid=1788983828\n\n\n\n22:30現在、PubNubが不安定なので、次の手順とする。\n サーバー（バックエンド、フロント）デプロイする、DBデプロイする\n カンパニー作成、組織ひもづけ、admin権限付与\n コンソール、手元のアプリ（新バージョン）で動作確認。アプリはストア公開しない。\n 　リモート解施錠以外に問題あれば、ロールバックして今日は終了。\n リモート解施錠以外に問題なければ、TKGへのアップデートは問題なしとして、アプリをストアに公開。\n　明日の朝、コンソールからリモート解施錠の動作確認。問題あれば、別途対応。\n\n\n# CU仕様書【作成中】\ncreated_at:Mon Jan 19 1970 20:30:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 22:03:23 GMT+0900 (日本標準時)\nCU仕様書【作成中】\n※SW仕様書の整備を試みるドキュメントです。作成中\n\n[**** 画面遷移]\n[https://gyazo.com/c80c947066d47747bba502c6c89942d9]\n\n[**** 各画面仕様]\n[【UI仕様】wena対応]\n[【UI仕様】解施錠画面の共有玄関対応]\n[【UI仕様】CUのKNIGHT/カード/PIN対応]\n\n# 【UI仕様】解施錠画面の共有玄関対応\ncreated_at:Mon Jan 19 1970 20:57:48 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 22:03:22 GMT+0900 (日本標準時)\n【UI仕様】解施錠画面の共有玄関対応\n[*** 概要]\nJX/KXで共用玄関部に対応するにあたって、CUも対応が必要。\nCUの開発に向けてUI/UXを検討する\n\nJOKERS_SW_FeatureList\nhttps://docs.google.com/spreadsheets/d/1NZUt9r8yMfjc87CfQtk51o5JbLh0Pmikca15heLzY7M/edit##gid=1467063326\n\n[*** 要確認事項]\n・専有部への合カギを付与された場合、共用玄関部も解錠できるようになるか\n[* →YES]\n・その場合、専有部の合カギに指定した利用条件（何曜日にあけられる、何時〜何時にあけられる等）が共用玄関部にも適応されるか\n[* →YES]\n・CU上に共用玄関部登録の機能が必要か\n[* →YES。共用玄関部単体での登録も、共用玄関部＋専有部セットでの登録も両方可能とする]\n・共用玄関部は一度登録したら削除不可か（専有部ー共用玄関部が両方登録されている状態で、共用玄関部だけ削除することはできないようにするか）\n[* →削除不可]\n\n▼20200825_補足詳細\nhttps://qrioinc.backlog.com/view/RMN_02-53\n\n▼20200825_焼山コメント\nUIに関してはカジタクの件でも相談したいので別途で対応させてください。\n\n[*** UI案]\n[** 案1：ナビゲーションバーから切り替える]\nメリット：既存のUIから大きく変更する必要がない\nデメリット：分かりづらい、タップ領域が小さいため押しにくい、今どちらを操作しようとしているのか明確ではない\n[https://gyazo.com/85cc2cf1fc1fc11680466baff6b298a9]\n\n[** 案2：ナビゲーションバーから切り替える]\nメリット：タップ領域が担保されているため押しやすい\nデメリット：誤って違う方をタップする可能性がある、画面サイズが小さい端末の表示が不安\n[https://gyazo.com/9f46904eeafbe6567685394ec95cb4f0]\n\n[** 案3：スワイプで切り替える（◎）]\nメリット：タップ領域が担保されているため押しやすい、今どちらを操作しようとしているか明確\nデメリット：初見でスワイプが伝わるか不安だが、画面内でガイドを入れればカバーできるか\n[https://gyazo.com/6113500a5dc4d77a9fbd6c1e5b1e08dd]\n\n\n# カギカン導入事例 テンプレート検討\ncreated_at:Mon Jan 19 1970 21:47:49 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 22:03:20 GMT+0900 (日本標準時)\nカギカン導入事例 テンプレート検討\n[*** 資料]\nhttps://docs.google.com/presentation/d/1rPeq75ACD5IfeeWNrJUTs1lpknqVOCTqhSn1O2c3Wd0/edit##slide=id.p\n\n[*** 要件]\n\tカテゴリ設定できること\n\t\t業種\n\t\t従業員数\n\t\tニーズ\n\n\t記事に掲載する情報\n\t\t企業プロフィール\n\t\t導入台数\n\t\tニーズ\n\t\tインタビュー記事\n\n[*** テンプレート候補]\n【◎】\nhttps://ja.wordpress.org/themes/vilva/\nカテゴリ設定：可\nイメージに近い度：★★★☆☆\n\nhttps://ja.wordpress.org/themes/blossom-fashion/\nカテゴリ設定：可\nイメージに近い度：★★☆☆☆\n\nhttps://ja.wordpress.org/themes/blossom-chic/\nカテゴリ設定：可\nイメージに近い度：★★☆☆☆\n\nhttps://ja.wordpress.org/themes/blossom-pinit/\nカテゴリ設定：可\nイメージに近い度：★★☆☆☆\n# カギカンメンテナンス時文言テンプレート\ncreated_at:Mon Jan 19 1970 21:58:13 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 21:58:13 GMT+0900 (日本標準時)\nカギカンメンテナンス時文言テンプレート\n[*** メンテナンス前メール・WordPress]\n[** タイトル]\nメンテナンスのお知らせとアプリアップデートのお願い\n\n[** 本文]\n（会社名）（担当者名）様\n平素はカギカンをご利用いただき、誠にありがとうございます。\n当サービスはxxxx年x月x日(x)にサーバーメンテナンスを実施いたします。\n期間中はカギカンのWeb管理画面と設定アプリがご利用いただけなくなります。\nまた、メンテナンス終了後、カギカン設定アプリ（iOS/Android）を引き続きご利用いただくには\nアプリを最新版にアップデートいただく必要がございます。\nお客様にはご迷惑をおかけいたしますが、何卒ご理解のほどよろしくお願い申し上げます。\n\n■ 日時\nxxxx年x月x日（x）00:00〜00:00を予定\n※終了時刻はメンテナンスの状況によって前後する場合がございます。あらかじめご了承ください。\n\n■ ご注意\n・Qrio Lockアプリからの解施錠は期間中も通常通り行えますが、期間中の解施錠履歴については記録されませんのでご注意ください。\n\n■ アプリのアップデートのお願い\n※メンテナンス終了後アップデートが可能となります。改めてアップデートのお願いについてアナウンスさせていただきます。\nメンテナンス終了後、カギカン設定アプリ（iOS/Android）を引き続きご利用いただくには\nアプリを最新版にアップデートいただく必要がございます。\n（アップデートを実施しない場合、アプリへのログインが行えなくなります）\n＜iOS＞\nhttps://apps.apple.com/jp/app/id1473544028\n＜Android＞\nhttps://play.google.com/store/apps/details?id=me.qrio.kagican2&hl=ja\n\nご不明な点がございましたら、お手数ですがカギカンサポート窓口までお知らせください。\n今後ともカギカンを宜しくお願いいたします。\n--\nカギカン｜kagican.jp\n■ お問い合わせ先メールアドレス\nqrio_support@kagican.jp\n* このメールは自動送信されているため、返信でのお問い合わせにはご回答できません。\n\n\n[*** メンテナンス後メール・WordPress]\n[** タイトル]\nメンテナンス完了のご報告とアプリアップデートのお願い\n\n[** 本文]\n（会社名）（担当者名）様\n平素はカギカンをご利用いただき、誠にありがとうございます。\n先般お知らせいたしましたサーバーメンテナンスが完了いたしました。\nメンテナンス中、お客様にはご不便をおかけしましたことをお詫び申し上げます。\nメンテナンスに伴い、カギカン設定アプリ（iOS/Android）を引き続きご利用いただくには\nアプリを最新版にアップデートいただく必要がございます。\nお手数ではございますが、何卒ご理解のほどよろしくお願い申し上げます。\n\n■ 日時\nxxxx年x月x日（x）〜x/x（x）0:00\n\n■ アプリのアップデートのお願い\nメンテナンス終了後、カギカン設定アプリ（iOS/Android）を引き続きご利用いただくには\nアプリを最新版にアップデートいただく必要がございます。\n（アップデートを実施しない場合、アプリへのログインが行えなくなります）\n＜iOS＞\nhttps://apps.apple.com/jp/app/id1473544028\n＜Android＞\nhttps://play.google.com/store/apps/details?id=me.qrio.kagican2&hl=ja\n\nご不明な点がございましたら、お手数ですがカギカンサポート窓口までお知らせください。\n今後ともカギカンを宜しくお願いいたします。\n--\nカギカン｜kagican.jp\n■ お問い合わせ先メールアドレス\nqrio_support@kagican.jp\n* このメールは自動送信されているため、返信でのお問い合わせにはご回答できません。\n# 20201005_SECOM案件ご相談\ncreated_at:Mon Jan 19 1970 21:57:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 21:58:03 GMT+0900 (日本標準時)\n20201005_SECOM案件ご相談\n[*** 概要]\n　日時　：2020/10/5 16:00-16:30\n　参加者：河本さん、竹内さん、神谷\n　目的　：\n　　SECOM x Qrioで協業の話が出ており、何かできることはないかオーダーを受けている（詳細は以下）\n　　SECOMアプリとQrioアプリで連携し、SECOMアプリを操作することで解錠など、なるべく物理鍵を使わないソリューションを考えたい\n　　開発も含めて話した上である程度現実性が高い提案に落として持っていきたい（←現状ここ）\n\n\n[*** 解決したい課題]\nSECOMスマートフォンアプリを活用して、より使いやすいホームセキュリティを提供できないか\n[https://gyazo.com/7f3c90a962ec45c1087a8e25ece64ed5]\n\n[** 現状のフロー]\n　弊社ホームセキュリティ（以下HS）は通常スティック状のキーを差し込むことで警備セット/解除を行う（鍵と一緒にキーホルダーのように持っており、家に帰ったら玄関先で操作するもの）\n　[https://gyazo.com/1c358e4c759b4878c17871fa6c6c1896]\n\n　また、スマホアプリも提供しており、今後そのUIを進化させていくことを考えている（より簡単な操作へ）\n\n[** 現状の課題]\n①家の鍵を開ける（鍵/スティック状のキーをバッグから取り出す）\n②解除操作をする\nという流れとなるため、①の段階で結局鍵を取り出してしまうと、②のタイミングではスマホよりもスティックの操作の方が早く、結果的にアプリの活用機会が減ってしまう。\nまた、お客様によっては、家の近くや車を駐車したタイミングでアプリ操作をしてHSを解除される方は、その後玄関で結局鍵を取り出さなければならなくなる。\n\n[** 課題の解決方法]\nUXとして出来るだけハンズフリーに近い形でのセット・解除を行うには、スマートロックソリューションとの\n連携が必要であると感じているところです。\n\n\n[*** 連携案]\n　SECOMスマートフォンアプリ・Qrio Lockアプリ双方のアプリが独立して動く\n　アプリ（またはセンター）が連携し、解錠と共にHSも解除　等々\n　　「セキュリティの解除」は弊社にとってはかなり重要な操作となる為、情報セキュリティ上の懸念などについても厳しい基準で運用している\n　　また、何かあれば弊社警備員がすぐに駆け付けられる一方で、トラブルや不明な時に必要以上に駆けつけ要請が発生しないようなスキームを構築しないと運用が困難になるのでは？等の懸念もある\n\n\n[*** MTGメモ]\n　現状SECOM導入賃貸で物理鍵で施錠後、アプリで解錠しようとすると（サムターン回しと見なされて）防犯異常ブザーが鳴るため、何らか対策が必要\n　SECOMアプリに「解錠」メニューを設け、タップでQrio Lock解除\n----\n 現状のハンズフリーの成功率では不本意に呼びつけてしまうことになりそう\n\t警備セットを自動化するとセキュリティ的に問題があるため、セコムアプリで可能なのか解錠のみ\n\t\t解施錠状態と警備セットの状態を常にリンクさせてしまうと、不要に解施錠されたことを警備セットが検出できないため。\nQrioAPI経由で解施錠した場合、警備セットのOFF/ONも自動で切り替える。そうでない場合、従来通りスティックのキーを使う。\n\n\n[*** 提案]\nSECOMアプリにQrioAPIを提供、解施錠をSECOMアプリで行ってもらい、解施錠のタイミングで警備セットのON-OFFも行えるようにする\n\n解錠_セコムアプリ_シーケンス案[takeuchi.icon]\n　セコムアプリで解錠or施錠ボタンを押す\n　セコムアプリが、QrioAPIを叩いて、QrioHub経由でロックを解施錠する\n　セコムアプリは、QrioAPIから、解施錠結果（成功or失敗）をチェック\n　もし成功だったら、セコムアプリが警備セットのON-OFFを切り替える\n\n施錠_セコムアプリ_シーケンス案[takeuchi.icon]\n　セコムアプリで解錠or施錠ボタンを押す\n　セコムアプリが、QrioAPIを叩いて、QrioHub経由でロックを解施錠する\n　セコムアプリは、QrioAPIから、解施錠結果（成功or失敗）をチェック\n　もし成功だったら、セコムアプリが警備セットのON-OFFを切り替える\n\n※SECOMと連携する場合でも、物理鍵とスティックキーは持ち歩き推奨（Qrio Lockもそうなので）\n\n# 2020/9- TKG朝会議事録\ncreated_at:Mon Jan 19 1970 21:28:58 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 21:41:55 GMT+0900 (日本標準時)\n2020/9- TKG朝会議事録\n2020/09/18\n全体\n　TKG demo成田さん行くいくかヒアリング中\n\n竹内さん\n Demo 動作確認\n \tAndroid端末→表示不具合\n \t\t今の市場でも漏れている\n \t\t\t障害としては既存のもの\n\t iPhoneでデモしてもらう変更\n\tアカウント名どうする\n\t\tqrio山田\n\t\t山田カンパニー\n\t\t\tこうきちさんに名前変更必要か聞いてみる\n\n 開発のissueはgithubで管理\n\t想定問答もissueにしたい\n　開発進捗を定時するところはPMマターにしたい\n\n 残障害は棚卸しが必要\n \t一部起票予定\n　改善要望はissueまだ？\n　　紐付けられているものもあれば、されていないものも\n\n駒井さん\nV3\n バックログを主体として進めていく\n \tissueステータス更新すればバックログも更新する\n\n蓑毛さん\n\t2ndのものも含まれているが大丈夫か？\n\t\t問題なし\n\n神谷さん\nTODO\n issueに想定問答を含めて書いて欲しい\n\n-----\n2020/09/17\n竹内さん\n Demo確認\nhttps://qrioinc.slack.com/archives/CKPLM5J9Z/p1600255006026600?thread_ts=1600248875.023100&cid=CKPLM5J9Z\n- TODO\n 明日Demo機を会社に持っていく\n\t こうきちさんにバグ踏まないフローの共有\n\n駒井さん\n 明日にはPR\n\n蓑毛さん\n　三上さんとタスク確認（バッティング）\n　\tタスク着手するタイミングで三上さんに報告\n　FeatureLアサインついているのが1件\n　\t次何やろうか\n\n三上さん\n Githubを正としたい\n 2重管理になっている\n \t山田さんがgithubのissueにあげている\n 要望をissueに落とす人間が欲しい\n バグは少なくともgithubにした方がいい\n\t BTSじゃないから\t\n シートにissueの番号\n ステータスはシートに完了\n\nバグがconsoleなのかなんなのかわからない（山田さん）\n\n・epの情報が古い→ひろゆきさん\n→三上さんが消す\n\n河本\n(TODO) → 神谷さんとスプシの管理考える\n→いっそのこと移し終わったらスプシ消してしまってもおｋ\n\n---\n\n2020/09/16\nたけうちさん\nロック・BCU・CU手元に\ndemo環境\n\n河本\n・カンパニー名どうするかとか確認\n\n駒井さん\n・gemムニムニ\n\n蓑毛さん\n・引き続き - middle\n\n\n[** 2020/9/15（火曜）]\n※抜け漏れあったら追記してください\n日時　：2020/9/15（火曜）11:40〜\n参加者：河本さん、竹内さん、こまいさん、みのもさん、神谷\n\n## タイムスケジュールについて\n河本さんの方で一旦まとめ\nhttps://docs.google.com/spreadsheets/d/1eCW2XVmkvCDZ1jnkJJKxJ6FrgZqoUl3v35X2o_9onZQ/edit##gid=0\n\n1stリリースのスコープ＝「TKG以外の企業も使えるようにする」か？\n→プレスリリース発信などのタスクも含まれていたため。対外的な発信をすると「お申し込みが来たら組織管理機能を提供しないといけない」状態になるため\n→今日のカギカン定例でこうきちさんとすり合わせる\n\n# PP対応\ncreated_at:Mon Jan 19 1970 21:10:17 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 21:32:06 GMT+0900 (日本標準時)\nPP対応\n## 背景\n\tSonyより指摘あり\n\n## 要件\n\tプライバシーポリシーの修正\n\t\tソニーとマージする必要あり\n \thttps://qrio.me/privacy/\n CCPAページの新規作成\n \tプライバシーポリシーからもハイパーリンクで飛べるようにする？\n APP修正\n \t登録時に利用規約とプライバシーポリシーの同意を取る\n 海外版APPのGA設定\n \t無効にする\n\n## 20200908\n## 確認事項\n※SonyとMTG実施予定\n\tプライバシーポリシーの修正\n\t\tSony確認中\n\tアプリ登録時UIの変更\n\t日本語プライバシーポリシーの改修\n\t\t日本語プライバシーポリシー、CCPAのリンクを掲載\n\t\t\tCCPAを別ページにしてリンクで飛べるようにするも可能\n\t海外版（ローカライズ）のGA停止\n\t\t可能\n\n## 補足\nhttps://qrioinc.slack.com/archives/C019YGXU3S8/p1599011631005900\n\n\n------20200917------\n- カジタク用の利用規約いる\n- 各サービスの利用規約を作成する\n    - [https://kagican.jp/privacy](https://kagican.jp/privacy)\n        - [https://github.com/qrioinc/sirius-site](https://github.com/qrioinc/sirius-site)\n    - [https://form.run/@roomon?_ga=2.249689158.193115152.1599791060-1074214474.1591680648](https://form.run/@roomon?_ga=2.249689158.193115152.1599791060-1074214474.1591680648)\n        - [https://github.com/qrioinc/castle-console](https://github.com/qrioinc/castle-console)\n    - [https://qrio.me/tadaima-kit/](https://qrio.me/tadaima-kit/)\n        - [https://qrio.me/support/tadaima-kit/contact/](https://qrio.me/support/tadaima-kit/contact/)\n        - [https://github.com/qrioinc/corporate-site](https://github.com/qrioinc/corporate-site)\n    - [https://qrio.me/smarttag/](https://qrio.me/smarttag/)\n        - [https://qrio.me/support/smarttag/contact/](https://qrio.me/support/smarttag/contact/)\n        - リポジトリ不明\n    https://qrio.me/privacy/roomon みたいにする必要あり\n\n    - PP\n   \t - 英語版\n      [https://qrio.me/privacy/global](https://qrio.me/privacy/global)\n\n★★★★SonyからPP来たらやる★★★★\n# 2020.09~PS部KPI\ncreated_at:Mon Jan 19 1970 21:10:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 21:27:51 GMT+0900 (日本標準時)\n2020.09~PS部KPI\n[https://gyazo.com/99c3ed1198ce641fc82b1d2bc519099d]\n\n[* 目的]\n[https://gyazo.com/1d33b733ead1ee273f26bdd86232b9ab]\nここらへんに匹敵するような指標を持ちたい？\n→各々課の例えば月毎の目標を持つ必要性？\n\n↓\n\n・開発（エンジニア）の場合\n→進捗達成率？\n→ロードマップが引けてないとそもそも測れない？\n\n↓\n\nそもそも定量的に測る必要性、ある？\n\n↓\n\nほかチームの場合\n→ 事業的な目標があって\n→それに落ちているからOK（目標数値として）\n\n----yakechang----\n属人化しないための組織をつくる>ドキュメント作成>結果的にコストがこれだけ下がったと言える\nカスタマー目線でディスカッションができる組織をつくる>最初の要件定義から入る？>結果として認識のズレなくなる\n\n## 現在\n\t全体ロードマップ\n\t\t全体で追加があるかどうかが分かる\n\tプロジェクトラインの進捗共有\n\t\tプロジェクトロードマップを作成する\n\t\tバックログのガントチャートを活用して遅れをすばやく検知する\n\n## メモ\n　タイムプランと開発費\n　\t＋1weekとか、＋いくらとか\n　\t課題と対策案の策定\n\n## 中長期(jk)\n\t技術負債返上\n\t\t属人化しないようにしていく対応\n\t\t\tドキュメント化\n\t\tリファクタリング\n\t\t教育コストの削減\n\n## 長期\n\t技術戦略\n\tセキュリティ\n\n## next action\n・全体ロードマップの作成（yake）\n・プロジェクトラインのロードマップの収集（yake）\n・報告テンプレ作る（yake）\n・15minくらい壁打ちセット（yake）\n・ガントチャート触る（jk）\n\n\n---jk---\n　PMO - 情報のオープン化\n　UI提案数\n　\n\nhttps://docs.google.com/presentation/d/15IfAODhWWYXvSVqDEbC_h1nzVmqQ2fu4i-ORUSI96GI/edit##slide=id.g948d0977d5_3_0\n\nhttps://drive.google.com/drive/folders/1D_MDiW7-uFy7l7Z-w3Rnx8HutlhO1JR0\n\n\n\n\n\n# 202009_yakechang_引き継ぎ\ncreated_at:Mon Jan 19 1970 21:21:38 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 21:21:38 GMT+0900 (日本標準時)\n202009_yakechang_引き継ぎ\n\tチーム管理方法\n\t\tすでに決まっているためチームで回せるように周知する\n\tPP\n\t\t要件定義、UIFIX\n\tRoomon\n\t\tざっくり要件定義\n\tイエナカ\n\t\t河本さんに概要説明\n\tその他\n\t\tPC返却\n\t\t健康保険証返却\n\n# 開発キャッチアップ（King-api）\ncreated_at:Mon Jan 19 1970 21:17:54 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 21:20:35 GMT+0900 (日本標準時)\n開発キャッチアップ（King-api）\n\n[* Gitbook]\n 各Developerさんに提供している資料です。\n どういう機能、APIを提供しているかが分かります。\nhttps://qriolock-document.herokuapp.com/\n\nswagger\n APIで提供しているもの全てが見れます\n /uが通常のユーザー向け\n /aがadmin用\n /mがmanagement用\n /hがhub\n詳細は実際にking-apiのswaggerをご確認ください。\nhttps://github.com/qrioinc/king-api##swagger-url\n\n\n# 開発マネジメント業務\ncreated_at:Mon Jan 19 1970 21:11:33 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 21:17:19 GMT+0900 (日本標準時)\n開発マネジメント業務\n\n2020.09.03 [takeuchi.icon] 竹内→河本さんへの作業移管\n\n開発業務委託\n\tTODO: あとで書く[takeuchi.icon]\n\n開発業務比率入力\n\t和田さんから月イチで依頼される、開発工数を資産計上or費用計上に落とし込むための資料を作成する\n\t\thttps://docs.google.com/spreadsheets/d/1i5_PNmPFr6YfqQygQsi3YomdVzDfPFFrlotM_omXboI/edit##gid=1278471489\n\t\t朝会シートとか見て、工数の比率を入れていく\n\t\tリリースの有無で資産化するかどうか決まる\n\t\t\t今月、リリースしなかった場合「未リリース」に入力\n\t\t\t今月、リリースした場合「リリース」に入力\n\n\nRoomon 月ごとの請求をcsvで出力する\n\t月初にかゆきさんからcsvの出力依頼がくる\n\t\thttps://docs.google.com/spreadsheets/d/10lUiF25bd--PNmwZVCMCtFIDKx4loAwpEXp3rYVHz0E/edit?usp=sharing\n\t\t上記シートの「SQL」タブのSQLをredashで叩いてcsv exportしている\n\t今は手動で対応しているので自動化できたらしたい(´・ω・`)\n　CSV\n　Redash→SQL\n　かゆきさんに\nhttps://qrioinc.slack.com/archives/CPFLQ24J2/p1598931258012900\n\n経営会議用資料\n　定例とはまた別\n[https://gyazo.com/2931d828b3ea6c92d78a5fabfe9ff249]\n\n\tセキュリティの件\n\t\t竹内さんのままで作業\n\n\tインフラコスト\n\t\t河本さんのままで作業\n\n\n\n# 組織管理対応 1stリリースに向けて\ncreated_at:Mon Jan 19 1970 21:11:56 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 21:12:00 GMT+0900 (日本標準時)\n組織管理対応 1stリリースに向けて\n2020.09.03 [takeuchi.icon]\n\n\n組織管理のdemo環境作成→三上さん（9/7(月) 来週月曜）\n\tsirius-apiのエンドポイントはsirius-api-demoにする\n\tBCUを改修（竹内）\n\t\tstagingのロック・ハブ・Android端末を用意\n\n\tsirius-api, sirius-console, sirius-ep-consoleの3つについて、デモ環境が必要\n\tCSツールはデモ環境は必須でない\n\t\t余裕があればactive adminにCSツールの機能を載せる\n\tauth0はstaging, dev, demoで同じ\n\t\tお客さん環境では問題なし\n\tkingはいずれもstagingを向いている\n\nCSツールのフロント改修はコスト高い\n　active adminでいけそう\n　\tcompanyを作ってorganizationをcompanyにひもづける\n　\tmanagerをcompanyにひもづける\n　\tこれらをactive adminでできる\n　\t\t駒井さん: active admin生やす（来週から）\n　\t\t三上さん: sirius-api model作成\n　\t川上さんが\n　\t\tcompanyをつくる\n　\t\torganizationをひもづける\n　\t\tmanagerをつくる\n　モデルを用意→三上さん（来週月曜）\n　来週、再来週で、CSツール移管も含めてcompany対応は完了、予定\n　\t9/14 (月) 努力目標、きびしそうなら9/23 (月)\n\nadminブランチ\n\t既存のものにデグレはないはず\n\tking-apiのadminを整理してmasterにマージしてもいい、はず\n\t\tking-apiのadminにdelayedJobがなぜか入ってしまっているので、チェックする\n\n\n----\n\nカギカンコンソールとカギカン組織管理コンソールを同じリポジトリにしたい\n\nUIレイアウト直す前に（一番最初に）やりたい。\nこれしないと改修がだいぶ厳しい。\n同じプロダクトの別URLになる\n\nデモ環境は今のまま別リポジトリにする。\n1stリリースで、リポジトリを統一した場合、SQAやり直しの工数が必要になる。\nので、2ndリリースに向けて対応したい。\n\n---\n\n今後やりたい\nherokuでnodeで動いているのをstaticな環境に移動したい（Netlify）\n\tコスト少し低下、デプロイが早くなるかも\n\t河本さんも検討\n\tTKG 1stリリースしたタイミングで一度試してみて、ダメそうだったらあきらめる\n\n\n\n# Sirius v2.2 招待状管理と利用者管理、マネージャ管理\ncreated_at:Mon Jan 19 1970 19:51:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 20:59:09 GMT+0900 (日本標準時)\nSirius v2.2 招待状管理と利用者管理、マネージャ管理\n2020.07.10 文責: 山田\n　　✔はテスト項目に入れたら付けてます。\n\nv2.1までは利用者管理で招待状を送った人と承認した人の区別がつかなかった。\n[*  v2.2からメニューに招待状管理が追加]\n 招待状を送付しているユーザーを管理する\n 利用者管理は招待を承認したユーザーを管理する\n\n[** 招待状管理]\n1. 招待状管理から招待状を新規作成する（メールアドレスとグループ選択(任意,未選択可能)　✔\n　　名前設定はゲストユーザーが初回の招待状の受け取り時に入力する\nグループ選択時\n　招待状を送付後にグループとロックが紐づいたらロックは使用できる　✔\n　招待状を送付後にグループが削除されたらグループから外れてロックは使用できない　✔\n　招待状を送付後にロックが初期化されたらグループにロックがなくなり使用できない　✔\n　　いずれは招待状管理に見えるようにもできますが一旦は招待だけです!　→要望に記載\n2. 新規作成を行うと、メールアドレス宛に招待状が送付される✔\n　　[* 作成したら必ずメールが送信される]（v2.1まではロックが紐づかなければメールは送信されなかった）✔\n　　[* １つの招待状メールアドレスに１つのKingアカウントで登録可能]（v2.1までは受け取るメールアドレスはいくつでも可能だった）✔\n　　招待状のメールアドレスと承認時のKingアカウントは同一でなくてもよい。（★今後どうするか検討）\n　　同じメールアドレスで招待状は作成できない（重複エラーになる）✔\n　　招待状Aを山田が承認してから、招待状Bを山田が承認することはできない（既に登録済みアカウントエラー）✔\n　　組織ごとに招待状が送られて承認する必要がある（各組織で承認すると兼務扱いになる）✔\n　　作成した招待状のグループを変更したい場合は、招待状を新しく作り直すか、承認後に利用者管理からグループ変更するしかない\n3. 招待状管理には招待状を送付したユーザーのメールアドレスのみ表示される✔\n　 招待状から承認したら招待状はなくなり、招待状管理の一覧からも消えます。✔\n4.招待したメールにURLのリンクがあり、リンクを開くとKingのログインを聞かれる。✔\n　　v2.2以降 [* ニックネームも付けられるようにする。] (ニックネームはSirius上で表示される名前。Kingのユーザー名ではない）✔\n5. 招待状の削除が行える　★いずれ実装するつもりです!(今はないです)→要望に記載\n　　削除すると、招待メールからはログインできない\n　 招待状を削除すると、招待状管理の一覧からも表示が消える\n6. 招待状一覧からメールアドレス、グループ変更はできない。（グループの追加や削減は利用者管理から行う）✔\n7. CSV一括登録が行える✔\n\n[** 利用者管理]\n1. 招待状から承認が完了（ログインできたら）したら、利用者管理に表示されてくる。✔\n　　招待状はなくなるので、招待状管理からは消えます✔\n2. 利用者管理ではグループの変更と利用者削除が行える✔\n3. 利用者管理からも招待状作成のボタンを用意する✔\n　　★[* ボタン名を「利用者を登録」から「招待状を作成」に変更する]✔\n　　　遷移先は招待状管理の「招待状を作成」と同じ画面になります✔\n4. グループが追加されたり、グループにロックが追加されたら、[* アナウンスなしでKingにロックが表示される]✔\n　　自動にするか悩むところ。★ここは要検討で。一旦は何もアナウンス無しで。\n5. 利用者管理から利用者を削除したら、利用している合カギが消える　✔\n　　カギが消えるだけで、ゲストマスターは残っている✔\n　　利用者管理から利用者を削除して、再度招待状を作成したら、メールは送信されてログインする必要がある　✔\n6. [* メールアドレスの変更は行えない(v2.1までは変更可能だった）、]グループ変更は行える✔\n\n[** マネージャー管理]\n登録\n1. マネージャーを作成してアカウント招待のメールが飛ぶ  (v2.1と同じ）✔\n2. 新規作成時、メールアドレスが必須、名前は不要 （v2.1は名前は必須)✔\n3. 招待中はマネージャー一覧に招待中が表示されている (v2.1と同じ）✔\n4. 初回ログインするとマネージャーとして登録される([* 名前は自分で設定する]） (v2.2から)✔\n5. マネージャー一覧の「招待中」の表示は消える (v2.1と同じ）✔\n6. マネージャーは削除後の2回目以降や別の組織に招待されればログインできる (v2.2から)✔\n7. [* 複数組織に兼務できて、各組織に切り替えが行える]（BCUでも同じように兼務ができるようになります）(v2.2から)✔\n変更\n8. Consoleから他メンバーのマネージャー名の変更が行えない (v2.2から）✔\n9. マネージャー情報から自身の名前は変更可能 (v2.1と同じ）✔\n10. 自分の名前を変更したらほかの組織に所属している名前も変更される。 (v2.2から)✔\n11. Consoleからメールアドレスは変更できない。(v2.1と同じ）✔\n削除\n12. マネージャー一覧から削除すると、ログインはできても組織が表示されない。（BCUも同じ） (v2.2から)✔\n13. 所属組織が0件になることもある (v2.2から)✔\n14. ログインのメールアドレスを削除することは今のところ出来ない。 (v2.2から) ✔\n\n[*** 要望まとめ]\nhttps://docs.google.com/spreadsheets/d/1EmwvwwlVOcrGfOfmArUtyGgdndDwW1yFqgyeW1OKrGQ/edit##gid=1825220683\nに入れておきました。\n【招待状管理の要望】\n　招待状の削除を行う⇒済\n　メールアドレスで検索したい\n　CSV一括登録でユーザー名を不要にする（利用者が決めるため）⇒済\n　CSV一括登録でグループ名を任意にしてほしい（グループが作られていない場合があるので、任意にしたい　⇒済\n　作成した招待状のグループ変更を行いたい\n　ゲストマスターを削除したい（利用者削除では消えない？）\n【利用者管理の要望】\n　利用者の名前を変更できるようにしたい\n　メールアドレスで検索したい\n　ロックとグループが紐づいたらアプリ上で「合カギを受け取りました。」の通知が来てほしい（コスト高）\n【マネージャー管理の要望】\n　メールアドレスで検索したい\n##Sirius\n\n# wena対応検討\ncreated_at:Mon Jan 19 1970 19:38:32 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 20:21:50 GMT+0900 (日本標準時)\nwena対応検討\n\n2020.06.30 [takeuchi.icon]\n2020.07.13 [takeuchi.icon] 工数修正\n2020.07.30 [takeuchi.icon] 仕様変更追記\n\n\n[*** 概要]\nwenaデバイスにQrioKey相当の機能を持たせて、wenaからQrioLockを解施錠させる対応を検討中。\nwena主導のプロジェクト。Qrioはwenaの要望に協力するが、Qrio側の工数を割かない範囲で行う。\nビジネス的には、クロスセルおよびプロモーション周りでの相乗効果を期待している。\n\n\n\n[*** 要件]\n[** wenaアプリ連携]\nwenaアプリからQrioアプリを起動したい。\n\tCustom URL Schemeで、QrioアプリのTop画面に飛ばしたい \n\n[** wenaをCUに登録]\n次のフローで、wenaにekeyを流し込んで登録したい\n\twenaとスマホがすでにwenaアプリによってペアリング済みの状態が前提\n\tCUからペアリング済みデバイスを取得して、その中からwenaを探して、リスト表示する\n\t\tTODO: リストからwenaを探す際のkeyはwenaに聞く。サンプル実装はもらえる予定\n\t\t5秒長押しフローは不要なのでなし\n\tリストから接続したいwenaを選択する\n\twenaからwenaデバイス情報をreadCharacteristicする\n\t\tService/Characteristic UUID, valueは別途仕様書に記載\n\twena用の合カギを発行する\n\t\t登録の際、wenaのシリアルNoをPOSTのパラメータに渡す\n\t\twenaにekeyを流し込む\n\t\t\tコマンドはQrioKeyと同等。ただしService/Characteristic UUIDはQrioKeyとは別に定義。詳細は別途仕様書に記載\n\t\tデバイス・サーバー間のトランザクション実装どうやってたか忘れましたが、QrioKeyと同等の想定です\n\n[** wenaをCUから登録削除]\nこれもQrioKeyと同じ。CUの画面デザインは同じくwenaから出てくるのでそれを取り込む。\n\n[* 懸念]\n解施錠履歴、解施錠通知にかんして、wenaからの要望はまだ未確認。\n\tたぶんwena側がQrioKeyの仕様をそこまで把握してないので、こちらから教えてしてあげるなど必要かも。\n\tQrioマターなので、あとでどうにでもなるっちゃなる\n\n[** その他]\nQrioKeyと同様に、\n\twenaにも名前をつけたい。\n\twenaの操作履歴もCUで表示させたい。\n\twenaの操作を通知したい。\n\nリンク関連\n\twebページ: Qrioのホームページに飛ばしたい\n\twenaアプリからQrio Lockアプリに飛ばすURLを設定する (Custom URL Schemeでおk)\n\twenaアプリからQrioのホームページに飛ばしたい\n\tこの記事のいちばん下に資料のリンクはっときました。そこのパワポをみてください(´・ω・`)\n\n\n[*** 詳細設計]\n[** DB/API]\n\tQrioKeyと同様に、wenasテーブルをQrio側でもつ。\n\t\twenaのserial_no, ed_pkが入っている。\n\t\t\twenasテーブルをQrioで持たずに任意のed_pkをもらう形だと、BLE部分でのMITM攻撃を防げない\n\t\t\t\ted_pkの正当性を検証できない(´・ω・`)\n\t\t\t\tekeyが気づかれず丸ごと盗まれるリスクあり(´・ω・`)\n\t\t\twena個体情報はwenaに作ってもらう。そんなに頻繁じゃないけどinsertの運用は必要そう(´・ω・`)\n\twena_keysで合カギ管理する方法もほぼQrioKeyと同じ。\n\tQrioKey全削除時は、RUをリハッシュするのでwenaも使えなくなる。のでwena_keysも全削除する。\n\t\tリハッシュ、QrioKey全削除、WenaKey全削除をクライアントが叩く。\n\t「QrioKeyと同じにしたい」要望なので、名前つけたりとかはQrioKeyを踏襲する。\n\n[** BLE/Client]\n\twenaのService/Characteristic UUID\n\t\thttps://drive.google.com/drive/folders/1iDejH73TNUsat-TOvavjbUuupIQ1WSbY\n\t\t\twena 仕様 (Qrio関連) \n\tekey流し込むコマンドはQrioKeyと同じ\n\twenaのFWバージョンの表示およびFW更新機能はなし。\n\n\n[*** スケジュール]\n10/M: wenaにRU Testを提供。wenaへの鍵流し込み、削除が可能。\n10/E: CUのFF (ここまでにQrio側のwena対応が完了)\n11.16 GM\n\n\n[*** Qrio開発工数見積（人月）]\n設計（0.05）\n\twenaの情報をどのように持つか検討\n\twena用ekeyの仕様について検討\n\twena解施錠時のロギング方法検討\nking-api改修（0.75）\n\t見積: https://github.com/qrioinc/king-api/issues\n\t\twena_keys作成 1day\n  wena_keys全削除 1day\n  wena_keys削除 1day\n  wena_keys名前変更 1day\n \twena_keysのekey作成 1day\n  wena_keysのlogパース処理 1day\n  wena_keysのlogプッシュ通知 1day\nCU wena登録部分の情報設計・デザインDir\n\twenaのデザインアウトプットのDir（0.025）\nCU改修 情報設計\n\t登録・解除フロー情報設計（0.1）\n\t\t[【UI仕様】wena対応]\nCU改修 コードの設計\n\tドメインの検討など（0.1）\nRU Test作成\n\twena検出、wena用BLEコマンドのつなぎこみ（0.05）\nCU改修 iOS（0.7）\n\tKeyi改修\n\tCU改修\nCU改修 Android（0.7）\n\t登録・解除フロー実装、Custom URL Scheme対応、文言対応（0.3）\n\t\tURL定義して、wenaに連絡して、wenaアプリからintent飛ばせば、CUがインストールされていればCU起動、されてなければストアに飛ぶ。\n\tkeyfi wena scanner/command実装（0.15）\n\tAPIつなぎこみ、DAO実装（0.15）\n\tバグ対応（0.1）\nSQA\n\tQrio実装分のSQA（0.1）\t\n\nデザインのディレクションは入れてません(´・ω・`)\n\tCUの動線設計とか、wenaからの画像アウトプットのディレクションを想定はしてます\n\n\n[** 開発リソース]\nアプリ\n\t外注想定。\n\t\tふかざわさんの稼働: 10~20h/week→0.25~0.5人月\n\t\tひろさんの稼働: 10h/week→0.25人月\n\nサーバー\n\tAPIはQrioKeyと同じなのでアプリ実装のブロッカーにはならない想定\n\tもしかしたら河本さんに作業お願いできるかもしれないが、設計次第なので開発チームで相談する\n\n\n\n2020.07.27 [takeuchi.icon]\n実装の大枠を決める\n\tQrioの知識が必要なところと、そうでないところを分ける\n\t\n\n\n[*** 資料など]\nここにおいてます。wenaとのやりとりはメールベース。\nhttps://drive.google.com/drive/folders/1iDejH73TNUsat-TOvavjbUuupIQ1WSbY\n\tQrio-wena対応シート20200630 っていうexcelで、wenaとタスクをやりとりする予定。\n\n\n##wena\n\n\n# カギカンv2_組織管理コンソール【作成中】\ncreated_at:Mon Jan 19 1970 18:56:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 20:18:46 GMT+0900 (日本標準時)\nカギカンv2_組織管理コンソール【作成中】\n開発が呼んでいるバージョン[takeuchi.icon]\nv2.1: リファクタ版（機能変更はなし。内部の設計を変更。BCUのアップデートが必要だったりする版）\nv2.2 or v2.3: 組織管理機能に対応した版\nv3?: Joker/Knight対応\n\n[**** 概要]\nカギカン組織管理コンソールのSW仕様書\nFeatureList：https://docs.google.com/spreadsheets/d/14H9jED-t-XuF3VRTw-PFkPWDIIL6VfHEc-BmL7Z1T9c/edit##gid=1467063326\n\n[** 組織管理ができた経緯]\n>（全国に拠点をもつような）中規模案件に対応可能なカギカンサービスがほしい。\n> 今のカギカンで、それを満たすのは厳しい。\n> 各拠点のマネージャーに、拠点単位で権限を与え、制御したい。\n> すべての拠点を統括し、各々の拠点の管理や、組織の一括異動を行いたい。\n[Sirius 組織管理 要望まとめ]\n\n[** カギカンを構成するプロダクト]\n\t[* カギカンコンソール]\n\t\tロック/機器の操作、利用者/マネージャーの追加/削除、合カギの発行/編集など、運用業務の大半を行う\n\t\t組織の部門長、総務など、カギの権限を管理するユーザーが使用する\n\t\t\t仕様書：[カギカンv2_コンソール【作成中】]\n\t[* カギカン組織管理コンソール]\n\t\t利用者/マネージャーの追加/削除/[* 異動]など、各拠点の管理を行う\n\t\t本社人事など、人の配属や異動を担当するユーザーが使用する\n\t\t\t仕様書：[カギカンv2_組織管理コンソール【作成中】]\n\t[* カギカン設定アプリ（BCU）]\n\t\tQrio Lock、Qrio Hubなど機器のセットアップを行う\n\t\t組織の部門長、総務など、カギの権限を管理するユーザーが使用する\n\t\t\t仕様書：[カギカンv2_設定アプリ【作成中】]\n\t[* Qrio Lockアプリ（CU）]\n\t\tQrio Lockの解施錠のためにカギの利用者（社員など）が使用する\n\t\t\t仕様書：なし\n\n[* 機能対応表]\n[https://gyazo.com/13b0ee9c399ebf615e80dd8a269bd1f3]\n\n\n[**** 画面遷移]\n[https://gyazo.com/7d6af4bf7981aca608c8e82f3c6460f0]\n\n[**** ビジュアル仕様]\n\t[* リソース画像]\n\t\t（svg、pngなど、画面で仕様している画像一式を格納）\n\t\t例：\n\t\t\t※iOS：PDF、Android：SVG、Web：SVG（or 1x,2x,3xのPNG）で書き出すことが多かったです\n\t\t\t[https://gyazo.com/f01d368c6d82fa6a7b5d6384ba657b0d]\n\t[* 画面仕様]\n\t\t（Sketch、Figmaなど、開発チームが画面仕様を参照できるファイルを格納）\n\t\t例：\n\t\t\t実装する際のビジュアル仕様（px,color,marginなど）がわかる状態にしておく\n\t\t\tアニメーション表現をつけたい場合、アニメーションプロトタイプも含む\n\t\t\t[https://gyazo.com/c997c8184e9aabe6878f2711b8c1646f]\n\n[**** 機能仕様]\n[*** ホーム／組織]\n[** トップ]\n[https://gyazo.com/a2dff6c5bd54d7f2e84eb1e3cfe1df76]\n\t一覧\n\t\t会社に紐づく組織（拠点）が一覧で表示される\n\t\t\t表示要素\n\t\t\t\t組織名\n\t\t\t\t組織ID\n\t\t組織（拠点）を押すと組織設定情報画面に遷移する\n\t\t「名前で絞り込み」からワードを入力すると、一致する組織（拠点）で絞り込み表示を行うことができる\n\n[** 組織設定情報]\n[https://gyazo.com/1217f22931d60341853263f96f076918]\n\t組織IDは変更できない\n\t「保存」ボタンを押すと設定を反映してトップに戻る\n\n[** ※備考]\n\t組織の追加・削除を組織管理コンソールから行うことはできない\n\n[*** 利用者]\n\n[*** マネージャー]\n\n[*** ロック]\n\n##SW仕様書\n\n# Sirius 組織管理 要望まとめ\ncreated_at:Mon Jan 19 1970 17:15:44 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 20:17:01 GMT+0900 (日本標準時)\nSirius 組織管理 要望まとめ\n2020/3/24　文責[takeuchi.icon]\nこのドキュメントは、2020/2/20時点のTKGヒアリングの結果や、提案資料の内容から、本対応についての要望をまとめたものである。やるやらはここでは管理しない。仕様のドキュメントに書いてあることをやる。[takeuchi.icon]\n\n\n## Qrioとしての要望\n（全国に拠点をもつような）中規模案件に対応可能なカギカンサービスがほしい。\n今のカギカンで、それを満たすのは厳しい。\n各拠点のマネージャーに、拠点単位で権限を与え、制御したい。\nすべての拠点を統括し、各々の拠点の管理や、組織の一括異動を行いたい。\n\n## TKGの要望\n管理チーム（上位組織）\n  管理チームが、上位組織と各下位組織のロックを一括管理したい\n\t管理チーム全員が、一つのシステム管理者アカウントを使いたい（一つの共有メーリングリストでアカウント発行する）\n\t緊急時は事業所のカギカンにもログインして、合カギを発行したい\n\t管理チームは、すべての事業所にログインしたい\n\tシステム管理者は実質マネージャーのできることを全てやりたい\n\n組織（下位組織）\n\tロックの初期設定は管理チーム、あるいは管理チームに委託された業者が担当したい（事業所の責任者はWi-Fi設定についても管轄外のため）\n\tその組織のマネージャーが、合カギグループの作成やグループへの利用者の追加、削除を担当したい\n\t組織数は最大で300拠点扱えるようにしたい\n\n数百人規模の頻繁な異動\n  利用者およびマネージャーの組織へのひもづけを、一括削除＆一括再登録でもいいから、したい\n    （手段としては、利用者およびマネージャーCSVのインポート・エクスポート）\n\tCSVによる一括登録だけでなく、（CSVによる？）一括削除もしたい\n\t異動データを作るため、既存の利用者およびマネージャーのデータをCSVでエクスポートしたい\n\t\t「名前、メアド、作成日、組織」がほしい\n\t\t- （作成日を知りたいのは、退職者の消し残しに気づけるようにしたいため）\n\t\t- TKGは「業務委託の人（= 利用者）は、ちゃんと合カギを消してくれない」と思っている。\n    - そこで定期的に利用者の日付をみて「この人の作成日、えらい古いな」というのをチェックしつつ、今実際に職場にいる人と比較して、消し忘れを把握したい。\n\tCSVが、利用者用なのかマネージャー用なのか区別できるようにしたい\n\n\t異動の場合、fromとtoを設定したい\n\t  異動に関して、操作ミスしたくない。\n    異動の差分だけを表現したい。\n\n\t登録の場合、本当はidではなく組織名を使いたい\n\t\t言葉揺れして登録できないユーザビリティ上の課題については共有済み。VLOOKUP用の素材をダウンロードできるようにする方が現実的。\n\n電池警告関連\n\t事業所がこれに気付いて電池交換するとは思えないので、何かしらpushの仕組みで気づきたい\n\t\tその場で提案したのは、警告が出ている場合に週１などでメールするパターン、あるいはコンソール上で警告のでている組織一覧を出すパターン\n\n\n##Sirius\n\n# コーポレートサイトEC切り離し検討\ncreated_at:Mon Jan 19 1970 19:18:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 20:10:11 GMT+0900 (日本標準時)\nコーポレートサイトEC切り離し検討\n\n文責: [takeuchi.icon]\n2020.06.16\n\nこの記事の元になったメモ:\nhttps://docs.google.com/spreadsheets/d/1jIouWOXj4leTMPzQsxRBZ88SiXgCIsdm1jJOj_sr6Es/edit##gid=916144113\n\n\n[*** コーポレートサイト概要]\nコーポレートサイトはWordPress。コンテナではなくEC2でCodeDeployで撒いている。\nデプロイスクリプトはgithubのリポジトリ直下にある。provision-post.shがそれ。\nhttps://github.com/qrioinc/corporate-site\n\n\n[*** やりたいこと]\nECの切りはなし。\n\nそもそも、何が問題になっているのか？\n WordPressの更新、Viewへの描画\n\nEC切り離した場合の懸念\n\tEC切り離してBASEなどに移行すると、今やってるCPN打つ作業ができなくなるかもしれないのでそこを把握する必要がある\n QrioのECサイト配送はCrossmall中心に動かしている。Crossmallに取り込む手段がないECで運用してしまうと、ロジテムさんがCrossmallを参照しているので、自動で入れていた発送情報を見れなくなるので、手動のオペレーションが必要になってしまう。\n Crossmallではなく、BASEが対応している配送サービスを使うのは？　→現場のオペレーションが変わってしまうのは避けた方がよいのでは。\n BASEはCrossmallに対応していそう？　調査必要。\n\nCPN、Crossmallの2点を解消すれば、EC移行は可能。\n\nCPN：原田さん、中野さんに相談。移行による影響について、高橋さんにも確認する必要あり。\n\n\n[*** なぜECを切りはなしたいのか？]\nメンテする必要があるがメンテナがいないから。\n変更してできなくなることを把握するのは、調査が必要なので時間がほしい。\n\n\n[*** 少なくとも、今の時点で見えているリスク]\n\n[** 1. なんかあって止まったらメンテができなくなる]\n特にymtkさんのご退職\n\n[** 2. 来年2月からCrossmallが使えなくなると、すべての発送を手動でやらないといけなくなる]\n来年2月からGoogleがCrossmallの採っている形式のログインに対応しなくなる可能性がある\nGoogleがM2Mでログインしているのを止める、といっているそうで、そうするとCrossmallが今やっているgmailスクレイピングができなくなる。\nCrossmallが以下に該当する。殺されるかもしれない。\n「安全性の低いアプリと Google アカウント」\n\thttps://support.google.com/accounts/answer/6010255?hl=ja\n\nたぶんCrossmallは対応してないのでは？？　確認できていないが。時限爆弾。\nグーグル、安全性が低いアプリによる「G Suite」アカウントへのアクセスを遮断へ\n\thttps://japan.zdnet.com/article/35147103/\n\n[/ Crossmall運営に確認する。なるはや]\n\nCrossmallがなくなると、すべての発送を手動でやらないといけない（メール作成、ラベル確認など）。それはアリエナイ。\nCrossmallの問い合わせフォームから聞いてみる。連絡先はゆりさんも知っているはず。\n\n\n[*** これからやること]\n 原田さん、中野さん、後藤さんに共有する。企画開発課朝会で。\n 話をまとめて高橋さんに相談する。\n\n\n[*** その他]\nCrossmallのWebコンソールに、店舗は追加・削除できない（Crossmallに依頼しなくてはならない）。\n\n##コーポレートサイト\n\n# Joker/Knight 認証周りの実装案とpros/cons\ncreated_at:Mon Jan 19 1970 19:49:45 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:55:47 GMT+0900 (日本標準時)\nJoker/Knight 認証周りの実装案とpros/cons\n\n2020.07.10 [takeuchi.icon] Protocol Buffers調査結果を反映。\n2020.07.08 [takeuchi.icon] 初版\n\n\n[*** TL; DR:]\n\tknightの認証にekeyを使用してはならない。\n\tProtocolBuffersの導入はきびしい。\n\t\tハブに入らない(´・ω・`)\n\t\tbyte/bit操作において、かゆいところに手がとどかない(´・ω・`)\n\t\t単にclass/structの実装補助に使うだけなら、いいんじゃないか(´・ω・`)\n\t[- API公開先やハブ移植先については、kingの仕様のままJokerにも対応したいという要求がなければ、ProtocolBuffers対応しても影響なし。]\n\t\tnanopbに関してはportableのようだけど実際そうでもなさそう。移植先FWの環境によってはそもそもライブラリを導入できないリスクがある。\n\t改修がまったく発生しないところに対して、ProtocolBuffersを導入して改修が発生する、ということになるならば、工数はそのぶん増える（テストとかkingとの棲み分けの設計とか）。\n\n\n[*** Knight認証]\nknightのコマンド認証には、Knightデバイス固有の共通鍵を用いたhmac証明書の検証を利用する\n\t開発としては必須要件の認識\n\t\tekeyを使用する場合と実装工数に差分はほぼない\n\t\t\t署名対象を決めて署名をつくる＆検証するだけだから\n\t\t\tekey内部にもhmac署名があってそれを検証している。ekeyではさらに認可の確認もいくつかしている。\n\tekeyを使う場合のリスク\n\t\tekeyはロックの要件に沿って開発されたQrio独自仕様/実装なので、\n\t\t\t枯れた技術に比べセキュリティインシデント発生の潜在リスクが高い\n\t\t\t属人的で、思想背景の継承にコストがかかる\n\t\t\t仕様も複雑なので現場のキャッチアップコストが高い\n\tknightにおいてekeyを使用しなければならない認可の要件はない\n\t\tたとえばTOV(term of validity)は不要\n\t\t\t「knightの設定モードをさせられるのは毎週月曜だけにしたい」といった要件はない\n\n2020.07.09 [takeuchi.icon]\n\tekeyを使ってはいけない理由がそこまでないのでは？\n\t\t必要性を整理する\n\t大西さんの変更想定をもう少し具体的に聞いておく。\n\t\tどういうふうに変更しようとしていたのか、とか。\n\n\n[*** Protocol Buffers]\nrawなbyte arrayの操作をやめ、ProtocolBuffersに変更する\n\tpros\n\t\tすべてのコンポーネントについて、以下の実装量が減る（自動生成されるから）\n\t\t\tペイロード、コマンド生成\n\t\t\tペイロードのシリアライズ・デシリアライズ\n\t\t\tバイト列のパーサーのUnitTestが不要\n\t\t仕様の共通化、認識合わせが簡単にできる\n\t\t\tCU(iOS/Android), API, Lock, Knight, Hub, Fobそれぞれについて、共通の.protoファイルをgithub一元管理運用できる想定\n\t\tコードの保守がしやすくなる\n\t\t\tUnit Testを書く時間を削減できる（Unit Testを書く必要性がない箇所が増える想定）\n\t\t独自実装のキャッチアップコストが下がる\n\t\t\tProtocol Buffersのキャッチアップコストのほうが少ないはず\n\t\t\t\t思想が明瞭で理解しやすいから\n\tcons\n\t\tnanopbのライブラリがハブに入らない\n\t\t\tハブに入ってないライブラリを参照しており、リンクエラーになる\n\t\t\tconsというか致命的(´・ω・`)\n\t\t全面的に使用することがきびしい\n\t\t\tC以外の言語において、Protocol Buffersのコンパイラが1byte, 1bit単位での操作に対応していない\n\t\t\t\tRUやHubでは、メモリやEEPROMの容量制限があり、上記の操作は避けられない\n\t\t\t\tRUやHubでは、uint8_t、ビット操作、packed structを使いたい。\n\t\t\t`.proto`の一元管理がきびしい\n\t\t\t\tnanopbだと`.proto`に`import \"nanopb.proto\"`を記述してcustom optionを使用することで実現できる。しかし同じ`.proto`ファイルから他の言語の実装を自動生成できない。そのため`.proto`が一元管理できない。\n\t\t\t\t\tコンパイラにimport無視する設定とかあるのか？\n\t\t\t\tたとえばSwiftだと`uint8_t`に相当する型がない（Data型となり、結局バイト列を扱うことになる）\n\t\t\t\t\thttps://github.com/apple/swift-protobuf/blob/master/Documentation/API.md##basic-types\n\t\t\tそういうわけで、結局バイト列を意識している実装になる。\n\t\t\t\tたとえばRUのlogは24byte以上増やせないので、1byteや1bit単位で情報を定義していくのはProtocol Buffersの導入にかかわらず変わらない。\n\t\t\t\t導入しても中途半端になってしまい、メリットがあまりない\n\t\t既存のコードを流用する場合、そこに対するProtocol Buffers対応が必要\n\t\t\tしかしコードを流用する場合も含め、実装コストはほとんど差分がない\n\t\t\tコード変更がまったくない箇所に対する導入は、そのぶんのコストが発生する\n\t\tQBSでの速度検証が必要な可能性がある\n\t\t\t何をもって必要としている？（元々必要でなかった？）\n\n\n\ntable:ProtocolBuffers対応の有無による作業工数差分\n Components\tProtocolBuffers対応あり\tProtocolBuffers対応なし\t実装工数差分\tその他作業\n （共通）\t認証・コマンド仕様策定\t認証・コマンド仕様策定\tなし\t\n JK\t新規実装\t新規実装（king流用）\tほとんどなし\t速度検証（要確認）\n KN\t新規実装\t新規実装\tほとんどなし\t速度検証（要確認）\n QrioKey\t追加実装\tなし\tあり\t速度検証（要確認）\n SuperLegend\t新規実装\t新規実装（king流用）\tほとんどなし\t速度検証（要確認）\n CU\t新規実装\t新規実装（king流用）\tほとんどなし\tなし\n Qrio API\t新規実装\t新規実装（king流用）\tほとんどなし\tなし\n\tQ-H1\t新規実装\t新規実装（king流用）\tほとんどなし\tなし\n\tQ-H1A\t新規実装\t新規実装（king流用）\tほとんどなし\tなし\n既存のkingの認証・コマンド部分の実装の流用と、ProtocolBuffersによる新規実装に、実装工数の差分はなし。\n\n\ntable:想定影響範囲\n Products/Services\t影響\n SL2\tなし\n MANOMA/NURO\tkingの仕様のままJokerにも対応したいという要求がなければ、なし\n SoftBank\tkingの仕様のままJokerにも対応したいという要求がなければ、なし\n Nature\tkingの仕様のままJokerにも対応したいという要求がなければ、なし\n 外部API提供先\tkingの仕様のままJokerにも対応したいという要求がなければ、なし\n何かしらの改修が発生すること自体が大きなコストだという考え\n\t他の改修と併せてProtocolBuffers対応も必要ということであれば、ProtocolBuffersによる実装コストじたいは少ない\n\n\n\n[*** 参考]\nnanopb\nhttps://github.com/nanopb/nanopb\nhttps://jpa.kapsi.fi/nanopb/docs/concepts.html##modifying-generator-behaviour\ncode:generate_implementation.sh\n $ git clone git@github.com:nanopb/nanopb.git\n $ cd nanopb\n $ python generator/nanopb_generator.py examples/simple/simple.proto\n\n\n\n##Joker\n##ProtocolBuffers\n\n# コーポレートサイト（EC2）のボリューム拡張\ncreated_at:Mon Jan 19 1970 18:10:10 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:50:04 GMT+0900 (日本標準時)\nコーポレートサイト（EC2）のボリューム拡張\n文責[ymtk.icon] (4/30)\n\n[** 前提]\n\tEC2のデータはAmazon EBS（EC2 ブロックストレージボリューム）に保存されていく\n\t\t容量がなくなると、サーバのモジュール更新だったり画像のアップロードだったりでエラーする\n　EBSの容量がなくなった時、拡張は無停止で可能\n\n[* 気づき]\ncode:bash\n ## 更新時のエラー\n \n Transaction check error:\n   installing package kernel-4.14.173-106.229.amzn1.x86_64 needs 75MB on the / filesystem\n   installing package libtirpc-0.2.4-0.16.15.amzn1.x86_64 needs 75MB on the / filesystem\n   installing package kernel-headers-4.14.173-106.229.amzn1.x86_64 needs 82MB on the / filesystem\n   installing package kernel-tools-4.14.173-106.229.amzn1.x86_64 needs 76MB on the / filesystem\n \n エラーの要約\n -------------\n ディスク要求:\n   少なくとも 82MB の空き容量がファイルシステム / で必要です。\n \n ＃ この時の容量\n [ec2-user@ip-10-0-0-136 ~]$ df -h\n ファイルシス   サイズ  使用  残り 使用% マウント位置\n devtmpfs         3.8G   68K  3.8G    1% /dev\n tmpfs            3.8G     0  3.8G    0% /dev/shm\n /dev/nvme0n1p1   7.8G  7.6G   75M  100% / <-- もう満杯\n\n[* 手順]\n\tEC2コンソール上でボリュームを選び、アクションから「ボリュームの変更」を選ぶ\n\t\t[https://gyazo.com/aa6bf80b45cb67ea9990bb959803dbb7]\n\tサイズを入力\n\t\t[https://gyazo.com/6678cbd93aa91c5de3b6dea74af8b642]\n\tサーバにsshで入り、ボリュームの追加を反映\n\t\tcode: bash\n\t\t ## 元々8G->12Gに増やした直後のパーティション\n\t\t [ec2-user@ip-10-0-0-136 ~]$ lsblk\n   NAME          MAJ:MIN RM SIZE RO TYPE MOUNTPOINT\n   nvme0n1       259:0    0  12G  0 disk\n   ├─nvme0n1p1   259:1    0   8G  0 part / <-- 8Gのまま\n   └─nvme0n1p128 259:2    0   1M  0 part\n   \n\t\t ## 元々8G->12Gに増やした直後のファイルシステム\n   [ec2-user@ip-10-0-0-136 ~]$ df -h\n   ファイルシス   サイズ  使用  残り 使用% マウント位置\n   devtmpfs         3.8G   68K  3.8G    1% /dev\n   tmpfs            3.8G     0  3.8G    0% /dev/shm\n   /dev/nvme0n1p1   7.8G  7.6G   75M  100% / <-- 8Gのまま\n   \n   ## パーティション変更\n   [ec2-user@ip-10-0-0-136 ~]$ sudo growpart /dev/nvme0n1 1\n   CHANGED: disk=/dev/nvme0n1 partition=1: start=4096 old: size=16773086,end=16777182 new: size=25161694,end=25165790\n   [ec2-user@ip-10-0-0-136 ~]$ lsblk\n   NAME          MAJ:MIN RM SIZE RO TYPE MOUNTPOINT\n   nvme0n1       259:0    0  12G  0 disk\n   ├─nvme0n1p1   259:1    0  12G  0 part / <-- 変更された\n   └─nvme0n1p128 259:2    0   1M  0 part\n   \n   ## ファイルシステム変更\n   [ec2-user@ip-10-0-0-136 ~]$ sudo resize2fs /dev/nvme0n1p1\n   resize2fs 1.43.5 (04-Aug-2017)\n   Filesystem at /dev/nvme0n1p1 is mounted on /; on-line resizing required\n   old_desc_blocks = 1, new_desc_blocks = 1\n   The filesystem on /dev/nvme0n1p1 is now 3145211 (4k) blocks long. \n   \n   [ec2-user@ip-10-0-0-136 ~]$ df -h\n   ファイルシス   サイズ  使用  残り 使用% マウント位置\n   devtmpfs         3.8G   68K  3.8G    1% /dev\n   tmpfs            3.8G     0  3.8G    0% /dev/shm\n   /dev/nvme0n1p1    12G  7.6G  4.1G   66% /　<-- 変更された\n\n[* 参考]\n\tEBSのボリュームサイズを拡張した\n\t\thttps://qiita.com/foursue/items/bb288f32135ec8abac93\n\tElastic Volumes を使用して EBS ボリュームを変更する (コンソール)\n\t\thttps://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/requesting-ebs-volume-modifications.html##modify-ebs-volume\n\n##コーポレートサイト #AWS\n\n# Dev MTG 2020/07\ncreated_at:Mon Jan 19 1970 19:46:47 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:48:41 GMT+0900 (日本標準時)\nDev MTG 2020/07\n\n2020.07.07 [takeuchi.icon] 書きさし。いつもどおり状況まとめたいが未実施。スキマ時間あれば作業する。\n\n[*** CSツール移管]\nkingのCSツールを移管できないか？　king-api\nsirius-apiにCSツールを移管できないか？　Railsにのせられないか？\n\nking-opeの移管作業を河本さんに依頼。\n\tまずは機能仕様を把握してもらう。\n\n\n# Re:dash→heroku上のデータを参照する場合\ncreated_at:Mon Jan 19 1970 19:27:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:27:01 GMT+0900 (日本標準時)\nRe:dash→heroku上のデータを参照する場合\n文責[nakano.icon](2020/06/22)\n\n heroku上のDBはパブリックスペースにないので原則外部からアクセスすることが\n出来ません。\n アクセスが必要な場合は、helokuのNetwok設定からホワイトリストに入れる必要があります。\n[https://gyazo.com/d63762b1f02d92ab6a8a8717f1b05587]\n OSS版Re:dashの場合は、AWSの固定IPアドレスを、Saas版Re:dashの場合は以下IPアドレスを\n登録してください。\n\n[https://gyazo.com/1d17d8ccbe7b666bc0f002b950065934]\n[https://redash.io/help/user-guide/getting-started]\n\n# Dev MTG 2020/06\ncreated_at:Mon Jan 19 1970 18:56:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:26:55 GMT+0900 (日本標準時)\nDev MTG 2020/06\n\n[https://gyazo.com/39d269491a70411dc9aa0497faf13a18]\n\n\n[* 更新]\n2020.06.01\n2020.06.08\n2020.06.15\n2020.06.22\n\n[*** この時間で共有・相談したいこと]\n2020.06.15[takeuchi.icon]\n\t河本さんの件でご相談、jokerの話、ハブ調査の進捗共有\n\n[* *.qrioinc.comSSL証明書更新]\n6/24で期限切れ。qrioinc.com はSL２サーバーで使ってます。\nex. https://sl2-api.qrioinc.com/v1/u/all\n手順: https://qrio.esa.io/posts/424\nymtkさんと証明書作業やる。今週中。最優先。\n\t2020.06.09 [takeuchi.icon] 06.11に作業します\n\t今回は有効期限が2年のものを買いますが、Appleジャイアンがいろいろ縛ってきたりするので、今後は1年ものを買うことも検討します。\n\t\thttps://ssl.sakura.ad.jp/column/safari-shortening/\n\t2020.06.15 [takeuchi.icon] 証明書購入だん。このあとやります。\t\n\t2020.06.22 [takeuchi.icon] 先日作業完了。\n\t\t今後、kingのstgのauto sslを試して、問題なさそうだったら自動化したい。\n\t\t今なんで普通の証明書使っているのか？\n\t\t\tkingはハブの通信があったから (？)\n\t\t\tsirius側も、kingに引きずられて手動になっている可能性がある\n\t\t\tymtkさんいるうちに聞いてみる（今日か木曜で、聞いてみる）\n\t\t\t\t今日stgやって、うまくいったら木曜にprdも変更してみる。\n\n[*** FY20]\n[* FY20プロジェクトライン（メンバーアサイン、工数）]\n2020.05.15 全部一覧にしました。わかる範囲で記載してます。[takeuchi.icon]\n[https://docs.google.com/spreadsheets/d/1XaY9V8N7P0ZvhMOAU53-5aiQ9RY-x9KYdq-ODn2UVrY/edit##gid=1758360582]\n\n[** 人事・採用]\n\t7/1: 河本（かわもと）さん入社。サーバーサイドエンジニア。\n\t\t2020.06.08[takeuchi.icon] 水曜にオンラインでお会いします。\n\t\t\t入社前にkingのアーキとかざっくり説明する予定です\n\t\t\t入社後にやっていただきたいことを検討したい\n\t\t2020.06.15[takeuchi.icon]お話しました。\n\t\t\t開発チームの現状、経緯・今あるプロジェクト・直近1年の動き、kingアーキ超概要、について共有\n\t\t\t入社後、キャッチアップしながらやってもらいたいことを今日は議論したい\n\t\t\t2020.06.22 [takeuchi.icon] pubnub -> google cloud pub/subの移行調査をお願いした。\n\t7/1: 焼山（やけやま）さん入社。開発PM。\n\t2020.06.15 [takeuchi.icon] \n\t\t神谷さんはカギカンPdM兼PMでした\n\t\tアプリ（BCUバグ改修・新OS対応）はふかざわさん、ひろさんに業宅できそう（土日稼働）\n\t\t\tディレクションは[takeuchi.icon] PR見ないといけないから\n\t\tエージェントにエンジニア紹介してもらいはじめた\n\t\t\t今度サーバーサイドの方1人会ってみます（吉田さん、という方）\n\t2020.06.22 [takeuchi.icon] Greenでの採用活動を開始。\n\t\t1日10人ペースでスカウトメール送ったり、候補者確認したり、面接したり、etc\n\n\n\n\n[** ただいまキットで通知こない問題の対応]\n2020.06,22[takeuchi.icon]\n\t対応済み\n\t運用コスト。。も会社に共有できたらよい。\n\n\n\n[*** Project 進捗]\n\n[** Sirius]\nB2Bの鍵プラットフォーム(オフィスとか)\n\tTKG対応\n\t\tこれまでは [Dev MTG 2020/4/27] を参照。\n\t\t最新の共有事項はslackのsirius-devチャンネルを参照。\n\n\n[** Jokerファミリー]\n3号機\n4/30時点の進捗。仮置きスケジュールもあり。\n\thttps://docs.google.com/presentation/d/1-rdgADdJalKXRxsvRyZUh1d52-XyvjRhVu7hCQMp5lk/edit##slide=id.p1\n\nknight操作フロー案の資料です。\nカードリーダー\n\thttps://docs.google.com/presentation/d/12gGNf3r3FA6Iq3onqu5r-TaEh38W8drF7VjtGzLL4F8/edit\n\nカギカンV3\n\tカードの登録方法\n\t\t利用者がカードをタッチして登録する\n\t\t\t企画：利用者はCUは使えない前提で検討する。\n\t\tカードを登録する際、登録可能な人をKN本体だけで認証しなくてはならない。\n\t\t\t- カギカンマネージャーがKNを登録する際、カード登録用のPIN番号を設定して、利用者に連絡しておく、とか？\n\t\t\t- KNの情報を吸い出してサーバーに同期する方法は？\n\n\t\tWebコンソールから設定して、ハブで流し込む\n\t\t\tハブ経由でKNに流し込む情報は？\n\t\t\tデータ量が増えて、同期のための通信が複数回数になるのは避けたい\n\n\n\tPIN番号の登録方法\n\n\n\t解施錠・入退室・勤怠の履歴に対する要求と、joker/knightで取得するログの整理\n\t\t企画：ログの時刻ズレについては、許容する。\n\n\t\t解施錠\n\t\t\t企画：カード、PINでの解施錠は、いつ、誰が、どのカード・PIN番号で解施錠したかを知りたい\n\n\n\t\t入退室\n\t\t\t企画：いつ、誰が、どのカードで入退室したかを知りたい。\n\n\n\t\t勤怠\n\n\nRoomonV2\n不動産\n\tそもそも、既存のRoomonベースで考えているが、それでよい？\n\t\t画面のUI・UXは変えなくても、システムを作り直す\n\t\t\tテクニカルには、どのみち作り直す。企画要件としては、そこは関係ない。\n\n\t物理鍵なしで、JX/KXだけでの運用を検討したいと考えている\n\t\t企画：QrioKey - King間を通信精度をリファレンスとして、上記検討できないか。\n\t\tこちらは本来QBSがやるべき話では？\n\n\t逆マスター方式の検討\n\t\t以下が存在する。\n\t\t\t共用部・専有部のどちらも開けられるカギ\n\t\t\t共用部のみ開けられるカギ\n\t\t\t\t専有部のみ開けられるカギは存在しない。 　　\n\t\tOPTEXを導入できる場所は限られる（提携先しか無理）\n\t\t\t駐車場の裏口やゴミ捨て場など、他の出口もある物件への導入はできない前提で進めないといけない。\n\t\tすべてをQrioLockに置き換えられないと意味がない。スマホ1個で済むかどうか。\n\n\t\t\n\t\t\t共用部のカード情報を、あらかじめQrioが書き込んでから管理者/入居者に渡す、という方式だと\n\t\t\t\tHWのwrite要件がなくなる\n\t\t\t\tオペレーションが煩雑になるかも\n\n\tカード紛失時の対応検討（共有部）\n\t\t専有部はホワイトリストなので、それで外す。\n\t\t共有部はホワイトリスト形式でない。ブラックリストにするしかない。\n\n\tknightの認証について\n\t\t「いつ」「誰が」「何を」など、必要な情報を書き出していって、最小の情報をバイト数を出す。\n\t\t1. knightにカードの情報を持たせるか\n\t\t\t今検討している方式\n\t\t2. カードにknightの情報を持たせるか\n\t\t\t対応するカードが増えると、容量の問題が出てくる\n\t\t\tknightにコンテキストがいらなくなる\n\t\tjwtはCU - knightなら使いやすい。カードに入れるなら、バイナリ形式になる。\n\t\tknightを書き込みモードにして、Qrioカードをかざし、カードに認証情報を入れる。\n\t\t\tFeliCa側で書き込み保護などされているか？　確認する。改竄は検知できればOK\n\t\tknightのIDの要件は\n\t\t\t推測できない、かつ衝突しないこと\n\t\t\t工学的な要件よりもQrioのビジネス上の要件を満たせる範囲でよい\nいつまでに回答?\n 三上が大西さんに回答する期限が欲しい\n\n実現方法の案をならべて、それぞれメリデメコストを出して提案するやり方にする\n\n\n\n[** King]\n[* API]\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n \tロック時刻を受け取って解施錠・ログ取得コマンドを発行できるよう改修予定（〜5/15）\n \t\tAPIドキュメントは修正、SNCに提供済み。\n \t\tsirius向けのking-apiリリースタイミングとあわせる[takeuchi.icon]\n \t\t対応済み -> リリース待ち\n \t\t優先度低いのでしばらくスキップ\n \t\t検証方法を考える必要アリ\n \t\t\tCU or ハブをいじって検証する必要がありそう。竹内で考える。[takeuchi.icon]\n\n[* CU]\n\tiOS \n\tAndroid\n\t~2020.05.18 CCPA・GDPR対応でCUのリンクを増やす対応[takeuchi.icon]\n\t\t経緯：https://qrioinc.slack.com/archives/C3W3GMGAE/p1589198102011600\n\t\t6月中旬〜6月末に更新する\n\t\tやってない、今週中にやる -> takeuchi\n\t2020.06.22[takeuchi.icon]\n\t\t現状、その文言がまだ出てきていない。\n\t\t文言のinputはymtkさんから後藤さんに引継ぐ（ymtkさん在職中は出てこない可能性がたかい）。\n\t\t文言が出てきたら、\n\t\t\tマユトさん: Webページを準備\n\t\t 竹内: CUにリンク追加\n\t\tでそれぞれ対応する。\n\n\n[* RU]\nGM9対応\n\tCUでRUを登録時、FWを強制アップデートする改修\n\tRUの工場生産FWの差し替え検討\n\t\t三上さんに回さないと、正確な回答は厳しい。\n\t\tなるべく伝言ゲームにならないように、なるべく指摘元に直接的につないでもらう[takeuchi.icon]\n\t\t\t後藤さんに認証周りの開発の背景含め、共有する[takeuchi.icon]\n\t\t今回のケースでいうと、攻撃パターンとか攻撃モチベーションを提示していただいた方が回答しやすい\n\t\tリスクアセスメントしてもらってもいい\n\n[* Q-H1]\nGW明けからリモート通信できない障害問い合わせが増えた問題\n\t原因不明。\n\ttoC環境。時刻ズレの問題ではない。SaaSの問題もない。\n\tハブのログを見ると、pubnubのリクエストに応答していない期間が断続的に発生していた。\n\tこうきちさん、川上さん、関口さんと話して、半分くらい新品交換で対応する、という話になった。\n2020.06.15[takeuchi.icon]\n\t調査結果: 原因不明。これ以上開発としてできることはなさそう\n\t後藤さんに主導お願いした。協力的なユーザーにモバイルルーター送って試してもらう、とかはするそう。返金対応など含めて検討お願いした。\n\t一旦何もわからないのでペンディング\n\n[* Guardian]\n\t3/4のGM判定でいくつか宿題あり。急ぎではない。\n\tQ-H1 v1.2.04で対応したget_time対応を、時間みつけて入れる[takeuchi.icon]\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tTODO：進捗かく[takeuchi.icon]\n\t\tcastle-bcu iOS: QA だん\n\t\tsirius-bcu iOS: QA\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n \t\tRU GM9が5末に出る。そのSQAのタイミングで、ついでにチェック実施する。[takeuchi.icon]\n \t\t\tチェックok[takeuchi.icon]\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n[** Re:dash]\n メンテナンスコスト下げるため、OSS版(ec2に設置)からクラウド版変更を\n検討したいです＞＜　$49 or $99で出来れば$99/month\n[参考]ec2で4000円/月くらいだったはず。\n\nymtkさんに質問\n 今のRe:dashのデータソースって外部からアクセスできますか?\n できない場合\n  パブリックにする\n  SSLの証明書でとってくるようにする(Re:dashでできるかは不明)\n\n[[コーポレートサイトどうするか]]\n ECをBASEにするっていう話の後かと\n 進捗なし\n\n[** 経営本部数字の見える化]\n\tデータの一元化管理\n\tツールの選定済→経営本部側の稟議待ち→まず、5/26(火)からトライアルを始める\n\t\t楽楽販売[takeuchi.icon]：https://www.rakurakuhanbai.jp/\n\t\t他ツール検証中　\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決める\n\tking-ruのFWベースで検討中だが、Jokerとの絡みはこれから検討される（Jokerプロジェクトの宿題）。[takeuchi.icon]\n2020.05.25 [takeuchi.icon]\n\t先週MTGあった。GW明けくらいまで進めていたPoCは、成功とのこと。\n\tハンズフリーに関して課題残る（自動ドアの認証まわり）。OPTEXがユースケースをまとめて、別途MTG開催予定。\n\tRoomonV2含め、プロジェクトとのからみは検討進んでいる。\n\t\tJokerのbacklogを参照（RoomonV2プロジェクト）\n2020.06.15 [takeuchi.icon] \n\tQBSと自動ドアハンズフリーの実現方法について、先週末にキックオフ\n\tQBSとの検証作業で、[takeuchi.icon]のアプリ検証タスクが発生しそう\n\tリソース調整中\n\n\n[*** 外部連携関連]\n\n[** （APIドキュメント）]\n2020.05.25[takeuchi.icon]\n運用方法を変更します。\nheroku appを立ててURL送付→CoinfidentialつけてPDFで送付\n\tAPIドキュメントもNDA締結対象\n\tAPIを一般公開してないのは「よそにはAPI公開してるのに、なんでうちの会社には公開してくれないんすか」というコミュニケーションを避けるため\n\t現在公開しているものについては、そのままでOK。今後公開するときは、そうする。\n\n[** Nature]\n\tNatureのデバイスにQrioHubを移植する\n\tAPIドキュメント、ハブ移植用のロック・ハブのプロトコルを開示\n\t\thttps://drive.google.com/drive/u/0/folders/1y_ZWBommojvYj_rgKomoYXIkNV84Un6l\n\t2020.05.15 メール返信あり。これから技術検討に入るそう[takeuchi.icon]\n\t技術に関する打ち合わせが今週または来週のどこかで行われる。\n\t\tハブ関係の話が中心なので、竹内が出て、議事録共有します。\n\t\t2020.05.25 [takeuchi.icon]\n\t\t\t打ち合わせdone。駒井さんにも出てもらった。\n\t\t\t先方デバイスはADVスキャンを5分に1回しかできないらしく、QrioHubのようなリアルタイム監視がむずかしい。\n\t\t\tこのタイミングで、ログのPOST＆通知まわりのking-apiを見直すかも。\n\n[** SoftBank]\n企画概要：https://drive.google.com/drive/folders/1tH64ERSzdt9zekZQEeNK5ZsHynmq5H-r\n\tビジネスとしては2つあります。NDAも別です。\n\tそれぞれ、APIドキュメント、ハブ移植用のロック・ハブのプロトコルを開示\n\t\thttps://drive.google.com/drive/u/0/folders/1y_ZWBommojvYj_rgKomoYXIkNV84Un6l\n\tslackチャンネル：https://qrioinc.slack.com/archives/C012KE3FGQ3/p1587956115000400\n\t\t2020.06.15 [takeuchi.icon] ekeyを使ってロック解錠できた、とのこと。\n\n[* Softbank: エンコアードジャパン]\n\tSoftBankのハブにQrioHubのFWを移植して、他のIoT機器とも連携、大手サービサー（ガス会社）に売る\n\t技術質問やりとり中。SoftBank側のアプリ？　でどこまでやるか、などを検討中。\n\t2020.05.15 打ち合わせ実施[takeuchi.icon]\n\t\t一言でいうと、「2ロックを1セットで¥10000で売ってくれない？と提案されるも赤字なので悩み、結局Roomonのための導入実績作りの方向で導入を検討中」\n\t\t詳細はslack参照。https://qrioinc.slack.com/archives/C012KE3FGQ3/p1589282511002900\n\n[* Softbank: 汎用GW]\n\tSoftBankのハブにCambrianRobotics提供のobniz OSを搭載して、クラウドの可視化ツールで実証実験\n\tハードウェアはエンコアードと同じ\n\t2020.05.15 技術検討は、まだ開始していない[takeuchi.icon]\n\n[** au Home]\n\t詳細は[Dev MTG 2020/4/20]を参照\n\tau レスポンス待ち。4月中にQrioLock対応の最終判断があるそう。\n\t\t連絡なし。\n2020.05.25[takeuchi.icon]\n\t連携はとりやめになった。別の会社のスマートロックを使うらしい。\n\tUX向上のため、どうしてもSDKを使う方向にもっていきたいらしい（よくわからない）。\n\n[** 佐賀大学]\n今使っている、ICカードと入退室システムでの施錠管理を、QrioLock使ったものに置き換えたいらしい。\n30〜70台規模。\n入退室をQrioで管理したいわけではなくて、カギの権限管理をしたいだけ。\n\t元々、学生証の貸し借りで通過されていたのを防ぎたいらしい。\n\t\tipassも教えたら防げないが、それは先方には共有済み（先方としては、そこはご愛敬っぽい）。\nNDA締結準備中。APIドキュメント準備中。\n\t2020.05.15 Qrioに相当不利な契約内容が提案されたらしい。以下参照。[takeuchi.icon]\n\t\thttps://qrioinc.slack.com/archives/CS9NN0S5R/p1589171614007100\n\n[** リアルネットワークス]\n超高速・高精度顔認証システムとの連携・協業検討。\nAPIドキュメント公開中。\n\n[** MANOMA・NURO]\nロックの時刻がズレていると認証エラーの無限ループになる問題の対応中。\n\tAIHGWを使ったプラン：AIHGW、MANOMAサーバー修正で認証エラーを回避するアーキ案を提示。\n\tQrioHubを使ったプランは、 Qrio Hubをv1.2.04に更新してもらうことで対応する。\n\tあといろいろ質問とか調査メールくるので、打ち返したりしている\n\n[** Wena]\nこれまで: [Dev MTG 2020/1/15]\n2020.05.22[takeuchi.icon]\n\t3/31 wena試作機でRUの解施錠ができる\n\twena本体のkey_seedなどの保存先（機密情報保持領域）について、Qrioの見解を述べるMTGがある（5/27）\n\t\t出ます。技術的な懸念事項だけ大西さんに確認して、問題なさそうならOKします[takeuchi.icon]\n2020.06.15 [takeuchi.icon]\n\tFobの工場生産の資料は展開した。保存先などについては高橋さんと共有する（してなかったから）\n\n\n[*** 保守運用]\n\n[** コーポレートサイト]\n2020.06.15 [takeuchi.icon] こまいさんにキャッチアップをお願いした。河本さんにメンテ作業をお願いしたいと思ったが、きびしそう。\n\n\n\n\n[*** 情報システム]\n\n[*** SQA]\n\npubnub代表アカウントでログインするとMy Projectしか見えない件\n\t左上のアカウント選択するところで、mikamix@qrioinc.comを選択するとSL2, SL2のプロジェクトが見えるようになる\n\t三上さんアカウント→代表アカウントに移行したい。やり方を調べる。\n\nカギカン1サーバーまだ生かしている\n\tsl1-cuから、SL1登録時に参照しているので、復活させた\n\tフロントはたぶん閉じた（あとで確認しておく）。\n\t\tカギカン1はサーバとフロントが同居していて、ログインページに来るとカギカン2のログインページにリダイレクトさせる処理をrubyのリダイレクトを利用して入れました。[ymtk.icon]\n\n[*** その他]\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n\n\n# Sirius V2.2 api変更点 for BCU&Console\ncreated_at:Mon Jan 19 1970 19:02:33 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:26:42 GMT+0900 (日本標準時)\nSirius V2.2 api変更点 for BCU&Console\n文責[ymtk.icon]（6/22）\n\n適宜書いていきます。\n\nV2.2スコープ\n\tマネージャーや利用者の兼務、異動\n\n[* 対象apiと変更点]\nログイン\n\t`GET console/managers/me`\n\t\torganizations 追加\nロック\n\t`GET console/locks/index`\n\t\t廃止。代替apiは `GET console/locks`\n\t\t\t?organization_id=xxx が必要\n\t`GET console/locks/search`\n\t\t廃止。代替apiは `GET console/locks`\n\t\t\t?name=xxx が必要\n\t`GET console/locks?id=xx`\n\t\t廃止。代替apiは `GET console/locks/:id`\nゲストキー\n\t`POST console/guest_keys/:invitation_id/accept`\n\t\t廃止\n\t`POST console/guest_keys/accept`\n\t\ttokenとauth0_idをparamsに。\nログ\n\t`POST console/logs`\n\t\tlock_idだけpostするとサブロックログも落ちてくる。organization_idは不要になった。\nグループ\n\t`POST console/group_guests/attach`\n\t\tエンドポイント変更。 `POST console/group_guests/` \n\t`GET console/group_locks `\n\t\t廃止\nその他\n\tゲストキー招待がメールで飛ぶ(guest_key_invitation)\n\n##Sirius #TKG\n\n# 2020/6/13 v2.1 リリース手順\ncreated_at:Mon Jan 19 1970 19:13:58 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:21:23 GMT+0900 (日本標準時)\n2020/6/13 v2.1 リリース手順\n[[リリース]]\n　pingdom切る\n Heroku上で新たなdbを作る\n  heroku addons:create heroku-postgresql: standard 0\n   このタイミングでsirius-consoleはmaintenaiceブランチを撒く\n   このタイミングでsirius-admin-consoleはmasterブランチを撒く\n   このタイミングでsirius-mirror-1592369675970はmasterブランチを撒く\n メンテナンスモードを開始する\n  heroku maintenance:on\n 旧DBから新DBへデータをコピー\n  heroku pg:copy OLD_DB NEW_DB -a sirius-api-production\n 旧DBから新DBへとプライマリDBを変更\n  heroku pg:promote NEW_DB -a sirius-api-production\n コードのデプロイ\n DBのマイグレーション\n  heroku run rails db:migrate -a sirius-api-production\n データのマイグレーション\n  heroku run rails migration:owners -a sirius-api-production\n  heroku run rails migration:managers -a sirius-api-production\n メンテナンスモード終了\n  heroku maintenance:off\n  このタイミングでsirius-mirror-1592369675970、手元でビルドしたprodアプリでの確認開始\n  \thttps://sirius-mirror-1592369675970.herokuapp.com/\n  上記確認後、sirius-consoleはmasterブランチを撒く\n\n\n[[ロールバック]]\n コードをロールバック\n プライマリDBを元に戻す\n  heroku pg:promote OLD_DB -a sirius-api-production\n\n[* TODO]\n\tsirius-console prod ミラー環境を作る -> done\n\tauth0, sirius-apiのCORS設定をする -> done\n\tProcfileのreleaseを削除(db:migrateを手動に) -> done\n しばらくはSiriusに2つURLを用意する -> done\n 既存のロックのペイロードURLを変更する(Kingのデータベース更新) -> done\n\n# Sirius-console / admin-console / ep-console /開発・デプロイガイド\ncreated_at:Mon Jan 19 1970 19:08:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:19:45 GMT+0900 (日本標準時)\nSirius-console / admin-console / ep-console /開発・デプロイガイド\n文責[ymtk.icon](6/17)\n\n[*** デプロイ]\n[* 注意点]\n\t環境変数はビルド時に反映される\n\t環境変数の追加・編集・削除結果は再度デプロイの上ビルドされないと反映されない\n\t\tそのため、stgの環境をprodへpromoteしてしまうとstgの環境変数を引き継いてしまう\n\t\t[* promoteは使わず、直接デプロイ必須]\n\n[* CI]\n\tUIテストについてはコストが合わないため書いていない\n\tlintを走らせているが、コミット時もhookしているためここではほぼ引っかからない\n\tapi関連の処理エラーはtypescriptでカバーしている。記載処理に問題ある場合、ビルド時にエラーが返る\n\t\t主に型指定違反、変数不足など\n\t\t\tapiの仕様が変わると当然エラーするので注意（ブラウザのデバッグツールでtype errorが出る）\n\t\tローカルでビルド確認したい場合は `vue-cli-service build`\n\n[*** 開発]\n[** フォルダ構成と役割(sirius-consoleを例とする)]\nauth0-template\n \tauth0から送信されるメールのhtmlファイル。auth0に直接入力するためこちらで管理している。\npublic\n \t直接ダウンロードさせたいもの(サンプルcsvなど)を置く場所。ビルド対象外なのでURLも一定。\nsrc\n \tメインフォルダ。vueやts、アセットなどは全てここに入れる。詳細は後述。\ntests/__tests__\n \tテストファイル置き場。\n\n[* src配下]\n assets\n \t画像やscssファイル置き場。\n basics\n \tボタン単体などのコンポーネント置き場。\n components\n \tページングなど、ある程度の部品を組み合わせたものを置く。\n containers\n \tページの中である程度一連の操作をつかさどるものを置く。\n layouts\n \tレイアウトファイルだがほぼ使わない。\n libs\n \t複数のコンポーネントで利用する共通処理やcontainersの中に入れるには複雑すぎるロジックを外出ししている。\n mixins\n \tvueコンポーネント丸ごと共通処理として利用する場合に使う。バリデーション周りなど。\n pages\n \trouterから直接アクセスさせるページ。基本的には各コンポーネントを並べるだけとなる。\n services\n \tapi通信にかかるファイルはここ。\n store\n \tvuex（ステート管理）にかかるファイルはここ。\n types\n \t複数のコンポーネントで利用する型ファイル置き場。\n App.vue\n \t全てのベースとなるvueファイル。ほぼ触らない。\n main.ts\n \t最初に読み込まれるtsファイル。初期処理を記載。\n router.ts\n \tルーティングを記載したファイル。\n shims-xxx.d.ts\n \tnpmパッケージに型ファイルが存在しない場合に作成する。\n\n[* 参考]\n\thttps://typescript-jp.gitbook.io/deep-dive/\n\thttp://js.studio-kingdom.com/typescript/\n\n[** 品質担保]\n\tテスト\n\t\t共通処理については記載できるはず。あまりかけていない。\n\t\tUIテストは書いていない。e2eなど色々やりようがあるものの、変更が大きいうちは負債になりうるので避けた。\n\t型\n\t\t型に対し処理がおかしいとエディタで警告を出せたりビルド時にエラーして気づけるため、基本的に型ファイルで品質担保している。Heroku CIで最終確認しているが、ローカルでも `yarn build`などでチェックできる。\n\tlint\n\t\teslintを利用。\n\t\tコミット時に走るが、パッケージアップデート時などでlint関係ない場合は `git commit --amend --no-verify`などで無視できる。\n\n[** local strageの扱い]\n\t下記で対応した内容\n\t\thttps://github.com/qrioinc/sirius-console/pull/435\n\t環境変数(`VUE_APP_IS_LOCAL`)でローカル環境判定されている場合、内容を暗号化しない\n\t\t[https://gyazo.com/9672d8d252ad8bb73bbf2122f473a0ce]\n\t環境変数がない場合(productionを想定)は内容を暗号化する\n\t\t[https://gyazo.com/e2d29e66b779b6f4150ae75a24dab9d5]\n\t\tデバッグツールですぐ生データが確認できることにより、余計な詮索を生みたくないため\n\n[** その他]\n\ttypescript自体はMSが開発しているのでVS Codeだとある程度フォローしてくれる認識\n\n##Sirius #Sirius引き継ぎメモ\n\n# Siriusお知らせ機能\ncreated_at:Mon Jan 19 1970 19:08:01 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:18:27 GMT+0900 (日本標準時)\nSiriusお知らせ機能\n文責[ymtk.icon](6/9)\n\n[* 目的]\n\tデプロイなく、エンジニアなしでお知らせを管理したい\n\n[* 機能概要]\n\tWordpressのみでカギカンのログイン画面に表示されるお知らせを制御できる\n\t\tお知らせがある場合のみ枠を表示し、タイトル、本文（先頭120文字）、元記事のリンクを表示する。\n\t\t\t[https://gyazo.com/fab2ac1faedc7c2c24738241f88c9f74]\n\t\t\t\t他、メンテナンスページにも同様の内容を表示する。\n\t\t[* お知らせを表示させたい場合]\n\t\t\tタグに [* kagican-info] とつける\n\t\t\t\t2020.06.16 追記 [takeuchi.icon] カギカンコンソールは、このタグを探しにいって、それがついている投稿の内容を表示する（カギカンコンソールの表示について、この投稿のカテゴリーの選択状態は影響しない）\n\t\t\t\tこのタグの最新１個のお知らせを表示する。\n\t\t\t\t\t[* コーポレートサイト上のお知らせやリリースとして表示したい場合]\n\t\t\t\t\t\tこれまで通り「お知らせ」「リリース」にチェック。\n\t\t\t\t\t[* 表示したくない場合]\n\t\t\t\t\t\t「カギカン（json配信用）」のみチェック。コーポレートサイトの一覧には出てこなくなる。\n\t\t\t\t\t表示・非表示はタグにのみ依存しており、カテゴリには依存しない。\n\t\t\t\t[https://gyazo.com/7801d834a5d38c2bcee47fd82b15e49c]\n\t\t[* お知らせを非表示にしたい場合]\n\t\t\t該当の記事を非公開にするか、kagican-infoのタグを外せばよい。\n\n[* 実装概要]\n\tCorporate site(qrio.me)\n\t\tカギカンから呼び出す場合のCORS許可を設定\n\t\t\thttps://github.com/qrioinc/corporate-site/pull/691\n\tkagican(sirius-console)\n\t\tコーポレートサイトのWordpressから送られてくるfeedをパースして表示\n\t\t\thttps://github.com/qrioinc/sirius-console/pull/423/files\n\t\t\tfeedのURLは環境変数化しているため、適宜環境に合わせて変更可能（今は全て下記で設定）\n\t\t\t\thttps://qrio.me/article/tag/kagican-info/feed/json/\n\t\t\t\t\t`/article/tag/{tag_name}/feed/json` となっているため、タグを変えたい場合はURLもこのルールに沿って変えればOK\n\t\t\t\t\t対象がゼロの場合は500エラーを返す\n\n[* 注意点]\n\tダミー記事はお知らせ、リリースに出ないカテゴリに設定している（ダミー用）\n\t\t\t[https://gyazo.com/63051a8c5ea3b03b21f8f51b69ae9be0]\n\t\t万が一これを削除してしまってまたエラーが出てしまった時は、同様にタイトル「ダミー」タグ「kagican-info」に設定した記事を作成し、タグをつければ良い。\n\tおおよそこれと同じ仕組みと考えてOK\n\t\t[qrio.me 緊急アラート表示機能]\n\n##Sirius #お知らせ\n\n# qrio.me 緊急アラート表示機能\ncreated_at:Mon Jan 19 1970 16:58:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:17:57 GMT+0900 (日本標準時)\nqrio.me 緊急アラート表示機能\n文責[ymtk.icon](3/11)\n\n[* 背景と目的]\n アプリがダウンロードできないなど、製品に対し重大な告知がある場合、サイトのデプロイを経ずCSだけで対応したい\n 告知パターンは下記。これらはワードプレスで作成したお知らせに特定のタグを設定した最新1つ目のタイトルが表示され、記事にリンクされる。\n \t発生中が赤（alert）、解決済みだが広報したい場合が灰（alert-info）\n \t表示箇所はQrioのトップとQrio Lock製品ページのトップ。理由としては後者に直接アクセスがくる場合が多いため。\n\t\t[https://gyazo.com/ab8a74dd24033b02400984a4df9f6baf]\n\n[* 表示させる方法]\n\t記事を作成したら、タグを記載する。カテゴリの選択には関係なく表示されるので注意\n\t\talert: 赤背景で表示\n\t\talert-info: 白背景で表示\n\t\t設定画面はこちら\n\t\t\t[https://gyazo.com/e8921a5045bda0847f5dfc75e4c527c0]\n\t\t運用としては、alertで出して、alert-infoに付け替えて解決報告をするなどを想定している。最終的にはタグを外せば表記からは落ちる\n\t\tログインしていて該当記事を非公開としていると下記の表記で出るが、これについては通常のユーザーには見えていないのでOK\n\t\t\t[https://gyazo.com/515a8a48d676d4e2ef7e06efd722267c]\n\n\n[* 実装はどうしているか]\n\t下記のブランチを見るのが早い。スタイルもcssで設定している。\n\t\thttps://github.com/qrioinc/corporate-site/pull/677\n\tタグの種類を増やしたり細かく出し分けたりすることも可能（トップとlockを分けたいのであれば別のタグを設定し、jsonの取得先を変えれば良い）\n\tWordpressではタグごとにjson feedを吐き出せる。これをajaxで取得後、パースして表示している\n\t\t`https://qrio.me/article/tag/alert-info/feed/json` など\n\tjsonに対し404エラーが常に出てしまうのを防ぐため、ダミー記事を作っている\n\t\tトラブルがないと該当記事がなく404になる。そのため、最低1個何かしらの記事が必要\n\t\t\tタイトルが「ダミー」でalert、alert-infoに該当する記事を設定してこれを防いでいる\n\t\t\tタイトルが「ダミー」である場合は、他と異なり一覧に表示させないようにしている\n\t\tダミー記事はお知らせ、リリースに出ないカテゴリに設定している（ダミー用）\n\t\t\t[https://gyazo.com/63051a8c5ea3b03b21f8f51b69ae9be0]\n\t\t万が一これを削除してしまってまたエラーが出てしまった時は、同様にタイトル「ダミー」カテゴリ「ダミー用」に設定した記事を作成し、タグをつければ良い。\n\n##コーポレートサイト #お知らせ\n\n\n\n# 2020/4/22 Sirius ユーザー分離[WIP]\ncreated_at:Mon Jan 19 1970 18:01:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:13:58 GMT+0900 (日本標準時)\n2020/4/22 Sirius ユーザー分離[WIP]\n##sirius\n\nhttps://github.com/qrioinc/sirius-console/tree/master/src/services\n\n\n\nHeroku上で新たなdbを作る\nメンテナンスモードを開始する\ndbコピーのコマンド(heroku pg:copy)を打つ\nプライマリdb変更のコマンド(heroku pg:promote)を打つ\nデプロイ\ndb:migrate\nmigration:owners\nmigration:managers\nメンテナンスモード終了\n\n[[ロールバック]]\n\n\n\n\n\n\n\n\n\n\n\n基本はアタッチデタッチ\n削除は自分\n\nインビテじゃないと兼務対応できない\n空のユーザー箱を用意できない\nいったん全インビテ方式へ?\n\nマネージャーはインビテ\nインビテは組織IDでよいはず\n\nゲスト、グループはどうするか\nゲストには組織、グループの2種類\nインビテに組織、(オプションで)グループを持たせればよい\n\n\n\n\n\n\nオーナーを分離\n organizationにking_admin_idを追加\n role=1のorganization_users.user_idをorganization.king_admin_idにコピー\n\nマネージャーを分離\n managers作成\n role=2のorganization_userのデータをmanagersにコピー\n\nRedis用途\n session\n cache\n queue\n\nPATCH admin/organizations/:id\ndelivery_attributes\n\nマネージャーと利用者を多対多に\n\n\n[Sirius 組織管理 要望まとめ]\n\nhttps://github.com/qrioinc/sirius-api/issues/284\nhttps://github.com/qrioinc/king-api/issues/596\nhttps://github.com/qrioinc/sirius-console/issues/342\n\njokerに向けて\n 共同所有という概念\n\n\n上位下位というより、もうテーブルごと分ける\n代位ログインではなく、アカウント作成機能を充実させる\n ログインしてやりたいことは何なのか\n 合カギ発行なのかゲストの追加なのか\n 「ログイン」という言葉に振り回されない\n 初期設定は管理チーム\n削除とデタッチ\nアタッチされてない状態でのログイン\n\n複数組織の合カギ発行はオールマネージャーとかで何とかなるやろ\n紐づけはCSツールでやる\n\n\n\n\n\n\nmanager_invitation\nguest_invitation\n\n[[TOV]]\nsirius側\n1group1tov\nグループ作成時に作られる\ntovの編集時どうするか\n\nking側\n1key1tov\n鍵発行時に作られる\n\nグループにロックを追加\n人数分のtovとkeyを発行\n\nグループに人を追加\nロック分のtovとkeyを発行\n\n\n!!!!!!!!!!!!!!ロック紐づけの権限\n\n\n\n\nグループにロックを追加\nグループに利用者を追加\n利用者にグループを追加\nCSVで利用者とグループ\n\n\nAPI変更\ninvoice_histories\n\n\n一旦enterpriseは消してる\ntransactionは後で\npunditも後で\n\n\n\n月火金\n\nking invitation api\n\ninvitation mail\nENV['SIRIUS_URL']/accept-invitation/%{invitation_id}/\nからking apiたたいてる?\n\n\n kingのauth0入ってないは謎\n ゲストはグループに紐づくとは限らない\n  POST guestとattach_groupは分けていい\n ゲストキーは必ずグループに紐づく\n ゲストキーの発行にメールが不要\n CSVでgruop_idはあった方が楽\n  応相談\n\n\nis_live_verify_code\n マネージャーを招待する時にverify_code\n verify_codeがnilになる\n フロントから、このコードは無効ですと表示したい\n ゲストはverify_codeない\n\nsend_provisional_registration\n カギカンは、最初にメアドを登録して仮登録するところから始める\n この仮メールをおくるAPI\n もしかしたら、組織登録は別かもしれない\n\nverify_provisional_registration\n たぶん使ってない\n\naccept_following_manager\n 二人目以降のマネージャー\n\nhttps://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=184409345\n\n\n\n\n\n\n\n\n\n\n\n\n# Sirius-ep V1.0 api想定 for console\ncreated_at:Mon Jan 19 1970 18:47:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:08:30 GMT+0900 (日本標準時)\nSirius-ep V1.0 api想定 for console\n文責[ymtk.icon]（5/26）-> 6/9 更新(検索追加)\n\n認識合わせのためのメモ。\n\n[* 前提]\n\t上位下位概念が機能が導入される\n\t\t上位組織で下位組織のロックを全て管理したい&人の大量異動をさせたいニーズがTKGにある\n\t\t\t組織管理コンソールを利用し、下位組織のマネージャー、利用者、ロックを管理できる\n\t\t\t\t解施錠履歴の把握は上位組織の運用上頻繁に必要となると考え、入れている\n\t\t\t\t\tその関連でロック一覧は表示できる。解施錠機能も持たせる。\n\t\t\t下位組織のマネージャー、利用者を一括で異動できる\n\t\t\t上位組織のアカウントで下位組織のカギカンにログインできる\n\n[* やらない]\n\t合鍵発行は組織管理コンソールから行わない\n\t\t\tグループの管理までは持たせない。その下位組織の誰にどういった権限を持たせるかについては、下位組織で管理させる。\n\n[* 必要想定api]\n[* console]\n\tログイン\n\t\t上位組織マネージャー以外弾く\n\t\t返却されるorganizationは上位組織1つの想定\n\tロック\n\t\t一覧\n\t\t\t紐づくグループの表示は不要\n\t\t\t紐づく組織の表示が必要\n\t\t詳細・編集\n\t\t\t紐づくグループの表示は不要\n\t\t\t紐づく組織の表示が必要\n\t\t履歴\n\t\t\t表示、CSVダウンロード\n\t\t検索\n\t\t\t名前、組織名で絞り込み\n\t利用者\n\t\t一覧\n\t\t\t紐づくグループの表示は不要\n\t\t\t紐づく組織の表示が必要\n\t\t詳細・編集\n\t\t\t紐づくグループの表示は不要\n\t\t\t紐づく組織の表示が必要\n\t\t削除\n\t\t\t一括削除？\n\t\t登録\n\t\t\t個別、CSV登録\n\t\t検索\n \t\t名前、組織名で絞り込み\n\tマネージャー\n\t\t一覧\n\t\t\t紐づく組織の表示が必要\n\t\t詳細・編集\n\t\t\t紐づく組織の表示が必要\n\t\t削除\n\t\t\t一括削除？\n\t\t登録\n\t\t\t個別、CSV登録\n\t\t検索\n\t\t\t名前、組織名で絞り込み\n\tマネージャーパスワード変更\n\n[* admin]\n\t組織関係性\n\t\t上位組織登録・編集・削除\n\t\t\t登録とは上位組織として振る舞えるフラグ付け。enterprise: true\n\t\t\t編集とは、下位組織の紐付け切り替え\n\t\t\t削除とは、フラグの削除\n\t\t下位組織登録・解除\n\t\t\t登録とは、対象の上位組織を選択すること。いわゆるフォロー\n\t\t\t解除とは、対象の上位組織との紐付けを解除すること。いわゆるアンフォロー\n\t\t\t\t紐付けから解除すると、上位組織からは管理できない。\n\t\t\t\t組織として削除と同じ必要があるか？解除は解除で良い気がする。\n\n##Sirius \n\n# 20200608_TKG仕様確認/仕様書相談MTG\ncreated_at:Mon Jan 19 1970 19:06:31 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:06:36 GMT+0900 (日本標準時)\n20200608_TKG仕様確認/仕様書相談MTG\n[**** 概要]\n\t日時\n\t\t2020/6/8 1400-1430\n\t参加者\n\t\t竹内さん、神谷\n\t目的\n\t\tTKG（カギカン組織管理）の仕様書を整備し、今後の運用/v3の仕様策定をスムーズにするために\n\t\t\tTKG仕様について不明な点をなくす\n\t\t\tTKG仕様書及び今後のSW仕様書の方針を決める\n\n[**** 確認・相談事項]\n\t組織の追加・削除はどこから行うのか\n\tマネージャー一括移動、利用者一括移動の機能仕様\n\t\tStagingで確認できず。仕様書はこれ？\n\t\t\t[MTG議事録 Sirius 組織管理 機能仕様（組織管理コンソール一括異動）]\n\t\t画面（UI）仕様が知りたい\n\t機能仕様はScrapboxにあがっているもの（以下のもの）で全部か\n\t\t他にもあれば把握したい\n\t\t\thttps://scrapbox.io/qrio/search/page?q=組織管理%E3%80%80機能仕様\n\tSW仕様書の形式について\n\t\t叩き台：[カギカンv2_組織管理コンソール【作成中】]\n\t\tSW概要、画面遷移、ビジュアル仕様、機能仕様をミニマムでいいのでまとめておきたい\n\n[**** 以下メモ]\n\t組織追加・削除：顧客から申し込みがあったらQrio側のCSがKagican Support Toolを使って随時対応する。\n\t\t追加削除をコンソール/組織管理コンソールからできるようにする予定は現状なし\n\t一括移動機能について\n\t\tやりたいこと：csvで一括移動\n\t\t詳細なcsv形式などは実装しながら\n\t\tUI仕様はこれから（->既存コンポーネントを流用して作成予定）\n\t\tScrapboxは内容が古いため、実装予定の仕様とは異なる\n\t仕様はScrapboxのドキュメントが全部だが、実装予定の仕様とは異なるところが複数ありそう\n\t仕様書について：\n\t\tScrapboxよりesaの方が向いている？\n\tv3機能要件について\n\t\t企画サイドから要望上げ->開発サイドで検討して戻しの繰り返しになるので、やり取りしやすいspreadsheet（Feature List）が良さそう\n\t\t\tこちらで：https://docs.google.com/spreadsheets/d/1NZUt9r8yMfjc87CfQtk51o5JbLh0Pmikca15heLzY7M/edit?usp=sharing\n\n\n# MTG議事録 Sirius 組織管理 機能仕様（組織管理コンソール一括異動）\ncreated_at:Mon Jan 19 1970 17:17:03 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:06:32 GMT+0900 (日本標準時)\nMTG議事録 Sirius 組織管理 機能仕様（組織管理コンソール一括異動）\n2020/6/8 本記事は内容が古いので、参照しないでください。[takeuchi.icon]\n2020/3/24　文責[takeuchi.icon]\n\n2020.03.24のMTGのアジェンダ、議事録です。終わったら、仕様としてまとめます[takeuchi.icon]\n\n\n[*** 目的]\n一括異動の仕様を決める\n\n[** 背景]\n現状のsiriusの設計だと、よいものができない。\nいろいろ話し合って、ひとまず2案出た。\nこれのどちらかにするか、それともよりよい案があるかを相談したい。\n\n\n[* まだ決まってないが、今回は話さない]\nCSフローの仕様が決まってない\nSQAのフルチェックが間に合わない\n\n\n[* 一括異動]\n\n[** やりたいこと]\n各組織（全国にある、東京個別指導学院の各教室に相当する）の、組織マネージャーおよび利用者（講師）を、別の組織に一括異動させたい。\n\n[** 案 1]\n一度全部消してから、新規で一括登録して異動を表現する。\n\n[* 仕様]\nカギカン組織管理コンソールに、次の機能を設ける。\n\t利用者・マネージャーをCSVでエクスポートするGUI\n\t利用者・マネージャーをすべて削除するGUI\n\t利用者・マネージャーをCSVでインポートするGUI\n\nエクスポートするCSV: `名前,メールアドレス,所属する組織ID,ユーザーのuuid,作成日,role`\n例:\ncode:csv(guest)\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(渋谷支店),ユーザーのuuid,created_at,guest\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(新宿支店),ユーザーのuuid,created_at,guest\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(池袋支店),ユーザーのuuid,created_at,guest\n\nインポートするCSV: `名前,メールアドレス,所属する組織ID`\n例:\ncode:csv(guest)\n 栗尾 太郎,taro.qrio@qrioinc.com,uuid(渋谷支店)\n 栗尾 太郎,taro.qrio@qrioinc.com,uuid(上野支店)\n 栗尾 太郎,taro.qrio@qrioinc.com,uuid(東京支店)\n\n[* 異動方法]\n利用者・マネージャーをCSVでエクスポートする。\n顧客に、出力したCSVをもとに、異動後の状態をCSVで作成する。\n利用者・マネージャーを一括削除する。\n作成した異動後の状態のCSVデータを使って、利用者・マネージャーをインポートする。\n\n[* 懸念]\nsiriusサーバーからauth0のidの情報が消えてしまい、マネージャーがログインできなくなってしまう。しかもtoken failedではなくorganization_user not foundになる(auth0にはユーザーが残っているので)\n テーブル名を変えるで対応はできる[mikamix.icon] (やるかどうかは別)\n  new_usersにCSVをインポート\n  users -> new_usersにauth0_idをコピー\n  usersを削除(renameでもいい)\n  new_usersをusersにテーブル名変更\n  削除すると実質異動してない人のgroup情報（合カギグループ）がなくなるけど大丈夫？\n  　1stではその懸念は考慮しない\n実質的に異動ではない渋谷支店についても、新規ひもづけの扱いとなる。\n\tこの案で、auth0_idを一緒に出力したらどうなるのか？　をどうなるか？\n\t\tauth0_idを出力\n\n\n\n\n[** 案1.5]\n\t全ての下位組織ユーザー（利用者・マネージャー）を削除してインポートする\n\t\t上位組織ユーザー（システム管理者）および下位組織オーナーについては削除されない\n\t\t削除するので、当然利用者の合カギも削除される\n\t\t既存のマネージャー登録はauth0_idの含まれるマネージャー情報csvをエクスポートして利用する\n\t\t\t利用者はauth0_idがないcsvをエクスポートされるので、これを利用する\n\t\tauth0_idの有無に関わらず、新規登録する\n\t\t登録してからシステム管理者が個別に何かを削除することはしない。削除対象を定義するレコード差分の意識も不要\n\n\n[** 案 2]\n\tすでに存在する(=auth0_idを持っていること)利用者・マネージャーに対してのみ、所属組織の変更を行う。\n\t\t新規登録は行わない\n\t\t\t利用者は元々auth0_idを使わないので注意\n\tauth0_idも一緒にエクスポートする。\n \t削除は、システム管理者が個別に行う必要がある\n\n[* 仕様]\n\t利用者・マネージャーをCSVでエクスポートするGUI\n\t利用者・マネージャーをCSVでインポートするGUI\n\nエクスポートするCSV: `名前,メールアドレス,所属する組織ID,ユーザーのuuid,作成日,role,auth0_id`\n例:\ncode:csv(guest)\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(渋谷支店),auth0_id,ユーザーのuuid,created_at,guest\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(新宿支店),auth0_id,ユーザーのuuid,created_at,guest\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(池袋支店),auth0_id,ユーザーのuuid,created_at,guest\n\nインポートするCSV: `名前,メールアドレス,所属する組織ID,auth0_id`\n例:\ncode:csv(guest)\n 栗尾 太郎,taro.qrio@qrioinc.com,uuid(渋谷支店),auth0_id\n 栗尾 太郎,taro.qrio@qrioinc.com,uuid(上野支店),auth0_id\n 栗尾 太郎,taro.qrio@qrioinc.com,uuid(東京支店),auth0_id\n\n[* 異動方法]\n利用者・マネージャーをCSVで出力する。\n顧客が、出力したCSVをもとに、異動後の状態をCSVで作成する。\n作成した異動後の状態のCSVデータを使って、利用者・マネージャーを一括登録する。\n\n\t既存利用者・マネージャーのCSVエクスポートで、auth0_idも含める。\n\tインポートするCSVのカラムには、auth0_idも含める。\n\tサーバー側では、異動対象をauth0_idをキーにして判別する。\n\n[* 懸念]\n顧客にauth0_idを変更されると、そのCSVの行がそのままorganization_userとして登録されてしまう（もちろん変更されたauth0アカウントは、存在しない）。\n異動は、存在しているユーザーに対してのみしか行うことができない。\nインポートしたデータに存在しないユーザーを、削除することはない。\n上記のCSVの例で異動したとすると、次のカラムは削除されるべきであるが、どうするかは要検討。\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(新宿支店),auth0_id,ユーザーのuuid,created_at,guest\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(池袋支店),auth0_id,ユーザーのuuid,created_at,guest\n\n[[質問]]\n普通にエクスポート、インポートではない「異動機能」というか、レコードを変更(update)するでは対処できない理由があると思うのですが、たぶん前提条件ぽいので共有いただきたい。\n from -> to が N:N なので、CSVアップデートはあまり向いてない\n 複数に所属する場合はレコードが複数できる\n\n要望をまとめた資料はこちらです。[Sirius 組織管理 要望まとめ]\n\n主な要望ほかmemo[ymtk.icon]\n\t数百人規模の異動が頻繁にあるので、作業ミスを無くしたい\n\tcsvの仕様が複雑だと顧客が運用しきれない、作業ミスを誘発してしまう\n\n複数組織organization_users\n\n\n[* 複数組織用user_id]\n nullableでmigrate\n 入口で生成するように変更\n where nullなレコードに挿入\n not nullに変更\n\tprod メンテ必要な場合は広報&CS要調整(2w前広報が理想。事前にstgでリハしましょう)\n\n\t\t現状のuser_idは用途が謎(´・ω・`)\n　\tユーザーは複数組織に所属可能である。一人の人間であっても、レコードは所属する組織の数だけ存在する。\n　\tauth0_idは、マネージャーしか持っていない。利用者は持っていない。\n　\t一人の人間を特定する、新たなユーザーIDが必要。→複数組織用user_id\n　\tエクスポート、インポートするCSVに、この新しいユーザーIDを含めてしまえば、auth0_idをエクスポート・インポートしなくてよくなる。\n\n\n[** Next Action]\n案1の見積もりを出してもらって、もしだめそうなら、案1.5にする。\n\n\n##Sirius \n\n# Sirius V2.1 api変更想定 for console\ncreated_at:Mon Jan 19 1970 18:47:33 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:02:41 GMT+0900 (日本標準時)\nSirius V2.1 api変更想定 for console\n文責[ymtk.icon]（5/26）\n\n認識合わせのためのメモ。\n\n[* 前提]\n\t兼務機能が導入される\n\t\t`managesr/me` で取得するorganziation:string => organizations:string[]に変更\n\t\t\tログイン時は先頭の組織を利用し、以降UIで切り替え\n\t\t\t現状は各処理でstateのorganizationを見ている。これはそのまま生かし、organizationsのstateを新たに生やした方が実装コストは低そう。\n\t\t\t\torganizationsの中にorganizationに紐づく住所情報などまで保存するかは別途検討。idだけでいいはずで、組織切り替え時にorganizationに上書くのが良さそう。\n\t\t\t直近の組織をキャッシュしておいて次回使うことも考えたが、ログアウトしたときにブラウザにデータが残っているのはセキュリティリスクある（複数利用環境などで分かってしまう）なので避ける\n\t\tロック、グループ、利用者、マネージャーについて正しい組織で呼ばれているかの確認\n\t\t\tapi連携方法については変わらない\n\t\t\tこのタイミングで利用者->ゲスト、とした方が分かり易くはある\n\n変更対象api\n\tGET `managers/me`\n\t\tこのタイミングから、auth0からトークンをとってこれるけどorganizationが[  ](空配列)なことがありうる\n\nリリース\n\tep V1.0 リリースと合わせる。メンテある、アプリ強制更新ある\n\t\t上位は別テーブル\n\n##Sirius \n\n# Herokuのデプロイ通知をslackに表示する\ncreated_at:Mon Jan 19 1970 19:02:05 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 19:02:05 GMT+0900 (日本標準時)\nHerokuのデプロイ通知をslackに表示する\n文責[ymtk.icon]（6/5）\n\n前提\n\tHerokuのSlackアプリはQrioに紐付け済み\n\t通知するにはパイプラインが必要\n\n手順\n\t`/h login` でHerokuアカウント連携\n\t`/h route {heroku-pipeline} to {channel}` でパイプラインを連携\n\t\t`/h route sirius-site to ##sirius` など\n\t以上で完了\n\n##Sirius #slack #Heroku\n\n# カギカンv2_コンソール【作成中】\ncreated_at:Mon Jan 19 1970 18:49:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 18:56:26 GMT+0900 (日本標準時)\nカギカンv2_コンソール【作成中】\n\n※SW仕様書の整備を試みるドキュメントです。作成中\n\n[**** 画面遷移]\n[https://gyazo.com/bb30d3be48bdd87858178855c1abcd6a]\n\n[**** 各画面仕様]\nSirius_プロジェクト概要を参照\nhttps://drive.google.com/file/d/1WUWbyoeYgFbBTDLfn3gkUzjBiNVgVg4o/view?usp=sharing\n\n##SW仕様書\n\n# カギカンv2_設定アプリ【作成中】\ncreated_at:Mon Jan 19 1970 18:56:26 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 18:56:26 GMT+0900 (日本標準時)\nカギカンv2_設定アプリ【作成中】\n\n※SW仕様書の整備を試みるドキュメントです。作成中\n\n[**** 画面遷移]\n[https://gyazo.com/633e900b39ef300eaf8e4670764312f4]\n\n[**** 各画面仕様]\n省略・要整理\n\n##SW仕様書\n# Dev MTG 2020/5\ncreated_at:Mon Jan 19 1970 18:25:56 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 18:46:20 GMT+0900 (日本標準時)\nDev MTG 2020/5\n\n[https://gyazo.com/39d269491a70411dc9aa0497faf13a18]\n（アダンの海辺）\n\n\n[* 更新]\n2020.05.11\n2020.05.18\n2020.05.25\n\n[*** この時間で共有・相談したいこと]\nひろさんは今日が最後の開発定例です[takeuchi.icon]\n\t(´;ω;`)ﾌﾞﾜｯ\n\t最終出社日は5/29。\n\tアカウント削除作業などでオフィス出社予定（竹内も）。\n\tお世話になりました[h.yamaguchi.icon]\n\n\t今月からscrapboxのDev MTG記事新設は、1ヶ月単位にします。\n\t\t似たような内容の記事がたくさんできてしまって、見返す負荷が上がるのを防ぐためです。\n\n\tQrioはしばらくリモートです（[- 5/19]  5/31まで確定。それ以降もおそらくまだリモート）。\n\n[* *.qrioinc.comSSL証明書更新]\n6/24で期限切れ。qrioinc.com はSL２サーバーで使ってます。\nex. https://sl2-api.qrioinc.com/v1/u/all\n手順: https://qrio.esa.io/posts/424\n\n\tSign in with Apple ID対応\n  Apple ID単体でのログイン対応がどうなっているかは確認済み\n  [Sign In With Apple検討]\n \tKing Cu 改修案\n \t\thttps://docs.google.com/presentation/d/1VyQ6aOfXQXDhmae1cjR3gZDIPJuxH39ovtbt_OEzSEY/edit##slide=id.g7f2f132d83_0_554\n \t\tログインとAuth0の連携部分のみ実装中[h.yamaguchi.icon]\n \t\t\t先できる所は完了してPR出してます[h.yamaguchi.icon]\n\n\n[*** FY20]\n[* FY20プロジェクトライン（メンバーアサイン、工数）]\n2020.05.15 全部一覧にしました。わかる範囲で記載してます。[takeuchi.icon]\n[https://docs.google.com/spreadsheets/d/1XaY9V8N7P0ZvhMOAU53-5aiQ9RY-x9KYdq-ODn2UVrY/edit##gid=1758360582]\n\t2020.05.25 [takeuchi.icon]\n\t\t後藤さんに共有。フロントまわりはマユトさんにも相談した。\n\t\tJokerファミリーは、開発予算策定と並行して進める。5末までに、イエナカサービス含めスーパーざっくり工数見積。\n\t\tいつごろから採用かけるのかもなる早（5末まで）で後藤さんにインプットしたい。\n\n2020.04.22のFY20キックオフで話した内容\n\t全体：https://drive.google.com/drive/u/0/folders/1qntgy4Z8PSSMwrOUw8US-SbyH4QILDcA\n\t開発：https://docs.google.com/presentation/d/1kFRbP_N8ZIdtm7hLtYZtwjrUvoNeMC2qCBsEzH6WAxg/edit##slide=id.p\n\t\t施策と想定されるアサイン\n\n[* 1Q]\n人材採用の春。\n\tPM+1名以上の着任を目指したい。\n\t面接項目のブラッシュアップ、リモート面談の品質アップ\n\tオンボーディング準備、研修設計\n\n[* 2Q]\n採用デッドと育成案件。\n\tサーバー+2名、アプリ+1名以上の着任を目指したい。\n\t\t明らかに足りないが、Joker含め、やることは何となく見えてきたので、一回開発体制の理想をひねりだします。その後、後藤さんとも相談します[takeuchi.icon]\n\t\t2020.05.15 アプリエンジニアの採用については、レバテックさんにお願いするそう[takeuchi.icon]\n\t\t\t必要スキルについて質問された\n\t\t\t回答は記載したが、そもそも面接にエンジニアは出ないっぽい？\n\t\t\t開発チームリーダーとしての私になんの責任があるのか不明で、こわいので、その辺も後藤さんにエスカレします\n\t\tアプリ2、サーバー2、HW（FW）2くらいあれば、最低。[takeuchi.icon]\n\t\tプロダクトのコミットとスキルは背反ではないので、両方見ればよい？\n\t\t\t応募側も、エンジニアと話をしないと不安なのでは？\n\n\t\tRailsは採用がしやすい。採用方針とは、必要な人をすぐ採用するほうがいい。\n\t\t\tプロダクトに何の技術スタックを使ってもできるなら、採用に強いほうがいい。\n\t\t\tたとえばFWはC以外選択肢がない。一方サーバーサイドは、極端な話何を使っても書ける。\n\t\t\tRailsはWeb系スタートアップだとはるかに多い（他、Java/PHPがあるが）。\n\t\t\t選定フェーズと説得フェーズがある。応募者に対して、こういう経験ができる、というのは、エンジニアもしたほうがいい。でないと他企業との取り合いに負ける。\n\t\t\t応募者も、現場のことは聞くはず。\n\t\t\tQrioはもともと、AWSを使わなくてよいように技術スタックを作っていた。\n\t\t\t\tインフラエンジニアをやとうよりはherokuを使ったほうが安いから。private spacesを使ったのはsonyルールにしたがうため。ただ現状private spacesを使っているので、インフラエンジアをやとって、AWS使ってもいいのでは。\n\t新メンバーのオンボーディングに注力\n\t技術的負債案件の切り出しからキャッチアップ\n\n[* 3Q]\n新メンバーチーム化。\n\t集合玄関＆Roomonの本格検討を開始\n\t本格的に注力案件へのアサイン開始\n\n[* 4Q]\n複数ライン体制の完成。\n\t別チームとして自走できている状態\n\tカギカンヘのKnight連携など\n\n\n[** 上半期目標設定]\n\t開発チーム目標\n\t\tなんもかんがえてない[takeuchi.icon]\n\t\tOKRとかMBOと聞いている。\n\t\t\t2020.05.15 草案つくりました[takeuchi.icon]\n\t\t\t\thttps://qrioinc.slack.com/files/U8MQDQYHH/F014DE15UG0/FY20___________________________\n\t個人目標\n \t評価軸\n \t\t業績評価：\n \t\t行動評価：評価軸があいまいなので、行動指針とひもづけて言語化していくらしい\n \t\t今5段階だが、Qrioとしては2が普通（＝言われたことをやる）らしい\n\n\n[** 人事・採用]\n\t5/11: 神谷（かみや）さん入社。開発PM。Joker (カギカンJoker対応) にアサインされる想定。\n\t\t早速動いていただいており、たいへん助かっています[takeuchi.icon]\n\t最速6/1: 河本（かわもと）さん入社。サーバーサイドエンジニア。竹内は会っていない。\n\t\t退職調整で7/1になりそうです[ymtk.icon]\n\t\t承知しました[takeuchi.icon]\n\t6月下旬：焼山（やけやま）さん入社。開発PM。\n\tエンジニアのカジュアル面談実施中（以下3名とも焼山さんリファラル）。\n\t\t30中盤のサーバーサイドの方。一次面接受けられた、まで聞いている。\n\t\tRailsのエンジニア。カジュアル面談以降、連絡なし。\n\t\t2年目ジュニア。PHP, Rails。Qrioにはジュニア採用計画はない。\n\t\t\tリファラルのラッシュはここで終了。\n\tマユトさんが5月から復帰。\n\tチャンさんが5月から週1の壁打ち要員？　として参加（後藤さんによると、契約はしたらしい）\n\n[https://gyazo.com/c63cfaa9f617bd4785ef82cf6c44a202]\n\n\n\tymtkさん引継ぎ\n\t\thttps://docs.google.com/spreadsheets/d/1jIouWOXj4leTMPzQsxRBZ88SiXgCIsdm1jJOj_sr6Es/edit##gid=916144113\n\t\tとりあえず作業の書面化をお願いしました。\n\t\t引継ぎ先が三上さんになっている箇所は、竹内がもらいます。\n\t\t\tパスワード100くらいありました[ymtk.icon]\n\n2020.05. 15 以下、引継ぎ内容。随時更新します[takeuchi.icon]\n[** Eコマースの仕組み]\nEストアで買ったものが、crossmallに取り込まれる。\nQrioストアで物を買うと、特定のgoogleアカウントにメールを保存していく。\ncrossmallが特定のgoogleアカウントにログイン、メールをスクレイピングして、crossmallのDBにとりこんでいる。\n\n[** コーポレートサイト]\nwordpressでできている。\nwellcartというwordpressのプラグインがある。そのままECサイトにできる。\nAmazonPayはwelcartの子プラグインでやっている。\nwelcartにapiはない。\nしかしさすがにapiにつなげないので、丸山さんがなんとかした（そうせざるをえなかった）。\n\tcrossmallもメールを作って飛ばす。\n\twelcartのプラグインを上書きしていじっている。\nAmazon Payも同じようにプラグイン上書きしている。\n\t「Qrio Amazon Pay 組み込みメモ（scrapbox）」を参照。\n\tソースコードは「Qrioデザイン用」で検索すると、上書き部分が出てくる。\n\n2020.05.15 コーポレートサイトは、ECを切り離せばそんなにむずかしくない。せめてサブドメインにするとか、自社サイトやりたいんだったら、サイト変えるとか。今までメンテコストはymtkさんが支払っていたが、今後どうするか。BASEとかにして、メンテやめたい。[takeuchi.icon]\n\t自社サイト販売をあきらめる[takeuchi.icon]\n\t\tymtkさんの引継ぎで、コーポレートサイト廃止の検討をしていたかどうかを聞く。[takeuchi.icon]\n\tBASEとかで頑張る [mikamix.icon]\n\n書面化\n\tそもそも書面化がいらないように、シンプルにすべきでは？\n\t何もしなくてよいように、自動化する。\n\t自動化されたら、負債は返却されたことになる。\n\n\n[** formrun]\nメールフォームのツール\nWebhook持っている。カギカン問い合わせとか、formrunに投げている。\n「受信通知設定」→slackに通知。\n\n[** CSツール]\nSL2、カギカンがメイン。\nSL1、Roomonも存在はする。\n「*-ope」githubリポジトリが、CSツール。\n\n[* カギカンCSツール]\ngoogle認証。FirebaseAuthでやっている。\n\n\n\tひろさん引継ぎ\n\t\thttps://docs.google.com/spreadsheets/d/1PRQckPPW6v_qnYyeunoyhQB_tDX1aMQ8K7585OEmdfg/edit##gid=0\n\t\t深澤さん引継ぎ資料ですが、項目はほぼ同じ想定。\n\t\t追加あれば、お願いします[takeuchi.icon]\n\n\n[*** Project 進捗]\n\n[** Sirius]\n\tTKG対応\n\t\tこれまでは [Dev MTG 2020/4/27] を参照。\n\t\t最新の共有事項はslackのsirius-devチャンネルを参照。\n\n\n[** Jokerファミリー]\n4/30時点の進捗。仮置きスケジュールもあり。\n\thttps://docs.google.com/presentation/d/1-rdgADdJalKXRxsvRyZUh1d52-XyvjRhVu7hCQMp5lk/edit##slide=id.p1\n\nbacklogで宿題管理することに。\n\thttps://qrioinc.backlog.com/dashboard?from_globalbar\n\t\t進捗を目で見えるかたちにするよう、後藤さんからお達しがあったため。\n\t\tQrio開発としては、HW要件定義のために必要なデータの整理、要望されたユースケースのフィジビリ検討、の段階。\n\t\t\tぜんぶいっぺんに進んでおり、まだ作業振れる状態ではないです。\n\t\t\tbacklogユーザー招待だけします。\n\t神谷さんジョインされる。Jokerファミリーのうち、カギカンの開発PMをやってもらう、ときいている。\n\t\tどこからどうやってキャッチアップしていくのかはまだ未定。\n\t\tどうやってPMしていくのかも、これから。\n\t\t2020.05.15 情報整理とタスクの優先順位判断をやっていただいています[takeuchi.icon]\n\t2020.05.18 こまいさん、ひろさん、三上さんをjoker関連のbacklogに招待しました[takeuchi.icon]\n\t\tbacklogは去年おととしも使っていましたが、そちらは解約しました。今回、joker用に新たな契約となります。メールをご確認おねがいします。\n\t\tbacklogプロジェクトが3つあります（JOKER, Roomon V2, Kagican V3）。それぞれのwikiを、神谷さんがまとめてくださっています。\n\t\t週2でやっているjoker定例の参加メンバーで、HW要件の洗い出しをしています。SW関連の検討については竹内がやっています。\n\t\t竹内がまとめて共有しようとしてましたが、議題がたくさんありすぎてまだできていません。\n\t\t\tもしお時間あれば、backlogのチケットをながめていただき、何かあればご意見いただけると大変助かります。\n\t\t\tsirius TKG開発終了後、SWの検討をお願いすることになると思います。\n\nHW要件の検討中。\n\t本来であれば4月末にHW要件FIX予定だったが、遅れ気味。5末には決めたい。\n\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n \tロック時刻を受け取って解施錠・ログ取得コマンドを発行できるよう改修予定（〜5/15）\n \t\tAPIドキュメントは修正、SNCに提供済み。\n\n[* CU]\n\tiOS \n\t\tSign In With Apple検討中\n\t\t\t詳細は上の方\n\t\tファームウェアアップデートのバージョン判定周りに不具合あり\n\t\t\t修正対応中\n\tAndroid\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\t~2020.05.18 CCPA・GDPR対応でCUのリンクを増やす対応[takeuchi.icon]\n\t\t経緯：https://qrioinc.slack.com/archives/C3W3GMGAE/p1589198102011600\n\t\t6月中旬〜6月末に更新する\n\n[* RU]\nリプレイアタック耐性向上を要求されたので対応中[takeuchi.icon]\n\tFW修正、マージdone\n\t5/11~5/22 SQA\n\t~5/31 リリース判定、市場公開\n2020.05.18 とくにもんだいなし[takeuchi.icon]\n2020.05.25 GM判定OK。05.26 お昼くらいに市場公開予定。なお次を検討中[takeuchi.icon]\n\tCUでRUを登録時、FWを強制アップデートする改修\n\tRUの工場生産FWの差し替え検討\n\n[* Q-H1]\n2020.05.25 [takeuchi.icon]\nGW明けからリモート通信できない障害問い合わせが増えた問題\n\t原因不明。\n\ttoC環境。時刻ズレの問題ではない。SaaSの問題もない。\n\tハブのログを見ると、pubnubのリクエストに応答していない期間が断続的に発生していた。\n\tこうきちさん、川上さん、関口さんと話して、半分くらい新品交換で対応する、という話になった。\n\nv1.2.04 対応中\n\tロックからget_timeしてコマンドを送るよう修正\n\tハブが固定値で持っているURLの間違いを修正\n\t\tリモート解施錠はできるが履歴が更新されない（市場障害対応。レアケース）\n\tリリースは 5/13 予定。→done\n\n[* Guardian]\n\t3/4のGM判定でいくつか宿題あり。急ぎではない。\n\tQ-H1 v1.2.04で対応したget_time対応を、時間みつけて入れる[takeuchi.icon]\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n \t\tRU GM9が5末に出る。そのSQAのタイミングで、ついでにチェック実施する。[takeuchi.icon]\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n[** 経営本部数字の見える化]\n\tデータの一元化管理\n\tツールの選定済→経営本部側の稟議待ち→まず、5/26(火)からトライアルを始める\n\t\t楽楽販売[takeuchi.icon]：https://www.rakurakuhanbai.jp/\n\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決める\n\tking-ruのFWベースで検討中だが、Jokerとの絡みはこれから検討される（Jokerプロジェクトの宿題）。[takeuchi.icon]\n2020.05.25 [takeuchi.icon]\n\t先週MTGあった。GW明けくらいまで進めていたPoCは、成功とのこと。\n\tハンズフリーに関して課題残る（自動ドアの認証まわり）。OPTEXがユースケースをまとめて、別途MTG開催予定。\n\tRoomonV2含め、プロジェクトとのからみは検討進んでいる。\n\t\tJokerのbacklogを参照（RoomonV2プロジェクト）\n\n\n[*** 外部連携関連]\n\n[** （APIドキュメント）]\n2020.05.25[takeuchi.icon]\n運用方法を変更します。\nheroku appを立ててURL送付→CoinfidentialつけてPDFで送付\n\tAPIドキュメントもNDA締結対象\n\tAPIを一般公開してないのは「よそにはAPI公開してるのに、なんでうちの会社には公開してくれないんすか」というコミュニケーションを避けるため\n\t現在公開しているものについては、そのままでOK。今後公開するときは、そうする。\n\n[** Nature]\n\tNatureのデバイスにQrioHubを移植する\n\tAPIドキュメント、ハブ移植用のロック・ハブのプロトコルを開示\n\t\thttps://drive.google.com/drive/u/0/folders/1y_ZWBommojvYj_rgKomoYXIkNV84Un6l\n\t2020.05.15 メール返信あり。これから技術検討に入るそう[takeuchi.icon]\n\t技術に関する打ち合わせが今週または来週のどこかで行われる。\n\t\tハブ関係の話が中心なので、竹内が出て、議事録共有します。\n\t\t2020.05.25 [takeuchi.icon]\n\t\t\t打ち合わせdone。駒井さんにも出てもらった。\n\t\t\t先方デバイスはADVスキャンを5分に1回しかできないらしく、QrioHubのようなリアルタイム監視がむずかしい。\n\t\t\tこのタイミングで、ログのPOST＆通知まわりのking-apiを見直すかも。\n\n[** SoftBank]\n企画概要：https://drive.google.com/drive/folders/1tH64ERSzdt9zekZQEeNK5ZsHynmq5H-r\n\tビジネスとしては2つあります。NDAも別です。\n\tそれぞれ、APIドキュメント、ハブ移植用のロック・ハブのプロトコルを開示\n\t\thttps://drive.google.com/drive/u/0/folders/1y_ZWBommojvYj_rgKomoYXIkNV84Un6l\n\tslackチャンネル：https://qrioinc.slack.com/archives/C012KE3FGQ3/p1587956115000400\n\n[* Softbank: エンコアードジャパン]\n\tSoftBankのハブにQrioHubのFWを移植して、他のIoT機器とも連携、大手サービサー（ガス会社）に売る\n\t技術質問やりとり中。SoftBank側のアプリ？　でどこまでやるか、などを検討中。\n\t2020.05.15 打ち合わせ実施[takeuchi.icon]\n\t\t一言でいうと、「2ロックを1セットで¥10000で売ってくれない？と提案されるも赤字なので悩み、結局Roomonのための導入実績作りの方向で導入を検討中」\n\t\t詳細はslack参照。https://qrioinc.slack.com/archives/C012KE3FGQ3/p1589282511002900\n\n[* Softbank: 汎用GW]\n\tSoftBankのハブにCambrianRobotics提供のobniz OSを搭載して、クラウドの可視化ツールで実証実験\n\tハードウェアはエンコアードと同じ\n\t2020.05.15 技術検討は、まだ開始していない[takeuchi.icon]\n\n[** au Home]\n\t詳細は[Dev MTG 2020/4/20]を参照\n\tau レスポンス待ち。4月中にQrioLock対応の最終判断があるそう。\n\t\t連絡なし。\n2020.05.25[takeuchi.icon]\n\t連携はとりやめになった。別の会社のスマートロックを使うらしい。\n\tUX向上のため、どうしてもSDKを使う方向にもっていきたいらしい（よくわからない）。\n\n[** 佐賀大学]\n今使っている、ICカードと入退室システムでの施錠管理を、QrioLock使ったものに置き換えたいらしい。\n30〜70台規模。\n入退室をQrioで管理したいわけではなくて、カギの権限管理をしたいだけ。\n\t元々、学生証の貸し借りで通過されていたのを防ぎたいらしい。\n\t\tipassも教えたら防げないが、それは先方には共有済み（先方としては、そこはご愛敬っぽい）。\nNDA締結準備中。APIドキュメント準備中。\n\t2020.05.15 Qrioに相当不利な契約内容が提案されたらしい。以下参照。[takeuchi.icon]\n\t\thttps://qrioinc.slack.com/archives/CS9NN0S5R/p1589171614007100\n\n[** リアルネットワークス]\n超高速・高精度顔認証システムとの連携・協業検討。\nAPIドキュメント公開中。\n\n[** MANOMA・NURO]\nロックの時刻がズレていると認証エラーの無限ループになる問題の対応中。\n\tAIHGWを使ったプラン：AIHGW、MANOMAサーバー修正で認証エラーを回避するアーキ案を提示。\n\tQrioHubを使ったプランは、 Qrio Hubをv1.2.04に更新してもらうことで対応する。\n\tあといろいろ質問とか調査メールくるので、打ち返したりしている\n\n[** Wena]\nこれまで: [Dev MTG 2020/1/15]\n2020.05.22[takeuchi.icon]\n\t3/31 wena試作機でRUの解施錠ができる\n\twena本体のkey_seedなどの保存先（機密情報保持領域）について、Qrioの見解を述べるMTGがある（5/27）\n\t\t出ます。技術的な懸念事項だけ大西さんに確認して、問題なさそうならOKします[takeuchi.icon]\n\n\n[*** 情報システム]\n\n[*** SQA]\n6, 7月の見積はそれぞれ2.0人月。凛義とおった。\n\npubnub代表アカウントでログインするとMy Projectしか見えない件\n\t左上のアカウント選択するところで、mikamix@qrioinc.comを選択するとSL2, SL2のプロジェクトが見えるようになる\n\t三上さんアカウント→代表アカウントに移行したい。やり方を調べる。\n\nカギカン1サーバーまだ生かしている\n\tsl1-cuから、SL1登録時に参照しているので、復活させた\n\tフロントはたぶん閉じた（あとで確認しておく）。\n\t\tカギカン1はサーバとフロントが同居していて、ログインページに来るとカギカン2のログインページにリダイレクトさせる処理をrubyのリダイレクトを利用して入れました。[ymtk.icon]\n\n[*** その他]\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n\n\n# Sirius V2.1 api変更点 for BCU\ncreated_at:Mon Jan 19 1970 18:41:54 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 18:46:17 GMT+0900 (日本標準時)\nSirius V2.1 api変更点 for BCU\n文責[ymtk.icon]（5/22）\n\nV2.1スコープ\n\torganization_userの分割、その他不具合の解消\n\t\tguest, managersに分割\n\t\townerは削除\n\n[* 検証用エンドポイント]\n- https://sirius-api-dev.herokuapp.com/v1\n- データは今週時点のstgからdumpして入れてあるため、stgのアカウントでもログイン可能\n\n[* 対象apiと変更点]\nログイン\n\tPOST organizaiton_user/login\n\t\tapi廃止\n\t\t代替として GET managers/me\n\t\t\t返り値のkeyが organization_user -> me に変更されている。organizationは変更なし。\n\t\t\tcode:json\n\t\t\t {\n        \"me\": {\n            \"id\": \"7c654bd2-4714-43b8-9029-548a4986b865\",\n            \"organization_id\": \"0f219f73-e842-4e20-b5e5-50747f6912b4\",\n            \"name\": \"渋谷ひかり\",\n            \"email\": \"yamaguchi+dev02@qrioinc.com\",\n            \"verify_code\": null,\n            \"auth0_id\": \"auth0|5d57dd4b627cbb0ed7e74a91\",\n            \"king_manager_id\": \"36754042-49d1-41f9-858d-b0cc911b79ba\",\n            \"created_at\": \"2020-05-19T05:59:26.563Z\",\n            \"updated_at\": \"2020-05-19T05:59:26.563Z\"\n        },\n        \"organization\": {\n            \"id\": \"0f219f73-e842-4e20-b5e5-50747f6912b4\",\n            \"name\": \"Qrioコーポレーション\",\n            \"division\": \"\",\n            \"url\": \"\",\n            \"tel\": \"0300000000\",\n            \"zip\": \"1500021\",\n            \"prefecture\": \"東京都\",\n            \"address\": \"恵比寿西\",\n            \"state\": \"verified\",\n            \"tutorial\": \"finish\",\n            \"operation_state\": \"accepted\",\n            \"organization_type\": \"invoice\",\n            \"created_at\": \"2019-06-07T09:50:26.967Z\",\n            \"updated_at\": \"2020-05-20T08:06:46.271Z\",\n            \"staff_name\": \"なりたあきこ\",\n            \"staff_email\": \"yamaguchi+dev@qrioinc.com\",\n            \"verify_code\": null,\n            \"human_code\": \"11\",\n            \"notify_lock_status\": false,\n            \"verified_at\": null,\n            \"agent_id\": null,\n            \"deleted_at\": null,\n            \"enterprise\": true,\n            \"top_id\": null,\n            \"king_admin_id\": \"40d2e446-1cb0-40ef-a27e-7ab74a21c3ec\",\n            \"subscription\": {\n                \"id\": \"b2fe6bcc-78a9-424d-ba4d-d155d3cf8171\",\n                \"organization_id\": \"0f219f73-e842-4e20-b5e5-50747f6912b4\",\n                \"plan_id\": \"faa1fa2e-c3c4-4a02-1111-6f791463b581\",\n                \"transaction_code\": null,\n                \"state\": \"subscribed\",\n                \"created_at\": \"2019-08-15T03:14:45.821Z\",\n                \"updated_at\": \"2019-08-15T03:14:45.821Z\",\n                \"amount\": 1,\n                \"plan\": {\n                    \"id\": \"faa1fa2e-c3c4-4a02-1111-6f791463b581\",\n                    \"plan_type\": \"basic\",\n                    \"created_at\": \"2019-07-01T01:46:31.759Z\",\n                    \"updated_at\": \"2019-10-30T06:36:56.316Z\",\n                    \"price\": \"7980.0\",\n                    \"is_double\": false,\n                    \"name\": \"1ロック基本プラン(1-4個)\"\n                }\n            },\n            \"delivery\": {\n                \"id\": \"ef6a1de6-2cb3-4545-83b1-4795c57ab0ad\",\n                \"organization_id\": \"0f219f73-e842-4e20-b5e5-50747f6912b4\",\n                \"tel\": \"03-0000-0000\",\n                \"zip\": \"150−0021\",\n                \"prefecture\": \"新東京都\",\n                \"address\": \"恵比寿西2−3−4東新産業ビル3F\",\n                \"created_at\": \"2019-08-14T09:38:16.804Z\",\n                \"updated_at\": \"2019-08-14T09:38:16.804Z\",\n                \"staff_name\": \"山口隆広\"\n            }\n        }\n    }\n\nロック\n\tPATCH /locks\n\t\t変更なし\n POST /locks\n \t送信内容に organization_id が必要\n DELETE /locks\n\t 送信内容に organization_id が必要\n GET /locks/index\n \t変更なし\n GET /locks\n \t変更なし\n POST /locks/sub_lock\n \t変更なし\n PATCH /locks/lock_setting\n \t変更なし\n POST /locks/hub\n \t変更なし\n\n##Sirius\n\n# Qrio Store amazon pay 組み込みメモ\ncreated_at:Mon Jan 19 1970 15:38:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 18:27:47 GMT+0900 (日本標準時)\nQrio Store amazon pay 組み込みメモ\n文責[ymtk.icon]\n[** 目的と狙い]\n\tモバイル購入コンバージョンの向上\n\t\t決済情報をamazon経由で流用でき、入力不要\n\t\t\t友だち招待購入でアマギフを配るため、相性は悪くないはず\n\t\t\tamazonで買うのと同等程度の価格感は必要\n\n[* 実装方法]\n\twelcartプラグインを利用\n\t\thttps://www.welcart.com/archives/9218.html\n\t一部テンプレートテーマの修正\n\t\tcorporate-site/www/store/wpdir/wp-content/themes/Qrio/common/js/script.js\n\t\t途中でamazon payにログインすると不具合があるため動線をマスク\n\t\t「Qrioデザイン用」でコード検索\n\n実装結果とメンテ\n\t該当PR\n\t\thttps://github.com/qrioinc/corporate-site/pull/681\n\t\tプラグイン自体のビューを編集しており、アップデートすると表記崩れするので注意\n\t\t上記に元データと差分データをアップ済み\n\tcrossmall\n\t\t名称マスタを追加\n\t\t\thttps://crossmall.jp/titles/?mId=&umId=0\n\t\t配送別お支払い方法を追加\n\t\t\thttps://crossmall.jp/convert_deliveries/?mId=&umId=0\n\t\tcode: mail\n\t\t 【お支払方法】\n   ******************************************************\n   Amazon Pay\n\t特商法およびストアでの表記\n\t\tamazon pay の記載\n\n[* 撤退ポイント]\n\t3ヶ月見てコンバージョンの変化がない\n\t月の利用率増加が数件レベル\n\ncode: text\n 【重要】Amazon Payお申込みありがとうございます　\n 受信トレイ\n x\n \n Amazon Pay <merchant-notifications@amazon.com>\n 9:34 (11 分前)\n To 自分\n \n ご担当者様\n \n この度はAmazon Payにお申込みいただき、誠にありがとうございます。\n セラーセントラルアカウントのご登録が完了しました。\n \n ■今後のステップ\n 【審査】\n 今後ご登録いただいた内容を基に審査を行い、結果をメールで通知いたします。審査期間は通常約１週間です。\n \n 【実装】\n 審査完了後、御社ウェブサイトへのAmazon Payの実装をお願いいたします。\n \n 1. Amazon Pay対応されているショッピングカートをご利用の場合は、以下のページをご参照ください。ご利用予定のショッピングカートごとに設定方法が異なります。\n Amazon Pay導入方法のご案内: https://pages.payments.amazon.com/integration.html\n \n 2.その他の場合は、以下のページをご参照ください。本日より、テスト環境がご利用いただけます。\n 開発者向け情報: https://developer.amazon.com/ja/docs/amazon-pay/intro.html\n 　【主なコンテンツ】\n 　・　クイックスタートガイド：インテグレーション全体概要\n 　・　インテグレーションFAQ：よくいただく質問\n 　・　セルフチェックシート：テストケースの事前確認と実装レベルの確認\n 　・　Code Generator：サンプルコード自動生成\n \n なお、今後Amazon Payからのご案内は、このメールの宛先に送付させていただきます。\n \n 不明点がございましたら、下記リンクよりセラーセントラルにログイン＞「お問い合わせ」、よりお問い合わせください。\n https://sellercentral.amazon.co.jp/gp/contact-us/contact-amazon-form.html　\n \n 今後ともAmazon Payをよろしくお願いいたします。\n \n Amazon Pay申込／審査サポート\n \n このメールはお役に立ちましたか？ https://sellercentral-japan.amazon.com/gp/satisfaction/survey-form.html?ie=UTF8&HMDName=NotificationBusEmailHMD&customAttribute1Value=MERCHANT_PYOP_BASIC_REGISTRATION_COMPLETE\n\n[* Sandbox]\nhttps://sellercentral.amazon.co.jp/external-payments/test-buyers\nテストアカウントをここで作る\n\n[* セラーセントラル]\nhttps://sellercentral.amazon.co.jp/hz/home\n各種キーはここ\n\n[* 良くあるトラブル]\n\tamazon payボタンが出てこない\n\t\twelcartの会員ページでドメイン登録がされていない\n\t\twelcart shopの基本設定でamazon payが有効化されていない\n\tcrossmallのエラー情報をダウンロードできない\n\t\tsafari非対応なので、chromeを利用する\n\n##ymtk開発引き継ぎメモ #amazonpay #コーポレートサイト\n\n# Sirius - Kingの認証変更手順\ncreated_at:Mon Jan 19 1970 18:20:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 18:20:29 GMT+0900 (日本標準時)\nSirius - Kingの認証変更手順\n[mikamix.icon]\n\n SiriusとKingに環境変数追加\n  KingにADMIN_JWT_SECRET\n  SiriusにKING_ADMIN_JWT_SECRET\n  上記2つは必ず同じものを使用する\n SiriusのBearerにJWT付与するPRをマージ\n  https://github.com/qrioinc/sirius-api/pull/331\n Kingの認証方式をJWT検証へ変更するPRをマージ\n  https://github.com/qrioinc/king-api/pull/619\n Siriusの変更\n  オーナー登録時にauth0を登録しない\n  adminに関するリクエストにclient_idを付与しない\n  あとでやってもよい\n# コーポレートサイト・アセットS3化メモ\ncreated_at:Mon Jan 19 1970 09:32:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 18:10:11 GMT+0900 (日本標準時)\nコーポレートサイト・アセットS3化メモ\n文責[ymtk.icon]\n現状、S3に外出しされてます(2020/4/30)\n\n\tWP Offloadプラグインを有効化\n\t\thttps://wordpress.org/plugins/amazon-s3-and-cloudfront/\n\t\tローカルでインストールしたあとにデプロイ\n\tarticle、store、suportのwp-configに記載\n\t\tcode: wp-config\n\t\t // for s3 plugin\n   define( 'AS3CF_SETTINGS', serialize( array(\n       'provider' => 'aws',\n       'access-key-id' => '***',\n       'secret-access-key' => '***',\n   ) ) );\n  IAMユーザー名: corporate-site-s3-assets\n\t  S3 FullAccessを付けている\n\t S3バケットを作る\n\t \tプラグイン経由でTokyoリージョンに作成した方が権限などクリアされていて楽\n\t 上記のバケットをCloudfrontに紐付け、route53でドメインを振る\n\t \thttps化する場合、証明書はバージニア北部に置く（cloudfrontはここしかみてない）\n\t \troute53で振ったドメインからリダイレクトされる場合は、cloudfront経由でキャッシュを消す（S3をバージニア北部以外に作るとよくある）\n\n[** その他]\ncode: download\n ## ローカルへのファイルダウンロード\n $> scp -r -i ./qrio.pem ec2-user@52.199.180.209:/var/source/www .\n\n[** 参考URL]\n\tWP Offload\n\t\thttps://wordpress.org/plugins/amazon-s3-and-cloudfront/\n\thttps://php-java.com/archives/2228\n\n##コーポレートサイト #AWS\n\n\n# Dev MTG 2020/4/27\ncreated_at:Mon Jan 19 1970 18:05:51 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 18:06:03 GMT+0900 (日本標準時)\nDev MTG 2020/4/27\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\t今日は30分で終わらせます。\n\n\tひろさん：5末退職\n\tymtkさん：6末退職\n\n\tQrioはしばらくリモートです（5/6以降も、高い確率でリモート）。\n\n\tGithubのプランを無料にできるか？\n\t\t無料だとwikiが使えなさそうだったので、teams有料プランに変更した\n\n\tAutomated Certificate Management has failed for your app castle-ope\n\t\tcasle-opeサーバー落としていて自動更新失敗していたので、1日だけ復活させて更新した\n\n\tAPI公開auth0のaccess tokenをJWTで返してほしい、とAPI提供先からご連絡がありました。詳細ご相談させてください。\n\t\t質問：https://qrioinc.slack.com/archives/CPFLQ24J2/p1587947723001700\n\t\t\t経緯：https://qrioinc.slack.com/archives/CPFLQ24J2/p1586420485007500\n\t\t\tWebアプリではなくPython SDKを使っている？　っぽい\n\t\tauth0ドキュメント\n\t\t\thttps://auth0.com/docs/tokens/guides/validate-access-tokens\n\t\t\thttps://auth0.com/docs/tokens/guides/get-access-tokens\n\t\t参考画像\n\t\t[https://gyazo.com/254bc40de89de1390dae8f1843ec373b]\n\t\thttps://staging-king-api-document.herokuapp.com/\n\t\t\tredirectがないときのフローが抜けている\n\t\t\t\tドキュメントについては本来はredirectなしのパターンも（許容しているのであれば）載せておくべき\n\t\t\t\tiOS/Androidはredirectなしだが、どうなっているか\n\t\t\t\tローカルサーバー立てて、リダイレクトさせれば一番早い\n\t\t\tそもそもなんのhttpリクエストが飛んでいるか\n\n\tSign in with Apple ID対応\n  Apple ID単体でのログイン対応がどうなっているかは確認済み\n  [Sign In With Apple検討]\n \tKing Cu 改修案\n \t\thttps://docs.google.com/presentation/d/1VyQ6aOfXQXDhmae1cjR3gZDIPJuxH39ovtbt_OEzSEY/edit##slide=id.g7f2f132d83_0_554\n \t\tログインとAuth0の連携部分のみ実装中[h.yamaguchi.icon]\n\n\tau Home対応\n\t\t詳細は[Dev MTG 2020/4/20]を参照\n\t\tau レスポンス待ち。[- 3月上旬]4月中にQrioLock対応の最終判断があるそう。[takeuchi.icon]\n\n\t戦略会議、FY20キックオフ\n\t\t資料：https://drive.google.com/drive/u/0/folders/1qntgy4Z8PSSMwrOUw8US-SbyH4QILDcA\n\t\t\n\n\tJokerファミリー\n\t\tcastleの技術的負債については、戦略会議&FY20キックオフで共有済み。後藤さんも認識済み。\n\n\t人事・採用\n\t\t以下が確定\n\t\t\t5月下旬：開発PM 1名入社\n\t\t\t6月下旬：開発PM 1名入社、サーバーサイドエンジニア 1名入社\n\n\n[*** Project 進捗]\n\n[** Sirius]\nキャッチアップ用の資料まとめと、やるとしたらどの辺かを把握しておきたす[mikamix.icon]\n\tこちらです。[takeuchi.icon]\n\t\thttps://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=404802218\n\tアカウントの組織管理対応 (5月中旬リリース予定。2/20の要望ヒアリングから、開発期間は3ヶ月)\n\t\tリリース間に合わない旨をこうきちさんに伝えた。TKGにも伝えた。いつリリースになるかはまだ未定[takeuchi.icon]\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n \tSOMCへ解施錠状態のwebhook通知の箇所で認証エラーが記録される度に通知されるのやめてほしいとのことなので改修\n\n[* CU]\n\tiOS \n\t\tSign In With Apple検討中\n\t\t\t詳細は上の方\n\tAndroid\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\n3/4のGM判定でいくつか宿題あり。急ぎではない。\n\nQ-H1 v1.2.04で対応したget_time対応を、時間みつけて入れる[takeuchi.icon]\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n\n[** Nature]\n\tNatureのデバイスにQrioHubを移植する\n\tAPIドキュメント、ハブ移植用のロック・ハブのプロトコルを開示\n\t\thttps://drive.google.com/drive/u/0/folders/1y_ZWBommojvYj_rgKomoYXIkNV84Un6l\n\n[** SoftBank]\n企画概要：https://drive.google.com/drive/folders/1tH64ERSzdt9zekZQEeNK5ZsHynmq5H-r\n\tビジネスとしては2つあります。NDAも別です。\n\tそれぞれ、APIドキュメント、ハブ移植用のロック・ハブのプロトコルを開示\n\t\thttps://drive.google.com/drive/u/0/folders/1y_ZWBommojvYj_rgKomoYXIkNV84Un6l\n\tslackチャンネル準備中：https://qrioinc.slack.com/archives/C012KE3FGQ3/p1587956115000400\n\n[* Softbank: エンコアードジャパン]\n\tSoftBankのハブにQrioHubのFWを移植して、他のIoT機器とも連携、大手サービサー（ガス会社）に売る\n\t技術質問やりとり中。SoftBank側のアプリ？　でどこまでやるか、などを検討中。\n\n[* Softbank: 汎用GW]\n\tSoftBankのハブにCambrianRobotics提供のobniz OSを搭載して、クラウドの可視化ツールで実証実験\n\tハードウェアはエンコアードと同じ\n\n\n[*** 情報システム]\n\n[*** SQA]\n6, 7月の見積はそれぞれ2.0人月。凛義中。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n \tこれってパエリアで作ったやつでしたっけ?\n \t　そうですよ〜\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t社内凛義とおった\n\t\tpremier success planがくっついてきて値段上がった（割り引いてはもらえたが）\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n\n\n# amazon pay 運用メモ\ncreated_at:Mon Jan 19 1970 17:37:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:57:51 GMT+0900 (日本標準時)\namazon pay 運用メモ\n文責[ymtk.icon](4/7)\n\n[* 前提]\n\twelcart公式のプラグイン経由で操作している\n\twelcartとamazon payの会員情報は別\n\n[* 購入者のフロー]\n\tカートに商品を入れる\n\tカートページでamazon payにログイン\n\t名前を入力し、送付先と決済カードを選択\n\t購入終了\n\tamazonから購入したメールが届く\n\n[* ストア運用者のフロー(購入後に発送確認する場合)]\n\twelcart managementから該当注文のステータスを「発送済」に変える\n\n[* 返品・返金する場合]\n\tセラーセントラルにログイン\n\tヘッダ メニューのQrioストア脇のプルダウンを[* amazon pay(本番環境)]に切り替え\n\tamazon payの取引管理＞処理から返金する\n[https://gyazo.com/3a5f9036bb48ffa0c3f9bb4f669603e9]\n[* 参考リンク]\n[* welcart公式]\n\thttps://www.welcart.com/usces-member/\n\t利用環境のドメインを指定する必要がある\n\t\t[https://gyazo.com/4336234a17129179820bd483f000c1b9]\n\t\tプラグイン公式は下記\n\t\t\thttps://www.welcart.com/archives/9218.html\n\n[* セラーセントラル]\n\thttps://sellercentral-japan.amazon.com\n\n[* 公式運用操作マニュアル]\n\thttps://www.welcart.com/docs/AmazonPay/amazon_pay.pdf\n\n##amazonpay #コーポレートサイト #QrioStore\n\n# よくある障害対応\ncreated_at:Mon Jan 19 1970 12:48:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:56:24 GMT+0900 (日本標準時)\nよくある障害対応\n[** 概要]\n\tここ1年ちょいで対応したパターンについてまとめます。アラート来たら参考にしてみてください\n\t各値が張り付いている時はスペックアップすることが多いが、特定のdynoだけ足を引っ張ることもあるので、その場合は個別で再起動させて解決する\n\t\tcode: sh\n\t\t ## newrelic等を使うと個別のdynoの状況が分かる\n\t\t\theroku restart web.1 --app application_name\n\n[* パターン]\n\tDBがメンテ\n\t\tHeroku の定期メンテでURLが変わったが、動的に紐付けずenvで直接指定していたので変更に追いつけない\n\t\tawsの定期メンテ時間が長すぎて1分以上応答がない\n\tRedisがメンテ\n\t\tHeroku の定期メンテでURLが変わったが、動的に紐付けずenvで直接指定していたので変更に追いつけない\n\tDynoのCPUやメモリが限界\n\t\t8割を超えており、エラーが出ている状態\n\t\t\tまずは横に広げる。運用時で明らかにスペック不足になることはあまりないが、キャンペーンアプリケーションなどは念のため強くしておく\n\t\t\tスペックが上がった結果、DB接続数やRedis接続数がついて行けなくなる場合もあるので注意\n\tプラットフォーム自体のやらかし\n\t\t何かしらのデプロイが行われた結果、管理コンソールなどが見えなくなる。プラットフォーム側がロールバックする場合、こちらも再起動が必要になることが多い\n\tstgのenvが本番に反映されている\n\t\ttypescriptをビルドする場合、promoteではstgのenvを引きずってしまうのでprodに直接デプロイする\n\tカード決済が正しく行われない\n\t\tenvに設定された秘密鍵、公開鍵が開発用になっている\n\t\t本番申請の反映に不備がある\n\t\t\tvisa, masterは数日だが、JCBは利用可能までに2週間以上かかる\n\tデプロイしたのにキャッシュがずっと消えない\n\t\tcloudfront 側で削除する\n\t\t\t今のQrioプロダクトだとほぼないはず(sirius-siteくらい)\n\tcloudfront経由でDNSを振っているのにリダイレクトされる\n\t\tバージニア以外は時間がかかるので注意\n\tFirefoxでアクセスしたら証明書エラー\n\t\t中間証明書の入れ忘れ\n\t\t\thttps://qrio.esa.io/posts/424\n\t\t\t下記で妥当性チェック\n\t\t\t\t[api.kagican.jp SSL証明書セット memo]\n\tHubのSSL証明書がエラー\n\t\t20万円の強い証明書が必要\n\t\t\thttps://qrio.esa.io/posts/310\n\n[* 対応ルール]\n\tエスカレーションフロー\n\t\thttps://docs.google.com/presentation/d/1oYsZk9TetpBOLW_iYzYuzBbttD6YM_xrXzDPsngRrWM/edit\n\n##ymtk開発引き継ぎメモ \n##emergency\n\n\n# Dev MTG 2020/4/20\ncreated_at:Mon Jan 19 1970 17:55:47 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:55:53 GMT+0900 (日本標準時)\nDev MTG 2020/4/20\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tQrioはしばらくリモートです。\n\n\tGithubのプランを無料にできるか？\n\t\t検討する。三上さんよろしくお願いします。\n\n\tAutomated Certificate Management has failed for your app castle-ope\nHi,\n\nAutomated Certificate Management has failed for the following domains:\n\nDomain\tReason\nYou should be able to find specific information to correct the above noted errors at: https://devcenter.heroku.com/articles/automated-certificate-management##troubleshooting\n\nHappy coding,\n\nHeroku\n\n\tSign in with Apple ID対応\n  Apple ID単体でのログイン対応がどうなっているかは確認済み\n  [Sign In With Apple検討]\n \tKing Cu 改修案\n \t\thttps://docs.google.com/presentation/d/1VyQ6aOfXQXDhmae1cjR3gZDIPJuxH39ovtbt_OEzSEY/edit##slide=id.g7f2f132d83_0_554\n \t\tログインとAuth0の連携部分のみ実装中[h.yamaguchi.icon]\n\n\tau Home対応\n\t\tau レスポンス待ち。[- 3月上旬]4月中にQrioLock対応の最終判断があるそう。[takeuchi.icon]\n\t\t\t「本キャンペーンを活用した施策の方向性については、上記条件の変更もあり、対象デバイス選定も含め4月中目途に決定する見込みです。」KDDIさん\n\t\tau ID対応\n\t\t\t[au IDログイン仕様検討] ←編集中です\n\t\t\tau IDログインは、対応必須（KDDIのサービス企画から強い要望あり）\n\t\t\tAuth0のフィジビリとりたいが、そのために必要なClientID/ClientSecretは、auと契約しないともらえない\n\t\t\tSign in with Apple ID対応も併せて必要になりそう。\n\t\t\t\tAuth0でsocial loginはできそうだが、具体的に何の改修が必要か整理する。\n\t\tSDK対応\n\t\t\tauのレスポンス待ち。auアプリでハンズフリーを実装するか、検討中のよう。\n\t\t業務委託の件\n\t\t\t開発の第一希望: 三上さんにお願いする\n\n\thub使用したロック操作で時刻がずれているとエンドレス認証/通信エラーが起こる事象\n\t\tInvalidAuthTimeについてのまとめ: [InvalidAuthTimeについて]\n\t\tGM判定（書面開催）実施中。→通りました。\n\n\tJokerファミリー\n\t\tJokerファミリー: 3号機(Joker)開発に加え、周辺機器の開発、リカーリングビジネスを含めた、中期計画全域。\n\t\t\t回収はFY24の見込み（今年の4月からFY20）。\n\t\t企画構想→5月いっぱいで企画要件を機能要件に落とし込む→設計構想\n\t\t企画要件を整理中: https://docs.google.com/spreadsheets/d/1cGgllTswWDuuqgePUbESWPQGf2rS8-QyYR4T-cQvU0w/edit?ts=5e69a5f3##gid=2095894888\n\t\t疑問管理シート\n\t\t\thttps://docs.google.com/spreadsheets/d/1vatwEhzLufpq-3zux7k1mOzEfO-6PyszTRUItR64Qwc/edit##gid=0\n\t\tまずはHW要件定義。そのためにQrio側でユースケースを策定中。\n\t\t\thttps://docs.google.com/spreadsheets/d/1oAiqqCiRPLEHeZydhUnUx7kAF8SDZSgiimSCTQgYcpA/edit##gid=1896279383\n\t\t\tそれにあわせて、ソフト側のアーキ案検討も開始しました。\n\t\t\t\t今日、あらましだけお伝えします。\n\t\t\t\t情報をまとめて下ろしていきます。みなさんにも徐々にキャッチアップもお願いしたいです。\n\t\t\t\t資料がまだまとまってないので、今まとめています。\n\t\t\t\tslackチャンネル: \n\t\t\t\t\tjoker定例: QBSにHW要件をインプットする場。週2で定例開催中。\n\t\t\t\t\tjoker-qrio: Qrio側でユースケースを揉む場。ソフトのアーキの話もしているが、devではない。今日開設した。\n\t\tRU Testのknight開発用に改修する[takeuchi.icon]\n\t\t\t大西さんからリクエストあり。おそらくBLEコマンドのことを言っているが、まだ仕様は決まってない。これから。\n\t\t\t\tRU Testの改修はAndroidだけでOK。iOSは追って。\n\t\t\t\t要件整理中（別途資料にまとめます。勤怠管理ログ取得、カード情報（+ ekey）設定、PIN番号設定、あたりを想定）\n\n\t採用計画（企画開発課）\n\t\t加納さん（人事・採用）がジョイン。\n\t\t\t採用戦略は↓のまま進めるそう[takeuchi.icon]\n\t\tバックエンドエンジニア x1→即戦力で既存サービス(sirius, castle)改修担当\n\t\t\tcastleについて、今後も継続していくのか確認すべき。ビジネス的にも技術的にも失敗しているから。。[takeuchi.icon]\n\t\t\t\t特にcastleはスキル的に採用しづらくなっている。。\n\t\t\tcastleをなぜ使うのか？　という後藤さんの回答に対しては、ゼロからつくったほうがはやい。なんでかと言うと↑だから。\n\t\t\t\t横断定例でymtkさん、関さんにinput済み。castleに手を入れる場合、作り直した方がよさそうというリスクは共有済み[takeuchi.icon]\n\t\t\t\t\t後藤さんにもinputする[takeuchi.icon]\n\t\t\t\t\t\tアーキの問題\n\t\t\t\t\t\tCastleとは別のサービス？　それともCastleの拡張？\n\t\t\t\t\t\t\t売り方はわからないが、技術的には別物。別のサービスなので、別につくったほうがよい、という話もある。\n\t\t\t\t\t\t\tサービスとしても（既存のcastleを起点に考えはするが）別でした[takeuchi.icon]\n\t\tPM x2→optexのPM、jokerの子PM。\n\t\t\tWantedlyでの採用が進んでいる（SNCからではない）\n\t\t\t\t具体的にどういう座組みになるかは、おそらくこれから。。\n\t\tハードウェアDir x1→楢原さん的or井宮さん的な、ハードをOEM/ODMできる人。SNCから？\n\t\tデザイナー(Dir & 実務)\n\n[*** Project 進捗]\n\n[** Sirius]\nキャッチアップ用の資料まとめと、やるとしたらどの辺かを把握しておきたす[mikamix.icon]\n\tこちらです。[takeuchi.icon]\n\t\thttps://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=404802218\n\tアカウントの組織管理対応 (5月中旬リリース予定。2/20の要望ヒアリングから、開発期間は3ヶ月)\n\t\tリリース間に合わない旨をこうきちさんに伝えた。TKGにも伝えた。いつリリースになるかはまだ未定[takeuchi.icon]\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n \tSOMCへ解施錠状態のwebhook通知の箇所で認証エラーが記録される度に通知されるのやめてほしいとのことなので改修\n\n[* APIドキュメント改修]\n\t進捗なし\n\n[* CU]\n\tiOS \n\t\tSign In With Apple検討中\n\t\t\t詳細は上の方\n\tAndroid\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\n3/4のGM判定でいくつか宿題あり。急ぎではない。\n\nQ-H1 v1.2.04で対応したget_time対応を、時間みつけて入れる[takeuchi.icon]\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\tjokerに吸収されるので、miwaとはやらない方向[takeuchi.icon]\n\tこれまで: [Dev MTG 2020/3/9]\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n\n[** Nature]\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する→締結済み。APIドキュメント、ハブ移植の仕様を公開する\n\t\tAPIドキュメント内のQrio Lockの状態レポートの項目は隠してほしい\n\t\t　西川さん製の機能なのでQrio社内の人間が機能を把握していないので(バグ含めて)\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t4~5月の見積もりQaaSさんに出してもらっている。出てきたら凛義上げる。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n \tこれってパエリアで作ったやつでしたっけ?\n \t　そうですよ〜\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n\n\n# 2020/4/17 組織異動について考える\ncreated_at:Mon Jan 19 1970 17:51:27 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:51:33 GMT+0900 (日本標準時)\n2020/4/17 組織異動について考える\n[mikamix.icon]\n##sirius\n\n[[前提]]\n 異動するのはマネージャー\n  ゲストは異動しない?\n   ゲストも異動する\n 異動するのは下位組織間\n  下位から上位、上位から下位は異動しない?\n   異動しない\n 異動、新規、削除がある\n  これらは分けてもいいか?\n  例えば異動ファイル、新規ファイルなど\n  削除は手動でもよい?\n\nKingの話\n 異動とはつまりmanager.user_idの変更\n 現状IFはないので作る必要がある\n  認証認可は別途考える\n  transfer(対象のマネージャ, 異動先のユーザー)\n\nSiriusの話\n transfer(対象のマネージャー, 異動先の組織)\n organization_user.idで一意に特定できる\n identity_codeが何故必要なのかわからなくなってきた\n auth0_id, email ふーむ\n 「田中（渋谷、新宿）」→「田中（渋谷、池袋）」の異動がある\n  これどうするか。それをまず考える。\n\n\nA, B, C -> B, D\n\n# Dev MTG 2020/4/13\ncreated_at:Mon Jan 19 1970 17:45:42 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:45:52 GMT+0900 (日本標準時)\nDev MTG 2020/4/13\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tQrioはしばらくリモートです。\n\n\tSign in with Apple ID対応\n  Apple ID単体でのログイン対応がどうなっているかは確認済み\n  [Sign In With Apple検討]\n \tKing Cu 改修案\n \t\thttps://docs.google.com/presentation/d/1VyQ6aOfXQXDhmae1cjR3gZDIPJuxH39ovtbt_OEzSEY/edit##slide=id.g7f2f132d83_0_554\n \t\tログインとAuth0の連携部分のみ実装中[h.yamaguchi.icon]\n\n\tau Home対応\n\t\tau レスポンス待ち。[- 3月上旬]4月中にQrioLock対応の最終判断があるそう。[takeuchi.icon]\n\t\t\t「本キャンペーンを活用した施策の方向性については、上記条件の変更もあり、対象デバイス選定も含め4月中目途に決定する見込みです。」KDDIさん\n\t\tau ID対応\n\t\t\t[au IDログイン仕様検討] ←編集中です\n\t\t\tau IDログインは、対応必須（KDDIのサービス企画から強い要望あり）\n\t\t\tAuth0のフィジビリとりたいが、そのために必要なClientID/ClientSecretは、auと契約しないともらえない\n\t\t\tSign in with Apple ID対応も併せて必要になりそう。\n\t\t\t\tAuth0でsocial loginはできそうだが、具体的に何の改修が必要か整理する。\n\t\tSDK対応\n\t\t\tauのレスポンス待ち。auアプリでハンズフリーを実装するか、検討中のよう。\n\t\t業務委託の件\n\t\t\t開発の第一希望: 三上さんにお願いする\n\n\thub使用したロック操作で時刻がずれているとエンドレス認証/通信エラーが起こる事象\n\t\tInvalidAuthTimeについてのまとめ: [InvalidAuthTimeについて]\n\t\tGM判定（書面開催）実施中。→通りました。\n\n\tJokerファミリー\n\t\tJokerファミリー: 3号機(Joker)開発に加え、周辺機器の開発、リカーリングビジネスを含めた、中期計画全域。\n\t\t\t回収はFY24の見込み（今年の4月からFY20）。\n\t\t企画構想→5月いっぱいで企画要件を機能要件に落とし込む→設計構想\n\t\t企画要件を整理中: https://docs.google.com/spreadsheets/d/1cGgllTswWDuuqgePUbESWPQGf2rS8-QyYR4T-cQvU0w/edit?ts=5e69a5f3##gid=2095894888\n\t\t疑問管理シート\n\t\t\thttps://docs.google.com/spreadsheets/d/1vatwEhzLufpq-3zux7k1mOzEfO-6PyszTRUItR64Qwc/edit##gid=0\n\t\tまずはHW要件定義。そのためにQrio側でユースケースを策定中。\n\t\t\thttps://docs.google.com/spreadsheets/d/1oAiqqCiRPLEHeZydhUnUx7kAF8SDZSgiimSCTQgYcpA/edit##gid=1896279383\n\t\t\tそれにあわせて、ソフト側のアーキ案検討も開始しました。\n\t\t\t\t今日、あらましだけお伝えします。\n\t\t\t\t情報をまとめて下ろしていきます。みなさんにも徐々にキャッチアップもお願いしたいです。\n\t\t\t\t資料がまだまとまってないので、今まとめています。\n\t\t\t\tslackチャンネル: \n\t\t\t\t\tjoker定例: QBSにHW要件をインプットする場。週2で定例開催中。\n\t\t\t\t\tjoker-qrio: Qrio側でユースケースを揉む場。ソフトのアーキの話もしているが、devではない。今日開設した。\n\t\tRU Testのknight開発用に改修する[takeuchi.icon]\n\t\t\t大西さんからリクエストあり。おそらくBLEコマンドのことを言っているが、まだ仕様は決まってない。これから。\n\t\t\t\tRU Testの改修はAndroidだけでOK。iOSは追って。\n\t\t\t\t要件整理中（別途資料にまとめます。勤怠管理ログ取得、カード情報（+ ekey）設定、PIN番号設定、あたりを想定）\n\n\t採用計画（企画開発課）\n\t\t加納さん（人事・採用）がジョイン。\n\t\t\t採用戦略は↓のまま進めるそう[takeuchi.icon]\n\t\tバックエンドエンジニア x1→即戦力で既存サービス(sirius, castle)改修担当\n\t\t\tcastleについて、今後も継続していくのか確認すべき。ビジネス的にも技術的にも失敗しているから。。[takeuchi.icon]\n\t\t\t\t特にcastleはスキル的に採用しづらくなっている。。\n\t\t\tcastleをなぜ使うのか？　という後藤さんの回答に対しては、ゼロからつくったほうがはやい。なんでかと言うと↑だから。\n\t\t\t\t横断定例でymtkさん、関さんにinput済み。castleに手を入れる場合、作り直した方がよさそうというリスクは共有済み[takeuchi.icon]\n\t\t\t\t\t後藤さんにもinputする[takeuchi.icon]\n\t\t\t\t\t\tアーキの問題\n\t\t\t\t\t\tCastleとは別のサービス？　それともCastleの拡張？\n\t\t\t\t\t\t\t売り方はわからないが、技術的には別物。別のサービスなので、別につくったほうがよい、という話もある。\n\t\t\t\t\t\t\tサービスとしても（既存のcastleを起点に考えはするが）別でした[takeuchi.icon]\n\t\tPM x2→optexのPM、jokerの子PM。\n\t\t\tWantedlyでの採用が進んでいる（SNCからではない）\n\t\t\t\t具体的にどういう座組みになるかは、おそらくこれから。。\n\t\tハードウェアDir x1→楢原さん的or井宮さん的な、ハードをOEM/ODMできる人。SNCから？\n\t\tデザイナー(Dir & 実務)\n\n[*** Project 進捗]\n\n[** Sirius]\nキャッチアップ用の資料まとめと、やるとしたらどの辺かを把握しておきたす[mikamix.icon]\n\tこちらです。[takeuchi.icon]\n\t\thttps://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=404802218\n\tアカウントの組織管理対応 (5月中旬リリース予定。2/20の要望ヒアリングから、開発期間は3ヶ月)\n\t\tリリース間に合わない旨をこうきちさんに伝えた。TKGにも伝えた。いつリリースになるかはまだ未定[takeuchi.icon]\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n \tSOMCへ解施錠状態のwebhook通知の箇所で認証エラーが記録される度に通知されるのやめてほしいとのことなので改修\n\n[* APIドキュメント改修]\n\t進捗なし\n\n[* CU]\n\tiOS \n\t\tSign In With Apple検討中\n\t\t\t詳細は上の方\n\tAndroid\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\n3/4のGM判定でいくつか宿題あり。急ぎではない。\n\nQ-H1 v1.2.04で対応したget_time対応を、時間みつけて入れる[takeuchi.icon]\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\tjokerに吸収されるので、miwaとはやらない方向[takeuchi.icon]\n\tこれまで: [Dev MTG 2020/3/9]\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n\n[** Nature]\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する→締結済み。APIドキュメント、ハブ移植の仕様を公開する\n\t\tAPIドキュメント内のQrio Lockの状態レポートの項目は隠してほしい\n\t\t　西川さん製の機能なのでQrio社内の人間が機能を把握していないので(バグ含めて)\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t4~5月の見積もりQaaSさんに出してもらっている。出てきたら凛義上げる。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n \tこれってパエリアで作ったやつでしたっけ?\n \t　そうですよ〜\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n\n\n# Sirius 組織管理 機能仕様（組織管理コンソール）\ncreated_at:Mon Jan 19 1970 17:01:01 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:40:08 GMT+0900 (日本標準時)\nSirius 組織管理 機能仕様（組織管理コンソール）\n2020/4/8　文責[takeuchi.icon]\n\n<WIP. 認識合わせしたら、本内容は別所に移動するかも[takeuchi.icon]>\n\n---\n[*** ログイン画面]\nシステム管理者アカウントのメールアドレス・パスワードでログインすると、ホーム画面に遷移する。\n「パスワードを忘れた場合はこちら」をタップすると、パスワードリセット画面に遷移する。システム管理者のアカウント情報（メールアドレス）を入力すると、パスワードリセットのメールが送信される。\n\n---\n[*** ホーム画面]\n「ホーム/組織」をタップすると、この上位組織およびそれに所属するすべての下位組織がリスト表示される。\n「利用者」をタップすると、この上位組織に所属するすべての利用者がリスト表示される。\n「マネージャー」をタップすると、この上位組織に所属するすべてのマネージャーがリスト表示される。\n「ロック」をタップすると、この上位組織に所属するすべてのロックがリスト表示される。\n「システム管理者情報」をタップすると、この上位組織に所属するすべてのシステム管理者がリスト表示される。\n\n---\n[*** 下位組織リスト]\nこの上位組織に所属するすべての下位組織がリスト表示される。\n組織を組織名で絞り込み表示できる。\n組織をタップすると、その組織の設定情報が表示される。\n「エクスポート」をタップすると、`下位組織ID,下位組織名`が、CSVで出力される。\n\t顧客側で、組織IDと組織名をひもづけるための機能。\n\n[*** 組織の設定情報]\n選択した組織の情報（組織ID、組織名）が表示される。\n選択した組織の名前を変更できる。\n「保存」をタップすると、組織の名前が更新される。\n組織の追加・削除を行うことはできない。\n\n---\n[*** 利用者リスト]\n利用者の一覧（名前、メールアドレス、所属下位組織名）が表示される。\n\tこのメールアドレスの用途は、次の2つ。利用者のCUアカウントとは直接ひもづかない。\n\t\t合カギ招待のメール送信先\n\t\tこの利用者が削除された旨のメール送信先\n利用者を名前および組織名で絞り込み表示できる。\n「新規登録」をタップすると、利用者登録メニューが表示される。\n利用者をタップすると、利用者の設定情報が表示される。\n「エクスポート」「一括異動」については[Sirius 組織管理 機能仕様（組織管理コンソール一括異動）]を参照。\n\n[*** 利用者登録メニュー]\n個別登録と一括登録を選択できる。\n\n[** 個別登録]\n利用者の設定情報（名前、メールアドレス、所属下位組織）入力欄が表示される。\n利用者の名前、メールアドレスを変更できる。\n利用者の、下位組織への所属状態を変更できる。\n  利用者を、複数の下位組織に所属させることができる。\n  利用者を、1つ以上の下位組織に所属させなければならない。\n「登録」をタップすると、利用者が作成される。\n\n[** 一括登録]\nCSVファイルをインポートすると、CSVファイルに記載された利用者が一括で作成される。\n\t「インポート」「一括異動」については[Sirius 組織管理 機能仕様（組織管理コンソール一括異動）]を参照。\nインポートのサンプルCSVファイルをダウンロードできる。\n\n[*** 利用者の設定情報]\n利用者の設定情報（ID、名前、メールアドレス、所属下位組織）が表示される。\n設定可能な所属下位組織のチェックボックスリストが表示される。\n 現在所属中の下位組織にチェックされている。\nこの利用者の名前、メールアドレスを変更できる。\n\t利用者のメールアドレスが変更される可能性を懸念したため、メールアドレスを変更可能とした。\nこの利用者の、下位組織への所属状態を変更できる。\n  利用者を、複数の下位組織に所属させることができる。\n  利用者を、1つ以上の下位組織に所属させなければならない。\n「保存」をタップすると、この利用者の名前、メールアドレス、所属下位組織が更新される。\n 合カギグループについて「この利用者にひもづいているが、この利用者の所属する下位組織にひもづいていないもの」は、この利用者とのひもづけが解除される。\n「削除」をタップすると、この利用者が削除される。その際、\n\tこの利用者が削除された旨のメールが、この利用者のメールアドレス宛てに通知される。\n この利用者にひもづく合カギも削除される（合カギグループではない）。\n\n---\n[*** マネージャーリスト]\nマネージャーの一覧（名前、メールアドレス、所属下位組織、プライマル下位組織）が表示される。\nマネージャーを名前および組織名で絞り込み表示できる。\n「新規登録」をタップすると、マネージャー登録メニューが表示される。\nマネージャーをタップすると、マネージャーの設定情報が表示される。\n「エクスポート」「一括異動」については[Sirius 組織管理 機能仕様（組織管理コンソール一括異動）]を参照。\n\n[*** マネージャー登録メニュー]\n個別登録と一括登録を選択できる。\n\n[** 個別登録]\nマネージャーの設定情報（名前、メールアドレス、所属下位組織、プライマル下位組織）入力欄が表示される。\nマネージャーの名前、メールアドレスを変更できる。\nマネージャーの、下位組織への所属状態を変更できる。\n マネージャーを、複数の下位組織に所属させることができる。\n マネージャーを、1つ以上の下位組織に所属させなければならない。\n マネージャーの所属する下位組織の中から、プライマル下位組織が、1つ選択されていなければならない。\n「登録」をタップすると、マネージャーが作成され、そのメールアドレスに、パスワード設定依頼メールが送信される。\n\n[** 一括登録]\nCSVファイルをインポートすると、CSVファイルに記載されたマネージャーが一括で作成される。\n「インポート」「一括異動」については[Sirius 組織管理 機能仕様（組織管理コンソール一括異動）]を参照。\n\tそのうち新規で作成されたマネージャーのメールアドレスに、パスワード設定依頼メールが送信される。\n\n[*** マネージャーの設定情報]\nマネージャーの設定情報（ID、名前、メールアドレス、所属下位組織、プライマル下位組織）が表示される。\n設定可能な所属下位組織のチェックボックスリストが表示される。\nこのマネージャーの名前を変更できる。\n\tマネージャーのメールアドレスを変更することはできない（変更可能にする理由がないので）。\nこのマネージャーの、下位組織への所属状態を変更できる。\n このマネージャーを、複数の下位組織に所属させることができる。\n このマネージャーを、1つ以上の下位組織に所属させなければならない。\n このマネージャーの所属する下位組織の中から、プライマル下位組織が、1つ選択されていなければならない。\n「保存」をタップすると、このマネージャーの名前、メールアドレス、所属下位組織、プライマル下位組織が更新される。\n 「下位組織に所属しているマネージャーがいない状態」も許容される。\n「削除」をタップすると、このマネージャーが削除される。その際、\n\tこのマネージャーが削除された旨のメールが、このマネージャーのメールアドレス宛てに通知される。\n\n---\n[*** ロックリスト]\n登録され、組織にひもづけられたロックの一覧（名前、電池残量、所属下位組織）が表示される。\n 「ロックが組織にひもづけられていない」という状態は存在しない。\nリスト中のロックの「設定」アイコンをタップすると、そのロックの設定情報が表示される。\nリスト中のロックの「履歴」アイコンをタップすると、そのロックの履歴が表示される。\nリスト中のロックの「リモート解施錠」アイコンをタップすると、そのロックに対しリモート解施錠コマンドが発行される。\n\tハブが設定されていなければ「リモート解施錠」のアイコンは「ハブ未設定」と表示される。\n\t解施錠ログの名前には、ログイン中のシステム管理者の名前が記録される。\n\n[*** ロックの設定情報]\nロックの設定情報（名前、メインロック、サブロック・ハブの情報、所属下位組織）が表示される。\n ロック名を編集することができる。\n「保存」をタップすると、ロック名が更新される。\n\n[*** ロックの履歴]\nロックの履歴が表示される。\n「CSVでダウンロード」をタップすると、ロックの履歴をCSVファイルでダウンロードできる。\n\n---\n[*** システム管理者リスト]\nシステム管理者が（ログイン中の自分自身を含め）リスト表示される。\nシステム管理者を名前で絞り込み表示できる。\n「新規登録」をタップすると、システム管理者登録メニューが表示される。\nシステム管理者をタップすると、システム管理者の設定情報が表示される。\n\n[*** システム管理者登録メニュー]\nシステム管理者の名前、ログイン用のメールアドレスを入力。\n「招待」をタップすると、システム管理者が作成され、そのメールアドレスに、パスワード設定依頼メールが送信される。\n\tシステム管理者を一括登録することはできない。\n\n[*** システム管理者設定情報]\nシステム管理者の設定情報（名前、メールアドレス）が表示される。\n「保存」をタップすると、このシステム管理者の名前が更新される（メールアドレスは更新されない）。\n「削除」をタップすると、このシステム管理者が削除される。\n 削除された旨が、このシステム管理者のログイン用メールアドレス宛てに通知される。\n ログイン中の自分自身を削除することはできない。\n \tそのため、上位組織にひもづくorganization_userは、常に1人以上存在する。\n\n\n##Sirius\n\n# Sirius 組織管理 機能仕様（組織管理コンソール一括異動）\ncreated_at:Mon Jan 19 1970 17:18:27 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:40:00 GMT+0900 (日本標準時)\nSirius 組織管理 機能仕様（組織管理コンソール一括異動）\n2020/4/9　文責[takeuchi.icon]\n\n\n[** 一括異動]\n[* 案1: auth0_id をCSVで扱わない]\nGUI機能\n\t「一括エクスポート」「一括異動」\n\n一括異動の方法\n\t「一括エクスポート」で現状のCSVをエクスポートする。\n\tエクスポートしたCSVから、異動後のデータをつくる。\n\t「一括異動」で異動後のデータをインポートする。\n\t\tサーバー実装\n\t \tnew_usersにCSVをインポートする\n \t\tusersのauth0_idを、対応するnew_usersのレコードにコピー\n \t\t\tここで、new_usersのレコードを特定するため、複数組織用user_idを使う必要がありそう\n \t\t\tよってCSVのフォーマットも今後変更になる可能性がある\n \t\tusersを削除(renameでもいい)\n \t\tnew_usersをusersにテーブル名変更\n \tよって、一括異動後は、インポートしたCSVのデータだけになる。\n\n[* 案1.5: auth0_id をCSVで扱う]\nGUI機能\n\t「一括エクスポート」「一括異動」\n\n一括異動の方法\n\t「一括エクスポート」で現状のCSVをエクスポートする。\n\tエクスポートしたCSVから、異動後のデータをつくる。\n\t「一括異動」で異動後のデータをインポートする。\n\t\tサーバー実装\n\t\t\tすべてのユーザーを削除する(auth0アカウントがあれば残しておく)。\n\t\t\tCSVのユーザーを作成する。\n\t\tauth0_idの有無に関わらず、新規登録する。\n\n[* その他の仕様]\n\t上位組織ユーザー（システム管理者）および下位組織オーナーについては、異動によっては削除されない。\n\t一括異動のCSVインポートデータにないカラムは、削除される。\n\t\t「田中（渋谷、新宿）」→「田中（渋谷、池袋）」の異動の場合、結果は「田中（渋谷、池袋）」となる。田中（新宿）は削除される。\n\t一括異動により削除された利用者について、\n\t\tこの利用者が削除された旨のメールが、この利用者のメールアドレス宛てに通知される。\n  この利用者にひもづく合カギも削除される（合カギグループではない）。\n 一括異動により削除されたマネージャーについて、\n \tこのマネージャーが削除された旨のメールが、このマネージャーのメールアドレス宛てに通知される。\n\t一括異動によるCSVインポート時、もし途中で作成に失敗した場合、そこで処理を中断し、失敗したCSVの行を返す。すでに作成に成功したものについては、ロールバックしない。\n\t\t一括異動は、既存のユーザーに対する操作である。データのインポート時、新規扱いになるユーザーがいた場合、その行をもって失敗とする。\n\tユーザーは、メールアドレス&組織IDの複合ユニークである。\n\t\tサーバー側はrole&email&organization_idの複合ユニークにする。\n\n[* 懸念点]\n\t異動の過程で削除が走ると、実質異動していない人の合カギグループのひもづけgroup情報（合カギグループ）がなくなる\n\t\t1stリリースではその懸念は考慮しない。\n\n\n[** 一括インポート]\n\t基本的には一括異動と同様。\n\t一括異動との差分\n\t\tCSVインポートするカラムに、複数組織用user_idは存在しない。\n\t\tCSVインポートデータにないカラムは、削除されない。\n\t\t新規扱いになるユーザーがいた場合、そのまま新規ユーザーとして登録する。\n\t\tメールアドレスは同じだが組織IDが異なるユーザーがすでに存在した場合、そのユーザーが別の組織に所属したと見なす。TODO: 要議論[takeuchi.icon]\n\t\tメールアドレス&組織IDの重複するユーザーがすでに存在した場合、そこで処理を中断し、失敗したCSVの行を返す。すでに作成に成功したものについては、ロールバックしない。\n\norganization_user.id, organization_user.identify_code, organization_user.organization_user_id\norganization_user_id: 組織内におけるユニークなID??? かつロール\n\n\n[** WIP: CSVフォーマット]\nエクスポートするCSV:\ncode:csv(guest)\n　name,mail,group_id,user_id,created_at,role\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(渋谷支店),user_id,created_at,guest\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(新宿支店),user_id,created_at,guest\n 栗尾 太郎,hanako.qrio@qrioinc.com,uuid(池袋支店),user_id,created_at,guest\n\nインポートするCSV:\ncode:csv(guest)\n name,mail,group_id,user_id\n 栗尾 太郎,taro.qrio@qrioinc.com,uuid(渋谷支店),user_id\n 栗尾 太郎,taro.qrio@qrioinc.com,uuid(上野支店),user_id\n 栗尾 太郎,taro.qrio@qrioinc.com,uuid(東京支店),user_id\n\n`name`: ユーザー名\n`mail`: メールアドレス\n`group_id`: 所属する組織ID\n`user_id`: ユーザーID \n`created_at`: 作成日\n`role`: 利用者 = \"guest\", マネージャー = \"manager\"\n\n備考\n\t案1.5の場合、`auth0_id`もエクスポート・インポートのCSVカラムにそれぞれ追加される。\n\t\tauth0_idのカラムが追加されるのは、マネージャーのエクスポート・インポートのみ。利用者はなし。\n\n\n[** Appendix]\n[* 複数組織用user_idを生やす]\n nullableでmigrate\n 入口で生成するように変更\n where nullなレコードに挿入\n not nullに変更\n\tprod メンテ必要な場合は広報&CS要調整(2w前広報が理想。事前にstgでリハしましょう)\n\t\t現状のuser_idは用途が謎(´・ω・`)\n\t\tユーザーは複数組織に所属可能である。一人の人間であっても、レコードは所属する組織の数だけ存在する。\n　\tauth0_idは、マネージャーしか持っていない。利用者は持っていない。\n　\t一人の人間を特定する、新たなユーザーIDが必要。\n\n複数組織user_idを生やすのは、どっちみちやる。\n\n\n[* refs]\n[MTG議事録 Sirius 組織管理 機能仕様（組織管理コンソール一括異動）]\n\n\n##Sirius \n\n# 0408Sirius決済方法変更memo\ncreated_at:Mon Jan 19 1970 17:38:38 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:38:40 GMT+0900 (日本標準時)\n0408Sirius決済方法変更memo\n文責:[ymtk.icon]（4/8）\n[* 決済データ作成の仕組み]\n 毎月1日にrake taskとしてHerokuスケジューラーが発動しデータを作成\n    - カード\n        - payjpのapiを叩いて売り上げ作成\n    - 請求書\n        - invoice_historyレコードを作成。このレコードをダウンロードしてNP掛け払いに登録\n            - NP社の提供するapi経由でも登録できるが、実装していない\n\n[** 実装想定（想定なのでもちろんまだない）]\n[* 請求書からカード]\n\t- 顧客がログインして、アカウント情報からカード情報を登録\n    - この時点でorganization_idは取れるので、それを使ってPayJPに登録し、結果をcardレコードを作成\n\t- CSツールでsubscriptionを消す\n    - これが残っていると請求書払い扱いになり、カードと二重決済になる\n\n[* カードから請求書]\n - ログインして請求書依頼をする\n - CSツールで該当のorganizaiton_idを使い、subscriptionレコードを作成。その後、cardレコードを削除する\n    - PayJP側の顧客データを削除してしまうと過去の決済も消えてしまうので、これは退会まで残しておいた方が良さそう\n    - pay.jp側の月額プランは使っていない\n# Dev MTG 2020/4/6\ncreated_at:Mon Jan 19 1970 17:35:36 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:36:03 GMT+0900 (日本標準時)\nDev MTG 2020/4/6\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tQrioはしばらくリモートです。\n\n\tSign in with Apple ID対応\n  Apple ID単体でのログイン対応がどうなっているかは確認済み\n  [Sign In With Apple検討]\n \tKing Cu 改修案\n \t\thttps://docs.google.com/presentation/d/1VyQ6aOfXQXDhmae1cjR3gZDIPJuxH39ovtbt_OEzSEY/edit##slide=id.g7f2f132d83_0_554\n \t\tログインとAuth0の連携部分のみ実装中[h.yamaguchi.icon]\n\n\tau Home対応\n\t\tau レスポンス待ち。[- 3月上旬]4月中にQrioLock対応の最終判断があるそう。[takeuchi.icon]\n\t\t\t「本キャンペーンを活用した施策の方向性については、上記条件の変更もあり、対象デバイス選定も含め4月中目途に決定する見込みです。」KDDIさん\n\t\tau ID対応\n\t\t\t[au IDログイン仕様検討] ←編集中です\n\t\t\tau IDログインは、対応必須（KDDIのサービス企画から強い要望あり）\n\t\t\tAuth0のフィジビリとりたいが、そのために必要なClientID/ClientSecretは、auと契約しないともらえない\n\t\t\tSign in with Apple ID対応も併せて必要になりそう。\n\t\t\t\tAuth0でsocial loginはできそうだが、具体的に何の改修が必要か整理する。\n\t\tSDK対応\n\t\t\tauのレスポンス待ち。auアプリでハンズフリーを実装するか、検討中のよう。\n\t\t業務委託の件\n\t\t\t開発の第一希望: 三上さんにお願いする\n\n\thub使用したロック操作で時刻がずれているとエンドレス認証/通信エラーが起こる事象\n\t\tInvalidAuthTimeについてのまとめ: [InvalidAuthTimeについて]\n\t\tGM判定（書面開催）実施中。\n\n\tJokerファミリー\n\t\tJokerファミリー: 3号機(Joker)開発に加え、周辺機器の開発、リカーリングビジネスを含めた、中期計画全域。\n\t\t\t回収はFY24の見込み（今年の4月からFY20）。\n\t\t企画構想→5月いっぱいで企画要件を機能要件に落とし込む→設計構想\n\t\t企画要件を整理中: https://docs.google.com/spreadsheets/d/1cGgllTswWDuuqgePUbESWPQGf2rS8-QyYR4T-cQvU0w/edit?ts=5e69a5f3##gid=2095894888\n\t\t疑問管理シート\n\t\t\thttps://docs.google.com/spreadsheets/d/1vatwEhzLufpq-3zux7k1mOzEfO-6PyszTRUItR64Qwc/edit##gid=0\n\t\tまずはHW要件定義。そのためにQrio側でユースケースを策定中。\n\t\t\thttps://docs.google.com/spreadsheets/d/1oAiqqCiRPLEHeZydhUnUx7kAF8SDZSgiimSCTQgYcpA/edit##gid=1896279383\n\t\t\tそれにあわせて、ソフト側のアーキ案検討も開始しました。\n\t\t\t\t今日、あらましだけお伝えします。\n\t\t\t\t情報をまとめて下ろしていきます。みなさんにも徐々にキャッチアップもお願いしたいです。\n\t\t\t\t資料がまだまとまってないので、今まとめています。\n\t\t\t\tslackチャンネル: \n\t\t\t\t\tjoker定例: QBSにHW要件をインプットする場。週2で定例開催中。\n\t\t\t\t\tjoker-qrio: Qrio側でユースケースを揉む場。ソフトのアーキの話もしているが、devではない。今日開設した。\n\t\tRU Testのknight開発用に改修する[takeuchi.icon]\n\t\t\t大西さんからリクエストあり。おそらくBLEコマンドのことを言っているが、まだ仕様は決まってない。これから。\n\t\t\t\tRU Testの改修はAndroidだけでOK。iOSは追って。\n\t\t\t\t要件整理中（別途資料にまとめます。勤怠管理ログ取得、カード情報（+ ekey）設定、PIN番号設定、あたりを想定）\n\n\t採用計画（企画開発課）\n\t\t加納さん（人事・採用）がジョイン。\n\t\t\t採用戦略は↓のまま進めるそう[takeuchi.icon]\n\t\tバックエンドエンジニア x1→即戦力で既存サービス(sirius, castle)改修担当\n\t\t\tcastleについて、今後も継続していくのか確認すべき。ビジネス的にも技術的にも失敗しているから。。[takeuchi.icon]\n\t\t\t\t特にcastleはスキル的に採用しづらくなっている。。\n\t\t\tcastleをなぜ使うのか？　という後藤さんの回答に対しては、ゼロからつくったほうがはやい。なんでかと言うと↑だから。\n\t\t\t\t横断定例でymtkさん、関さんにinput済み。castleに手を入れる場合、作り直した方がよさそうというリスクは共有済み[takeuchi.icon]\n\t\t\t\t\t後藤さんにもinputする[takeuchi.icon]\n\t\t\t\t\t\tアーキの問題\n\t\t\t\t\t\tCastleとは別のサービス？　それともCastleの拡張？\n\t\t\t\t\t\t\t売り方はわからないが、技術的には別物。別のサービスなので、別につくったほうがよい、という話もある。\n\t\t\t\t\t\t\tサービスとしても（既存のcastleを起点に考えはするが）別でした[takeuchi.icon]\n\t\tPM x2→optexのPM、jokerの子PM。\n\t\t\tWantedlyでの採用が進んでいる（SNCからではない）\n\t\t\t\t具体的にどういう座組みになるかは、おそらくこれから。。\n\t\tハードウェアDir x1→楢原さん的or井宮さん的な、ハードをOEM/ODMできる人。SNCから？\n\t\tデザイナー(Dir & 実務)\n\n[*** Project 進捗]\n\n[** Sirius]\nキャッチアップ用の資料まとめと、やるとしたらどの辺かを把握しておきたす[mikamix.icon]\n\tこちらです。[takeuchi.icon]\n\t\thttps://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=404802218\n\tアカウントの組織管理対応 (5月中旬リリース予定。2/20の要望ヒアリングから、開発期間は3ヶ月)\n\t\tリリース間に合わない旨をこうきちさんに伝えた。TKGにも伝えた。いつリリースになるかはまだ未定[takeuchi.icon]\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n \tSOMCへ解施錠状態のwebhook通知の箇所で認証エラーが記録される度に通知されるのやめてほしいとのことなので改修\n\n[* APIドキュメント改修]\n\t進捗なし\n\n[* CU]\n\tiOS \n\t\tSign In With Apple検討中\n\t\t\t詳細は上の方\n\tAndroid\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\n3/4のGM判定でいくつか宿題あり。急ぎではない。\n\nQ-H1 v1.2.04で対応したget_time対応を、時間みつけて入れる[takeuchi.icon]\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\tjokerに吸収されるので、miwaとはやらない方向[takeuchi.icon]\n\tこれまで: [Dev MTG 2020/3/9]\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n\n[** Nature]\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t4~5月の見積もりQaaSさんに出してもらっている。出てきたら凛義上げる。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n \tこれってパエリアで作ったやつでしたっけ?\n \t　そうですよ〜\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n\n\n# Sirius ep console 開発メモ\ncreated_at:Mon Jan 19 1970 17:15:40 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:30:13 GMT+0900 (日本標準時)\nSirius ep console 開発メモ\n文責[ymtk.icon](3/29）\n\n[* postmanでapiを叩く]\n\tauth0へのログイン\n\t\tsiriusフォルダ右クリック>edit>Pre-request Scriptsに設定記載\n\t\tここで自動的にjwtを取得してキャッシュする（古い場合は更新）\n\tsiriusへのログイン\n\t\t`organization_users/login` をpost\n\t\t\tログイン成功するとcookieがセットされる\n\t\tログインする先の organization_id が必要\n\n[* 上位組織の登録から組織一覧の表示まで]\n※postman反映済み\n\t認証\n\t\t通常のマネージャーでOK\n\t特定の組織を上位組織にする\n\t\t`POST admin/ep/organizations/top`\n\t\t\t上位組織にしたいidをp指定\n\t上位組織に下位組織を登録する\n\t\t`POST admin/organizations/:organization_id/members`\n\t\t\torganization_id: 上位組織のid\n\t\t\tmembers: 登録したい組織(Array)\n\t\t登録した組織がレスポンスとして帰ってこればOK\n\t下位組織一覧を表示する\n\t\t`GET ep/organizations`\n\t\t\t一覧表示できる\n\t下位組織を編集する\n\t\t`PATCH ep/organizations/:id`\n\t\t\tidは編集先下位組織のorganization_id\n\t\t\tいまはnameのみ編集できる\n\ndocker imageの取得\n\t最新の認証方法は Amazon Container Services > プッシュコマンドの表示\n\t\tcode:bash\n\t \taws ecr get-login-password --region ap-northeast-1 | docker login --username AWS --password-stdin 931243214056.dkr.ecr.ap-northeast-1.amazonaws.com/sirius-admin-console/app\n\t\t3/29現在、おそらくawsコマンドのアップデートによりreadme記載のコマンド `aws ecr get-login --no-include-email`は利用できない。\n\t認証できたら、 `docker-conpose pull`\n\n[* swagger]\nhttps://sirius-api-staging.herokuapp.com/swagger\n\n[/ TODO: 直近のデバッグ方法が下記でいいのか確認する（db触るとかでもいいので）]\n\t下位組織登録の解除\n\t\ttop_id: NULL\n\t上位組織の解除\n\t\tenterprise: FALSE\n\n##Sirius引き継ぎメモ #sirius\n\n\n# Sirius 組織管理 機能仕様（BCU 従来との差分）\ncreated_at:Mon Jan 19 1970 17:09:49 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:27:12 GMT+0900 (日本標準時)\nSirius 組織管理 機能仕様（BCU 従来との差分）\n2020/3/24　文責[takeuchi.icon]\n\n<WIP. 認識合わせしたら、本内容は別所に移動するかも[takeuchi.icon]>\n\n[*** 概要]\nTKG対応によって、BCUにログインするアカウント（マネージャー）が複数組織に所属することになった。\n\n[*** 詳細]\n[** 組織リスト]\n所属する上位/下位組織リストを表示する動線、および表示画面が存在する。\n組織リストは、組織名でソートされた状態で表示される。\nログイン後、アプリのキャッシュから最後に選択されていた組織をreadし、それを選択状態にする。キャッシュがなかった場合、任意の組織が選択状態である（organizations.first()でよいです）。\n組織が選択された際、組織の選択状態をキャッシュする。\n\n[** 登録ロックリスト]\n現在選択されている組織にひもづくロックのみ、リスト表示される。\n\n[** ロックの登録・解除]\nロックを登録すると、現在選択されている組織とロックのひもづけを行い、サーバーと同期する。\nロックを解除すると、現在選択されている組織とロックのひもづけを解除し、サーバーと同期する。\n（ロックを複数組織にひもづけることはできない）\n\n\n\n##Sirius\n\n# Sirius 組織管理 機能仕様（組織管理対応以前のカギカンコンソールとの差分）\ncreated_at:Mon Jan 19 1970 17:08:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:27:12 GMT+0900 (日本標準時)\nSirius 組織管理 機能仕様（組織管理対応以前のカギカンコンソールとの差分）\n2020/3/24　文責[takeuchi.icon]\n\n<WIP. 認識合わせしたら、本内容は別所に移動するかも[takeuchi.icon]>\n\n[*** 所属する下位組織の選択]\nこのコンソールでは、このコンソールにログイン中のアカウントが所属する組織のうち1つが、常に選択された状態である。\nこのコンソールでは、選択された組織に所属する利用者、マネージャー、合カギグループ、ロックの管理が可能である。\n\tこのコンソールの「マネージャー一覧」には、システム管理者も表示される。\n\t\tシステム管理者は、すべての組織に所属するマネージャーと同義であるため。\n\tこのコンソールの「マネージャー一覧」に表示されるシステム管理者の項目は、その旨の情報が表示される。\n\tいかなるアカウントでも、このコンソールからシステム管理者を編集および削除することはできない。\nこのコンソールにログイン中のアカウントが、現在所属している組織を確認することができる。\nそのうち、このコンソールで表示する組織を1つ選択することができる。\nこのコンソールにログインした際にどの組織を選択状態にするか、変更することができる。\n\n// TODO: UIを検討する[takeuchi.icon]\n\n\n##Sirius\n\n# Dev MTG 2020/3/30\ncreated_at:Mon Jan 19 1970 17:20:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:25:40 GMT+0900 (日本標準時)\nDev MTG 2020/3/30\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tQrioはしばらくリモートです。\n\n\tJoker アーキ検討\n\t\t資料[takeuchi.icon]\n\t\t\thttps://docs.google.com/presentation/d/1dH1t_wck6EPPyMkiYHo3nP7GeJZucRDYsqIVgEXsFHQ/edit##slide=id.g8276123dc6_0_0\n\n\tSign in with Apple ID対応\n\t\thttps://developer.apple.com/news/?id=03042020d\n\t\t翻訳: https://qiita.com/akatsuki174/items/77734fb95b74cfa5cdad\n\t\t\tapple ID Sign In with Apple 問題についての対応検討メモ[ymtk.icon]\n  \t\thttps://scrapbox.io/qrio/apple_ID_Sign_In_with_Apple_%E5%95%8F%E9%A1%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%81%AE%E5%AF%BE%E5%BF%9C%E6%A4%9C%E8%A8%8E%E3%83%A1%E3%83%A2\n  \t\t↑対応について、追記しました[takeuchi.icon]\n  \t\tApple ID単体でのログイン対応がどうなっているかは確認済み\n  \t\t[Sign In With Apple検討]\n  \t\tKing Cu 改修案\n  \t\t\thttps://docs.google.com/presentation/d/1VyQ6aOfXQXDhmae1cjR3gZDIPJuxH39ovtbt_OEzSEY/edit##slide=id.g7f2f132d83_0_554\n\n\tau Home対応\n\t\tau レスポンス待ち。3月上旬にQrioLock対応の最終判断があるそう。\n\t\t\tまだ連絡なし[takeuchi.icon]\n\t\tau ID対応\n\t\t\t[au IDログイン仕様検討] ←編集中です\n\t\t\tau IDログインは、対応必須（KDDIのサービス企画から強い要望あり）\n\t\t\tAuth0のフィジビリとりたいが、そのために必要なClientID/ClientSecretは、auと契約しないともらえない\n\t\t\tSign in with Apple ID対応も併せて必要になりそう。\n\t\t\t\tAuth0でsocial loginはできそうだが、具体的に何の改修が必要か整理する。\n\t\tSDK対応\n\t\t\tauのレスポンス待ち。auアプリでハンズフリーを実装するか、検討中のよう。\n\t\t業務委託の件\n\t\t\t開発の第一希望: 三上さんにお願いする\n\n\thub使用したロック操作で時刻がずれているとエンドレス認証/通信エラーが起こる事象\n\t\tInvalidAuthTimeについてのまとめ: [InvalidAuthTimeについて]\n\t\tGM判定（書面開催）実施中。\n\n\tJokerファミリー\n\t\tJokerファミリー: 3号機(Joker)開発に加え、周辺機器の開発、リカーリングビジネスを含めた、中期計画全域。\n\t\t\t回収はFY24の見込み（今年の4月からFY20）。\n\t\t企画構想→5月いっぱいで企画要件を機能要件に落とし込む→設計構想\n\t\t企画要件を整理中: https://docs.google.com/spreadsheets/d/1cGgllTswWDuuqgePUbESWPQGf2rS8-QyYR4T-cQvU0w/edit?ts=5e69a5f3##gid=2095894888\n\t\t座組み。PM: 高橋さん、開発全体とりまとめ: ymtkさん、HW開発リーダー: 楢原さん、SW開発リーダー: 竹内\n\t\t週2で定例。要件すり合わせ。\n\t\tハードは、ロック3号機、super legend(Qrio Keyの進化版)、カードリーダー & Key Pad（+ カギカン用の外部電源）。これらの組み合わせで各サービス、ユースケースに対応していくのが基本方針。\n\t\tソフトは、基本的にking互換。既存のサーバー・アプリをjokerファミリー用に改修していく方針。\n\t\t\tアーキやプロトコル含め、SW全てに対して、そうである理由なければならない[takeuchi.icon]\n\t\t\t\tたとえばEd25519にしたのは何でなのか？　とか。プロトコルを同じにする理由とか。\ntable:Jokerファミリー概要\n Project\tjoker\tsuper legend\tknight\tjoker-x\tknight-x\n 概要\t3号機本体\tハンズフリーできるQrioKey\tNFC Reader & Key Pad\t不動産向けjoker\t不動産向けknight\n 市場\ttoC/カギカン\ttoC/不動産\tカギカン\t不動産\t不動産\n\n\t\tmiwaのビルトインロック対応は、jokerファミリープロジェクトに吸収される。joker3号機のモジュールを使って、組み込みロックを作る」という企画をSNCに提案して、SNCから増資してもらう。\n\t\t\t↑をjoker-xと呼んでいるのか、確認しておきます[takeuchi.icon]\n\t\tSaaS移行（PubNub→Google Pub/Sub, Auth0→Firebase Auth）もjokerファミリーで検討するか？　相談する[takeuchi.icon]\n\n\t採用計画（企画開発課）\n\t\tバックエンドエンジニア x1→即戦力で既存サービス(sirius, castle)改修担当\n\t\t\tcastleについて、今後も継続していくのか確認すべき。ビジネス的にも技術的にも失敗しているから。。[takeuchi.icon]\n\t\t\t\t特にcastleはスキル的に採用しづらくなっている。。\n\t\t\tcastleをなぜ使うのか？　という後藤さんの回答に対しては、ゼロからつくったほうがはやい。なんでかと言うと↑だから。\n\t\t開発PM x2→optexのPM、jokerの子PM。SNCから。\n\t\tハードウェアDir x1→楢原さん的or井宮さん的な、ハードをOEM/ODMできる人。SNCから。\n\t\tデザイナー(Dir & 実務)\n\n[*** Project 進捗]\n\n[** Sirius]\n\tアカウントの組織管理対応 (5月中旬リリース予定。2/20の要望ヒアリングから、開発期間は3ヶ月)\n\t\tTODO;　資料を三上さんにもお伝えする。別途MTG入れる。\n\t\t\thttps://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=404802218\n\t\tsiriusキャッチアップ＆決まっていない仕様の検討＆見積もり中[takeuchi.icon]\n\t\tI/F決まった。\n\t\t 増える\n\t\t今日から駒井が巻き取った\n\t\t　予想通りカオス\n\t\t　とりあえずnew relic入れる\n\t\t　既存の不具合はちゃんとissueで管理する\n\t\t　設計し直し中\n\t\t　　[TKG案件サービス設計]\n\t\t　　[TKG案件の仕様草案をつくる会議(　 'ᾥ'　 )]\n\t\t　　https://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=967057896\n\t\t　　[TKGヒアリング(2/20)]\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n \tSOMCへ解施錠状態のwebhook通知の箇所で認証エラーが記録される度に通知されるのやめてほしいとのことなので改修\n\n[* APIドキュメント改修]\n\t進捗なし\n\n[* CU]\n\tiOS \n\t\tSign In With Apple検討中\n\t\t\t詳細は上の方\n\tAndroid\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\n3/4のGM判定でいくつか宿題あり。急ぎではない。\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\tjokerに吸収されるので、miwaとはやらない方向[takeuchi.icon]\n\tこれまで: [Dev MTG 2020/3/9]\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n\n[** Nature]\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t4~5月の見積もりQaaSさんに出してもらっている。出てきたら凛義上げる。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n \tこれってパエリアで作ったやつでしたっけ?\n \t　そうですよ〜\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n\n\n# Sirius 組織管理 機能仕様 （CSV関連）\ncreated_at:Mon Jan 19 1970 17:01:01 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:16:59 GMT+0900 (日本標準時)\nSirius 組織管理 機能仕様 （CSV関連）\n2020/3/24　文責[takeuchi.icon]\nDeprecated[takeuchi.icon]\n\t記載内容を[Sirius 組織管理 機能仕様（組織管理コンソール）]にうつした。\n\n<WIP. 認識合わせしたら、本内容は別所に移動するかも[takeuchi.icon]>\n\n---\n## 機能仕様\n\n### CSVのカラム\n権限、名前、メールアドレス、所属中の下位組織のID\n\n例:\n```\n[- ユーザーID,作成日時,権限,名前,メールアドレス,所属組織ID]\n[- \"(uuid)\",\"2020/03/12\",\"guest\",\"栗尾 太郎\",\"taro.qrio@qrioinc.com\",\"uuid(渋谷支店),uuid(新宿支店),uuid(池袋支店)\"]\n[- \"(uuid)\",\"2020/03/13\",\"guest\",\"栗尾 次郎\",\"jiro.qrio@qrioinc.com\",\"uuid(岡山支店),uuid(広島支店),uuid(鳥取支店)\"]\n```\n\n↓\ncode:csv(guest)\n \"guest\",\"栗尾 太郎\",\"taro.qrio@qrioinc.com\",\"uuid(渋谷支店)\"\n \"guest\",\"栗尾 太郎\",\"taro.qrio@qrioinc.com\",\"uuid(新宿支店)\"\n \"guest\",\"栗尾 太郎\",\"taro.qrio@qrioinc.com\",\"uuid(池袋支店)\"\n\ncode:csv(guest)\n \"manager\",\"栗尾 花子\",\"hanako.qrio@qrioinc.com\",\"uuid(渋谷支店)\"\n \"manager\",\"栗尾 花子\",\"hanako.qrio@qrioinc.com\",\"uuid(新宿支店)\"\n \"manager\",\"栗尾 花子\",\"hanako.qrio@qrioinc.com\",\"uuid(池袋支店)\"\n\n- `権限`: roleのこと。guest, managerのうちいずれか。\n- `名前`: \n- `メールアドレス`: カギカンコンソールへのログイン用メールアドレス。\n- `所属組織ID`: 所属中の下位組織ID。\n\n\n### CSVエクスポート機能\n選択された下位組織に所属する利用者またはマネージャーのリストを、上述のカラムをもつCSVでエクスポートする。\n- 出力対象は、利用者またはマネージャーのうち、いずれか一方を選択する。\n- 下位組織は、複数選択可能。\n- 組織を選択しない場合、すべての下位組織が対象となる。\n\t- 顧客側でのユーザーと組織名のひもづけが必要なので、組織IDと組織名の対応表を、組織管理コンソールで出力する機能をもうける。\n\n### CSVインポート (登録[- 、更新]) 機能\n上述のカラムをもつCSVでインポートしたデータのレコードを作成[- 、または更新]する。\n[- - ユーザーIDが空の場合、新規レコードが作成される。]\n[- - ユーザーIDが空でない場合、organization_users内の当該レコードを検索する。]\n[-   - 一致するorganization_usersレコードが存在する場合、インポートした内容で更新する。]\n[-     - その際、所属組織IDに一致するorganizationレコードを検索する。]\n[-       - 一致するレコードが存在しない場合、そのCSVの行は無視される（ダメだった行をCSVのリストで吐き出す？） // TODO: 要確認。もしダメだったら全部ロールバックがいいかも。[takeuchi.icon]]\n[-   - 一致するorganization_usersレコードが存在しない場合、そのCSVの行は無視される（ダメだった行をCSVのリストで吐き出す？） // TODO: 要確認。もしダメだったら全部ロールバックがいいかも。[takeuchi.icon]]\n[-   - organization_usersのレコードが更新された場合、その差分を吐き出す？　異動の履歴として。 // TODO: 要確認。そもそも更新はしない（新規作成のみ）かも。[takeuchi.icon]]\n[-   - organization_usersのレコードのうち、所属する下位組織が更新された場合]\n[-     - マネージャー: organizationsの先頭の要素の下位組織が、プライマリ組織となる。]\n[-     - 所属する下位組織のうち、削除されたものがあった場合]\n[-       - 利用者: 合グループについて「この利用者にひもづいているが、この利用者の所属する下位組織にひもづいていないもの」は、この利用者とのひもづけが解除される。]\n[- - 作成日時は使用されない。]\n\n\n###  [- (1stリリースでは見送り) CSVインポート (削除) 機能]\n[- \tこれはそういうフロー自体がアリなのかから検討が必要な認識です。あまり聞いたことがない時点で、何かおかしなことをやっている。おそらくGUIで倒すべき課題（全員消すボタンからのモーダル警告とか）[ymtk.icon]]\n[- \t\t「異動用CSVをインポートして一括異動する機能が必要」という点から↑を考えていました。単体では確かにちょっとヘンですね。。[takeuchi.icon]]\n\n[- CSVでインポートしたデータが示すレコードを削除する。]\n[- - `ユーザーID`が一致するorganization_usersのレコードを検索する。]\n[-   - 一致するorganization_usersレコードが存在する場合、それを削除する。]\n[-     - 削除されたレコードのroleがguestだった場合]\n[-       - その利用者にひもづく合カギが削除される（合カギグループではない）。]\n[-   - 一致するorganization_usersレコードが存在しない場合、その行は無視される。（ダメだった行をCSVのリストで吐き出す？） // TODO: 要確認]\n\n\n### [- (1stリリースでは見送り)] 一括異動の方法\n[- \t異動の方法自体は見送りではないですよ。こういう風に異動できますというのがないと導入できません[ymtk.icon]]\n[- \t\t次のフローをかんがえました。[takeuchi.icon]]\n[- \t\t\t異動前データをCSVエクスポート→GUIでのデータ一括削除→異動後データのCSVインポート (登録・更新)]\n[- \t\t次の要望を満たしています。]\n[- \t\t\t異動前と異動後の差分を把握したい→異動前データと異動後データをそれぞれ出力できる]\n\n[- - 一括異動に際し、必要な情報は次のとおり。]\n[-   - 異動対象のマネージャーまたは利用者について、異動後の状態が記載されたCSVファイル。]\n[-     - // TODO: マネージャーまたは利用者の削除（退職など？）は、ここでは扱わない。]\n[- - CSVインポートによる、マネージャーおよび利用者の、異動後の情報の一括登録 (更新) を行う。]\n\n\n\n##Sirius\n\n# TKGヒアリング(2/20)\ncreated_at:Mon Jan 19 1970 16:30:03 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:15:50 GMT+0900 (日本標準時)\nTKGヒアリング(2/20)\n文責[ymtk.icon]\n\n[* 前提]\n　ヒアリング内容をそのまま作る、というわけではなく、Qrioがカギカンとして実現していく方向性を考慮した上で加味できる部分は反映していくスタンスです[ymtk.icon]\n　既に社内で話している部分（兼務含む）はもうスコープとしていただいてOKです\n\n[* スケジュールとスコープ]\n\t3ヶ月間（今からだと5月中旬）でフォロワー組織、ロック、利用者、マネージャーの一覧表示＆操作と、兼務の処理をリリース\n\tフロントとしてはカギカンとカギカン組織管理それぞれが存在する\n\n[* 運用スタイル]\n\t管理チーム（本社）\n\t\t管理チームが1つのMLを共有してシステム管理者アカウントとして使う\n\t\t緊急時は事業所のカギカンにもログインして、合カギを発行する\n\t\t\tすべての事業所にログインしたい\n\t\t\t\tUI上の検討は必要[ymtk.icon]\n\t組織（事業所）\n\t\t事業所の責任者はWi-Fi設定についても管轄外のため、ロックの初期設定は管理チーム、あるいは管理チームに委託された業者が担当する\n\t\t合カギグループの作成やグループへの利用者の追加、削除は担当する\n\t\tmaxだと300拠点\n\t異動\n\t\t頻繁にあり、数百人規模\n\t\t全員を一括で削除し、再度登録するくらいでもいい認識の模様。登録しそびれ、削除しそびれが懸念\n\t\t\t複数組織に異動させるデータを作るとして、どういった手順がいいのかは要検討\n\t\t\t結局人海戦術GUIが最適になってしまう…？\n\t最初の導入\n\t\tカギカンを利用している４拠点\n\n[* 細かな要望回り]\n\t権限\n\t\tシステム管理者は実質マネージャーのできることを全てやりたい\n\t\t\t裏側で言えば、全組織のマネージャーとしても登録されている状態であれば良さそう\n\tCSV関連\n\t\t異動データを作るため、既存の利用者、マネージャーのデータをエクスポートしたい\n\t\t\t名前、メアド、作成日、組織\n\t\t\t\t作成日を知りたいのは、退職者の消し残しに気付くため\n\t\t利用者向けのCSVなのかマネージャー向けのCSVなのか気づけるようにしたい\n\t\t登録だけでなく削除もしたい\n\t\t有効化タイミングを時限設定したい\n\t\t\t気持ちはわかるが諸々複雑性が増すので今回のスコープには入れない。先方としてもあくまで任意[ymtk.icon]\n\t\t異動の場合、fromとtoを設定したい\n\t\t\t背景、詳細思い出します[ymtk.icon]\n\t\t登録の場合、本当はidではなく組織名を使いたい\n\t\t\t言葉揺れして登録できないユーザビリティ上の課題については共有済み。VLOOKUP用の素材をダウンロードできるようにする方が現実的。\n\t電池警告関連\n\t\t事業所がこれに気付いて電池交換するとは思えないので、何かしらpushの仕組みで気づきたい\n\t\t\tその場で提案したのは、警告が出ている場合に週１などでメールするパターン、あるいはコンソール上で警告のでている組織一覧を出すパターン\n\tオートロック関連\n\t\t生徒が多く移動する時など、ドアを開けっぱなしにする運用がある。これをやるとオートロックの設定が正しく更新されない\n\t\t\tこれをなんとかする手段があると300社導入が現実的にはなる\n\n[* 誤解がありそう]\n マネージャー登録しても、それぞれにQrio Lockアプリで利用するファミリーキーが発行されるわけではない\n\n[* その他]\n\t異動についてある程度良さげなフローが組めたら特許を取っておくのも手\n\t\tUI界隈は案外取れる（過去取った）\n\tSmartHRやサイボウズ、jingerなど、そもそもその辺のメインストリームをやっているSaaSの仕様が参考になりそう\n\n##Sirius #TKG\n\n# TKG案件サービス設計\ncreated_at:Mon Jan 19 1970 16:14:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:15:50 GMT+0900 (日本標準時)\nTKG案件サービス設計\nリファレンス\n[TKG案件の仕様草案をつくる会議(　 'ᾥ'　 )]\n\n文責[ymtk.icon]　20/2/10 update\n\n--\napi document by ymtk\nhttps://documenter.getpostman.com/view/4577134/S1a1b9H3?version=latest\n--\nmtg memo\n\n## 前提確認\n\n- スケジュール別で必要な成果物\n    - 実働いつからか\n    - 特に2/20の期待値。開発イメージがつけばいいのか、モックなのか、稼働が必要なのか\n        - 稼働については現実的に無理\n    - 開発対象はWebコンソール、エンプラ(EP)コンソール、BCU iOS、BCU androidの4種\n        - 厳密にはadminツールも。エンプラフラグ的なものを組織に立てる\n- サービス設計\n    - [https://scrapbox.io/qrio/TKG案件サービス設計](https://scrapbox.io/qrio/TKG%E6%A1%88%E4%BB%B6%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E8%A8%AD%E8%A8%88)\n    - こちらで推奨運用フローを書き、モックイメージと提案する\n        - 欲しい機能を聞いてそのまま作るのはユーザーインタビューでもそうだが悪手。顧客は打ち手のプロではない。何の課題を持っているからその答えが出てきているのかから考える\n- 開発リソース\n    - フロントエンドは使えて15時間くらい\n        - 20日までの間だと土日は使えない（お食い初めです）\n        - 他のタスク全部捨てていいよね、にはなり得ないはず\n\n### 付属確認\n\n- カギカンEPが利用できるプランの検討\n    - api利用も含めて良い\n    - エンプラを使い始めたい、となった時に必要な手順がシステム的に不明\n\n--\n[** リファレンス時点では揺れている概念]\n\tロックの管理\n\t\t解施錠したい、履歴がみたいと言うよりもまずは合カギの管理をしたいのではないか\n\t管理ロール\n\t\t管理チームが親、営業所が子\n\t\t親は全ての子を管理できる\n\t\t子は自分のみを管理できる\n\t\tひとりで複数の子を管理することはある\n\t異動操作をする人\n\t\t管理チームだけ？各拠点でもやる？\n\t\t運用フロー上は管理チームだけがおすすめ。小組織だけでやると各組織の移動結果を確認できない(Roomonであった）。\n\tQrio Lockを使う人\n\t\tアルバイトの学生も利用するのでは？\n\t\t\tSiriusにはログインしないと思うけど･･･\n\t\t\t配置転換はないかもね\n\n[** 解決したい課題]\n\t顕在課題\n\t\t複数組織にまたがって合カギの付与、変更、削除をしたい。都度ログインし直しとしても250組織のログアウトは使い続けられない\n\t\t\t営業所レベルと管理チームレベルで同じアプリケーションが適しているのかというと疑問\n\t潜在課題\n\t\t各拠点の解施錠履歴を一気にダウンロードして、おかしな勤怠、入退室がないか監視したい\n\n[* 本シーンに対する情報表示の考え方]\n\t営業所レベルで所属する全ての情報が出るのは悪手と考える\n\t\tユーザビリティ\n\t\t\t今どこの何を操作しているのか直感的に分かりにくい&間違えたくない解錠施錠操作が絡んでいるのは使う方の精神的負担が大きい考え\n\t\t\t\tSlackがなぜ組織別に情報をだし分けているのか->意図しない組織で機密情報を話したりするリスクを避けるため？\n\t\t\t\t「山田」さんが渋谷と新宿にいたとして、一覧に同時に出てくると誤った方に合鍵を発行することが起こりやすくなる\n\t\t\t\t\t管理チームでもそうだろ、というのはあるが、管理チームは250箇所のログインし直し、営業所は2-3箇所のログインし直しなので後者では避けたい\n\t\tアプリケーション開発コスト\n\t\t\tどのエリアのどれ、という情報を既存のアプリケーションを回収して全てに出す必要がある。これは新規で作るより影響確認が面倒\n\t\t\tBCU側の対応も必要\n\t兼務の場合のアカウント\n\t\tBCU含めイニシャルでは分けてもらった方が現実的？\n\t\t\tBCUでのアプリ内組織切替まで考えると組織指定ログインまで準備できなそう\n\t\t\t\tそしてここまで想定されている？\n\t\t\t渋谷は+sby、新宿は+sjkとかエイリアスで運用いただくしかない\n\n[* 必要な機能]\n\tメンバーの異動\n\t\t移動後、グループに紐付けて合カギ発行\n\t\tグループまで指定することは考え得るが、ミスると合カギが発行される時点でcsvベースではおすすめできない\n\n[* どうやら必要なapi]\nhttps://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=1126915098\n\n[* 異動に関わる操作シナリオ]\n[https://gyazo.com/e5fbdaf2e095e46f6eb95e10f556214a]\n\n[* 情報設計]\nカギカンとカギカンEP(管理者向け)を分割\n[https://gyazo.com/0012c6a31c4521ae7a6b0358bf4aff78]\n[https://gyazo.com/6f9163c77b2f7c53bd323057b2569178]\n[https://gyazo.com/d9d7e8bd7e782fcd7614fe81bb45e1b7]\n[https://gyazo.com/2b166bb597e351dd4bee54581c22a028]\n\n##Sirius #TKG\n\n# TKG案件の仕様草案をつくる会議(　 'ᾥ'　 )\ncreated_at:Mon Jan 19 1970 16:09:23 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:15:50 GMT+0900 (日本標準時)\nTKG案件の仕様草案をつくる会議(　 'ᾥ'　 )\nTKGの要望としては、管理IDというものありけり\n[** 要件]\n 管理チームがすべてのロックを管理できる\n \t管理チームには複数人のユーザーがいる\n ロックは、各営業所ごとに管理できる。\n \t設置、アルバイトへの鍵の付与、削除\n \t各営業所管理のロックのみが管理できること\n \t\t他の営業所のロックがみえてはいけない\n 管理チームが、各営業所の、社員(営業所の管理者も含む)の営業所配置換えが行えること\n \t営業所の管理者は、複数の営業所の管理者になりうる。重複がある。\n \t配置転換については、CSVファイルのアップロードによる一括変換で行う\n \t\tExcelで、ゴリっと手で編集したやつを、アップロードするつもりなんだ。\n \t\t\t入力エラーは折込済みで作る\n \tWebアプリからの操作でもできること\n \t\tこれは一括ではなく、単体のみで良い\n\n[** 管理チームが必要(管理IDみたいなものが必要じゃないかなあ)] \n\tCSVダウンロード、アップロードによる、社員メンバーの配置転換\n\t 新規登録も必要\n\t 　要調査\n\t 　ユーザーがパスワード無しで登録できるならできる\n\t 　できない場合は諦める？\n すべての営業所のロックをみることができる\n すべての営業所のロックの、ファミリーキー(マスターキー)をもっていること\n  sirius上にファミリーキーユーザーといものは存在しない\n\n[** 各営業所の責任者が必要]\n 各営業所の責任者は、複数の営業所の責任者を兼務することがある。\n\n[** 配置転換に適用されるのは社員のみ]\n 社員と、アルバイトの学生が先生をやっている。\n \tアルバイトの学生は、Siriusをコントロールすることなく、鍵だけを利用する。\n\n[** CSVアップロードに必要なカラム]\n email (社員ごとにユニーク)\n ロール(管理者か、営業所の責任者か、通常の社員か)\n 営業所\n \tToだけでよくね?複数ある場合は2行書く。\n 名前\n\n20日までに必要なものの、優先順位\n1. 管理チームのログインした画面\n2. 営業所をWebアプリの操作で、単体で移動させる(兼務もできればなおよし)\n3. 営業所のユーザーのログインした画面(ロックの情報が権限があるもののみとしてフィルタされていること)\n\n##Sirius #TKG\n\n\n\n# Dev MTG 2020/3/23\ncreated_at:Mon Jan 19 1970 17:10:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:15:38 GMT+0900 (日本標準時)\nDev MTG 2020/3/23\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tQrioは4/3までリモートです。次週開発定例もリモートです[takeuchi.icon]\n\n\tチャンさんが3末で契約終了\n\t\t開発で引継ぎすべきものを確認する\n\t\t\tほぼほぼない。タグ、ただいまキットの何かしらの資料。\n\t\t\t社内SEっぽいこと。ソフトウェアのセキュリティまわりは、sonyといっしょに進めなければならない。\n\t\t\tもしそれを巻き取るとなったら、そこそこ工数がかかる\n\t\t\t\tチャンさんは、週1か2でコミットできるが、それだと全部はカバーできない\n\t\t今月中のチャンさんタスクはチャンさんがやって、引継ぎ先の人はCCに入ってもらう。もしそれでもごたつくなら、チャンさんには週1ではいってもらう。引継ぎ業務は資料の場所確認のみ。\n\t\t証明書更新関連、アカウント（lastpass）周りは、一度棚卸ししておきたいです[takeuchi.icon]\n\n\tSign in with Apple ID対応\n\t\thttps://developer.apple.com/news/?id=03042020d\n\t\t翻訳: https://qiita.com/akatsuki174/items/77734fb95b74cfa5cdad\n\t\t\tapple ID Sign In with Apple 問題についての対応検討メモ[ymtk.icon]\n  \t\thttps://scrapbox.io/qrio/apple_ID_Sign_In_with_Apple_%E5%95%8F%E9%A1%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%81%AE%E5%AF%BE%E5%BF%9C%E6%A4%9C%E8%A8%8E%E3%83%A1%E3%83%A2\n  \t\t↑対応について、追記しました[takeuchi.icon]\n  \t\tApple ID単体でのログイン対応がどうなっているかは確認済み\n  \t\t[Sign In With Apple検討]\n  \t\tKing Cu 改修案\n  \t\t\thttps://docs.google.com/presentation/d/1VyQ6aOfXQXDhmae1cjR3gZDIPJuxH39ovtbt_OEzSEY/edit##slide=id.g7f2f132d83_0_554\n\n\tau Home対応\n\t\tau レスポンス待ち。3月上旬にQrioLock対応の最終判断があるそう。\n\t\t\tまだ連絡なし[takeuchi.icon]\n\t\tau ID対応\n\t\t\t[au IDログイン仕様検討] ←編集中です\n\t\t\tau IDログインは、対応必須（KDDIのサービス企画から強い要望あり）\n\t\t\tAuth0のフィジビリとりたいが、そのために必要なClientID/ClientSecretは、auと契約しないともらえない\n\t\t\tSign in with Apple ID対応も併せて必要になりそう。\n\t\t\t\tAuth0でsocial loginはできそうだが、具体的に何の改修が必要か整理する。\n\t\tSDK対応\n\t\t\tauのレスポンス待ち。auアプリでハンズフリーを実装するか、検討中のよう。\n\t\t業務委託の件\n\t\t\t開発の第一希望: 三上さんにお願いする\n\n\thub使用したロック操作で時刻がずれているとエンドレス認証/通信エラーが起こる事象\n\t\tInvalidAuthTimeについてのまとめ: [InvalidAuthTimeについて]\n\t\t修正完了。今週SQA、耐久試験する。終わったらGM判定。3月中のリリースを目指す。\n\n\tJokerファミリー\n\t\tJokerファミリー: 3号機(Joker)開発に加え、周辺機器の開発、リカーリングビジネスを含めた、中期計画全域。\n\t\t\t回収はFY24の見込み（今年の4月からFY20）。\n\t\t企画構想→5月いっぱいで企画要件を機能要件に落とし込む→設計構想\n\t\t企画要件を整理中: https://docs.google.com/spreadsheets/d/1cGgllTswWDuuqgePUbESWPQGf2rS8-QyYR4T-cQvU0w/edit?ts=5e69a5f3##gid=2095894888\n\t\t座組み。PM: 高橋さん、開発全体とりまとめ: ymtkさん、HW開発リーダー: 楢原さん、SW開発リーダー: 竹内\n\t\t週2で定例。要件すり合わせ。\n\t\tハードは、ロック3号機、super legend、NFC Reader & Key Pad（+ カギカン用の外部電源）。これらの組み合わせで各サービス、ユースケースに対応していくのが基本方針。\n\t\tソフトは、基本的にking互換。既存のサーバー・アプリをjokerファミリー用に改修していく方針。\n\t\t\tアーキやプロトコル含め、SW全てに対して、そうである理由なければならない[takeuchi.icon]\n\t\t\t\tたとえばEd25519にしたのは何でなのか？　とか。プロトコルを同じにする理由とか。\ntable:Jokerファミリー概要\n Project\tjoker\tsuper legend\tknight\tjoker-x\tknight-x\n 概要\t3号機本体\tハンズフリーできるQrioKey\tNFC Reader & Key Pad\t不動産向けjoker\t不動産向けknight\n 市場\ttoC/カギカン\ttoC/不動産\tカギカン\t不動産\t不動産\n\n\t\tmiwaのビルトインロック対応は、jokerファミリープロジェクトに吸収される。joker3号機のモジュールを使って、組み込みロックを作る」という企画をSNCに提案して、SNCから増資してもらう。\n\t\t\t↑をjoker-xと呼んでいるのか、確認しておきます[takeuchi.icon]\n\t\tSaaS移行（PubNub→Google Pub/Sub, Auth0→Firebase Auth）もjokerファミリーで検討するか？　相談する[takeuchi.icon]\n\n\t採用計画（企画開発課）\n\t\tバックエンドエンジニア x1→即戦力で既存サービス(sirius, castle)改修担当\n\t\t\tcastleについて、今後も継続していくのか確認すべき。ビジネス的にも技術的にも失敗しているから。。[takeuchi.icon]\n\t\t\t\t特にcastleはスキル的に採用しづらくなっている。。\n\t\t\tcastleをなぜ使うのか？　という後藤さんの回答に対しては、ゼロからつくったほうがはやい。なんでかと言うと↑だから。\n\t\t開発PM x2→optexのPM、jokerの子PM。SNCから。\n\t\tハードウェアDir x1→楢原さん的or井宮さん的な、ハードをOEM/ODMできる人。SNCから。\n\t\tデザイナー(Dir & 実務)\n\n[*** Project 進捗]\n\n[** Sirius]\n\tアカウントの組織管理対応 (5月中旬リリース予定。2/20の要望ヒアリングから、開発期間は3ヶ月)\n\t\tTODO;　資料を三上さんにもお伝えする。別途MTG入れる。\n\t\t\thttps://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=404802218\n\t\tsiriusキャッチアップ＆決まっていない仕様の検討＆見積もり中[takeuchi.icon]\n\t\tI/F決まった。\n\t\t 増える\n\t\t今日から駒井が巻き取った\n\t\t　予想通りカオス\n\t\t　とりあえずnew relic入れる\n\t\t　既存の不具合はちゃんとissueで管理する\n\t\t　設計し直し中\n\t\t　　[TKG案件サービス設計]\n\t\t　　[TKG案件の仕様草案をつくる会議(　 'ᾥ'　 )]\n\t\t　　https://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=967057896\n\t\t　　[TKGヒアリング(2/20)]\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n \tSOMCへ解施錠状態のwebhook通知の箇所で認証エラーが記録される度に通知されるのやめてほしいとのことなので改修\n\n[* APIドキュメント改修]\n\t進捗なし\n\n[* CU]\n\tiOS \n\t\tSign In With Apple検討中\n\t\t\t詳細は上の方\n\tAndroid\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\n3/4のGM判定でいくつか宿題あり。急ぎではない。\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\tjokerに吸収されるので、miwaとはやらない方向[takeuchi.icon]\n\tこれまで: [Dev MTG 2020/3/9]\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n\n[** Nature]\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t4~5月の見積もりQaaSさんに出してもらっている。出てきたら凛義上げる。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n \tこれってパエリアで作ったやつでしたっけ?\n \t　そうですよ〜\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n\n\n# Sign In With Apple検討\ncreated_at:Mon Jan 19 1970 16:57:04 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:08:46 GMT+0900 (日本標準時)\nSign In With Apple検討\n[* はじめに]\n[apple ID Sign In with Apple 問題についての対応検討メモ]\n\n[**** iOSの調査][h.yamaguchi.icon]\n仕様的にはOpenId Connect\n\n[* 対応OS]\n\tiOS13以上\n\t12以下をどうするか検討\n\t\tiOSはユーザーの新バージョンへの移行が早いので単純に13以上のみ対応しておけば良いと思う\n\n[* Scope]\n名前とメールアドレスをユーザーに要求できる\n\temail\n\tfullName\n\nユーザーがログイン時にそれぞれ2種類ずつ選択肢がある\n※要求されたユーザーの選択肢\n\t名前 (fullName)\n  - Apple IDに紐づいた名前\n  - 任意の名前を入力\n\temail (email)\n  - Apple IDに紐づいたメールアドレス\n  - ランダムなメールアドレスが発行される (非公開メールアドレスと呼ばれている)\n\n[* 非公開メールアドレス詳細]\n\t4whg2ui6ci@privaterelay.appleid.com ← こんな感じ\n\tこれにメール送るとappleIDに紐づいたアドレスにメールが転送される仕組み。\n※developer portalで別途設定する必要あり。送信元とか\n\tAppleID連携している前提であればこれをメールアドレスとしてサービスで扱っても問題なさそう\n\t何度かログアウトしたりアプリ消したりして試したが同じメールアドレスが返ってきた。\n\tid_tokenの中に情報(メールアドレス)があるので変わるとしても認証したタイミングで更新すれば良い。\n\t以下、転送サービスの設定の詳細\nhttps://help.apple.com/developer-account/##/devf822fb8fc\n\n[* SDKからのレスポンス]\n直でid_tokenが返ってくるのでインプリシットフローっぽい\n以下の値が取得可能 (一部)\ncode:identityToken\n OpenId Connectのid_tokenに相当 \n\ncode:user\n id_tokenの中身のsubと同じ情報 \n\ncode:authorizationCode\n 認可コード。これを利用して認可コードフローでも対応できるらしい。Auth0はこっち使うっぽい\n iOSだけで利用する場合は返却するid_tokenを信用すればいいけどそれ以外が絡む場合はインプリシットフローだと脆弱性があるからだと思う。\n \n\n[* id_tokenの中身]\ncode:header\n {\n   \"kid\": \"eXaunmL\",\n   \"alg\": \"RS256\"\n }\n\ncode:payload\n {\n   \"iss\": \"https://appleid.apple.com\",\n   \"aud\": \"jp.yhryk.apple.sign.demo\",\n   \"exp\": 1583814126,\n   \"iat\": 1583813526,\n   \"sub\": \"001769.830b19a25b8d40efaeda6490bbf0116c.0936\",\n   \"c_hash\": \"YwVxe8bk9pvmaSwZv1PZUQ\",\n   \"email\": \"4whg2ui6ci@privaterelay.appleid.com\",\n   \"email_verified\": \"true\",\n   \"is_private_email\": \"true\",\n   \"auth_time\": 1583813526,\n   \"nonce_supported\": true\n }\n\n[* ログアウトについて]\n!!!重要!!!\n[* 設定アプリからいつでも連携解除が可能] (設定 -> Apple Id -> パスワードとセキュリティ -> Apple IDを仕様中のApp)\nその場合アプリ側でハンドリングして何かしらの対策が必要\n実装次第ではあるが例をあげておく\n例)\n1. ログアウトさせる\n2. そもそもSign in with Appleは連携として捉えて連携解除のみにする\n\n[* 実装サンプル]\n※別途provisining周り設定とかしないとダメです。自分の個人アカウントで検証しました\ncode:sample.swift\n import UIKit\n import AuthenticationServices\n \n class ViewController: UIViewController {\n \n     override func viewDidLoad() {\n         super.viewDidLoad()\n         \n         let button = ASAuthorizationAppleIDButton(authorizationButtonType: .default,\n                                                   authorizationButtonStyle: .black)\n         button.addTarget(self, action: ##selector(authorizationButtonPressed), for: .touchUpInside)\n         view.addSubview(button)\n         button.translatesAutoresizingMaskIntoConstraints = false\n         button.centerXAnchor.constraint(equalTo: view.centerXAnchor).isActive = true\n         button.centerYAnchor.constraint(equalTo: view.centerYAnchor).isActive = true\n         button.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 40).isActive = true\n         button.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -40).isActive = true\n         button.heightAnchor.constraint(equalToConstant: 44).isActive = true\n         \n         // この処理でアカウントの今の状態をチェックできる\n         // タイミングとかおかしいけどサンプルなので(´・ω・`)\n         // forUserIDは userの一意なid (下の方のappleIDCredential.userかid_tokenの中身のsub)\n          ASAuthorizationAppleIDProvider().getCredentialState(forUserID: \"001769.830b19a25b8d40efaeda6490bbf0116c.0936\") { (state, error) in\n              print(\"state: \\(state.rawValue)\")\n          }\n     }\n \n     @objc func authorizationButtonPressed() {\n         let request = ASAuthorizationAppleIDProvider().createRequest()\n         // nonceを設定できる。リプレイ攻撃対策\n         // ここで設定すると発行されるid_tokenの中に値が入る\n         request.nonce = \"1234\"\n         request.requestedScopes = [.email, .fullName]\n         let vc = ASAuthorizationController(authorizationRequests: [request])\n         vc.delegate = self\n         vc.presentationContextProvider = self\n         vc.performRequests()\n     }\n }\n \n extension ViewController: ASAuthorizationControllerPresentationContextProviding {\n     func presentationAnchor(for controller: ASAuthorizationController) -> ASPresentationAnchor {\n         return self.view.window!\n     }\n }\n \n extension ViewController: ASAuthorizationControllerDelegate {\n     func authorizationController(controller: ASAuthorizationController, didCompleteWithAuthorization authorization: ASAuthorization) {\n         \n         if let appleIDCredential = authorization.credential as? ASAuthorizationAppleIDCredential {\n                    guard\n                        let authCodeData = appleIDCredential.authorizationCode,\n                        let authCode = String(data: authCodeData, encoding: .utf8),\n                        let idTokenData = appleIDCredential.identityToken,\n                        let idToken = String(data: idTokenData, encoding: .utf8),\n                        let fullName = appleIDCredential.fullName else {\n                        print(\"Problem with the authorizationCode\")\n                        return\n                    }\n                    print(\"user: \\(appleIDCredential.user)\")\n                    print(\"authorization code : \\(authCode)\")\n                    print(\"identity token : \\(idToken)\")\n                    // この2つのプロパティ(full nameとemail)は初回アクセス時しか取れない\n                    // idTokenをパースすればメールアドレスは取得可能\n                    print(\"full name : \\(fullName)\")\n                    print(\"email: \\(appleIDCredential.email ?? \"\")\")\n                }\n     }\n     \n     func authorizationController(controller: ASAuthorizationController, didCompleteWithError error: Error) {\n         print(\"Authorization Failed: \\(error)\")\n     }\n }\n \n\n[* ユーザーを一意に特定するIDの仕様]\nidTokenから取得できるsubの話\n\tアプリごとに一意(bundleIdごと)\n\t\tアプリ変わるとsubの値は違う\n\n[* 非公開メールアドレスの変更タイミング調査]\n設定から連携解除後に再取得してみる\n\t即時だと変更されなかった\n\t2日くらいたっても同じアドレス\n\tアドレスはbundleIdごとに一意かも\n\t\t用調査\n\n[**** Auth0の調査][h.yamaguchi.icon]\n\n[* 実装参考]\n\thttps://auth0.com/docs/connections/social/apple\n\thttps://dev.classmethod.jp/server-side/auth0/supported-sign-in-with-apple-beta/\n\thttps://auth0.com/blog/jp-try-sign-in-with-apple-in-your-auth0-apps-today/\n\n[* 主な作業]\n\tドキュメント (iOSで実装する場合)\n\t\thttps://auth0.com/docs/connections/apple-siwa/add-siwa-to-native-app\n1. Apple Developer PortalでServiceIDを作成\n2. Apple Developer Portalで認証用のキーを作成\n3. Auth0でSign In with Appleを有効にする\n4. iOS実装\n\n[* アプリの連携シーケンス]\n認可コードフロー\nApple IDProviderから認可コードを取得後、Auth0に投げてAuth0のTokenを取得する流れ\n詳しくは以下をご覧下さい\n[https://gyazo.com/86ae9eb668093c45c911cc37802bed52]\n\n[* サインアップ実装]\n\tドキュメント\n\t\thttps://auth0.com/docs/quickstart/native/ios-swift-siwa/00-login\n取得したauthorizationCodeをAuth0に投げるだけ。これでAuth0にユーザーが登録される\ncode:sample.swift\n       Auth0.authentication()\n            .tokenExchange(withAppleAuthorizationCode: authCode).start { result in\n                switch(result) {\n                case .success(let credentials):\n                    print(\"Auth0 Success: \\(credentials)\")\n                case .failure(let error):\n                    print(\"Exchange Failed: \\(error)\")\n                }\n       }\n\nハマりポイント\n\tNative実装(iOS)の場合Sign In With Appleの設定をする箇所がAuth0のコンソールに二つある\n\t\t参考: https://community.auth0.com/t/instructions-for-apple-sign-in-not-clear-enough-receiving-an-error/32512\n※ ググるとSign In With Apple実装方法が出てくるがどれもWebでの実装方法なので注意。やはりドキュメントちゃんと読まないと駄目ですね（´；ω；｀）ｳｯ\n以下のエラーに悩まされた\ncode:error\n Exchange Failed: Grant type urn:ietf:params:oauth:grant-type:token-exchange with subject_token_type http://auth0.com/oauth/token-type/apple-authz-code is not enabled for this client\n\n\tiOSでの実装時にASAuthorizationAppleIDProvider().createRequest()のインスタンスにnonceを設定していると以下のエラーが発生する (サンプル実装してたので色々試したくてnonce設定しっぱなしでした)エラーの内容が酷すぎて超時間かかった（´；ω；｀）ｳｯ\ncode:error\n Error from apple connection: (no description) (undefined)\n\n\n[* Auth0側で作成されるデータ]\n\tscopeでは`名前`も取得しているので反映されると思ったが名前は使われないみたい\n\tメールアドレス公開でログイン -> ログアウトして非公開でログインすると\"email\"の項目が更新される\ncode:公開メールアドレス\n {\n     \"created_at\": \"2020-03-12T09:15:35.489Z\",\n     \"email\": \"hy630823@gmail.com\",\n     \"email_verified\": \"true\",\n     \"identities\": [\n         {\n             \"user_id\": \"001769.83d7b64363fa46a7bc852da24cab840e.0554\",\n             \"provider\": \"apple\",\n             \"connection\": \"apple\",\n             \"isSocial\": true\n         }\n     ],\n     \"name\": \"hy630823@gmail.com\",\n     \"nickname\": \"hy630823\",\n     \"nonce_supported\": true,\n     \"picture\": \"https://s.gravatar.com/avatar/a41e915f395a74c4e83033706e4c53d9?s=480&r=pg&d=https%3A%2F%2Fcdn.auth0.com%2Favatars%2Fhy.png\",\n     \"updated_at\": \"2020-03-12T09:15:35.489Z\",\n     \"user_id\": \"apple|001769.83d7b64363fa46a7bc852da24cab840e.0554\",\n     \"last_ip\": \"126.13.60.86\",\n     \"last_login\": \"2020-03-12T09:15:35.488Z\",\n     \"logins_count\": 1,\n     \"blocked_for\": [],\n     \"guardian_authenticators\": []\n }\n\ncode:非公開メールアドレス\n {\n     \"created_at\": \"2020-03-12T08:49:17.776Z\",\n     \"identities\": [\n         {\n             \"user_id\": \"001769.83d7b64363fa46a7bc852da24cab840e.0554\",\n             \"provider\": \"apple\",\n             \"connection\": \"apple\",\n             \"isSocial\": true\n         }\n     ],\n     \"name\": \"ns2ez33uxi@privaterelay.appleid.com\",\n     \"nickname\": \"ns2ez33uxi\",\n     \"nonce_supported\": true,\n     \"picture\": \"https://s.gravatar.com/avatar/4bbd133518a536d13a0314b02ea5a02d?s=480&r=pg&d=https%3A%2F%2Fcdn.auth0.com%2Favatars%2Fns.png\",\n     \"updated_at\": \"2020-03-12T08:53:13.707Z\",\n     \"user_id\": \"apple|001769.83d7b64363fa46a7bc852da24cab840e.0554\",\n     \"email\": \"ns2ez33uxi@privaterelay.appleid.com\",\n     \"email_verified\": \"true\",\n     \"is_private_email\": \"true\",\n     \"last_ip\": \"126.13.60.86\",\n     \"last_login\": \"2020-03-12T08:53:13.707Z\",\n     \"logins_count\": 4,\n     \"blocked_for\": [],\n     \"guardian_authenticators\": []\n }\n\n以下一般ユーザー。一応載せておきます\ncode:一般ユーザー\n {\n     \"email_verified\": true,\n     \"email\": \"hiroyuki.yamaguchi@qrioinc.com\",\n     \"updated_at\": \"2020-02-27T09:20:07.490Z\",\n     \"name\": \"hiroyuki.yamaguchi@qrioinc.com\",\n     \"picture\": \"https://s.gravatar.com/avatar/3eb5b7405ff54e679aefb40aafc2a9af?s=480&r=pg&d=https%3A%2F%2Fcdn.auth0.com%2Favatars%2Fhi.png\",\n     \"user_id\": \"auth0|5bcd2c7e9965af5fca9f93a6\",\n     \"nickname\": \"hiroyuki.yamaguchi\",\n     \"identities\": [\n         {\n             \"user_id\": \"5bcd2c7e9965af5fca9f93a6\",\n             \"provider\": \"auth0\",\n             \"connection\": \"Username-Password-Authentication\",\n             \"isSocial\": false\n         }\n     ],\n     \"created_at\": \"2018-10-22T01:48:47.007Z\",\n     \"last_ip\": \"39.110.207.11\",\n     \"last_login\": \"2020-02-27T09:20:07.490Z\",\n     \"logins_count\": 1633,\n     \"blocked_for\": [],\n     \"guardian_authenticators\": []\n }\n\n[* すでにユーザー登録しているユーザーにAppleIDの情報を紐づける]\nこの場合も想定されるので動作確認しておく\n\tドキュメント\n\t\thttps://auth0.com/docs/quickstart/native/ios-swift/07-linking-accounts##unlink-the-accounts\n\n[* ユーザーの紐付け処理]\ncode:紐付け.swift\n ※ update:current_user_identitiesのパーミッションが必須。ログイン時に取得する\n let currentUserAccessToken = \"紐付け先のユーザーのアクセストークン\"\n \n let userId = \"紐付け先のユーザーID\" こういうやつ -> auth0|5bcd2c7e9965af5fca9f93a6\n   cuでは多分この値は管理してないのでKingApiかAuth0のuserInfoエンドポイントで取得する必要がある\n \n let idToken = \"紐づけたいユーザーのIDトークン\"\n   このIDトークンはAuth0のIDトークンなので一時的にユーザーが2つできてることになる。\n   連携処理後一つのユーザーとしてまとめられる\n \n   Auth0.users(token: currentUserAccessToken)\n        .link(userId, withOtherUserToken: idToken)\n        .start { result in\n            switch result {\n            case .success(let objects):\n                print(\"success: \\(objects)\")\n            case .failure(let error):\n                print(\"error: \\(error)\")\n            }\n         }\n[* パーミッションの取得]\nupdate:current_user_identitiesを指定してもscopeにupdate:current_user_identitiesが付与されなく超ハマった（´；ω；｀）ｳｯ\n※ .login()の引数に`audience: \"https://qrio-staging.auth0.com/api/v2/\"`をつけないと`update:current_user_identities`のパーミッションが取れないので注意\ncode:パーミッション取得.swift\n  Auth0.authentication()\n       .login(\n           usernameOrEmail: mail,\n           password: pass,\n           realm: \"Username-Password-Authentication\",\n           audience: \"https://qrio-staging.auth0.com/api/v2/\",\n           scope: \"openid offline_access update:current_user_identities\")\n       .start { result in\n           switch result {\n           case .success(let credentials):\n               print(\"scope: \\(credentials.scope)\")\n           case .failure(let error):\n               print(\"Failed with \\(error)\")\n           }\n       }\n[* 紐付け後のユーザーデータ]\ncode:紐付け後のユーザーデータ\n {\n     \"email_verified\": true,\n     \"email\": \"hiroyuki.yamaguchi@qrioinc.com\",\n     \"updated_at\": \"2020-03-16T10:17:54.562Z\",\n     \"name\": \"hiroyuki.yamaguchi@qrioinc.com\",\n     \"picture\": \"https://s.gravatar.com/avatar/3eb5b7405ff54e679aefb40aafc2a9af?s=480&r=pg&d=https%3A%2F%2Fcdn.auth0.com%2Favatars%2Fhi.png\",\n     \"user_id\": \"auth0|5bcd2c7e9965af5fca9f93a6\",\n     \"nickname\": \"hiroyuki.yamaguchi\",\n     \"identities\": [\n         {\n             \"user_id\": \"5bcd2c7e9965af5fca9f93a6\",\n             \"provider\": \"auth0\",\n             \"connection\": \"Username-Password-Authentication\",\n             \"isSocial\": false\n         },\n         {\n             \"profileData\": {\n                 \"email\": \"ns2ez33uxi@privaterelay.appleid.com\",\n                 \"email_verified\": \"true\",\n                 \"is_private_email\": \"true\",\n                 \"nonce_supported\": true,\n                 \"name\": \"hiroyuki.yamaguchi@qrioinc.com\"\n             },\n             \"user_id\": \"001769.83d7b64363fa46a7bc852da24cab840e.0554\",\n             \"provider\": \"apple\",\n             \"connection\": \"apple\",\n             \"isSocial\": true\n         }\n     ],\n     \"created_at\": \"2018-10-22T01:48:47.007Z\",\n     \"last_ip\": \"126.13.60.86\",\n     \"last_login\": \"2020-03-16T10:17:54.562Z\",\n     \"logins_count\": 1650,\n     \"blocked_for\": [],\n     \"guardian_authenticators\": []\n }\nすでに紐づいている場合は以下のエラーが発生\ncode:すでに紐づいている場合\n Failed with unknown error [\"statusCode\": 400, \"message\": Main identity and the new one are the same., \"errorCode\": operation_not_supported, \"error\": Bad Request]\n\n[* ユーザーの紐付け解除]\n実行すると元のデータ構造に戻る\ncode:紐付け解除.swift\n let currentUserAccessToken = \"紐付け先のユーザーのアクセストークン\"\n let identityId = \"サードパーティーアカウントのユーザーid\"\n let provider = \"サードパーティーのタイプ\" こういうやつ -> \"apple\"\n let fromUserId = \"紐付け先のユーザーID\"\n Auth0.users(token: currentUserAccessToken)\n      .unlink(identityId: user_id, provider: provider, fromUserId: fromUserId)\n      .start { result in\n      \tswitch result {\n         case .success:\n         \tprint(\"success\")\n         case .failure(let error):\n             print(\"error \\(error)\")\n         }\n       }\n }\nこれ既存の実装で叩こうとするとクロージャーネスト地獄になる。\nしかも`サードパーティーアカウントのユーザーid`を取得する際に追加でパーミッションが必要だった。`read:current_user`\nサンプルコードに書いてなかった（´；ω；｀）ｳｯ\n\tアプリのキャッシュ戦略\n\tkingApiで返してもらう？\n\tアプリがAuth0のApi叩く？ (以下のサンプルだとこれ)\n↑この辺り考慮する必要あり\ncode:sample.swift\n  Auth0.authentication()\n              .userInfo(token: UserDefaultsUtils.getApiAccessToken()!)\n              .start { result in\n                switch result {\n                case .success(let profile):\n                   print(\"id: \\(profile.id)\")\n                   Auth0.users(token: UserDefaultsUtils.getApiAccessToken()!)\n                        .get(profile.id, fields: [\"identities\"], include: true)\n                        .start { result in\n                            switch result {\n                            case .success(let user):\n                             let identities = user[\"identities\"] as? [[String: Any]] ?? []\n                             if let info = identities.first(where: { $0[\"provider\"] as? String ?? \"\" == \"apple\" }),\n                                 let provider = info[\"provider\"] as? String,\n                                 let user_id = info[\"user_id\"] as? String {\n                                 print(\"info: \\(info)\")\n                                 \n                                 Auth0\n                                     .users(token: UserDefaultsUtils.getApiAccessToken()!)\n                                     .unlink(identityId: user_id, provider: provider, fromUserId: profile.id)\n                                     .start { result in\n                                         switch result {\n                                         case .success:\n                                             print(\"success\")\n                                         case .failure(let error):\n                                             print(\"error \\(error)\")\n                                         }\n                                     }\n                                 }\n                             \n                            case .failure(let error):\n                                 print(\"error: \\(error)\")\n                            }\n                    }\n                case .failure(let error): break\n                    print(\"error: \\(error)\")\n                }\n         }\n\n[* パーミッションの取り直しが必要]\n紐付け機能を利用するにあたって既存ユーザーのアクセストークンのスコープを変更する必要あり。\nなので再度ログインさせるしかない（´；ω；｀）ｳｯ\nどうやるかは考える。影響範囲は既存ユーザーのみになる想定。\n\n自分用メモ[h.yamaguchi.icon]\n[* 設定からSIWAを解除]\n\t\tメイン: username-password サブ: apple\n\t\t\tAuth0側は検知できなかった。\n\t\t\tなのでこちら側でハンドリングする必要がある。 ※ユーザーの状態はアプリ起動時に確認できる\n\t\t\tAuth0の機能に乗っかるのならunlinkして紐付け解除しないといけない\n\t\tメイン: apple\n\t\t\t設定から連携解除してもアクセストークンは失効しなかった。\n\nアクセストークンの失効確認(´・ω・`)\ncode:検証用curl\n // user_idは変えて使ってね！user_idはurlエンコードしないとだから注意 | が %7C に変わるよ\n \n curl https://qrio-staging.auth0.com/api/v2/users/auth0%7C5bcd2c7e9965af5fca9f93a6 -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IlJVTTVRa1pGTURCRk16QTJNRGhETmpoR05VTkZRamt5UVRWRVFqTTROVEkzTURFelJFTTBOUSJ9.eyJpc3MiOiJodHRwczovL3FyaW8tc3RhZ2luZy5hdXRoMC5jb20vIiwic3ViIjoiYXV0aDB8NWJjZDJjN2U5OTY1YWY1ZmNhOWY5M2E2IiwiYXVkIjpbImh0dHBzOi8vcXJpby1zdGFnaW5nLmF1dGgwLmNvbS9hcGkvdjIvIiwiaHR0cHM6Ly9xcmlvLXN0YWdpbmcuYXV0aDAuY29tL3VzZXJpbmZvIl0sImlhdCI6MTU4NDQzNTQyMywiZXhwIjoxNTg0NTIxODIzLCJhenAiOiI4Y3VMTHBOWkFaU1gwUGZLc2lIZHA4OXIzaTFsc2M5NyIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUgZW1haWwgYWRkcmVzcyBwaG9uZSB1cGRhdGU6Y3VycmVudF91c2VyX2lkZW50aXRpZXMgcmVhZDpjdXJyZW50X3VzZXIgb2ZmbGluZV9hY2Nlc3MiLCJndHkiOiJwYXNzd29yZCJ9.kdVMndx0ZDWED4GMnVeFeD5eoyezGFEmQrbgYpV2urC01GXmQh7Z6CJGyhNckLiUfVE8WIXvAkxe42bt2vj5r0KTbtLV8PK1uoxybOitnRUtdplKyGQ9TpQmcrLZ9FV3Vy2yE-zaF2buLVlO6aGjgXRQ2ZVZmtdBk2b4KRO_1_AFnpAh4x1fjBwgYlSbZL6kKCat7s_AaxOHgomoUtEmYQtHO3FQAjvYRe8DAkB2MvEr8nG6AJlYbRzWnKZe08CjB29iyWNuOSnySXTBCfLObl09VSt2IxcaSU0ZTlHeWDPeL0vCpd7x-IMJyLiaGp5Ff5XVt8m_cvUwcRCYDPvGoA' | jq\n\n# redashの証明書更新\ncreated_at:Mon Jan 19 1970 17:08:11 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:08:13 GMT+0900 (日本標準時)\nredashの証明書更新\n文責[ymtk.icon](3/18)\n\n[* 前提]\n\tredashはここ\n\t\thttp://cs-redash.qrio.me/\n\tEC2で動いているが、Amazon LinuxではなくUbuntu上で動いている\n\tWebサーバはnginx\n\t証明書の格納先は下記（2020年更新分）\n\t\thttps://drive.google.com/drive/u/0/folders/1IY9yg5LPfu0g77rdaJBzqJX8Aq3PaKt-\n\n[* 手順]\n\t管理者権限になっておく\n\t\t`sudo su -`\n\t`cd /etc/nginx/ssl` で証明書を確認。下記の3種類が存在する\n\t\tcode:sh\n\t\t   qrio_me.crt // サーバ証明書\n\t\t   server.key  // 秘密鍵\n\t\t   certbundle.pem\n\t 証明書のバックアップを取る\n\t \t`mv qrio_me.crt qrio_me.crt.20200318bk` など\n\t 証明書をそれぞれ新しく作成する\n\t \tbundleについては、上がサーバ証明書、改行して、下が中間CA証明書で構成されている。サーバ上で`qrio_me.ca-bundle`となっているものがそれ\n\t \t\tcode:bundle\n\t \t\t -----BEGIN CERTIFICATE-----\n     サーバ証明書の内容\n     -----END CERTIFICATE-----\n     -----BEGIN CERTIFICATE-----\n     中間CA証明書の内容\n     -----END CERTIFICATE-----\n\tnginxを再起動する\n\t\t`nginx -s reload`\n\tブラウザから証明書を確認し、最新化されていればOK\n\t\t[https://gyazo.com/74dca9df9f0f1057d2064f575f087e5f]\n\n[* 余談]\n\tパッケージ更新については下記で対応可能。upgradeと`dist-upgrade`で差があったりするがここでは触れない\n\t\tcode: bash\n\t\t sudo apt update  // 最新のパッケージ一覧を取得\n   sudo apt upgrade // 最新のパッケージで更新\n\n# Dev MTG 2020/3/16\ncreated_at:Mon Jan 19 1970 17:05:20 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 17:05:34 GMT+0900 (日本標準時)\nDev MTG 2020/3/16\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tQrioは3/27までリモートです。次週開発定例 (3/23) もリモートです[takeuchi.icon]\n\n\tチャンさんが3末で契約終了\n\t\t開発で引継ぎすべきものを確認する\n\t\t\tほぼほぼない。タグ、ただいまキットの何かしらの資料。\n\t\t\t社内SEっぽいこと。ソフトウェアのセキュリティまわりは、sonyといっしょに進めなければならない。\n\t\t\tもしそれを巻き取るとなったら、そこそこ工数がかかる\n\t\t\t\tチャンさんは、週1か2でコミットできるが、それだと全部はカバーできない\n\t\t今月中のチャンさんタスクはチャンさんがやって、引継ぎ先の人はCCに入ってもらう。もしそれでもごたつくなら、チャンさんには週1ではいってもらう。引継ぎ業務は資料の場所確認のみ。\n\t\t証明書更新関連、アカウント（lastpass）周りは、一度棚卸ししておきたいです[takeuchi.icon]\n\n\tソニーペイメント(AWS EC2)、SL1のハブAPI(heroku qb-api)のSSL証明書更新\n\t\t3/9 証明書差し替え完了。\n\n\tSign in with Apple ID対応\n\t\thttps://developer.apple.com/news/?id=03042020d\n\t\t翻訳: https://qiita.com/akatsuki174/items/77734fb95b74cfa5cdad\n\t\t\tapple ID Sign In with Apple 問題についての対応検討メモ[ymtk.icon]\n  \t\thttps://scrapbox.io/qrio/apple_ID_Sign_In_with_Apple_%E5%95%8F%E9%A1%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%81%AE%E5%AF%BE%E5%BF%9C%E6%A4%9C%E8%A8%8E%E3%83%A1%E3%83%A2\n  \t\t↑対応について、追記しました[takeuchi.icon]\n  \t\tApple ID単体でのログイン対応がどうなっているかは確認済み\n  \t\t[Sign In With Apple検討]\n\n\tau Home対応\n\t\tau レスポンス待ち。3月上旬にQrioLock対応の最終判断があるそう。\n\t\t\tまだ連絡なし[takeuchi.icon]\n\t\tau ID対応\n\t\t\t[au IDログイン仕様検討] ←編集中です\n\t\t\tau IDログインは、対応必須（KDDIのサービス企画から強い要望あり）\n\t\t\tAuth0のフィジビリとりたいが、そのために必要なClientID/ClientSecretは、auと契約しないともらえない\n\t\t\tSign in with Apple ID対応も併せて必要になりそう。\n\t\t\t\tAuth0でsocial loginはできそうだが、具体的に何の改修が必要か整理する。\n\t\tSDK対応\n\t\t\tauのレスポンス待ち。auアプリでハンズフリーを実装するか、検討中のよう。\n\t\t業務委託の件\n\t\t\t開発の第一希望: 三上さんにお願いする\n\n\thub使用したロック操作で時刻がずれているとエンドレス認証/通信エラーが起こる事象\n\t\tInvalidAuthTimeについてのまとめ: [InvalidAuthTimeについて]\n\t\thubが毎回get_timeしてコマンド送信する案、のセキュリティホールについて相談したいです[takeuchi.icon]\n\t\t\tissue: https://github.com/qrioinc/qb-sl2-fw/issues/53\n\t\t\thubのsubscribeを傍受してコマンドを盗んでも、hub(pubnub)にpublishすることはできない。なぜならpub/sub用のkeyがないから。\n\t\t\t\tしかしhubには、publish keyが（使ってないが）実装はされている。悪意のあるユーザーがこれをハブをdumpして、publish keyを取得することは、できてしまう。。\n\t\t\t宿題\n\t\t\t\tpub/sub keyはどういうかたちで使っているか？\n\t\t\t\t\tハブのコードをみたところ、stg/prdの2種類を準備している。デバイスごとには準備してないようだ\n\t\t\t\t確認して、issue更新しました[takeuchi.icon] https://github.com/qrioinc/qb-sl2-fw/issues/53\n\t\t\t\t\tコマンド時刻とpublishした時刻に6分以上のズレがある場合、hub側でコマンドを破棄する対策で、リプレイアタック耐性をつけられそう[takeuchi.icon]\n\n\tJokerファミリー 明日企画構想（再）です。内容は次週共有します。\n\t\tJokerファミリー: 3号機(Joker)開発に加え、周辺機器の開発、リカーリングビジネスを含めた、中期計画全域。\n\t\t\t回収はFY24の見込み（今年の4月からFY20）。\n\t\t企画構想→5月いっぱいで企画要件を機能要件に落とし込む→設計構想\n\t\t企画要件を整理中: https://docs.google.com/spreadsheets/d/1cGgllTswWDuuqgePUbESWPQGf2rS8-QyYR4T-cQvU0w/edit?ts=5e69a5f3##gid=2095894888\n\t\t座組み。PM: 高橋さん、開発全体とりまとめ: ymtkさん、HW開発リーダー: 楢原さん、SW開発リーダー: 竹内\n\t\t週2で定例。要件すり合わせ。\n\t\tハードは、ロック3号機、super legend、NFC Reader & Key Pad（+ カギカン用の外部電源）。これらの組み合わせで各サービス、ユースケースに対応していくのが基本方針。\n\t\tソフトは、基本的にking互換。既存のサーバー・アプリをjokerファミリー用に改修していく方針。\n\t\t\tアーキやプロトコル含め、SW全てに対して、そうである理由なければならない[takeuchi.icon]\n\t\t\t\tたとえばEd25519にしたのは何でなのか？　とか。プロトコルを同じにする理由とか。\ntable:Jokerファミリー概要\n Project\tjoker\tsuper legend\tknight\tjoker-x\tknight-x\n 概要\t3号機本体\tハンズフリーできるQrioKey\tNFC Reader & Key Pad\t不動産向けjoker\t不動産向けknight\n 市場\ttoC/カギカン\ttoC/不動産\tカギカン\t不動産\t不動産\n\n\t\tmiwaのビルトインロック対応は、jokerファミリープロジェクトに吸収される。joker3号機のモジュールを使って、組み込みロックを作る」という企画をSNCに提案して、SNCから増資してもらう。\n\t\t\t↑をjoker-xと呼んでいるのか、確認しておきます[takeuchi.icon]\n\t\tSaaS移行（PubNub→Google Pub/Sub, Auth0→Firebase Auth）もjokerファミリーで検討するか？　相談する[takeuchi.icon]\n\n\t採用計画（企画開発課）\n\t\tバックエンドエンジニア x1→即戦力で既存サービス(sirius, castle)改修担当\n\t\t\tcastleについて、今後も継続していくのか確認すべき。ビジネス的にも技術的にも失敗しているから。。[takeuchi.icon]\n\t\t\t\t特にcastleはスキル的に採用しづらくなっている。。\n\t\t\tcastleをなぜ使うのか？　という後藤さんの回答に対しては、ゼロからつくったほうがはやい。なんでかと言うと↑だから。\n\t\t開発PM x2→optexのPM、jokerの子PM。SNCから。\n\t\tハードウェアDir x1→楢原さん的or井宮さん的な、ハードをOEM/ODMできる人。SNCから。\n\t\tデザイナー(Dir & 実務)\n\n\n\n\n[*** Project 進捗]\n\n\n[** Sirius]\n\tアカウントの組織管理対応 (5月中旬リリース予定。2/20の要望ヒアリングから、開発期間は3ヶ月)\n\t\tsiriusキャッチアップ＆決まっていない仕様の検討＆見積もり中[takeuchi.icon]\n\t\tI/F決まった。\n\t\t 増える\n\t\t今日から駒井が巻き取った\n\t\t　予想通りカオス\n\t\t　とりあえずnew relic入れる\n\t\t　既存の不具合はちゃんとissueで管理する\n\t\t　設計し直し中\n\t\t　　[TKG案件サービス設計]\n\t\t　　[TKG案件の仕様草案をつくる会議(　 'ᾥ'　 )]\n\t\t　　https://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=967057896\n\t\t　　[TKGヒアリング(2/20)]\n\t\t　竹内がお尻たたく\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n \tSOMCへ解施錠状態のwebhook通知の箇所で認証エラーが記録される度に通知されるのやめてほしいとのことなので改修\n\n[* APIドキュメント改修]\n\t進捗なし\n\n[* CU]\n\tiOS \n\t\tSign In With Apple検討\n\tAndroid\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\n3/4のGM判定でいくつか宿題あり。急ぎではない。\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\tjokerに吸収されるので、miwaとはやらない方向[takeuchi.icon]\n\tこれまで: [Dev MTG 2020/3/9]\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n\n[** Nature]\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t4~5月の見積もりQaaSさんに出してもらっている。出てきたら凛義上げる。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n \tこれってパエリアで作ったやつでしたっけ?\n \t　そうですよ〜\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n\n\n# 新ドメインでML（G Suiteグループ）を作ったメモ\ncreated_at:Mon Jan 19 1970 16:55:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:55:49 GMT+0900 (日本標準時)\n新ドメインでML（G Suiteグループ）を作ったメモ\n文責[ymtk.icon](3/9)\n※悲しみ\n\tgyazoベースで画像を取得しペースト後に元データを消したらこちらも死んでしまったので、ローカルに画像を作った方がいいです\n\t画像じゃなくてgyazoのURLを貼ってしまう模様\n\n[* 経緯]\n\tqrio.me ワイルドカードドメインを取得しようとする場合、 admin@qrio.me アドレスでドメイン所有権確認メールを受け取る必要があるが、普段 qrio.me ドメインはメールに利用していないため現状受け取れる手段がない\n\tG Suiteは2個目以降のドメインを追加してMLを作ることができる。MLの場合は特に追加費用がかからない\n\t\tもちろん、ログインできるアカウントをユーザーとして作る場合は追加費用がかかる\n\t上記の背景から、 admin@qrio.me を受け取れるアドレスを追加費用なく作成した\n\n[** 設定手順]\n[* ドメイン所有権の確認]\n\t経営本部（ゆりさん）から管理アカウント情報をもらう\n\tG Suiteメニュー「管理」を選び、ドメインをクリック\n\tドメインの管理をクリック\n\tドメインやドメインエイリアスを追加をクリック\n\t別のドメインを追加を選択し、ドメイン名を入力する\n\t手順に沿ってドメインの所有権確認を行う。ドメイン名プロバイダはその他でOK\n\tTXTレコードをAWS上のRoute 53に設定する\n\t\tエンジニアに依頼して下さい\n\t数分後に所有権を確認ボタンを押すと、G Suiteから正しくTXTレコードが確認されるので手順に沿って進む\n\tMXレコードの設定を提示されるので、AWS上のRoute 53に設定する\n\t数分後にレコードを確認ボタンを押すと設定完了\n\n[* グループの作成]\n\t管理コンソールからグループを選択\n\tグループを作成をクリック\n\tドメインを選んでグループを作成する。ここで欲しいメアドを指定する\n\tグループの設定で、Qrio外のメンバーが見えないように注意して権限設定する\n\t\t完了画面から、グループの詳細を表示する\n\t\t設定をクリック\n\t\t詳細設定をクリック\n\t\t投稿権限を、ウェブ上のすべてのユーザーに切り替える。これをしておかないと外部からのメールが受け取れない\n\n以上で完了。あとはテストメールを送って受信確認する。\n\n\n\n\n\n\n\n\n\n\n\n\n\n# Dev MTG 2020/3/9\ncreated_at:Mon Jan 19 1970 16:49:46 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:55:42 GMT+0900 (日本標準時)\nDev MTG 2020/3/9\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tチャンさんが3末で契約終了\n\t\t開発で引継ぎすべきものを確認する\n\t\t\tほぼほぼない。タグ、ただいまキットの何かしらの資料。\n\t\t\t社内SEっぽいこと。ソフトウェアのセキュリティまわりは、sonyといっしょに進めなければならない。\n\t\t\tもしそれを巻き取るとなったら、そこそこ工数がかかる\n\t\t\t\tチャンさんは、週1か2でコミットできるが、それだと全部はカバーできない\n\t\t今月中のチャンさんタスクはチャンさんがやって、引継ぎ先の人はCCに入ってもらう。もしそれでもごたつくなら、チャンさんには週1ではいってもらう。引継ぎ業務は資料の場所確認のみ。\n\n\tソニーペイメント(AWS EC2)、SL1のハブAPI(heroku qb-api)のSSL証明書更新\n\t\t有効期限：2020-03-16 なので早めにやる\n\t\t証明書の購入・作成手順: https://qrio.esa.io/posts/274\n\t\t詳細は[Dev MTG 2020/1/27]\n\t\t終わらないので聞いてみたら、Qrioが承認手続きする必要がある、と言われた。\n\t\t\t現在承認作業中\n\t\tやる理由: 最初のhubの通信で使うのと、sonyがうちのを使うから（Lets Encryptではsonyが対応していないからダメらしい）\n\n\tSign in with Apple IDに対応せねばならんかもしれない。\n\t\tまだどうなるかは不明。。\n\t\thttps://developer.apple.com/news/?id=03042020d\n\t\t翻訳: https://qiita.com/akatsuki174/items/77734fb95b74cfa5cdad\n\t\t\tapple ID Sign In with Apple 問題についての対応検討メモ[ymtk.icon]\n  \t\thttps://scrapbox.io/qrio/apple_ID_Sign_In_with_Apple_%E5%95%8F%E9%A1%8C%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%81%AE%E5%AF%BE%E5%BF%9C%E6%A4%9C%E8%A8%8E%E3%83%A1%E3%83%A2\n  \t\t↑対応について、追記しました[takeuchi.icon]\n\n\tau Home対応\n\t\tau レスポンス待ち。3月上旬にQrioLock対応の最終判断があるそう。\n\t\tau ID対応\n\t\t\t[au IDログイン仕様検討] ←編集中です\n\t\t\tau IDログインは、対応必須（KDDIのサービス企画から強い要望あり）\n\t\t\tAuth0のフィジビリとりたいが、そのために必要なClientID/ClientSecretは、auと契約しないともらえない\n\t\t\tSign in with Apple ID対応も併せて必要になりそう。\n\t\t\t\tAuth0でsocial loginはできそうだが、具体的に何の改修が必要か整理する。\n\t\tSDK対応\n\t\t\tauのレスポンス待ち。auアプリでハンズフリーを実装するか、検討中のよう。\n\t\t業務委託の件\n\t\t\t開発の第一希望: 三上さんにお願いする\n\t\t\tymtkさんにも共有しました。\n\n\thub使用したロック操作で時刻がずれているとエンドレス認証/通信エラーが起こる事象\n\t\tInvalidAuthTimeについてのまとめ: [InvalidAuthTimeについて]\n\t\thubが毎回get_timeしてコマンド送信する案、のセキュリティホールについて相談したいです[takeuchi.icon]\n\t\t\tissue: https://github.com/qrioinc/qb-sl2-fw/issues/53\n\t\t\thubのsubscribeを傍受してコマンドを盗んでも、hub(pubnub)にpublishすることはできない。なぜならpub/sub用のkeyがないから。\n\t\t\t\tしかしhubには、publish keyが（使ってないが）実装はされている。悪意のあるユーザーがこれをハブをdumpして、publish keyを取得することは、できてしまう。。\n\t\t\t宿題\n\t\t\t\tpub/sub keyはどういうかたちで使っているか？\n\t\t\t\t\tハブのコードをみたところ、stg/prdの2種類を準備している。デバイスごとには準備してないようだ\n\t\t\t\t確認して、issue更新しました。https://github.com/qrioinc/qb-sl2-fw/issues/53\n\n\tJoker 明日企画構想（再）です。内容は次週共有します。\n\t\t企画構想→いろいろ企画再検討→設計構想（ここまでくると、大幅な設計変更がむずかしくなる）\n\n\n\n[*** Project 進捗]\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\tアカウントの組織管理対応 (2月末　開発完了予定 → ３ヶ月に及ぶ長期開発へ 6月リリース？)\n\t\tI/F決まった。\n\t\t 増える\n\t\tTKGの予算計画にあわせ、2月中に100台確約、3月1に150台、で行きたいというQrioの希望だった\n\t\t　たぶん延びる\n\t\t今日から駒井が巻き取った\n\t\t　予想通りカオス\n\t\t　とりあえずnew relic入れる\n\t\t　既存の不具合はちゃんとissueで管理する\n\t\t　設計し直し中\n\t\t　　[TKG案件サービス設計]\n\t\t　　[TKG案件の仕様草案をつくる会議(　 'ᾥ'　 )]\n\t\t　　https://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=967057896\n\t\t　　[TKGヒアリング(2/20)]\n\t\t　竹内がお尻たたく\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n\n[* APIドキュメント改修]\n\t進捗なし\n\n[* CU]\n\tiOS \n\tAndroid\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\nスケジュール\n\t3/4 (水) GM判定&設計検認　おわり。\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tking-cu Android: 済\n\t\tking-cu iOS:  済\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android:  QA待ち\n \tsirius-bcu Android:  QA待ち\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\t2021/3 リリース (来年度内リリース目標 (FY20内)\n\tQBSにコンサル/PoCお願いする\n\t\tPiACK II\n\t\tCortex-M0(nRF51x)で楕円曲線暗号が解けないなら、king RUで使っているM4(nRF52832)を入れることになる。その際、メカ変更も必要になる。またRAMも小さいが、FW削れば入るかもしれない。\n\t\t\tFW: 楕円曲線は、別のライブラリを使えないか？\n\t\t\t\tもともと、メモリがとれなかったから、M4にした。\n\t\t\t\t楕円の解き方は、メモリを食うか、時間を食うか。。\n\t\t\t\t\tやるなら、時間をかけてメモリ使わないものがないか、調査。\n\t\t\t\t\tあった、これですね。[mikamix.icon]\n\t\t\t\t\t https://github.com/orlp/ed25519\n\t\t\t\t\t \n\tQrioブランドになる（MIWAに製造委託する感じ）。\n\t商流もQrio担当だが、販売戦略は未定。\n\t\t機械代をQrioが買って、Qrioが売る。\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。FWアップデートもスマホからやりたいらしい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\t\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n[** Joker]\n2021/6 発売\n\n[** Sirius用NFCカードリーダー]\n\n[** au HOME]\n\t3末: 受注確定、8月: サービス開始。背景: [Dev MTG 2020/1/15]\n\t詳細は上の方に別途記載した\n\n\n[** Nature]\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t4~5月の見積もりQaaSさんに出してもらっている。出てきたら凛義上げる。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n \tこれってパエリアで作ったやつでしたっけ?\n \t　そうですよ〜\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n auth0のトークン期限のやつ忘れてた。もういっか、\n \tもうエンプラ契約することになったので、検討中断OKです。\n \t移行の話は、したいね〜　というくらいしか、まだ出てない。Jokerで、移行の話が一緒に降ってくるかも。\n\n\n\n# apple ID Sign In with Apple 問題についての対応検討メモ\ncreated_at:Mon Jan 19 1970 16:51:19 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:55:36 GMT+0900 (日本標準時)\napple ID Sign In with Apple 問題についての対応検討メモ\n文責[ymtk.icon](3/16)\n\n[* 経緯]\n\tappleが4末からサードパーティログインがある場合にapple IDでのログインを必須化しようとしている\n\tslackこの辺で話した\n\t\thttps://qrioinc.slack.com/archives/CQ1KFKLAF/p1583383752012300\n\t審査あるんだっけとか禁止行為とかはこれから調査\n\n[* 影響範囲]\n\tauID Login\n\t\tQrio Lock(iOS)\n\tLINE Login\n\t\tQrio ただいまキット(iOS)\n\n[* ユーザー影響、要求など]\n\t新規登録\n\t\tapple IDでアカウントを作成したい\n\t既存登録\n\t\t既にアカウントを持っているが、apple IDでログインしたい\n\t\tメールログインの紐付けだけ消したい、変更したい\n\t\tapple IDの紐付けだけ消したい、変更したい\n\t\tapple IDでしかアカウント登録していないのにiOSからandroidに機種変更したのでログインできない\n\t\t\tandroidでもいけるらしい\n\t\t\t\thttps://techblog.timers-inc.com/entry/android/sign-in-with-apple\n\t\t\t救済(メアドアカウント紐付け)Webアプリケーションを立てて何かしら救う手はありうる\n\t\tapple IDを消してしまったのでログインできない\n\n[* 事業影響]\n\tキャンペーン通知\n\t\tapple IDログインユーザーに連絡できる手段は2つ\n\t\t\tユーザーのメアド\n\t\t\t\tサインインの場合に「メールを共有」している場合\n\t\t\t\t直接メールが届く\n\t\t\tappleが発行する転送メアド\n\t\t\t\tサインインの場合に「メールを共有」していない場合\n\t\t\t\t転送メアド経由でメールが届く\n\tauへの提供\n\t\tSign In with Apple の実装がないとリリースできない恐れがある。納期影響あり。\n\n[* きっとある]\n\tいつもメアドでログインしてるけど、apple IDでログインしてしまって（新規登録フローに入ってしまう）登録が消えたと思い込む\n\n[* 開発対象]\n\t追って検討する\n\t\t2020.03.09 ↓で考えています。[takeuchi.icon]\n\t\t\tking-cu au IDでログイン対応:\n\t\t\t\tAuth0でApple ID Social Loginさせる。見積もり直して、KDDIに一報入れる。\n\t\t\t\tiOS先にやる。Androidは1stでなくてよい。\n\t\t\t\tKDDIさんに交渉してみる「king-cuでau IDログイン機能を入れると、Apple ID対応もしないといけないので、工数が追加でかかりそうですが、1stリリースで見送るとか、できませんでしょうか？」\n\t\t\tただいまキット\n\t\t\t\tやらない。\n\n参考\n\tSign In with Apple をサーバーサイドで実装するときのポイント\n\t\thttps://qiita.com/kiwi26/items/5b8cc53ed8d10a403f00\n\t「Apple でサインイン」の「メールを非公開」\n\t\thttps://support.apple.com/ja-jp/HT210425\n\tSign in with Apple REST API\n \t`https://developer.apple.com/documentation/signinwithapplerestapi\n\n\t既存アプリは2020/4/30までに対応しろやっていう声明↓\n\t\thttps://developer.apple.com/news/?id=03042020d\n\t\t\t対応しないと、Rejectまでされちゃうのか？　→更新できなくなるだけっぽい。\n\t\t翻訳: https://qiita.com/akatsuki174/items/77734fb95b74cfa5cdad\n\n# InvalidAuthTimeについて\ncreated_at:Mon Jan 19 1970 16:49:54 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:49:57 GMT+0900 (日本標準時)\nInvalidAuthTimeについて\n同内容: https://qrio.esa.io/posts/635\n\n[*** 概要]\nロックにコマンドペイロードを送信した際、ペイロードにふくまれる時刻と、ロック自身の時刻にズレがあった場合に返却されるエラーレスポンスのこと。\nBLEパケットのリプレイアタックによる被害を緩和する目的がある。\n\n[* FYI: ekeyに関する時間の概念]\nekeyに関する時間の概念は2つある。 1つはTOVで、もう1つはコマンド送信時に署名に含める現在時刻である。\n前者は「鍵そのものの有効期限」を制限する一方、後者は「リプレイ攻撃に対する耐性を持たせる」ことが目的である。\nCUにおいてinvalid_auth_timeが出た場合に、TOVの範囲内においてロックからget_timeした時間に合わせて再度署名してもセキュリティ上問題ないのはこのためである。\n\n逆に、リプレイ攻撃対策としてチャレンジレスポンス方式を採用すればこのシーケンスは不要となる。\n\n\tSL1ではこの方式が採用されていた。ただし欠点として、ロックは毎回乱数を生成しなくてはならず、CUは、毎回ロックの乱数を確認しなければならなかった。なので、現在時刻を署名に含めることにした。時間はずっと変わるものなので、擬似乱数に近くなる。6分以内にコマンドを送れば認証が通ってしまうが、閉めたロックを6分以内に閉めることにも、開けたロックを6分以内に開けることにも、実質意味はなく問題にはならない、という思想。\n\n[** コマンドペイロードの構造]\nopen/closeコマンド、およびset_timeコマンドの、ペイロード構造を次のとおりとする。\n\n`Payload = Ekey + 認証用time + open|close|set_time(補正用time) + signature`\n 認証用time: ロックがこのコマンドの認証に使用する時刻\n\t補正用time: コマンドのパラメータにふくまれる補正用の時刻\n\n[** InvalidAuthTime関連の仕様]\n[* ロック]\n\t時刻ズレ\n\t\t受信ペイロードの 認証用time と、自身の時刻のズレが -6分 ~ +6分 を超える場合、Invalid Auth Timeとなりコマンドを受理しない。\n\t\tロックの時刻は、一度も補正されないままだと、Max30秒/月 のペースでズレる。\n\t\tロックの時刻は、電池の抜き差しを行うと、ズレる（時刻は永続領域に保存され、6分単位で更新されている）。\n\t時刻ズレ発生契機\n\t\tset_time_permissionをもつEkeyを含むopen/closeコマンド」で一度も解施錠しないまま、10ヶ月以上放置する\n\t\t電池を抜き、10分ほど放置して再び入れる\n\t時刻補正\n\t\tロックの時刻は、「set_time_permissionをもつEkeyを含むopen/close/set_timeコマンド」が受理されたとき、そのパラメータの 補正用time に補正される。\n[* CU]\nコマンドペイロード送信時、InvalidAuthTimeが返却された場合、次のとおり送信をやりなおす。\n\tset_time_permissionをもつキー\n\t\tロックからget_time\n\t\tロックの時刻を 認証用time としてペイロードにのせ、set_timeで時刻補正\n\t\tコマンド再送信\n\tset_time_permissionをもたないキー（ゲストキー）\n\t\tロックからget_time\n\t\tロックの時刻を 認証用time としてペイロードにのせ、コマンド再送信\n[* Fob]\nFob自身は時刻をもたない。\nそのため毎回、ロックからget_timeし、ロックの時刻を 認証用time としてペイロードにのせ、コマンドを送信する。\nFob（内のekey）は時刻を補正する権限をもたない。\n\n[* Hub]\n\t〜v1.2.03\n\t\tサーバーから発行されたekey・時刻・コマンドでそのままペイロードを作成、ロックに送信する。\n\t\tロックのレスポンス内容をハンドリングせずそのままサーバーに返却する。\n\t\tロックの時刻ズレがあるとInvalidAuthTimeが発生する。\n\tv1.3.00〜（？　2020/03/05時点では未定。次の仕様を検討中）\n\t\t毎回ロックからget_timeして、その時刻でペイロードを作成、ロックに送信する。\n\t\tロックのレスポンス内容をハンドリングせずそのままサーバーに返却する。\n\t\tそのためInvalidAuthTimeは発生しえない。\n\n[** InvalidAuthTimeによるユーザー影響]\n[* toC（CUを常用する場合）]\t\n\tユーザー影響：なし\n\t時刻補正の契機：時刻ズレが発生すると、CUの操作でただちに時刻補正される。時刻補正可能なキー（マスターキー・ファミリーキー）をもつユーザーは、少なくとも一人以上存在する\n[* toC（CUを常用しない場合。Hubを使った外部連携など）]\n\tユーザー影響：解施錠失敗、履歴が更新されない\n\t時刻補正の契機：通常のユースケースにおいては、なし。もしこの問題が発生した場合、エンドユーザーにCUで操作してもらうことで現象の回避は可能。なおエンドユーザーがCUをまったく使わない、ということはない。エンドユーザーはCU上でのロック登録が必要になるためである。\n[* カギカン]\n\tユーザー影響：解施錠失敗、履歴が更新されない\n\t時刻補正の契機：通常のユースケースにおいて、ロックの時刻が補正される契機がない。エンドユーザーは、ゲストキーのみで解施錠するため。もしこの問題が発生した場合、BCUでキャリブレーションしてもらうことで現象の回避は可能。BCUでは、キャリブレーション時にInvalidAuthTimeが発生した際、内部的にset_timeしてから、リトライしている。\n\t\t営業的には結構とりづらい手段。エンプラ環境だときつくて、本店の人が全部設定、支店の人は使うだけ（BCU操作しない）のようなパターンがすでにいくつもある。\n\nhubによる遠隔操作でInvalidAuthTimeが発生すると、ロックがInvalidAuthTimeをログに記録、ハブがパケットアップロード、read_logコマンド発行、の無限ループが発生する。この無限ループ発生時の、ロック本体の懸念点は次のとおり。\n\t電池消費量（TODO: 調査中）。著しく消耗することはないと思われる。\n\t本体ログの消失。本体ログは1023件の容量をもつRingBufferである。この現象が発生すると、まだサーバーに上げていないログが上書き更新される可能性が高い。\n\t耐久性。ログを保存しているRAMが想定より早くヘタる可能性がある。RUは、1日10回の解施錠を基準にしている。TODO: これも概算できそう。\n\n[** InvalidAuthTimeの回避案]\n2020/03/05時点では、まだ検討中。\n\n[* ハブがget_timeした時刻でペイロード作成]\n\t\tpros\n\t\t\tInvalidAuthTimeを確実に回避できる。\n\t\t\tQrio HubのFW改修だけで対応可能。\n\t\t\t\t外部連携（サーバーがペイロードに署名する）の場合、Appendixを参照。\n\t\tcons\n\t\t\topen/closeしなければ、ロックの時刻は補正されないため、TOVの検証時に時刻ズレの影響をうける。\n\t\t\t具体的には、ゲストキーの有効期限が、アプリ上での見え方と一致しなくなる。\n\t\t\tTOVに限っていえば、定期的な時刻補正が必要になる。\n話が逸れるが、この問題は、時刻認証方式をチャレンジレスポンス方式に置き換えたとしても、残る。\n\n[* ハブ経由でset_timeする]\nイマイチ。\n\tpros(?)\n\t\t時刻認証エラーを、ほぼリアルタイムで防止できる。\n\t\tサーバーが発行するopen/closeコマンドによる時刻補正が不要になる（補正用の時刻をパラメーター含めなくてよくなる）。\n\t\tset_timeコマンドペイロードを 認証用time と 補正用time の関係に気をつけておけば、リプレイアタック耐性が、僅かながら向上する。\n\tcons\n\t\tset_timeを発行する契機がない（ハブ経由で返却されたロックレスポンスを確認して、InvalidAuthTimeだったときくらいしかないが、それもイマイチ）。\n\t\tset_timeするには、ロックの現在時刻を取得しなければならない。\n\n[*** リプレイアタックとセキュリティ]\n[** ロックの仕様]\nロックはリプレイ攻撃対策として、自身の時計と6分以上ズレたコマンドは受理しない。そうでない場合、その他の検証に問題がなければコマンドを受理する。コマンドを受理した場合、ロックは、 補正用time の時刻に、自身の時刻を合わせる。\n\nset_timeコマンド自体も、認証のための時刻をペイロード内にふくむ。\n\n[** open|close|set_timeコマンドペイロードと、リプレイアタック耐性]\nペイロードの内容により、次のとおり異なる。\n\t|認証用time - 補正用time| > 6分 のペイロード\n\t\tこのペイロードを再送しても、このペイロードのコマンドは受理されない。\n\t|認証用time - 補正用time| <= 6分 のペイロード\n\t\tこのペイロードを |認証用time - 補正用time| から6分以内に再送すると、このペイロードのコマンドは受理される。\n\t\t\t6分インターバルで再送をつづけることで、このペイロードのコマンドは受理されつづける。ロックの時刻は、その 補正用time に束縛されつづける。\n\t\t\t「このペイロードの 認証用time との差分が6分以内である 認証用time を持つ、別の任意のペイロード」のBLEパケットをキャプチャする。前者を6分インターバルで再送しながら、任意のタイミングで後者を再送すると、後者のペイロードのコマンドは受理される。\n[* open]\n6分以内の間隔での連続実行は、鍵を開けられ続けることになる。\ntoCの場合、ユーザーは家にいるはずなので、気づくことができる。\ntoBの場合、もしくはtoCでもハブで遠隔操作した場合、ハブは正常に稼働していれば解錠の旨が通知される。が、通知によってセキュリティを担保しているわけではない。\n\n[* close]\n6分以内の間隔での連続実行は、鍵を閉められ続けるだけなので、実質的な被害は発生しないと考える。\n\n[* set_time]\n|認証用 - 補正用time| <= 6分 のペイロードが作成されなければ、問題ない。\n\tそして通常、そのようなペイロードは作成されない。CUでは、InvalidAuthTimeの発生を契機にset_timeコマンドを生成している。そのためCUで生成されるset_timeコマンドのペイロードは、 認証用time と 補正用time の差分が6分を超えているハズである。\n\n\t（可能性はないが）仮に |認証用 - 補正用time| <= 6分 のペイロードが作成された場合、それをリプレイアタックされつづけても、それにユーザーが気づくことはむずかしい。そのset_timeとopenの両方がキャプチャされると、任意のタイミングでopenが実行されうる。\n\n[** その他のコマンドペイロードとリプレイアタック耐性]\n|read_log|read_status| change_settings|calibrate| が該当する。\n上述の方法でロックの時刻を束縛されなければ、6分を超えた場合のペイロード再送は受理されない。\nもしこれらがリプレイアタックされコマンドが受理されても、実質被害はない。\n\n[*** Appendix]\n[** InvalidAuthTime回避策（MANOMA/NUROの場合）]\n次のとおり。\n[https://gyazo.com/a8b8812a04cd6afe3177bac4d2cb816b]\n\n# sirius-ep-console Heroku環境構築メモ\ncreated_at:Mon Jan 19 1970 16:45:44 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:45:44 GMT+0900 (日本標準時)\nsirius-ep-console Heroku環境構築メモ\n文責:[ymtk.icon](2020/3/2)\n\n[* 概要]\n\tたまにしかやらないのでメモしておく。\n\t\tawsはこちら\n\t\t\t[Sirius-ep-console ビルド環境構築メモ]\n\n[* 主な手順]\n\tCORSの設定\n\t\tどのURLからapiサーバーにアクセスするのかを登録する必要がある。今回の対象はsirius-apiとauth0を設定\n\t\t\tローカルでポート変える場合も必要\n\t環境変数の設定\n\t\tローカルではdockerに設定があるがHeroku上には当然ないので設定する\n\t\t設定した後で再度ビルド（再度デプロイするのが早い）する必要がある\n\t\t\tビルド内容に環境変数が含まれているので、本番環境ではstg環境をpromoteするのではなく新たにデプロイする必要がある\n\tドメイン\n\t\tこの時点ではまだいいが、メールを飛ばすなどする時期には決めておく\n\n##sirius #Sirius引き継ぎメモ\n\n# Sirius-ep-console ビルド環境構築メモ\ncreated_at:Mon Jan 19 1970 16:45:23 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:45:30 GMT+0900 (日本標準時)\nSirius-ep-console ビルド環境構築メモ\n文責:[ymtk.icon](2020/3/2)\n\n[** 概要]\n\tsirius-consoleおよびapiの環境をsirius-ep-consoleで2020年のタイミングだとどう構築されるのかを説明する\n\tここの実行結果がgithub、Herokuに反映される\n\n[* 役割]\n[* container]\n\tdocker環境でビルドしてエラーがないかを見ている。通常はここでビルドしたものを本番に反映するなどするが、そういう用途とはしていない。\n\tビルド結果はECRに投げている。開発環境でdocker-compose pullして降ってくるのはこれ\n\tvueの場合はビルドエラーすると処理が止まるので、ここでエラーしている場合は当然本番でも利用できない\n\n[* lint]\n\tcontainerのビルド結果をもとにlintする\n\tcontanerが終わったらlint、の順で発火しないと本来はおかしいが、調整できていない\n\n[*** 構築手順]\n[* ざっくりとした流れ]\n\t元ソースの`buildspec.yml`にある`APP_NAME`を書き換える\n\tECRでリポジトリを作る\n\t\tリポジトリ名は上記のAPP_NAME\n\tCodebuildでcontainerの設定を作る\n\t\tエラーなく実行できることを確認\n\t\tハマりどころは下記\n\t\t\tcontainerのビルドイメージがECRに正しくpushされない\n\t\t\tdocker特権にチェックを入れ忘れていて、dockerコマンドが使えない\n\tCodebuildでlintの設定を作る\n\t\tエラーなく実行できることを確認\n\t\tハマりどころは下記\n\t\t\tECRイメージのタイプにlinuxを選ばず別のものにしてしまう\n\t\t\t環境をカスタムイメージにしない（新たに作ってしまって appフォルダがないと怒られる）\n[** ECR手順]\n\tECRを開いて、[* リポジトリを作成]をクリック\n\t\thttps://ap-northeast-1.console.aws.amazon.com/ecr/repositories?region=ap-northeast-1\n\t\t\t[https://gyazo.com/e77aedb062b35eba4e4cdd3b7ce69cb0]\n\t名前をつけて（sirius-console/app など）[* リポジトリを作成]をクリック\n\t\t他の設定は無効のままでOK\n\t\t[https://gyazo.com/e4b66d56ebf16cde8810ea498c4f5fe0]\n\tECRについてはこれでOK\n\n[** Codebuild手順]\n[* Container編]\n\tCodebuildを開いて、[* ビルドプロジェクトを作成する]をクリック\n\thttps://ap-northeast-1.console.aws.amazon.com/codesuite/codebuild/projects?region=ap-northeast-1\n\t\t[https://gyazo.com/029f7909988314b9ec176b3b3a8c68ed]\n\t各設定は下記の通り\n\t\tプロジェクトの設定\n\t\t\t名前をつければOK。ビルドバッジはお好みで。\n\t\t送信元\n\t\t\tGithub＞Githubアカウントのリポジトリ\n\t\t\tgithub該当リポジトリのURL\n\t\t環境\n\t\t\tマネージド型イメージ\n\t\t\tオペレーティングシステム\n\t\t\t\tUbuntu\n\t\t\t\tランタイム\n\t\t\t\t\tStandard\n\t\t\t\tイメージ\n\t\t\t\t\taws/codebuild/standard:3.0 (基本的に最新)\n\t\t\t\t環境タイプ\n\t\t\t\t\tLinux\n\t\t\t\t特権付与\n\t\t\t\t\t「Docker イメージを構築するか、ビルドで昇格されたアクセス権限を取得するには、このフラグを有効にします」にチェック\n\t\t\tサービスロール\n\t\t\t\t既存のサービスロール\n\t\t\t\t\tロールの設定はのちほど。最初新規で作ってもよい。\n\t\t\t\t\t\tその上で、 `AmazonEC2ContainerRegistryPowerUser`を追加する\n\t\t\t\t\tここにあるようにECRを操作できるロールのアタッチが必要\n\t\t\t\t\t\thttps://qiita.com/icck/items/bcf118a38c2a691a837d\n\t\tBuildspec\n\t\t\tbuildspecファイルを利用する\n\t\t\t\tAPP_NAMEは修正しておく\n\t\tアーティファクト\n\t\t\t\tアーティファクトなし\n\t\tログ\n\t\t\t設定不要\n\n[* lint編]\n\t各設定は下記の通り\n\t\tプロジェクトの設定\n\t\t\t名前をつければOK。ビルドバッジはお好みで。\n\t\t送信元\n\t\t\tGithub＞Githubアカウントのリポジトリ\n\t\t\tgithub該当リポジトリのURL\n\t\t環境\n\t\t\t[* カスタムイメージ]\n\t\t\t環境タイプ\n\t\t\t\tLinux\n\t\t\t\tイメージレジストリ\n\t\t\t\t\tAmazon ECR\n\t\t\t\tECRアカウント\n\t\t\t\t\t自分のECRアカウント\n\t\t\t\tAmazon ECRレポジトリ\n\t\t\t\t\tsirius-ep-console/app\n\t\t\t\t\t\t最初に作ったECRレポジトリ\n\t\t\t\tAmazon ECRイメージ\n\t\t\t\t\tlatest\n\t\t\t\t認証情報プルイメージ\n\t\t\t\t\tプロジェクトサービスロール\n\t\t\t\t特権付与\n\t\t\t\t\t不要\n\t\t\t\tサービスロール\n\t\t\t\t\t既存のサービスロール\n\t\t\t\t\t\tロールの設定はcontainerと同じもの\n\t\tBuildspec\n\t\t\tbuildspecファイルを利用する\n\t\t\t\tAPP_NAMEは修正しておく\n\t\t\t\tbuildspec.lint.yml ファイルを指定\n\t\tアーティファクト\n\t\t\t\tアーティファクトなし\n\t\tログ\n\t\t\t設定不要\n\n##Sirius #Sirius引き継ぎメモ\n\n\n# ロックの時刻ズレにかんするまとめ\ncreated_at:Mon Jan 19 1970 14:09:47 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:39:39 GMT+0900 (日本標準時)\nロックの時刻ズレにかんするまとめ\n\n[*** ロックの仕様]\n受信コマンドの時刻と、自身の時刻のズレが -5分 ~ +5分 を超える場合、Invalid Auth Timeとなりコマンドを受理しない\nロックの時刻は、一度も補正されないままだと、Max30秒/月 のペースでズレる\nロックの時刻は、電池の抜き差しを行うと、ズレる（時刻は永続領域に保存され、5~6分単位で更新されている）\n\n\n[** Invalid Auth Timeになるかもしれない条件]\n\t「set_time_permissionをもつEkeyを含むopen/closeコマンド」で一度も解施錠しないまま、10ヶ月以上放置して、コマンドを投げる\n\t\tたとえばゲストキー用のEkeyは、set_time_permissionを含まない。\n\t電池を抜き差ししてコマンドを投げる\n\n\n[** 時刻が補正される契機]\n\t「set_time_permissionをもつEkeyを含むopen/closeコマンド」が受理されたとき、コマンドのパラメータの時刻がロックにセットされる\n\t「set_time_permissionをもつEkeyを含むset_timeコマンド」が受理されたとき、コマンドのパラメータの時刻がロックにセットされる\n\t\tKing RU Command仕様\n\t\t\thttps://docs.google.com/spreadsheets/d/1lmNL0MHV5juvGfdaDkeuFTjYLQo7YFk3iltdUFyCR14/edit##gid=1271907145\n\t\tKing Ekeyプロトコル\n\t\t\thttps://docs.google.com/spreadsheets/d/1kiJ4C5GHQhbnF8UPL3s_18YmmCx5a-0pkZFvmbCiehc/edit##gid=1553210121\n\n\n[*** 復旧方法]\n\tCUで、マスターキーorファミリーキーでBLE解施錠を行う\n\n\n[*** ユーザーがハマる可能性]\nまず、Qrio Lockを導入したのに10ヶ月以上解施錠しないで、その後リモート解施錠して文句を言われるようなケースは考えづらい。\n考える必要があるとすれば、（最短で半年に1回の）電池交換時。\n\n[** Qrio]\nTODO: ちょっと考える\n\n[** MANOMA]\nTODO: ちょっと考える。ただし、次の違いがある\n\tCUを普段使用していない可能性があり、そうなるとBLE解施錠する機会がない\n\t顧客のリテラシーが低い\nよって、運用でのカバーがむずかしいかもしれない\n\n\n[*** もしMANOMAで時刻補正するなら]\n\n[** (参考) CUでの回避方法]\n[* 1. 時刻を補正してから解施錠する (マスターキー / ファミリーキー)]\n\topen/closeコマンド送信 -> Invalid Auth Time\n\tset_timeコマンド送信 -> OK(補正される)\n\topen/closeコマンド送信 -> OK\n\n[* 2. 時刻の補正なしで解施錠する (ゲストキー) ]\n\topen/closeコマンド送信 -> Invalid Auth Time\n\tget_timeコマンド送信 -> ロックの現在時刻を取得\n\tコマンドの時刻を更新して署名しなおす\n\t作りなおしたopen/closeコマンド送信 -> OK\n\n\n[** 現状のMANOMAのコマンド実行の流れ]\nking api  <--  manoma server : コマンド要求\nking api  -->  manoma server : コマンド作成 (Ekey + 時刻 + コマンド)、返却\nmanoma server : もらったコマンドに署名\nmanoma server --> AIHGW : コマンド発行\nAIHGW  -->  Lock : コマンド実行\nmanoma server --> AIHGW : 結果を返す\nking api  <--  manoma server : 結果のパースを要求\nking api  -->  manoma server : 結果をパースして返す\n\n[** MANOMAに実装する場合の設計]\nTODO: \n\n\n[*** セキュリティ上のリスク]\nset_timeと、その時刻の+-5分以内の解施錠のBLEコマンドを両方盗まれる = いつでも開く鍵を盗まれる\nTODO: 洗い出しする\n\n\nこちらも参照ください:\n[ロックの時刻ズレに関する回答と補足]\n\n# Dev MTG 2020/2/25\ncreated_at:Mon Jan 19 1970 16:36:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:36:49 GMT+0900 (日本標準時)\nDev MTG 2020/2/25\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tau Home対応\n\t\tau ID対応\n\t\t\t[au IDログイン仕様検討] ←編集中です\n\t\t\tau IDログインは、対応必須（KDDIのサービス企画から強い要望あり）\n\t\t\tAuth0のフィジビリとりたいが、そのために必要なClientID/ClientSecretは、来月にならないと（auと契約しないと）もらえない\n\t\tSDK対応\n\t\t\tauのレスポンス待ち。auアプリでハンズフリーを実装するか、検討中のよう。\n\t\t業務委託の件\n\t\t\t開発の第一希望: 三上さんにお願いする\n\t\t\tymtkさんにも共有しました。\n\n\tguardian\n\t\tFWアップデートで、king-apiの改修が必要\n\t\thttps://github.com/qrioinc/king-api/issues/613\n\t\t\tご対応いただき、ありがとうございます！\n\t\t\t今週で動作確認＆問題なければデプロイしたいと思います。\n\n\thub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象\n\t\tMANOMA (SNC) からも指摘された\n\t\t修正案（hubを使用しても時刻ズレエラーにならないシーケンス）は、昨年末に検討・SNCにも共有済み\n\t\t\tking-apiとhub(MANOMA)の修正が必要\n\t\t\t\thub(MANOMA): ロックにコマンドを送信する際、毎回getTimeも行い、レスポンスに含める\n\t\t\t\tking-api: コマンド発行APIのパラメータに時刻を追加し（optional）、時刻を受け取った場合、その時刻でコマンドを生成するよう修正する。\n\t\t\t\tSNCサーバー: 時刻ズレのエラーが発生した場合、hub(MANOMA)からのレスポンスに含まれる時刻を使ってコマンドを再発行する\n\t\tQrioとしてはまだ対策してない。いつ対策するかも決めていない\n\t\t\thub(MANOMA)側の修正は、直近で竹内が対応しようと思います。\n\t\t\tking-apiの改修については、相談させてください。\n\t\t\t\tking-apiの改修自体は軽い（1日）\n\n\tJoker 明日企画構想です。内容は次週共有します。\n\t\t企画構想→いろいろ仕様検討→設計構想（ここまでくると、大幅な設計変更がむずかしくなる）\n\n\n[*** 備忘録]\n\tソニーペイメント(AWS EC2)、SL1のハブAPI(heroku qb-api)のSSL証明書更新[takeuchi.icon]\n\t\t有効期限：2020-03-16 なので早めにやる\n\t\t証明書の購入・作成手順: https://qrio.esa.io/posts/274\n\t\t詳細は[Dev MTG 2020/1/27]\n\t\tチャンさんに凛義通してもらってる\n\t\t\t通ったので、チャンさん作業おねがいします！\n\n\n[*** Project 進捗]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\nDevice開発[takeuchi.icon]\n\tたぶん終わり。\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\tアカウントの組織管理対応 (2月末　開発完了予定 → ３ヶ月に及ぶ長期開発へ 6月リリース？)\n\t\tI/F決まった。\n\t\t 増える\n\t\tTKGの予算計画にあわせ、2月中に100台確約、3月1に150台、で行きたいというQrioの希望だった\n\t\t　たぶん延びる\n\t\t今日から駒井が巻き取った\n\t\t　予想通りカオス\n\t\t　とりあえずnew relic入れる\n\t\t　既存の不具合はちゃんとissueで管理する\n\t\t　設計し直し中\n\t\t　　[TKG案件サービス設計]\n\t\t　　[TKG案件の仕様草案をつくる会議(　 'ᾥ'　 )]\n\t\t　　https://docs.google.com/spreadsheets/d/13VA6kjV73xeJSbxGYyh0vFGbxrFEZaLqkw4q45iTxD0/edit##gid=967057896\n\t\t　　[TKGヒアリング(2/20)]\n\t\t　竹内がお尻たたく\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n\n[* APIドキュメント改修]\n\t進捗なし\n\n[* CU]\n\tiOS \n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t\tダイレクトシェアの不具合修正\n\tEU圏の配布を停止しますた。\n \t北米とチャイナも止めたいんだけれども、これは事業部判断なので、これから共有する。\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\nスケジュール\n\t3/4 (水) GM判定&設計検認\n\t資料まとめ中\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tking-cu Android: 済\n\t\tking-cu iOS: QA待ち\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android: まだ\n \tsirius-bcu Android: まだ\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\t2021/3 リリース (来年度内リリース目標 (FY20内)\n\tQBSにコンサル/PoCお願いする\n\t\tPiACK II\n\t\tCortex-M0(nRF51x)で楕円曲線暗号が解けないなら、king RUで使っているM4(nRF52832)を入れることになる。その際、メカ変更も必要になる。またRAMも小さいが、FW削れば入るかもしれない。\n\t\t\tFW: 楕円曲線は、別のライブラリを使えないか？\n\t\t\t\tもともと、メモリがとれなかったから、M4にした。\n\t\t\t\t楕円の解き方は、メモリを食うか、時間を食うか。。\n\t\t\t\t\tやるなら、時間をかけてメモリ使わないものがないか、調査。\n\t\t\t\t\tあった、これですね。[mikamix.icon]\n\t\t\t\t\t https://github.com/orlp/ed25519\n\t\t\t\t\t \n\tQrioブランドになる（MIWAに製造委託する感じ）。\n\t商流もQrio担当だが、販売戦略は未定。\n\t\t機械代をQrioが買って、Qrioが売る。\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。FWアップデートもスマホからやりたいらしい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\t\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n[** Joker]\n2021/6 発売\n\n[** Sirius用NFCカードリーダー]\n\n[** au HOME]\n\t3末: 受注確定、8月: サービス開始。背景: [Dev MTG 2020/1/15]\n\t詳細は上の方に別途記載した\n\n\n[** Nature]\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t2月、3月のアプリの工数を確認する\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n auth0, postgres, aws free tierからメンテとかのメールが来てる\n \tpostgresは、いつメンテが走るか、時間だけ確認しておく\n \tawsは無視、というか止めてもいいかも\n \tauth0\n \t https://support.auth0.com/notifications/5e20da43cf8669000b5dc1e5\n\n\n\n# au IDログイン仕様検討\ncreated_at:Mon Jan 19 1970 16:15:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:36:35 GMT+0900 (日本標準時)\nau IDログイン仕様検討\n\n※ 只今編集中\n\n\n[** KDDIからもらったシーケンス図]\nhttps://docs.google.com/presentation/d/1uDzXpy2eMvT5aGAOY3CDcFMZxgTBYTq4cjpFNNQvw2k/edit##slide=id.p3\n\tヽ(`Д´)ﾉ\n\tSCIDとは、au Homeの契約IDこと\n\t\t有効期限はないらしいので、単なるUUIDと思われる\n\n\n[** Auth0 Custom Social Connectionsについて]\nAuth0 Custom Social Connectionsが使えるか？　フィジビリとる必要あり\n\thttps://auth0.com/docs/extensions/custom-social-extensions\n\t使える：au ID/Passwordから、Auth0のアクセストークンがもらえるので、そのままking-apiを叩ける\n\t使えない：au ID/Passwordから、king-api自ら、auth0のユーザーをこしらえて、auアカウントと紐づけねばならない\n\t\tその実装が大変\n\t\tユーザーのメールアドレスを知る機会がなくなる\n これを使用しないと、au IDログインが成立しないのではないか\n\n\n\n[** CUからau IDでログイン]\n\tau Homeサーバーのアクセストークンを取得するために、auの認証（cocoa）からau IDでログインする\n\t\tking-apiは裏でAuth0ユーザーも抱える。このときCustom Social Connectionsが使えたら、うれしい\n\t\t結局、auサーバー用のアクセストークンと、Auth0のアクセストークンが2つ必要？\n\t\t\tこの辺、こんがらがってるですヽ(`Д´)ﾉ\n\n[** CUでロック登録]\n\t登録時、au Homeサーバーを叩いてSCIDを取ってくる\n\tSCIDと、作ったuserに紐づける\n\t\tSCID失効のイベントが飛んで来たら、\n\n[** au Homeアプリがking-apiを叩く方法]\n1. Auth0 Custom Social Connectionsで取得したアクセストークンを使う\n\t\tこれができれば、SCIDを使わずに、au IDから直接Auth0ユーザーを特定できる\n\t\tしかしau Homeアプリ内で「au IDでログイン（Auth0 Custom Social Connections用）」させることになる\n\t\t\tUX的に厳しいのでは\n2. ロックの登録時にau Homeサーバーから取得したSCID でやる\n\t\tKDDI側の希望する方式\n\t\tこの方式になった場合、KDDIの公開鍵をもらって、うちで検証する仕組みにする。別途API生やす。その工数プラスする。\n\n\n ログインとSCID連携は別\n auでログインした時に取得した情報を使用してSCID連携ができるのであれば、ログインは一度で済む\n いずれにせよ custom social connection のフィジビリが必要\n\nau -> qrio\n バックドアを設けて何でも通す\n 先方のアプリでQrioにログインしてもらう\n au認証でAuth0からトークンを取得し、それで叩いてもらう\n\n\n\n\tKDDI に認証シーケンスの質問をして、返答あり\n\t\thttps://docs.google.com/presentation/d/1s945sU7br_J9bczRDEUCx9GEFaVehhYeM9NiPJOGcfE/edit##slide=id.p1\n\t\tQrio用のClientID/ClientSecretは発行してもらえそう\n\t\t認可コード取得用のリダイレクトURLも取得できるらしい\n\t\t今日、↑の具体的なやり方を聞いて、フィジビリ検証を進める\n\t\t\tシーケンスは、Auth0内でSCIDの取得ができるんならやってもいいが、必ずしもそうする必要はない（一回、king-apiに投げて、）\n\t\t\tAuth0で、SCIDを取れるか？　とったSCIDをサーバーに返せるか？\n\t\t\t両方できるならいいが、めんどくさかったらking-apiでやればいい\n\t\t\tid_token(auth0) + SCID or id_token (au)\n\t\t\tKDDI質問の回答: id_tokenのみでパラメータなし。認証もid_tokenで。\n\t\tSCIDの取得（auのid_tokenを取得する）と、auth0のid_tokenを取ることは、テクニカルには、別\n\t\tなので、auログインってそもそも必要なのか？　auはまだしもQrioにとって欲しいか？　まあなくていい\n\t\t一番やりたいのは、SCID連携。これは可能と思われる。\n\t\tただし、それに合わせて「au IDでQrioアプリにログインする」必要性はあるのか？　一緒にやってできるかもしれないが、開発としては入れないでいいなら楽\n\t\tQrioで認識合わせする\n\t\tcocoa経由でのAuth0 Custom Social Connectionsログインのフィジビリ確認\n\t\t\tこれできないとauログイン自体できない。これが困難であることは、社内で共有すべし\n\t\t↑ができたら、Auth0 Custom Social Connectionsのフックで、auからSCIDを取得できてCUに返せるかどうか、フィジビリ確認\n\t\tClientID/ClientSecretは、早くくれと要求しておく。\n\t\tリダイレクトURLは、いったん開発用のURLつくって試す。Auth0で試す前にやっておく。\n\n\n\n\n\n\n# Dev MTG 2020/2/17\ncreated_at:Mon Jan 19 1970 16:25:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:25:14 GMT+0900 (日本標準時)\nDev MTG 2020/2/17\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tau Home対応\n\t\tQrio側の開発工数を概算した\n\t\thttps://docs.google.com/spreadsheets/d/1O5ARM-S5Ur6YRN2M9Dd6q_Kbvambz1aq2l2RgjIBg50/edit##gid=1343356605\n\t\t\tサーバー: 3.0人月、開発期間は3月下旬から、3.5ヶ月\n\t\t\t\t実装量が最も多いパターンで、ひとまず3.0人月\n\t\t\t\tKDDIの認証の仕組みを今質問中。この内容によって作業内容が変わる\n\t\t\t\tAuth0のCustom Social Connectionを利用できれば、作業が減る\n\t\t\tアプリ: 2.0人月 x 2　開発期間は2.5ヶ月\n\t\t\t\t少々盛り気味。\n\t\t\t\tiOS: hiroさん、Android: 竹内、hiroさん\n\t\t\t\tiOS/Androidはパラレル開発する予定だけど、hiroさんにも手伝ってもらうので、開発期間としては2.5人月を希望している\n\t\tau ID認証について仕様検討中\n\t\t\t[au IDログイン仕様検討]\n\t\t\tKDDI に認証シーケンスの質問をして、返答あり\n\t\t\t\thttps://docs.google.com/presentation/d/1s945sU7br_J9bczRDEUCx9GEFaVehhYeM9NiPJOGcfE/edit##slide=id.p1\n\t\t\t\tQrio用のClientID/ClientSecretは発行してもらえそう\n\t\t\t\t認可コード取得用のリダイレクトURLも取得できるらしい\n\t\t\t\t今日、↑の具体的なやり方を聞いて、フィジビリ検証を進める\n\t\t\t\t\tシーケンスは、Auth0内でSCIDの取得ができるんならやってもいいが、必ずしもそうする必要はない（一回、king-apiに投げて、）\n\t\t\t\t\tAuth0で、SCIDを取れるか？　とったSCIDをサーバーに返せるか？\n\t\t\t\t\t両方できるならいいが、めんどくさかったらking-apiでやればいい\n\t\t\t\t\tid_token(auth0) + SCID or id_token (au)\n\t\t\t\t\tKDDI質問の回答: id_tokenのみでパラメータなし。認証もid_tokenで。\n\t\t\t\tSCIDの取得（auのid_tokenを取得する）と、auth0のid_tokenを取ることは、テクニカルには、別\n\t\t\t\tなので、auログインってそもそも必要なのか？　auはまだしもQrioにとって欲しいか？　まあなくていい\n\t\t\t\t一番やりたいのは、SCID連携。これは可能と思われる。\n\t\t\t\tただし、それに合わせて「au IDでQrioアプリにログインする」必要性はあるのか？　一緒にやってできるかもしれないが、開発としては入れないでいいなら楽\n\t\t\t\tQrioで認識合わせする\n\t\t\t\tcocoa経由でのAuth0 Custom Social Connectionsログインのフィジビリ確認\n\t\t\t\t\tこれできないとauログイン自体できない。これが困難であることは、社内で共有すべし\n\t\t\t\t↑ができたら、Auth0 Custom Social Connectionsのフックで、auからSCIDを取得できてCUに返せるかどうか、フィジビリ確認\n\t\t\t\tClientID/ClientSecretは、早くくれと要求しておく。\n\t\t\t\tリダイレクトURLは、いったん開発用のURLつくって試す。Auth0で試す前にやっておく。\n\t\t業務委託の件\n\t\t\t開発の第一希望: 三上さんにお願いする\n\t\t\tymtkさんにも共有しました。\n\n\tguardian\n\t\tFWアップデートで、king-apiの改修をお願いしたいです。直前ですみません。\n\t\thttps://github.com/qrioinc/king-api/issues/613\n\t\t\t20日までにできることは約束できない\n\t\t\t19日で作業をお願いして、できれば\n\t\t\t\t無理そうならDeferredにする\n\n\n\n[*** 備忘録]\n\tソニーペイメント(AWS EC2)、SL1のハブAPI(heroku qb-api)のSSL証明書更新[takeuchi.icon]\n\t\t有効期限：2020-03-16 なので早めにやる\n\t\t証明書の購入・作成手順: https://qrio.esa.io/posts/274\n\t\t詳細は[Dev MTG 2020/1/27]\n\t\tチャンさんに凛義通してもらってる\n\n\n[*** Project 進捗]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\nDevice開発[takeuchi.icon]\n\tQA中\n\t作業引継ぎ中。ようやく終わりが......！\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tI/F決まった。\n\t\tTKGとスケジュールのネゴ中。ネゴは2/6（木）。お上の方がいらっしゃる。デモする。\n\t\t　西川さんが作ったフローでは差し戻された。作り直し。\n\t\tTKGの予算計画にあわせ、2月中に100台確約、3月1に150台、で。\n\t\t今日から駒井が巻き取った\n\t\t　予想通りカオス\n\t\t　とりあえずnew relic入れる\n\t\t　既存の不具合はちゃんとissueで管理する\n\t\t　設計し直し中\n\t\t　　[TKG案件サービス設計]\n\t\t　　[TKG案件の仕様草案をつくる会議(　 'ᾥ'　 )]\n\t\t　竹内がお尻たたく\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n\n[* APIドキュメント改修]\n\tdotDさん向けに公開した。\n\t\tdotDさんと、今日話する。車のキーシェアやる話らしいが、詳細はよくわかってない\n\t\thttps://docs.google.com/presentation/d/1LFTgNNh9hgpTELEJdSs2zHKci4f25gwi9Ar_9cmsFO0/edit##slide=id.p11\n\n[* CU]\n\tiOS \n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t\tダイレクトシェアの不具合修正\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\nスケジュール\n\t2/7 (金) CI環境構築＆GMCリリース -> done\n\t2/12 (水) bootloaderは、再書き込み可能にする。リスクアセスメント結果（RAツールの入力内容）の再確認。 \n\t\tリスクアセスメント結果（RAツールの入力内容）の確認は、後日。\n\t~ 2/14 (金) SQA完了、耐久試験完了、GMリリース\n\t2/17 (月) ~ もし問題あったら対応、GM判定用資料作成（Alexa解錠タイムアウト問題は整理済み。文面まとめる）\n\t3/5 (木) GM判定&設計検認\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tking-cu Android: 済\n\t\tking-cu iOS: PRまで出てる[h.yamaguchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android: まだ\n \tsirius-bcu Android: まだ\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\t2021/3 リリース (来年度内リリース目標 (FY20内)\n\tQBSにコンサル/PoCお願いする\n\t\tPiACK II\n\t\tCortex-M0(nRF51x)で楕円曲線暗号が解けないなら、king RUで使っているM4(nRF52832)を入れることになる。その際、メカ変更も必要になる。またRAMも小さいが、FW削れば入るかもしれない。\n\t\t\tFW: 楕円曲線は、別のライブラリを使えないか？\n\t\t\t\tもともと、メモリがとれなかったから、M4にした。\n\t\t\t\t楕円の解き方は、メモリを食うか、時間を食うか。。\n\t\t\t\t\tやるなら、時間をかけてメモリ使わないものがないか、調査。\n\t\t\t\t\tあった、これですね。[mikamix.icon]\n\t\t\t\t\t https://github.com/orlp/ed25519\n\t\t\t\t\t \n\tQrioブランドになる（MIWAに製造委託する感じ）。\n\t商流もQrio担当だが、販売戦略は未定。\n\t\t機械代をQrioが買って、Qrioが売る。\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。FWアップデートもスマホからやりたいらしい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\t\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\t4月末までPoCやって振り返りして、事業化するかどうか決めるが、その際に求められる事項について、Qrio/QBSで認識ズレがありそうだったので、明日ymtkさんとQBSと話しにいく\n\n[** Joker]\n2021/6 発売\n[* フラグシップ]\n\t近接センサーつき\n[* 廉価版]\n\tフラグシップと金型は一緒\n[* SuperLegend]\n[* NFCカードリーダー(MIWAと別)]\n[* 暗証番号パネル]\n\n[** Sirius用NFCカードリーダー]\n\n[** au HOME]\n\t3末: 受注確定、8月: サービス開始。背景: [Dev MTG 2020/1/15]\n\t詳細は上の方に別途記載した\n\n\n[** Nature]\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t2月、3月のアプリの工数を確認する\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n auth0, postgres, aws free tierからメンテとかのメールが来てる\n \tpostgresは、いつメンテが走るか、時間だけ確認しておく\n \tawsは無視、というか止めてもいいかも\n \tauth0\n \t https://support.auth0.com/notifications/5e20da43cf8669000b5dc1e5\n\n\n\n# Dev MTG 2020/2/13\ncreated_at:Mon Jan 19 1970 16:09:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:25:09 GMT+0900 (日本標準時)\nDev MTG 2020/2/13\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n\n[*** この時間で共有・相談したいこと]\n\tau Home対応\n\t\tQrio側の開発工数を概算した\n\t\thttps://docs.google.com/spreadsheets/d/1O5ARM-S5Ur6YRN2M9Dd6q_Kbvambz1aq2l2RgjIBg50/edit##gid=1343356605\n\t\t\tサーバー: 3.0人月、開発期間は3月下旬から、3.5ヶ月\n\t\t\t\t実装量が最も多いパターンで、ひとまず3.0人月\n\t\t\t\tKDDIの認証の仕組みを今質問中。この内容によって作業内容が変わる\n\t\t\t\tAuth0のCustom Social Connectionを利用できれば、作業が減る\n\t\t\tアプリ: 2.0人月 x 2　開発期間は2.5ヶ月\n\t\t\t\t少々盛り気味。\n\t\t\t\tiOS: hiroさん、Android: 竹内、hiroさん\n\t\t\t\tiOS/Androidはパラレル開発する予定だけど、hiroさんにも手伝ってもらうので、開発期間としては2.5人月を希望している\n\t\tau ID認証について仕様検討中\n\t\t\t[au IDログイン仕様検討]\n\n\t先週、Natureと話した。\n\t\tNature Remoにハブ移植して、ロック動かせるようにする\n\t\t後藤さんには、やっていいと言われている\n\t\t来週くらいにNDA締結されるので、仕様公開する\n\n\n\n[*** 備忘録]\n\tソニーペイメント(AWS EC2)、SL1のハブAPI(heroku qb-api)のSSL証明書更新[takeuchi.icon]\n\t\t有効期限：2020-03-16 なので早めにやる\n\t\t証明書の購入・作成手順: https://qrio.esa.io/posts/274\n\t\t詳細は[Dev MTG 2020/1/27]\n\n\n[*** Project 進捗]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\nDevice開発[takeuchi.icon]\n\tQA中\n\t作業引継ぎ中。ようやく終わりが......！\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tI/F決まった。\n\t\tTKGとスケジュールのネゴ中。ネゴは2/6（木）。お上の方がいらっしゃる。デモする。\n\t\t　西川さんが作ったフローでは差し戻された。作り直し。\n\t\tTKGの予算計画にあわせ、2月中に100台確約、3月1に150台、で。\n\t\t今日から駒井が巻き取った\n\t\t　予想通りカオス\n\t\t　とりあえずnew relic入れる\n\t\t　既存の不具合はちゃんとissueで管理する\n\t\t　設計し直し中\n\t\t　　[TKG案件サービス設計]\n\t\t　　[TKG案件の仕様草案をつくる会議(　 'ᾥ'　 )]\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n\n[* APIドキュメント改修]\n\tdotDさん向けに公開した。\n\t\tdotDさんと、今日話する。車のキーシェアやる話らしいが、詳細はよくわかってない\n\t\thttps://docs.google.com/presentation/d/1LFTgNNh9hgpTELEJdSs2zHKci4f25gwi9Ar_9cmsFO0/edit##slide=id.p11\n\n[* CU]\n\tiOS \n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t\tダイレクトシェアの不具合修正\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]\nスケジュール\n\t2/7 (金) CI環境構築＆GMCリリース -> done\n\t2/12 (水) bootloaderは、再書き込み可能にする。リスクアセスメント結果（RAツールの入力内容）の再確認。 \n\t\tリスクアセスメント結果（RAツールの入力内容）の確認は、後日。\n\t~ 2/14 (金) SQA完了、耐久試験完了、GMリリース\n\t2/17 (月) ~ もし問題あったら対応、GM判定用資料作成（Alexa解錠タイムアウト問題は整理済み。文面まとめる）\n\t3/5 (木) GM判定&設計検認\n\n残作業\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tking-cu Android: 済\n\t\tking-cu iOS: PRまで出てる[h.yamaguchi.icon]\n\t\tcastle-bcu iOS: QA待ち\n\t\tsirius-bcu iOS: QA待ち\n\t\tcastle-bcu Android: まだ\n \tsirius-bcu Android: まだ\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　　　　[https://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing dashboard資料]\n　売上周り→[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je FY2019_management_dashboard]\n　SL1&SL2 解施錠比較→[https://datastudio.google.com/open/1C4LYhbLgslNVT-6Hs000ezhu1IpOzgX9 SL1/SL2解施錠]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\t2021/3 リリース (来年度内リリース目標 (FY20内)\n\tQBSにコンサル/PoCお願いする\n\t\tPiACK II\n\t\tCortex-M0(nRF51x)で楕円曲線暗号が解けないなら、king RUで使っているM4(nRF52832)を入れることになる。その際、メカ変更も必要になる。またRAMも小さいが、FW削れば入るかもしれない。\n\t\t\tFW: 楕円曲線は、別のライブラリを使えないか？\n\t\t\t\tもともと、メモリがとれなかったから、M4にした。\n\t\t\t\t楕円の解き方は、メモリを食うか、時間を食うか。。\n\t\t\t\t\tやるなら、時間をかけてメモリ使わないものがないか、調査。\n\t\t\t\t\tあった、これですね。[mikamix.icon]\n\t\t\t\t\t https://github.com/orlp/ed25519\n\t\t\t\t\t \n\tQrioブランドになる（MIWAに製造委託する感じ）。\n\t商流もQrio担当だが、販売戦略は未定。\n\t\t機械代をQrioが買って、Qrioが売る。\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。FWアップデートもスマホからやりたいらしい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\tPM（全体のスケジュール調整など）は関さん？\n\t\t開発のPLを決める\n\t\t実装は、QBSで人採る or 竹内\n\t\t\tQBSの予算取りのタイミングもあるので、今週ymtkさんと相談する。\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\tPM（全体のスケジュール調整など）は関さん？\n\t\t開発のPLを決める\n\t\t実装は、QBSで人採る or 竹内\n\t\t\tQBSの予算取りのタイミングもあるので、今週ymtkさんと相談する。\n\n[** Joker]\n2021/6 発売\n[* フラグシップ]\n\t近接センサーつき\n[* 廉価版]\n\tフラグシップと金型は一緒\n[* SuperLegend]\n[* NFCカードリーダー(MIWAと別)]\n[* 暗証番号パネル]\n\n[** Sirius用NFCカードリーダー]\n\n[** au HOME]\n\t3末: 受注確定、8月: サービス開始。背景: [Dev MTG 2020/1/15]\n\tau ID対応\n\t\tau ID解約後、ロックを使えなくしてほしいと要求されている\n\t\t\tKDDIはQrioからロックを買い、政府助成金を使ってロックを（ほぼ）タダでユーザーに売る。\n\t\t\tKDDIはロックの転売を防ぎたい。その運用もしたくない。Qrioのシステムで防いでほしい。\n\t\tQrioアプリ単体でもロックを使用できないようにしたい\n\t\t\t100%は防げない\n\t\t\t\tau ID解約の契機をリアルタイムでQrioに知らせる案\n\t\t\t\t\t案1: 向こうから知らせてもらう\n\t\t\t\t\t「ロックを契約している人のau IDの解約」を教えてもらうのが、もっとも確実\n\t\t\t\t\t\tロックを特定できる情報を教えてもらう\n\t\t\t\t\t\t\tau IDとロックの紐付けをauがもつか？\n\t\t\t\t\t\t「auは、ロックを契約している人のau ID」を管理している必要がある（Qrioが、すべてのau IDの解約を知る設計は、おかしい）\n\t\t\t\t\tうちは、あくまで「言われたら使えなくする」だけですむ。いつ使えなくしたいかは、完全にauが管理する。\n\t\t\t\t案2: こっちから聞きにいく\n\t\t\t\t\tいつ聞きにいくか？\n\t\t\t\t\t\tたとえば月末・月初のタイミングで、向こうから解約されたau IDのロックのリストをもらう、など\n\t\t\t\t\t\tau IDが解約された瞬間に使えなくする必要性はない。1日〜1ヶ月くらい使えても、問題はない\n\t\t\t転売されたときに100%使えなくする、ならどうか？\n\t\t\t\tau ID契約 -> ロック開封 -> アカウント作成 -> アカウントごと転売 -> 受け取り側がログイン -> au ID解約、ならオフライン解施錠・QrioKeyは使えてしまう\n\t\t\t\t\t防ぎようがない。オフラインなので。\n\t\t\t\t\tもしFW改修しても、プロトコルごと変えないと無理なので、無理\n\t\t\t「ロックを使えなくする」ということの定義をはっきりさせる\n\t\t\t（本件は、関さんymtkさんと話した。[au ID失効時のロックの扱いについて]を参照）\n  市場がKDDI用ロックとごっちゃになったら、CS対応増加のリスクあり。\n  \tたとえば、ユーザーがぱっと見で区別できるようにできないか？\n  \tnuro案件で求められた取付可能率上げるためのオプションサムターン追加されるかも\n  \t\tうちとしては（新オプション品の追加？）は積極的に言わないが、向こうから言われるかも。。言われたらやることになるかも。（CUのUIも改修するかも）。\n  \t悪意のある人が転売したとき、被害をうけるのはQrio。Qrioとしてそのリスクが許容できるか？\n  \t\tQrioとして、注意喚起などはできるかもしれない\n  \t\t解約率が20000台の1%だとしても200台だから、それほど気にするリスクではないかも\n  king-apiの希望は、auユーザーを判別するのは、初期化時だけにしたい\n  \t逐一気にするのはイマイチ\n  \tau IDの解約を検出して、初期化とオーナー登録\n  CUからau IDでログインさせる予定\n  \tなので、市販のロックと併用できるかどうかも検討する必要あり\n  \t市販のロックはユーザーが市場価格で購入しているので、転売そのものは懸念しなくてよい。\n  \tもしくは「2台目購入の場合は、KDDIロックを売ってもらう」ってやってもらって、うちはKDDI用のロックと市販のロックを併用できないようにサーバーで防ぐことができれば、仕組みとしてはシンプル。\n\tCUのSDK化対応\n\t\tSDKは、うちの資産として作る。Qrio的には、SDKがないと事業展開しづらい。今後は似たようなかたちで展開していきたい。\n\t\tKDDI技術担当には、「作るけど「KeyFi + CUの実装例」として提供したほうが、KDDIさんもやりやすいかもしれないです」と伝えている。au Homeで何やりたいかは、まだ決まってないから\n\t\tSDKはミニマムにして、極力メンテコストを抑えたい。CU/BCUとの関係性も考えたい\n\tAPI公開\n\t\t整備中。今日、再度連絡。\n\tQrio Hub移植は1stリリースではやらない、と思われる\n\t見積もり\n\t\thttps://docs.google.com/spreadsheets/d/1jqMeJrZ9GCCKLWzZF-SKlwE0T-_wHw4i04Ln_V_gRbQ/edit##gid=0\n\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t2月、3月のアプリの工数を確認する\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n auth0, postgres, aws free tierからメンテとかのメールが来てる\n \tpostgresは、いつメンテが走るか、時間だけ確認しておく\n \tawsは無視、というか止めてもいいかも\n \tauth0\n \t https://support.auth0.com/notifications/5e20da43cf8669000b5dc1e5\n\n\n\n# TKG 各オブジェクトに対するユースケースと管理目的\ncreated_at:Mon Jan 19 1970 16:19:18 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:19:21 GMT+0900 (日本標準時)\nTKG 各オブジェクトに対するユースケースと管理目的\n[* 組織]\n\t利用している組織を把握する\n\t\t同じ名前でもわかるよう、IDを表示する\n\t\t\t名前をバリデーションすることもあり得るが、いったんやらない。ロック名やメンバー名などとルールを揃えて単純化したいため。（同姓同名はあるよねとか。ユーザーならメアドで区別させている。ロック名は所属組織、ID）\n\t組織変更に合わせて組織名を変更する\n\t組織追加、削除については行えない\n\t\t組織の紐付け、削除はQrioが担当する。理由としては組織解除でロックを解錠できなくなる状態を各拠点と必ずしも共有できるわけではなく、契約条件にも関わる著しく破壊的変更となるため\n\t\t申請動線まではあっても良い\n\n[* 合カギ]\n\t今回は対象外\n\t\t異動したら各組織で紐づける\n\t\t将来的には統合もあるが、1stでは除外。退職の際など、メンバー削除したら実際合カギは消える\n\n[* メンバー（合カギ利用者）]\n\t合カギを付与される可能性のある利用者を把握する\n\t必要なメンバーを追加し、不要なメンバーを削除する\n\n[* 管理者]\n\tSiriusにログインできる管理者を把握する\n\t必要な管理者を追加し、不要な管理者を削除する\n\n[* ロック]\n\t稼働しているロックを把握する\n\tロックの履歴を把握する\n\t\tこれについては１個１個というより、おそらく全てをまとめてダウンロードなどの方が運用上現実的ではある\n\tロックの追加、削除については行えない\n\t\t現場にいない管理チームがBCUで設定することは想定しない。必要であれば管理者として追加すればよい\n\n[* 特権管理者]\n\t管理ツールにログインできるユーザー\n\t特権管理者は自殺不可能\n\t必要なユーザーを追加、削除する\n\n##Sirius #TKG\n\n# Sirius\ncreated_at:Mon Jan 19 1970 09:35:08 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:19:21 GMT+0900 (日本標準時)\nSirius\n[https://gyazo.com/6bf53068dd3727427d6488e9ffda8fde]\n\n[** 概要]\n\t[** カギカン1の後継サービス]を指す\n\tターゲット顧客\n\t\tスモールオフィス\n\t\t\tNFCで頻繁な出入り、解施錠が求められるオフィスは対象外\n\t\t倉庫などのスペース管理事業者\n\t\t\t富士物流さんに代表される、遠隔管理を行っている事業者\n\t\tスモールビジネス事業者\n\t\t\tレンタルサロン、貸し会議室など\n\tRoomonとの違い\n\t\tRoomon: 不動産用途\n\t\t\t多数のドアに対し、それぞれ少数の利用者がいる状態のカギ管理を効率化する\n\t\t\t1個のロックに対する合カギは少数、発行先も様々なことが多い\n\t\tSirius: オフィス用途\n\t\t\t少数のドアに対し、それぞれ多数の利用者がいる状態のカギ管理を効率化する\n\t\t\t1個のロックに対する合カギは多数、発行先は特定されていることが多い\n\tカギカン1との差分\n\t\tQ-SL1=>Q-SL2への対応\n\t\t\tHubについてはQ-H1=>Q-H1およびH2に対応\n\t\t主な「[* できるようになったこと]」\n\t\t\tCUでの解施錠操作（ゲストキーのみ）\n\t\t\t\tCUでの操作履歴はSiriusで登録した利用者名と紐付け可能\n\t\t\t\tリモートのみに縛られることがなくなるため、社員が家から鍵を解施錠してしまうなどのリスクは無くなる\n\t\t\t合カギグループのロック間付け替え\n\t\t\t\t「社員: 10-18時」と言うグループを作れば、このグループを各ロックに紐付けるだけで合カギ利用可能になる\n\t\t\t\tQrio CUのユーザーとカギカン2利用者名を1度紐付けておけば、以降は合カギのURLをクリック不要\n\t\t主な「[* できなくなったこと]」\n\t\t\tWebでの解施錠操作（リモートのみ操作可能だった）\n\t\t\t\tガラケーでの操作はできなくなる\n\t\t\tキーパッドでの操作\n\t\t\t\tスマホなしでの操作はできなくなる\n\n[** オペレーション]\n\t代理店\n\t\tカギカン準拠。窓口メアドに申請→登録\n\t配送\n\t\tカギカン準拠。ロジテムより出荷\n\t\t在庫についてはカギカン用に確保\n\tCS\n\t\t検討中。内製化したい意思はあるが、Siriusを抱えていない現状でもCastleが膨らむと維持できない\n\t\tCS体制改善の方が先\n\t決済\n\t\tNP後払い\n\t\t\tcsv経由登録\n\t\tカード\n\t\t\tリリース後対応（1ヶ月程度）\n\tその他\n\t\thttps://docs.google.com/spreadsheets/u/1/d/1ToocDJ4UFMlMTXe0cjYzAvW4ECQu8eDn6cQttnnNO2M/edit?usp=drive_web&ouid=109170418868775192408\n\n##Sirius\n\n# au ID失効時のロックの扱いについて\ncreated_at:Mon Jan 19 1970 16:05:08 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:15:38 GMT+0900 (日本標準時)\nau ID失効時のロックの扱いについて\n\n\t\tau ID解約後、ロックを使えなくしてほしいと要求されている\n\t\t\tKDDIはQrioからロックを買い、政府助成金を使ってロックを（ほぼ）タダでユーザーに売る。\n\t\t\tKDDIはロックの転売を防ぎたい。その運用もしたくない。Qrioのシステムで防いでほしい。\n\t\tQrioアプリ単体でもロックを使用できないようにしたい\n\t\t\t100%は防げない\n\t\t\tau ID解約の契機をQrioが知る案\n\t\t\t\t案1: 向こうから知らせてもらう\n\t\t\t\t\t「ロックを契約している人のau IDの解約」を教えてもらうのが、もっとも確実\n\t\t\t\t\t\tロックを特定できる情報を教えてもらう\n\t\t\t\t\t\t\tau IDとロックの紐付けをauがもつか？\n\t\t\t\t\t\t「auは、au Homeを契約している人のau ID」を管理している必要がある（Qrioが、すべてのau IDの解約を知る設計は、おかしい）\n\t\t\t\t\tうちは、あくまで「言われたら使えなくする」だけですむ。いつ使えなくしたいかは、完全にauが管理する。\n\t\t\t\t案2: こっちから聞きにいく\n\t\t\t\t\tいつ聞きにいくか？\n\t\t\t\t\t\tたとえば月末・月初のタイミングで、向こうから解約されたau IDのロックのリストをもらう、など\n\t\t\t\t\t\tau IDが解約された瞬間に使えなくする必要性はない。1日とか、1ヶ月くらい使えても、問題はない\n\t\t\t転売されたときに100%使えなくする、ならどうか？\n\t\t\t\tau ID契約 -> ロック開封 -> アカウント作成 -> アカウントごと転売 -> 受け取り側がログイン -> au ID解約、ならオフライン解施錠・QrioKeyは使えてしまう\n\t\t\t\t\t防ぎようがない。オフラインなので。\n\t\t\t\t\tもしFW改修しても、プロトコルごと変えないと無理なので、無理\n\t\t\t「ロックを使えなくする」ということの定義をはっきりさせる\n\n\t\tオフラインは防げない」というのは、制限事項として言ってもいいのでは。\n\t\t\tそれでも防ぎたかったら、auのオペレーションでやってもらうしかない。買うときにそういう契約するとか。\n\n\t\t「解約」とは、即時解約なのか、月末なのか、というようなところも大事（即時解約はまずそう、という認識はお互いある）\n\n\t\t今ひもづいている合カギとか\n\t\t入り口の塞ぎ方\n\t\t\tログイン時に防ぐ\n\t\t解約のキャンセル時はどうするか\n\t\tロックそのものを使えなくするのではなくて、マスターキーが使えないようにしなければならない\n\t\t\tau IDがない人が使えないようにしなければならない\n\t\t\tKDDI用のロックは、他のau IDを持っているユーザーは使えるようにしておく必要がある\n\t\t\tマスターキーが、au IDに紐づかねばならない\n\n\n\n[* 宿題]\n\n明後日\n\tau IDの解約状況をQrio側から聞きにいくか？　どうするか話す\n\t100%は無理（オフライン）である旨を伝える。制限事項にしようと思っている\n\tau ID認証の仕組みはOAuthであることを確認する\n\tその他、↓の議題があり、今検討中\n\n\n場合分けで、それぞれロックをどう扱うか検討する\n\tau ID\n\t\t有効 or 無効\n\t\tau HOME用 or それ以外か\n\tロック\n\t\tKDDI用ロック or 一般ロック\n\t\t組み合わせ（2ロックか、別々のロックとして登録されたか）\n\n\n来週、再度打ち合わせ\n\n\n\n\n\nAlexaはログインできないので制限事項になる\n\n初期化・設定・削除のSDK化は、うちからは断っている\n\nログイン\n\taccess_token, refresh_token\n\t認証で防いでも、認可で防いでも、どちらでも可能\n\t「au IDでログイン」とは？　認証プラットフォームがどうなってるか\n\t\tOAuthかどうか確認しとく\n\t\tAuth0の仕組みでauログインも使えたら・・・\n\n\nつづき: [au IDログイン仕様検討]\n\n# Dev MTG 2020/2/3\ncreated_at:Mon Jan 19 1970 16:04:51 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:10:59 GMT+0900 (日本標準時)\nDev MTG 2020/2/3\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 共有事項]\n\tau IDの件を先にお話ししたいです\n\t\t今日この後、関さんymtkさんに共有します\n\t\t明後日、KDDIのエンジニアと話すので、そのときにQrioの意向を伝えます\n\n\tAuth0->Firebase Auth移行検討\n\t\t現在$850/month。エンプラにすると$7000/month（から徐々に増加）。\n\t\t来期で検討\n\t\tAuth0はそのままで、代わりにPubNub->Google Pub/Subへの移行を検討するのもアリ\n\n\tソニーペイメント(AWS EC2)、SL1のハブAPI(heroku qb-api)のSSL証明書更新[takeuchi.icon]\n\t\t有効期限：2020-03-16 なので早めにやる\n\t\t証明書の購入・作成手順: https://qrio.esa.io/posts/274\n\t\t詳細は[Dev MTG 2020/1/27]\n\n\tAWSのDBの証明書を更新する\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tdone\n\t\t今、証明書が新旧混在しているので、どっかで外したい\n\t\t自動化したいが、ディスコンのほうが早いかも。。\n\t\t\tディスコンどうですか？　ymtkさんに聞いてみる\n\n\n[*** Project]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\nDevice開発[takeuchi.icon]\n\tFFリリース済み\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tI/F決まった。\n\t\tTKGとスケジュールのネゴ中。ネゴは2/6（木）。お上の方がいらっしゃる。デモする。\n\t\t今、西川さんが設計・実装中→西川さん1月で終了\n\t\t king側でちょい重モデルのリレーション修正が必要なことが判明。\n\t\t 事業推進課には遅れそうであると共有済みだが、遅れるとちょっときびしい。。\n\t\t 外に見せる形までもっていって、3月中の決済を目指したい\n\t\tTKGの予算計画にあわせ、2月中に100台確約、3月1に150台、で。\n\t\tUIに問題はありつつも、csvで設定できるところで導入してもらうよう提案予定\n\t\t今日から駒井が巻き取った\n\t\t　予想通りカオス\n\t\t　とりあえずnew relic入れる\n\t\t　既存の不具合はちゃんとissueで管理する\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n\n[* APIドキュメント改修]\n\t修正中。今日、KDDIに連絡する[takeuchi.icon]\n\n[* CU]\n\tiOS \n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t\tダイレクトシェアの不具合修正\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]（進捗なし）\nスケジュール\n\t3/4 (水) GM判定&設計検認（1/15 (水) から延期になりました）\n\n残作業\n\tCI環境構築\n\tAlexa解錠タイムアウト問題の切り分け\n\t受け入れ検証\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tking-cu Android: 済\n\t\tking-cu iOS: PRまで出てる[h.yamaguchi.icon]\n\t\tcastle-bcu: QA待ち\n\t\tsirius-bcu: QA待ち\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\nhttps://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing\n　売上周りはこちらに集約中\n　　[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\t　開発者申請に1ヶ月ほどかかる＆ドキュメント読み込む予定\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\t2021/3 リリース (来年度内リリース目標 (FY20内)\n\tQBSにコンサル/PoCお願いする\n\t\tPiACK II\n\t\tCortex-M0(nRF51x)で楕円曲線暗号が解けないなら、king RUで使っているM4(nRF52832)を入れることになる。その際、メカ変更も必要になる。またRAMも小さいが、FW削れば入るかもしれない。\n\t\t\tFW: 楕円曲線は、別のライブラリを使えないか？\n\t\t\t\tもともと、メモリがとれなかったから、M4にした。\n\t\t\t\t楕円の解き方は、メモリを食うか、時間を食うか。。\n\t\t\t\t\tやるなら、時間をかけてメモリ使わないものがないか、調査。\n\t\t\t\t\tあった、これですね。[mikamix.icon]\n\t\t\t\t\t https://github.com/orlp/ed25519\n\t\t\t\t\t \n\tQrioブランドになる（MIWAに製造委託する感じ）。\n\t商流もQrio担当だが、販売戦略は未定。\n\t\t機械代をQrioが買って、Qrioが売る。\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。FWアップデートもスマホからやりたいらしい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\tPM（全体のスケジュール調整など）は関さん？\n\t\t開発のPLを決める\n\t\t実装は、QBSで人採る or 竹内\n\t\t\tQBSの予算取りのタイミングもあるので、今週ymtkさんと相談する。\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\tPM（全体のスケジュール調整など）は関さん？\n\t\t開発のPLを決める\n\t\t実装は、QBSで人採る or 竹内\n\t\t\tQBSの予算取りのタイミングもあるので、今週ymtkさんと相談する。\n\n[** Joker]\n2021/6 発売\n[* フラグシップ]\n\t近接センサーつき\n[* 廉価版]\n\tフラグシップと金型は一緒\n[* SuperLegend]\n[* NFCカードリーダー(MIWAと別)]\n[* 暗証番号パネル]\n\n[** Sirius用NFCカードリーダー]\n\n[** au HOME]\n\t3末: 受注確定、8月: サービス開始。背景: [Dev MTG 2020/1/15]\n\tau ID対応\n\t\tau ID解約後、ロックを使えなくしてほしいと要求されている\n\t\t\tKDDIはQrioからロックを買い、政府助成金を使ってロックを（ほぼ）タダでユーザーに売る。\n\t\t\tKDDIはロックの転売を防ぎたい。その運用もしたくない。Qrioのシステムで防いでほしい。\n\t\tQrioアプリ単体でもロックを使用できないようにしたい\n\t\t\t100%は防げない\n\t\t\t\tau ID解約の契機をリアルタイムでQrioに知らせる案\n\t\t\t\t\t案1: 向こうから知らせてもらう\n\t\t\t\t\t「ロックを契約している人のau IDの解約」を教えてもらうのが、もっとも確実\n\t\t\t\t\t\tロックを特定できる情報を教えてもらう\n\t\t\t\t\t\t\tau IDとロックの紐付けをauがもつか？\n\t\t\t\t\t\t「auは、ロックを契約している人のau ID」を管理している必要がある（Qrioが、すべてのau IDの解約を知る設計は、おかしい）\n\t\t\t\t\tうちは、あくまで「言われたら使えなくする」だけですむ。いつ使えなくしたいかは、完全にauが管理する。\n\t\t\t\t案2: こっちから聞きにいく\n\t\t\t\t\tいつ聞きにいくか？\n\t\t\t\t\t\tたとえば月末・月初のタイミングで、向こうから解約されたau IDのロックのリストをもらう、など\n\t\t\t\t\t\tau IDが解約された瞬間に使えなくする必要性はない。1日〜1ヶ月くらい使えても、問題はない\n\t\t\t転売されたときに100%使えなくする、ならどうか？\n\t\t\t\tau ID契約 -> ロック開封 -> アカウント作成 -> アカウントごと転売 -> 受け取り側がログイン -> au ID解約、ならオフライン解施錠・QrioKeyは使えてしまう\n\t\t\t\t\t防ぎようがない。オフラインなので。\n\t\t\t\t\tもしFW改修しても、プロトコルごと変えないと無理なので、無理\n\t\t\t「ロックを使えなくする」ということの定義をはっきりさせる\n\t\t\t（本件は、関さんymtkさんと話した。[au ID失効時のロックの扱いについて]を参照）\n  市場がKDDI用ロックとごっちゃになったら、CS対応増加のリスクあり。\n  \tたとえば、ユーザーがぱっと見で区別できるようにできないか？\n  \tnuro案件で求められた取付可能率上げるためのオプションサムターン追加されるかも\n  \t\tうちとしては（新オプション品の追加？）は積極的に言わないが、向こうから言われるかも。。言われたらやることになるかも。（CUのUIも改修するかも）。\n  \t悪意のある人が転売したとき、被害をうけるのはQrio。Qrioとしてそのリスクが許容できるか？\n  \t\tQrioとして、注意喚起などはできるかもしれない\n  \t\t解約率が20000台の1%だとしても200台だから、それほど気にするリスクではないかも\n  king-apiの希望は、auユーザーを判別するのは、初期化時だけにしたい\n  \t逐一気にするのはイマイチ\n  \tau IDの解約を検出して、初期化とオーナー登録\n  CUからau IDでログインさせる予定\n  \tなので、市販のロックと併用できるかどうかも検討する必要あり\n  \t市販のロックはユーザーが市場価格で購入しているので、転売そのものは懸念しなくてよい。\n  \tもしくは「2台目購入の場合は、KDDIロックを売ってもらう」ってやってもらって、うちはKDDI用のロックと市販のロックを併用できないようにサーバーで防ぐことができれば、仕組みとしてはシンプル。\n\tCUのSDK化対応\n\t\tSDKは、うちの資産として作る。Qrio的には、SDKがないと事業展開しづらい。今後は似たようなかたちで展開していきたい。\n\t\tKDDI技術担当には、「作るけど「KeyFi + CUの実装例」として提供したほうが、KDDIさんもやりやすいかもしれないです」と伝えている。au Homeで何やりたいかは、まだ決まってないから\n\t\tSDKはミニマムにして、極力メンテコストを抑えたい。CU/BCUとの関係性も考えたい\n\tAPI公開\n\t\t整備中。今日、再度連絡。\n\tQrio Hub移植は1stリリースではやらない、と思われる\n\t見積もり\n\t\thttps://docs.google.com/spreadsheets/d/1jqMeJrZ9GCCKLWzZF-SKlwE0T-_wHw4i04Ln_V_gRbQ/edit##gid=0\n\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t2月、3月のアプリの工数を確認する\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n auth0, postgres, aws free tierからメンテとかのメールが来てる\n \tpostgresは、いつメンテが走るか、時間だけ確認しておく\n \tawsは無視、というか止めてもいいかも\n \tauth0\n \t https://support.auth0.com/notifications/5e20da43cf8669000b5dc1e5\n\n\n\n\n[*** 健忘録]\n\tなし\nDev MTG 2020/2/3\n[https://gyazo.com/fa1ea3973f889e9b3e14fc5eabdc5fae]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 共有事項]\n\tau IDの件を先にお話ししたいです\n\t\t今日この後、関さんymtkさんに共有します\n\t\t明後日、KDDIのエンジニアと話すので、そのときにQrioの意向を伝えます\n\n\tAuth0->Firebase Auth移行検討\n\t\t現在$850/month。エンプラにすると$7000/month（から徐々に増加）。\n\t\t来期で検討\n\t\tAuth0はそのままで、代わりにPubNub->Google Pub/Subへの移行を検討するのもアリ\n\n\tソニーペイメント(AWS EC2)、SL1のハブAPI(heroku qb-api)のSSL証明書更新[takeuchi.icon]\n\t\t有効期限：2020-03-16 なので早めにやる\n\t\t証明書の購入・作成手順: https://qrio.esa.io/posts/274\n\t\t詳細は[Dev MTG 2020/1/27]\n\n\tAWSのDBの証明書を更新する\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tdone\n\t\t今、証明書が新旧混在しているので、どっかで外したい\n\t\t自動化したいが、ディスコンのほうが早いかも。。\n\t\t\tディスコンどうですか？　ymtkさんに聞いてみる\n\n\n[*** Project]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\nDevice開発[takeuchi.icon]\n\tFFリリース済み\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tI/F決まった。\n\t\tTKGとスケジュールのネゴ中。ネゴは2/6（木）。お上の方がいらっしゃる。デモする。\n\t\t今、西川さんが設計・実装中→西川さん1月で終了\n\t\t king側でちょい重モデルのリレーション修正が必要なことが判明。\n\t\t 事業推進課には遅れそうであると共有済みだが、遅れるとちょっときびしい。。\n\t\t 外に見せる形までもっていって、3月中の決済を目指したい\n\t\tTKGの予算計画にあわせ、2月中に100台確約、3月1に150台、で。\n\t\tUIに問題はありつつも、csvで設定できるところで導入してもらうよう提案予定\n\t\t今日から駒井が巻き取った\n\t\t　予想通りカオス\n\t\t　とりあえずnew relic入れる\n\t\t　既存の不具合はちゃんとissueで管理する\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t\t\t西川さんがの修正がstagingにデプロイされている。山田さんQA中\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n\n[* APIドキュメント改修]\n\t修正中。今日、KDDIに連絡する[takeuchi.icon]\n\n[* CU]\n\tiOS \n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t\tダイレクトシェアの不具合修正\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]（進捗なし）\nスケジュール\n\t3/4 (水) GM判定&設計検認（1/15 (水) から延期になりました）\n\n残作業\n\tCI環境構築\n\tAlexa解錠タイムアウト問題の切り分け\n\t受け入れ検証\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tking-cu Android: 済\n\t\tking-cu iOS: PRまで出てる[h.yamaguchi.icon]\n\t\tcastle-bcu: QA待ち\n\t\tsirius-bcu: QA待ち\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n\n\n[* Q-SL1]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* ただいまキット]\n Android 新OS対応\n \t軽微なバグのため修正の必要がないと判断\n \t手が空いたらAndroid10対応を行う\n Guardian対応\n \tiOS: QA待ち\n \tAndroid: まだ\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n [Dev MTG 2020/1/27]を参照\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\nhttps://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing\n　売上周りはこちらに集約中\n　　[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\t　開発者申請に1ヶ月ほどかかる＆ドキュメント読み込む予定\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]\n\t\t作成中\n\t\thttps://docs.google.com/spreadsheets/d/1xXt3jYdrYmsUlh09EBpWehC6soHYvvqeyfYP91L3yTU/edit##gid=0\n\n\n[** ビルドイン(MIWA)]\n\t2021/3 リリース (来年度内リリース目標 (FY20内)\n\tQBSにコンサル/PoCお願いする\n\t\tPiACK II\n\t\tCortex-M0(nRF51x)で楕円曲線暗号が解けないなら、king RUで使っているM4(nRF52832)を入れることになる。その際、メカ変更も必要になる。またRAMも小さいが、FW削れば入るかもしれない。\n\t\t\tFW: 楕円曲線は、別のライブラリを使えないか？\n\t\t\t\tもともと、メモリがとれなかったから、M4にした。\n\t\t\t\t楕円の解き方は、メモリを食うか、時間を食うか。。\n\t\t\t\t\tやるなら、時間をかけてメモリ使わないものがないか、調査。\n\t\t\t\t\tあった、これですね。[mikamix.icon]\n\t\t\t\t\t https://github.com/orlp/ed25519\n\t\t\t\t\t \n\tQrioブランドになる（MIWAに製造委託する感じ）。\n\t商流もQrio担当だが、販売戦略は未定。\n\t\t機械代をQrioが買って、Qrioが売る。\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。FWアップデートもスマホからやりたいらしい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\tPM（全体のスケジュール調整など）は関さん。\n\t\t開発のPLを決める\n\t\t実装は、QBSで人採る or 竹内\n\t\t\tQBSの予算取りのタイミングもあるので、今週ymtkさんと相談する。\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tQBSにコンサル/PoCお願いする\n\t\tOPTEXの予算計画があるので、GW前にはPoC終わらせたい。\n\t\t「BLEで解錠命令受信 -> リレー信号送信」が欲しいと言われているが、すでにQBSにあって、2月中に出せるとか。\n\tOPTEXの商品（Qrioブランドではない）。\n\t\tQrioはライセンスフィーだけもらう。OPTEXが買う。設置工事まで含め、すべてOPTEXの商流でやる。\n\tPM（全体のスケジュール調整など）は関さん。\n\t\t開発のPLを決める\n\t\t実装は、QBSで人採る or 竹内\n\t\t\tQBSの予算取りのタイミングもあるので、今週ymtkさんと相談する。\n\n[** Joker]\n2021/6 発売\n[* フラグシップ]\n\t近接センサーつき\n[* 廉価版]\n\tフラグシップと金型は一緒\n[* SuperLegend]\n[* NFCカードリーダー(MIWAと別)]\n[* 暗証番号パネル]\n\n[** Sirius用NFCカードリーダー]\n\n[** au HOME]\n\t3末: 受注確定、8月: サービス開始。背景: [Dev MTG 2020/1/15]\n\tau ID対応\n\t\tau ID解約後、ロックを使えなくしてほしいと要求されている\n\t\t\tKDDIはQrioからロックを買い、政府助成金を使ってロックを（ほぼ）タダでユーザーに売る。\n\t\t\tKDDIはロックの転売を防ぎたい。その運用もしたくない。Qrioのシステムで防いでほしい。\n\t\tQrioアプリ単体でもロックを使用できないようにしたい\n\t\t\t100%は防げない\n\t\t\t\tau ID解約の契機をリアルタイムでQrioに知らせる案\n\t\t\t\t\t案1: 向こうから知らせてもらう\n\t\t\t\t\t「ロックを契約している人のau IDの解約」を教えてもらうのが、もっとも確実\n\t\t\t\t\t\tロックを特定できる情報を教えてもらう\n\t\t\t\t\t\t\tau IDとロックの紐付けをauがもつか？\n\t\t\t\t\t\t「auは、ロックを契約している人のau ID」を管理している必要がある（Qrioが、すべてのau IDの解約を知る設計は、おかしい）\n\t\t\t\t\tうちは、あくまで「言われたら使えなくする」だけですむ。いつ使えなくしたいかは、完全にauが管理する。\n\t\t\t\t案2: こっちから聞きにいく\n\t\t\t\t\tいつ聞きにいくか？\n\t\t\t\t\t\tたとえば月末・月初のタイミングで、向こうから解約されたau IDのロックのリストをもらう、など\n\t\t\t\t\t\tau IDが解約された瞬間に使えなくする必要性はない。1日〜1ヶ月くらい使えても、問題はない\n\t\t\t転売されたときに100%使えなくする、ならどうか？\n\t\t\t\tau ID契約 -> ロック開封 -> アカウント作成 -> アカウントごと転売 -> 受け取り側がログイン -> au ID解約、ならオフライン解施錠・QrioKeyは使えてしまう\n\t\t\t\t\t防ぎようがない。オフラインなので。\n\t\t\t\t\tもしFW改修しても、プロトコルごと変えないと無理なので、無理\n\t\t\t「ロックを使えなくする」ということの定義をはっきりさせる\n\t\t\t（本件は、関さんymtkさんと話した。[au ID失効時のロックの扱いについて]を参照）\n  市場がKDDI用ロックとごっちゃになったら、CS対応増加のリスクあり。\n  \tたとえば、ユーザーがぱっと見で区別できるようにできないか？\n  \tnuro案件で求められた取付可能率上げるためのオプションサムターン追加されるかも\n  \t\tうちとしては（新オプション品の追加？）は積極的に言わないが、向こうから言われるかも。。言われたらやることになるかも。（CUのUIも改修するかも）。\n  \t悪意のある人が転売したとき、被害をうけるのはQrio。Qrioとしてそのリスクが許容できるか？\n  \t\tQrioとして、注意喚起などはできるかもしれない\n  \t\t解約率が20000台の1%だとしても200台だから、それほど気にするリスクではないかも\n  king-apiの希望は、auユーザーを判別するのは、初期化時だけにしたい\n  \t逐一気にするのはイマイチ\n  \tau IDの解約を検出して、初期化とオーナー登録\n  CUからau IDでログインさせる予定\n  \tなので、市販のロックと併用できるかどうかも検討する必要あり\n  \t市販のロックはユーザーが市場価格で購入しているので、転売そのものは懸念しなくてよい。\n  \tもしくは「2台目購入の場合は、KDDIロックを売ってもらう」ってやってもらって、うちはKDDI用のロックと市販のロックを併用できないようにサーバーで防ぐことができれば、仕組みとしてはシンプル。\n\tCUのSDK化対応\n\t\tSDKは、うちの資産として作る。Qrio的には、SDKがないと事業展開しづらい。今後は似たようなかたちで展開していきたい。\n\t\tKDDI技術担当には、「作るけど「KeyFi + CUの実装例」として提供したほうが、KDDIさんもやりやすいかもしれないです」と伝えている。au Homeで何やりたいかは、まだ決まってないから\n\t\tSDKはミニマムにして、極力メンテコストを抑えたい。CU/BCUとの関係性も考えたい\n\tAPI公開\n\t\t整備中。今日、再度連絡。\n\tQrio Hub移植は1stリリースではやらない、と思われる\n\t見積もり\n\t\thttps://docs.google.com/spreadsheets/d/1jqMeJrZ9GCCKLWzZF-SKlwE0T-_wHw4i04Ln_V_gRbQ/edit##gid=0\n\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t2月、3月のアプリの工数を確認する\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\tまだ決めてないです。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t今後必要そうなものだけ対応、でOK\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了。ただし、2020/9/30以前に作成されたバケットは対象外\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n auth0, postgres, aws free tierからメンテとかのメールが来てる\n \tpostgresは、いつメンテが走るか、時間だけ確認しておく\n \tawsは無視、というか止めてもいいかも\n \tauth0\n \t https://support.auth0.com/notifications/5e20da43cf8669000b5dc1e5\n\n\n\n\n[*** 健忘録]\n\tなし\n\n# Dev MTG 2020/1/27\ncreated_at:Mon Jan 19 1970 15:54:45 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 16:10:41 GMT+0900 (日本標準時)\nDev MTG 2020/1/27\n[https://gyazo.com/d5612783add79b14c9d978a249a919e7]\n\n全体開発定例のアジェンダ／議事録です。\n\n\n[** 共有事項]\n\t諸々のプロジェクトの座組みを、今週水or木にymtkさんと話して整理する[takeuchi.icon]\n\t\tQBSとの関係性なども含め。\n\n\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t2020/9/30以前に作成されたバケットは対象外とのことでした。把握できてなかったです。[takeuchi.icon]\n\t\t今後必要そうなものだけ対応、でOKです。ほんとすみません。。\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\t\t\tアプリ対応はじめました♪\n\t\t\tまず、いらないものを消すところから。けっこういらないのあるっぽい。→見切れない\n\t\t\tわかる範囲で対応いただき、その他は、見つかれば都度対応で。\n\n\tauth0のログインユーザーが50000/月を超えまして、Auth0からプラン変更しろとのお達しが。\n\t\thttps://manage.auth0.com/dashboard/us/qrio-production/tenant/billing/subscription\n\t\t現在$850/month。エンプラにすると$7000/month（から徐々に増加）。\n\t\t業務委託1人雇えるレベル。このままだと凛義とおらない。\n\t\tAuth0と交渉中（ymtkさん）。\n\t\t\tプランのカスタマイズはできませんでお断られ[ymtk.icon]\n\t\tエンプラ付加サービスのなかで、うまく利用できそうなものはないか調べている[takeuchi.icon]→なさそう。。\n  Firebase Authにしますか[mikamix.icon]\n   要フィジビリ\n\n\tソニーペイメント(AWS EC2)、SL1のハブAPI(heroku qb-api)のSSL証明書更新[takeuchi.icon]\n\t\t有効期限：2020-03-16 なので早めにやる\n\t\t証明書の購入・作成手順: https://qrio.esa.io/posts/274\n\t\tソニーペイメント\n\t\t\tqrio storeで、決済などに使っている、ソニーのサービス\n\t\t\tlet's encryptが提供する証明書のフォーマットに対応してないので、仕方なくrapidsslのワイルドカードの証明書をいちいち買っているらしい\n\t\t\tqrio.me のサーバーは全部AWS EC2にある\n\t\t\t証明書更新は、今回は手動で。その後、自動化できればする\n\t\t\twildcardは、コーポレートサイト（stg/prd）で使っている\n\t\t\tqrio.meのサイトは証明書は一つ。\n\t\t\tACMにする[mikamix.icon]\n\t\t\tソニーペイメントで、ACMの証明書が使えるかだけ検証[mikamix.icon]\n\t\tSL1のハブAPI (qb-api)\n\t\t\therokuにある。\n\t\t\t決め打ちの証明書しか使えないらしい。wildcardの証明書が使えない。\n\t\t\t esaに書いてあるジオトラストのストアのアカウント情報合ってる？ログインできなかった！[komai.icon]\n\t\t\therokuのsettingのダッシュボードから変更できる。\n\t\t\tSL1のFWからhttpsの通信を外せば解決[mikamix.icon]\n\t\t\t その内やる\n\t\t備考\n\t\t\tblog.qrio.meは、qrio.meとは別サイト。サーバーも違う（lightsail）。これはlet's encrypt使ってる。\n\t\t\t作業時はymtkさんといっしょにやる\n\n\tAWSのDBの証明書を更新する\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tチャンさん、お願いします。\n\t\t2/5までです。\n\n[*** Project]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\nDevice開発[takeuchi.icon]\n\t実装中。本日、FFリリース予定\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。\n \t[Dev MTG 2020/1/20]を参照\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tI/F決まった。\n\t\tTKGとスケジュールのネゴ中。\n\t\t今、西川さんが設計・実装中\n\t\t king側でちょい重モデルのリレーション修正が必要なことが判明。\n\t\t 事業推進課には遅れそうであると共有済みだが、遅れるとちょっときびしい。。\n\t\t 外に見せる形までもっていって、3月中の決済を目指したい\n\t\t チャンさんにネゴお願いする\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t\t開発終了後の対応は駒井くんに移管。\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\tTKGの予算計画にあわせ、2月中に100台確約、3月1に150台、で。\n\t\tUIに問題はありつつも、csvで設定できるところで導入してもらうよう提案予定\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \t[Dev MTG 2020/1/20]を参照\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \t[Dev MTG 2020/1/20]を参照\n\n[* APIドキュメント改修]\n\t先週、masterを整備してKDDIに提出した。\n\tRUのエラー仕様や、合カギ仕様について記載が不足しているので、今週中に記載する。KDDIにも再度連絡[takeuchi.icon]\n\n[* CU]\n\tiOS \n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t\tダイレクトシェアの不具合修正\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース。ハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]（進捗なし）\nスケジュール\n\t3/4 (水) GM判定&設計検認（1/15 (水) から延期になりました）\n\n残作業\n\tCI環境構築\n\tAlexa解錠タイムアウト問題の切り分け\n\t受け入れ検証\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n\n\n[* Q-SL1 iOS]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n\t\tAndroid\n\t\t\t新OS対応\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2019/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t[Dev MTG 2020/1/20]を参照\n\n\n[** Castle]\n\t開発停止中。[Dev MTG 2020/1/20]を参照\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中→経営ダッシュボード優先しているため、\n一旦優先度下げてます。[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\nhttps://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing\n　売上周りはこちらに集約中\n　　[https://datastudio.google.com/open/1dDILdO3PwGmlNLpQaRPEn5XFsNbWE6Je]\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\t　開発者申請に1ヶ月ほどかかる＆ドキュメント読み込む予定\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\nキャンペーン終わったら、サーバーをダウングレードする\n\t\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\t線引きして共有します[takeuchi.icon]（進捗なし）\n\n\n[** ビルドイン(MIWA)]\n\t2021/3 リリース (来年度内リリース目標 (FY20内)\n\t販売戦略はまだ決まってないらしい\n\tMIWAの基盤を受け取った。BLEモジュールはnRF51x。king-ruはnRF52x。\n\t\t楢原さんによると、kingの署名検証は、前者だとRAMが足りなくてできない（署名検証の演算ができない、らしい）。\n\t\t他、その辺り（ピンコンパチかどうかなど）はQBSと相談\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\n[** Joker]\n2021/6 発売\n[* フラグシップ]\n\t近接センサーつき\n[* 廉価版]\n\tフラグシップと金型は一緒\n[* SuperLegend]\n[* NFCカードリーダー(MIWAと別)]\n[* 暗証番号パネル]\n\n[* Sirius用NFCカードリーダー]\n\n[** au Home]\n\t3末: 受注確定、8月: サービス開始。背景: [Dev MTG 2020/1/15]\n\tau ID対応\n\t\tau ID解約後、ロックを使えなくしてほしいと要求されている\n\t\t\tQrioアプリ単体でもロックを使用できないようにしたい\n\t\t\t「au IDがないと使えないロック」\n\t\t\tau IDの状態を確認しにいくタイミングは？\n\t\t\tどこまで防ぎたいかをKDDIに確認する必要がある（100％は防げない旨もお伝えする必要あり）\n\t\tau Homeで使うロックをメタ情報としてkingサーバーで持っておく、という改修が発生しそう\n\tCUのSDK化対応\n\t\tSDKは、うちの資産として作る。Qrio的には、SDKがないと事業展開しづらい。今後は似たようなかたちで展開していきたい。\n\t\tKDDI技術担当には、「作るけど「KeyFi + CUの実装例」として提供したほうが、KDDIさんもやりやすいかもしれないです」と伝えている。au Homeで何やりたいかは、まだ決まってないから\n\t\tSDKはミニマムにして、極力メンテコストを抑えたい。CU/BCUとの関係性も考えたい\n\tAPI公開\n\t\tAPIドキュメント提供した。今週整備して再度連絡。\n\tQrio Hub移植は1stリリースではやらない、と思われる\n\t見積もり\n\t\thttps://docs.google.com/spreadsheets/d/1jqMeJrZ9GCCKLWzZF-SKlwE0T-_wHw4i04Ln_V_gRbQ/edit##gid=0\n\n[** OPTEX]\n\t自動ドアセンサーにうちのソフト入れる。\n\tking-ruのBLEモジュールをセンサーに入れて、プロト組めるか？\n\t\t大西さんにFW/ハード周りを質問したが、QBSとおしてやってほしい、とのこと。\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t2月、3月のアプリの工数を確認する\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n\n\n[*** その他]\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]（進捗なし）\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n\t開発グループOKR[takeuchi.icon]\n\t\t開発グループとしてのOKR。\n\t\tOは「おもろい開発（仮）」\n\t\tKRなどは、今週時間あれば考えます。\n\n\t社内ツールのメンテ\n\t\tymtkさんから、中野さんに引継ぎお願いしました。\n\n\tymtkさんフロント関連は、外注で対応します（なりこさんとかに）\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t[Dev MTG 2020/1/20]を参照\n\n auth0, postgres, aws free tierからメンテとかのメールが来てる\n \tpostgresは、いつメンテが走るか、時間だけ確認しておく\n \tawsは無視、というか止めてもいいかも\n \tauth0\n \t https://support.auth0.com/notifications/5e20da43cf8669000b5dc1e5\n\n\n\n\n[*** 健忘録]\n\tなし\n\n# Dev MTG 2020/1/20\ncreated_at:Mon Jan 19 1970 15:44:43 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 15:47:58 GMT+0900 (日本標準時)\nDev MTG 2020/1/20\n[https://gyazo.com/d5612783add79b14c9d978a249a919e7]\n\n全体開発定例のアジェンダ／議事録です。\n\n\n[** 連絡事項]\n\tみなさま、↓記載おねがいします！\n\t\t一回どっかで時間とって、一気に棚卸ししますか。。[takeuchi.icon]\n\t\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\t\t\tアプリ対応はじめました♪\n\t\t\tまず、いらないものを消すところから。けっこういらないのあるっぽい。→見切れない\n\t\t\tわかる範囲で対応いただき、その他は、見つかれば都度対応で。\n\n\tauth0のログインユーザーが50000/月を超えまして、Auth0からプラン変更しろとのお達しが。\n\t\thttps://manage.auth0.com/dashboard/us/qrio-production/tenant/billing/subscription\n\t\t50000人以上/月ならContact usなので、Auth0と相談してプラン決めます[takeuchi.icon]\n\t\t\t今日夕方Auth0の人と打ち合わせします[takeuchi.icon]\n\t\t\t現在$850\n\n\tソニーペイメント(AWS EC2)、SL1のハブAPI(heroku qb-api)のSSL証明書更新[takeuchi.icon]\n\t\t有効期限：2020-03-16 なので早めにやる\n\t\t証明書の購入・作成手順: https://qrio.esa.io/posts/274\n\t\tソニーペイメント\n\t\t\tqrio storeで、決済などに使っている、ソニーのサービス\n\t\t\tlet's encryptが提供する証明書のフォーマットに対応してないので、仕方なくrapidsslのワイルドカードの証明書をいちいち買っているらしい\n\t\t\tqrio.me のサーバーは全部AWS EC2にある\n\t\t\t証明書更新は自動化できない。\n\t\t\t\trapidsslがそういう証明書の買い方に対応していないため。\n\t\t\t\tむしろlet's encryptが無償でそこまでやってくれるのがすごいって話だそうです\n\t\t\twildcardは、コーポレートサイト（stg/prd）で使っている\n\t\t\tqrio.meのサイトは証明書は一つ。\n\t\tSL1のハブAPI (qb-api)\n\t\t\therokuにある。\n\t\t\t決め打ちの証明書しか使えないらしい。wildcardの証明書が使えない。\n\t\t\t esaに書いてあるジオトラストのストアのアカウント情報合ってる？ログインできなかった！[komai.icon]\n\t\t\therokuのsettingのダッシュボードから変更できる。\n\t\t備考\n\t\t\tblog.qrio.meは、qrio.meとは別サイト。サーバーも違う（lightsail）。これはlet's encrypt使ってる。\n\t\t\t作業時はymtkさんといっしょにやる\n\n\tAWSのDBの証明書を更新する（まだ作業完了してない）\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tチャンさん、お願いします\n\t\t2/5までです。\n\n[*** Project]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\n\t1月末 FFリリース予定\nDevice開発[takeuchi.icon]\n\t実装中。\nServer \n\n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。企画、進捗は [Dev MTG 2020/1/6] を参照\n\t 　このプロジェクト再開するならfw実装を考える余地アリ\n\t 残作業\n \t king-api実装 (1d)\n \t Sirius側の異常系の実装(バックエンド、エラーハンドリング)（2d）\n \t\tSirius側の異常系の実装(フロント、メール通知だけ)\t (1d)\n \t\tSQA (2d)\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\t今、西川さんが設計・実装中\n\t\t king側でちょい重モデルのリレーション修正が必要なことが判明。\n\t\t biz側には遅れそうであると共有済みだが、遅れるとちょっときびしい。。\n\t\t 外に見せる形までもっていって、3月中の決済を目指したい\n\t\t チャンさんにネゴお願いする\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t\t開発終了後の対応は駒井くんに移管。\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n\t 合カギを受け取っているロックの合カギに紐づいているグループを外すと、ユーザー、グループ、ロックの削除ができなくなる\n\t \tSQA中に発覚 https://github.com/qrioinc/sirius-console/issues/342\n\t \t市場で発生したかどうか、CSに確認中\n\t \tもし問題が起きたら、今は手動でDB操作するしかないっぽい\n\t \tとりあえず\n\t \t グループのチェックを外せなくする(フロントで)\n\t \t調査すること\n\t \t DB制約、リレーションに問題が無いか\n\t \t インターフェースの問題なのか、DB設計上の問題なのか\n\t \t インターフェースの問題ならフロントを改修\n\t \t DB設計上の問題なら、どうしようもないのでやっぱりフロントで頑張るしかない?\n\t \t DBについてはコマイ氏がチェックするしかない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　onesignalにリクエスト送ってる箇所で６０秒以上レスポンスが返ってこなかった事象は確認済み\n 　　ただonesignal公式ではapiエラーなど起きていないっぽい\n 　worker内で処理しているpostリクエストについて一つでも不具合が起きていると他も引っ張られるのでタイムアウト設けるべき？\n 　　何秒ぐらいがよい？\n 　　他に解決方法あるか？\n 　　　workerを２つに増やそう\n 　workerの平均レスポンス速度が１秒を超えたらking-apiにアラート飛ばすようにした\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00から0分間は開けれると認識(つまり開かない)\n \tそもそもMAX値の正しい仕様は？　確認しておく。\n \t\tUIで、0:00~翌0:00で設定できるのが、正しいのか？\n \t\t1440を許容するか？　少なくとも1441以上は、おかしい?\n \t\t 日付をまたぐことを加味すると、1440以上も許容している(おそらく)\n \t\t 日付はまたぐが1440以上でまたぐことは想定してない?\n \t\t 1440で開くようにするでFA?\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \tread_logを再起的に実行するか？\n\t \tなるべくやらないほうがいい\n\t \tもしやるなら、ハブがロックからreadCharacteristicでru_timeして、サーバーからもらったコマンドにru_timeを入れる？\n\t \tあまりハブに複雑なことはやらせたくないが、ru_timeはCharacteristicIdが必要なので、やるならこれしかできない\n\t\tケースが少ないんで事業部的にはもっと声が上がったら本腰で対応しろ言われると思います\n\t\t１，２年以上リモート解施錠だけで運用しているロックで起こりそう\n\tOpen Smart UR 研究会へのAPI公開（進捗なし。先週の議事録を参照）\n\n\n[* APIドキュメント改修]（進捗なし）\n\tpostmanへの移行が理想。まだキャッチアップできておらず[takeuchi.icon]\n\tbattery_alertの誤記は修正する必要あり（電池残量に関しては、他で情報取れるので、そっちを使ってもらえばOK）\n\n\n[* CU]\n\tiOS \n\t\tpush通知の証明書の更新\n\t\t\tAppleの認証センターにちゃんと認証してもらう必要がある\n\t\t\t期限3/29日 (多分デバック) 本番用は4/29\n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t\tダイレクトシェアの不具合修正\n\t改善ネタ（優先度: 低）\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena]（進捗なし）\n\tこれまで: [Dev MTG 2020/1/15]\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害、レアケース\n\t\tハブが固定値で持っているURLの間違いを修正する必要がある\n\t\t詳細:  [Dev MTG 2020/1/15]\n\n[* Guardian]（進捗なし）\nスケジュール\n\t3/4 (水) GM判定&設計検認（1/15 (水) から延期になりました）\n\nスピードが遅い・失敗することがある件\n\tAlexa解錠でタイムアウトする問題は、Alexa Skillの実装を非同期(DeferredResponse)にすることで解決する見込み\n\t\t今は同期になっている。こまいさんに今見てもらってます\n\t\t2月中にSQA完了まで持っていけたらよいですが、間に合わなくてもGM判定パスすることはできると思います\n\t\t備考: https://developer.amazon.com/ja-JP/docs/alexa/smarthome/build-smart-home-skills-for-locks.html##slow-and-fast-locking-hardware\n\tそもそもguardianだけでなく、現行ハブの問題でもあるので、guardianの中で解決すべきかどうかは別問題。\n\t\tAlexa Skillの実装の問題は共通問題であるが、他にgurdian固有の問題もあるかもしれなく、それはちゃんと区別して扱うので、整理する。\n\t\t「原因がわかって、対応中で、いついつまでにできそうです」というのをbizに共有する\n\n残作業\n\tCI環境構築\n\tAlexa SkillのDeferredResponse対応\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n\n\n[* Q-SL1 iOS]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n\t\tAndroid\n\t\t\t新OS対応\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\tリリースしました 11/18\n \tbcu-Android 新OS対応\n \t\tQA待ち\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\nhttps://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing\n\n ダッシュボード→経営観点からカギカンとか月の売上見込み知りたいっていうオーダーを優先して対応。繋ぎ込み済み。\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\t　開発者申請に1ヶ月ほどかかる＆ドキュメント読み込む予定\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\nキャンペーン終わったら、サーバーをダウングレードする\n\t\n\n\n\n[*** FY20~21]\nhttps://qrioinc.slack.com/archives/C0H333VB7/p1579082922007600\n\tymtkさんとsyncした\n\tどれもまだ凛義とおってない。やること確定してない。\n\t線引きして共有します[takeuchi.icon]\n\t\tJokerは、ユーザーを共通にするにしても、サーバー開発は新規のほうが楽\n\t\t\tそうすると、アプリも新規になる。\n\t\t\t事業部的にはkingユーザーをそのまま流用したいと思われる\n\n\n[** ビルドイン(MIWA)]（進捗なし）\n\t2021/3 リリース (来年度内リリース目標 (FY20内)\n\tすでにNDA締結済み\n\t今後、MIWAの技術担当の方からHWの設計書（I/F）が送られてくる。Qrioで開発検討する\n\t\tどう売るのか？　売るのはQrio?\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\n[** Joker]\n2021/6 発売\n[* フラグシップ]\n\t近接センサーつき\n[* 廉価版]\n\tフラグシップと金型は一緒\n[* SuperLegend]\n[* NFCカードリーダー(MIWAと別)]\n[* 暗証番号パネル]\n\n[* Sirius用NFCカードリーダー]\n\n[** au Home]\n\t背景: [Dev MTG 2020/1/15]\n\tau ID対応、CUのSDK化対応\n\t\tQrio Hub移植は今回はやらない。時間ないから。\n\t\t3末: 受注確定、8月: サービス開始\n\t\tSDKは、全部はやらない（BLEの解施錠だけ）。\n\t\t\tこの後、この辺をもうちょっと見積もる\n\t見積もり\n\t\thttps://docs.google.com/spreadsheets/d/1jqMeJrZ9GCCKLWzZF-SKlwE0T-_wHw4i04Ln_V_gRbQ/edit##gid=0\n 今日こうきちさんとすり合わせ。明後日KDDIの人が来るので、そこで伝える[takeuchi.icon]\n\n\n[* 壁打ち]\n根底は、うちがメンテナンスコストを払わないようにすること！！！\n\tAPIを叩くものは、SDKをつくらない。\n\t\tBLE解施錠の理由がハンズフリー\n\tハンズフリーはやらない（auがやる。ビーコンの仕様開示）\n\t設定はQrioアプリで(オートロックも1ドア2ロックもQrioアプリで)\n\n3段階ある\n\tSDKなし、APIでがんばってねプラン\n\tKeyFiだけ提供プラン\n\t\t＋仕様公開（プロトコル、パケット）\n\t\tKeyFiの更新自体は、au関係なく、発生するコストなので考えなくてよい。\n\t\tKeyFiの使い方の質問は、↓よりは軽そう。\n\t\tサポート費は開発終了後相談、とかでもいいかも。\n\t\t\t年間でとったほうが安く見えるし、やること減っていくし、月額よりは得。\n\tauアプリ作成お手伝い（受託・出向）\n\t\tメンテどうするかは契約次第だが、極力メンテナンスコストが発生しないようにする\n\n5社くらいそろったらSDK化考える、でも遅くはない。\n\nまずはAPIだけでがんばってみてください、的に案内するのがよさげか。\nどうしてもKeyFiほしいなら、あげるけど。。\n手離れをよくしたい\n\tメンテナンスコスト頂けないのなら、うちがauのアプリつくるの手伝うだったらできるけど、メンテナンスはしないよ。だってできないから（うちはメンテナンスコストが払えないから）。\n\n\t通信エラーに関しては、どのプランにおいても避けられない。理由は、結局ロックがうちのものだから。。\n\tスマートフォン依存の問題も、問い合わせは結局うちにくる。\n\tので、それを含めた保守運用費をもらうしかない。\n\n\tアプリの実装をミスって、サーバーとアプリ・ハードに不整合が起きないか？\n\t\t起きたとしても、たぶん大丈夫。アプリを改修したらそれでいい話なのであれば。\n\t\t\t逆に、アプリの改修だけでなんとかならないのであれば、まずい。\n\t\t\tそこは仕様を把握しておく。\n\t\tInitialize、削除のシーケンスをチェックしとく\n\t\t本来は、クライアントがどんだけミスっても大丈夫なようにするべき、ではある\n\n\tau開発用にherokuにsandboxつくってあげるとか、もアリ。\n\n\t削除APIを気軽に叩かれて、うちのお客さんが困らないか？\n\t\t権限を設けているので、大丈夫。自分のカギしか消せないから。\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t2月、3月のアプリの工数を確認する\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n\n\n[*** その他]\n\n\t社内ツールのメンテ\n\t\tymtkさんから、中野さんに引継ぎお願いしました。\n\n\tymtkさんフロント関連は、外注で対応します（なりこさんとかに）\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\therokuの凛義に向けて、SaaSの棚卸し[takeuchi.icon]\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n[*** 健忘録]\n\tなし\n\n# Dev MTG 2020/1/15\ncreated_at:Mon Jan 19 1970 15:37:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 15:37:47 GMT+0900 (日本標準時)\nDev MTG 2020/1/15\n[https://gyazo.com/d5612783add79b14c9d978a249a919e7]\n\n全体開発定例のアジェンダ／議事録です。\n\n\n[** 連絡事項]\n\tみなさま、↓記載おねがいします！\n\t\t一回どっかで時間とって、一気に棚卸ししますか。。[takeuchi.icon]\n\t\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\t\t\tアプリ対応はじめました♪\n\n\tauth0のログインユーザーが50000/月を超えまして、Auth0からプラン変更しろとのお達しが。\n\t\thttps://manage.auth0.com/dashboard/us/qrio-production/tenant/billing/subscription\n\t\t50000人以上/月ならContact usなので、Auth0と相談してプラン決めます[takeuchi.icon]\n\n\n[*** Project]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\n\t1月末 FFリリース予定\nDevice開発[takeuchi.icon]\n\tBroadcomのSDKがお察しくださいですが、実装は70%くらい終わった\nServer\n MANOMAから使い回すkingのapiの中であまり使ってほしくないものがあったのでドキュメント変更してそちらを勧める\n \tドキュメントの記述ミスで一悶着あった。解決したんでしたっけ？\n \t\tSNC側はした。\n \t\tうちのAPIドキュメントは間違ったままなので、どこかで修正が必要。ymtkさんと相談する。postmanにするとかそのへんも含め。\n 　alexaにドアのステータスを通知してる機能をsomc用にしたもの\n 　\t[komai.icon]製じゃなく、メンテできてない\n 　\thttps://github.com/qrioinc/king-api/pull/482\n 　\tちょっと今の[komai.icon]製webhook改造しなきゃいけない \n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 組織管理対応を優先するため、いったん停止。企画、進捗は [Dev MTG 2020/1/6] を参照\n\t 　このプロジェクト再開するならfw実装を考える余地アリ\n\t 残作業\n \t king-api実装 (1d)\n \t Sirius側の異常系の実装(バックエンド、エラーハンドリング)（2d）\n \t\tSirius側の異常系の実装(フロント、メール通知だけ)\t (1d)\n \t\tSQA (2d)\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\t今、西川さんが設計・実装中\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t\t開発終了後の対応は駒井くんに移管。\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n 改修案件\n\t\tguest_key直発行\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t \t\tもう隙間がなくなってきた。\n\t \t\tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\t 合カギ一括削除のトランザクション対応\n\t \tsiriusがking-api叩いているところはほぼすべて、状態の不整合が発生する可能性がある。特に致命的なのは\n\t \t\t合カギ一括削除\n\t \t\t\tsirius側では消えているがking側には残る。\n\t \t\t合カギ一括登録（csvからもインポートも含む）\n\t \t\t\t膨大なユーザーリストから招待メール発行に失敗したユーザーを手動で選び、再度発行せねばならない\n\t \t\t\t削除に比べると優先度は落ちる\n\t \t今後の中規模拠点への展開（というかTKGとの契約）に影響する\n\t \tそもそも、APIの通信に成功したらローカルを削除すればよい\n\t \t 失敗したらロールバック\n\t \t Siriusの実装を修正する\n\t \t複数のAPIをまたぐトランザクションがあるなら、そういうAPIを実装する必要はあるかもしれない\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\n[** King]\n[* API]\n 2020/01/14 8:40 ~ 10:30 worker死亡\n 　onesignalにリクエスト送ってる箇所で６０秒以上レスポンスが返ってこなかった事象は確認済み\n 　　ただonesignal公式ではapiエラーなど起きていないっぽい\n 　worker内で処理しているpostリクエストについて一つでも不具合が起きていると他も引っ張られるのでタイムアウト設けるべき？\n 　　何秒ぐらいがよい？\n 　　他に解決方法あるか？\n 　　　workerを２つに増やそう\n\t\tプラニスで発生した障害の話。worker増やしたら返事する[takeuchi.icon]\n\t\t\thttps://qrioinc.slack.com/archives/CPFLQ24J2/p1579054266001800\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00から0分間は開けれると認識(つまり開かない)\n \tそもそもMAX値の正しい仕様は？　確認しておく。\n \t\tUIで、0:00~翌0:00で設定できるのが、正しいのか？\n \t\t1440を許容するか？　少なくとも1441以上は、おかしい?\n \t\t 日付をまたぐことを加味すると、1440以上も許容している(おそらく)\n \t\t 日付はまたぐが1440以上でまたぐことは想定してない?\n \t\t 1440で開くようにするでFA?\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \tread_logを再起的に実行するか？\n\t \tなるべくやらないほうがいい\n\t \tもしやるなら、ハブがロックからreadCharacteristicでru_timeして、サーバーからもらったコマンドにru_timeを入れる？\n\t \tあまりハブに複雑なことはやらせたくないが、ru_timeはCharacteristicIdが必要なので、やるならこれしかできない\n\t\tケースが少ないんで事業部的にはもっと声が上がったら本腰で対応しろ言われると思います\n\t\t１，２年以上リモート解施錠だけで運用しているロックで起こりそう\n\tOpen Smart UR 研究会へのAPI公開（進捗なし。先週の議事録を参照）\n\n\n\n\n\n[* APIドキュメント改修]\n\tpostmanへの移行が理想。まだキャッチアップできておらず[takeuchi.icon]\n\tbattery_alertの誤記は修正する必要あり（電池残量に関しては、他で情報取れるので、そっちを使ってもらえばOK）\n\n\n[* CU]\n\tiOS \n\t\tリファクタリング\n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t\tダイレクトシェアの不具合修正\n\t改善ネタ（優先度: 低）\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena]（進捗なし）\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tFobと一緒にはしない方がいいかもしれない(微妙に違ったら嫌だから)\t\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n[* Q-H1]\n\tリモート解施錠はできるが履歴が更新されない[takeuchi.icon]（進捗なし）\n\t\t市場障害\n\t\tハブの実装にバグがありました。それだけが原因とは言い切れませんが、少なくともこのバグが起きると、パケットをあげられなくなります。\n\t\t\tハブ起動時、packet_server_urlのGET APIをたたいています。これに3回失敗すると、ハブが固定値で持っているURLに対してパケットを上げるのですが、この固定値が間違っていました。。。ほんともうしわけないです\n\t\t\t改修自体は簡単です。\n\t\t\t現象発生がレアケース（CS問い合わせ件数でいうと1〜2回/月）なので、早ければ今月中、遅くとも来月中には対応したいです（GM判定とかあるので、パッとは出せないです）。\n\t\t\tSiriusのBCU/コンソールで、ハブのFWを最新にする口が今ないので、それも検討せねばです。こちらもおいおい。\n\t\t\tハブ起動時に、ハブが自分の情報をkingに渡してもいいんじゃないか？\n\t\t\t\tkingとしてはよいが、siriusはハブと直接通信しないので、siriusは結局kingから情報をとらねばならない。。\n\t\t\tcommand_logという、ハブに発行したコマンドを入れるログを、今つくっている。ここにハブFW更新の情報も入れてあげる。\n\n[* Guardian]\nスケジュール\n\t3/4 (水) GM判定&設計検認（1/15 (水) から延期になりました）\n\nスピードが遅い・失敗することがある件\n\t電波の飛びは問題なし（現行ハブと比較しても遜色ない。むしろムラなく飛んでいた）\n\tAlexa解錠でタイムアウトする問題は、Alexa Skillの実装を非同期(DeferredResponse)にすることで解決する見込み\n\t\t今は同期になっている。こまいさんに今見てもらってます\n\t\t2月中にSQA完了まで持っていけたらよいですが、間に合わなくてもGM判定パスすることはできると思います\n\t\t備考: https://developer.amazon.com/ja-JP/docs/alexa/smarthome/build-smart-home-skills-for-locks.html##slow-and-fast-locking-hardware\n\tそもそもguardianだけでなく、現行ハブの問題でもあるので、guardianの中で解決すべきかどうかは別問題。\n\t\tAlexa Skillの実装の問題は共通問題であるが、他にgurdian固有の問題もあるかもしれなく、それはちゃんと区別して扱うので、整理する。\n\t\t「原因がわかって、対応中で、いついつまでにできそうです」というのをbizに共有する\n\n残作業\n\tCI環境構築\n\tAlexa SkillのDeferredResponse対応\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n\n\n[* Q-SL1 iOS]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n\t\tAndroid\n\t\t\t新OS対応\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\tリリースしました 11/18\n \tbcu-Android 新OS対応\n \t\tQA待ち\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\nhttps://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing\n\n ダッシュボード→経営観点からカギカンとか月の売上見込み知りたいっていうオーダーを優先して対応。繋ぎ込み済み。\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\t　開発者申請に1ヶ月ほどかかる＆ドキュメント読み込む予定\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\nキャンペーン終わったら、サーバーをダウングレードする\n\t\n\n\n\n\n\n[** ビルドイン(MIWA)]（進捗なし）\n\t2021/3 リリース (来年度内リリース目標 (FY20内)\n\tすでにNDA締結済み\n\t今後、MIWAの技術担当の方からHWの設計書（I/F）が送られてくる。Qrioで開発検討する\n\t\tどう売るのか？　売るのはQrio?\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\n[** Joker]\n2021/6 発売\n[* フラグシップ]\n\t近接センサーつき\n[* 廉価版]\n\tフラグシップと金型は一緒\n[* SuperLegend]\n[* NFCカードリーダー(MIWAと別)]\n[* 暗証番号パネル]\n\n\n[** au Home]\n\tKDDIがやろうとしている、MANOMAみたいなスマートホームサービス。\n\t\t経産省「LifeUpプロモーション」（機器購入・サービス契約時に最大1.5万円のインセンティブを付与し、その内2/3を経産省が負担する）に乗っかって、Qrio Lockを安く広げる\n\tQrio側の開発工数は、25人月くらい。開発は2020/8から。\n\t\tCUのSDK化\n\t\t au がうちのCUとほぼ同じものを、auとして出したいらしい\n\t\t SDKの運用コストが地獄なので、その辺も見積もる。リリース後の技術サポートは今取ろうとしているが、それと別に必要。\n\t\t 開発終了後から大体1年くらいは、au アプリに最低0.25~0.5人月くらい充てていかないといけない\n\t\t\tその内部コストとして、最低でも25万~ 50万/月くらいかかるかも\n\t\t\tロックの売り上げ + 開発コストでペイできるか？\n\t\tau用のユーザーとking用ユーザーの棲み分け対応\n\t見積もり\n\t\thttps://docs.google.com/spreadsheets/d/1jqMeJrZ9GCCKLWzZF-SKlwE0T-_wHw4i04Ln_V_gRbQ/edit##gid=0\n\t1/22 (水) に商談予定\n\t\tそちらの要望は飲めるが最低でもロック10000台買ってくださいね、っていう話をしにいく（本当は5000台でOK）\n\n\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t2月、3月のアプリの工数を確認する\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n\n\n[*** その他]\n\tAWSのDBの証明書を更新する（まだ作業完了してない）\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tチャンさん、お願いします\n\n\t社内ツールのメンテ\n\t\tymtkさんから、中野さんに引継ぎお願いしました。\n\n\tymtkさんフロント関連は、外注で対応します（なりこさんとかに）\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\tSB <= Qrio Hub（進捗なし）\n\n\ttoB向けの開発窓口整備\n\t\t今はdev-lead@qrioinc.comだが、今後KDDIとかも入ってくると、専用のメーリスとかも必要になりそう。このへんはymtkさんと相談します。\n\t\t竹内が窓口になりますが、これまで深澤さんが受けてた諸案件を全部把握しているかというと、自信ないです。。たぶんdev-leadに問い合わせあるので、来たら対応していきます。\n\n\therokuの凛義に向けて、SaaSの棚卸し\n\t\t凛義は6月。3月〜4月くらいから始める\n\t\tdynoの見積もりとかreview-appの見積もりとか\n\t\tポートフォリオつくる\n\n[*** 健忘録]\n\tなし\n\n# Dev MTG 2020/1/6\ncreated_at:Mon Jan 19 1970 15:24:38 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 15:29:18 GMT+0900 (日本標準時)\nDev MTG 2020/1/6\n[https://gyazo.com/d5612783add79b14c9d978a249a919e7]\n\n全体開発定例のアジェンダ／議事録です。\n\n\n[** 連絡事項]\n\tみなさま、↓記載おねがいします！\n\t\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\n\n[*** Project]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\n\t1月末 FFリリース予定\nDevice開発[takeuchi.icon]\n\t実装中\n\tデバイスのBLE電波を測定。MANOMAよりも気持ち飛びがよいが、だいたい同じであった\nServer\n MANOMAから使い回すkingのapiの中であまり使ってほしくないものがあったのでドキュメント変更してそちらを勧める\n \tドキュメントの記述ミスで一悶着あった。解決したんでしたっけ？\n \t\tSNC側はした。\n \t\tうちのAPIドキュメントは間違ったままなので、どこかで修正が必要。ymtkさんと相談する。postmanにするとかそのへんも含め。\n 　alexaにドアのステータスを通知してる機能をsomc用にしたもの\n 　\t[komai.icon]製じゃなく、メンテできてない\n 　\thttps://github.com/qrioinc/king-api/pull/482\n 　\tちょっと今の[komai.icon]製webhook改造しなきゃいけない \n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 開発完了予定は12月末 -> 年初1週 に（こうきちさんと相談し、リスケした）\n\t \tこうきちさんにデッドを聞く。\n\t \t\t今週中だったら、正常系だけ実装して出す。\n\t \t\tそうでなければ、異常系も実装して出す。\n \t king-api実装 (1d)\n \t Sirius側の異常系の実装(バックエンド、エラーハンドリング)（2d）\n \t\tSirius側の異常系の実装(フロント、メール通知だけ)\t (1d)\n \t\tSQA (2d)\n \t\t1/14 (火) リリースできそう。\n \t正常系は、stgにデプロイ済み。\n　 失敗時のユーザーへの案内導線はちゃんさん、こーきちさん、マユトさんの三者で話し合って開発陣に落とされる予定\n　　 想定される失敗のケース一覧まとめとく？\n　　 　https://qrio.esa.io/posts/623 機能概要あるしここにまとめとくと都合よい？\n　　 失敗時の文言とかちゃんさんにまとめてもらった\n　　 　https://docs.google.com/spreadsheets/d/1ng9qScXqIUBeTiJv-MMFHQNwrCzcVEEMBQeCTPWMwm4/edit##gid=0\n \tKing側がAPI準備したら、開発完了\n \t\t１つのschedulerで１つのdyno (https://devcenter.heroku.com/articles/one-off-dynos) 使う？けどそれで追加料金発生するのかまだよくわかってないです。\n \t\thub presenceでhub死んでる時対応の実装中\n \t\t3スケジューラ起動している\n \t\t 1つの設定につき3回設定する\n \t\t\t（失敗率の計算は[Dev MTG 2019/11/19]を参照）\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n\tguest_key直発行スキマ時間見つけてやる\n\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t\t \tもう隙間がなくなってきた。\n\t\t \tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t\t開発終了後の対応は駒井くんに移管。\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t今、西川さんが設計中\n\t\t\t西川さんは1月末に終了。実装をお願いしている。\n\t\t\t1月初日から、西川さんに実装開始してもらう予定だったが、オートロック対応との兼ね合いを考える。TKG対応のほうがおそらく優先度高いので、オートロック対応が終わってなくても、TKGの実装に入ってもらうかも。チャンさん確認お願いします。\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\tbcu-Android \n\t\t新OS対応\n \t\tQA中\n bcu-iOS \n \tsetTime呼んでなかった問題\n \t\tQA待ち\n\n\tリモート解施錠はできるが履歴が更新されない市場障害が発生[takeuchi.icon]（今週は進捗なし）\n\t\tハブの実装にバグがありました。それだけが原因とは言い切れませんが、少なくともこのバグが起きると、パケットをあげられなくなります。\n\t\t\tハブ起動時、packet_server_urlのGET APIをたたいています。これに3回失敗すると、ハブが固定値で持っているURLに対してパケットを上げるのですが、この固定値が間違っていました。。。ほんともうしわけないです\n\t\t\t改修自体は簡単です。\n\t\t\t現象発生がレアケース（CS問い合わせ件数でいうと1〜2回/月）なので、早ければ今月中、遅くとも来月中には対応したいです（GM判定とかあるので、パッとは出せないです）。\n\t\t\tSiriusのBCU/コンソールで、ハブのFWを最新にする口が今ないので、それも検討せねばです。こちらもおいおい。\n\t\t\tハブ起動時に、ハブが自分の情報をkingに渡してもいいんじゃないか？\n\t\t\t\tkingとしてはよいが、siriusはハブと直接通信しないので、siriusは結局kingから情報をとらねばならない。。\n\t\t\tcommand_logという、ハブに発行したコマンドを入れるログを、今つくっている。ここにハブFW更新の情報も入れてあげる。\n\n[** King]\n[* API]\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00から0分間は開けれると認識(つまり開かない)\n \tそもそもMAX値の正しい仕様は？　確認しておく。\n \t\tUIで、0:00~翌0:00で設定できるのが、正しいのか？\n \t\t1440を許容するか？　少なくとも1441以上は、おかしい?\n \t\t 日付をまたぐことを加味すると、1440以上も許容している(おそらく)\n \t\t 日付はまたぐが1440以上でまたぐことは想定してない?\n \t\t 1440で開くようにするでFA?\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \tread_logを再起的に実行するか？\n\t \tなるべくやらないほうがいい\n\t \tもしやるなら、ハブがロックからreadCharacteristicでru_timeして、サーバーからもらったコマンドにru_timeを入れる？\n\t \tあまりハブに複雑なことはやらせたくないが、ru_timeはCharacteristicIdが必要なので、やるならこれしかできない\n\t\tケースが少ないんで事業部的にはもっと声が上がったら本腰で対応しろ言われると思います\n\t\t１，２年以上リモート解施錠だけで運用しているロックで起こりそう\n\tOpen Smart UR 研究会へのAPI公開（進捗なし）\n\t\t坂村健（TRONおじさん）　主宰\n\t\t東洋大学 情報連携学部とURが組んで、スマートホーム関連の研究会です。会費無料。\n\t\t\thttps://www.ur-net.go.jp/rd_portal/ur2030/index.html\n\t\t今、ドキュメント公開は有料なので、そのへんどうしたらいいか。\n\t\t\t高橋さんに聞いてみる。\n\t\t\t料金体系も確認しておく\n\t\tできればpostmanに移行したい\n\n[* CU]\n\tiOS \n\t\tハンズフリーのバグ修正\n\t\t\t年末リリースしました\n\t\t文言周りの整理\n\t\t\t完了 PR出した\n\t\t不要なコード削除\n\t\t\t完了 PR出した\n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t改善ネタ（優先度: 低）\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tFobと一緒にはしない方がいいかもしれない(微妙に違ったら嫌だから)\t\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n\n[* Guardian]\nスケジュール\n\t1/15 (水) GM判定&設計検認（予定）\n\nスピードが遅い・失敗することがある件\n\tうちで数値出す。\n\tこの問題の原因がハードにあるのかソフトにあるのかがわからないと、ヘルツさん側の設計検認ができない\n\t\t今週、大崎で、現行ハブとの電波比較試験が行われる予定\n\t再FT\n\t\t10台くらいでFT完了\n\t\tGoogle Cloud Functionsにハブのログを飛ばすようにした。\n\t\t\t1月中くらいを目処にやってみる。相談。\n\tPubNubからのコマンド受信がたまに遅い\n\t\tルーター持って帰ってWiresharkでパケットみてみる\n\tGATT Connection確立がたまに遅い\n\t\tAdafruit BLE Sniffer買った（残り1個だった。クリスマスに届く）。WiresharkでBLEパケットみてみる\n\t\t\thttps://www.switch-science.com/catalog/3347/\n\n残作業\n\tCI環境構築\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\t\t\t延期になっている（ハブ定例）\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n\n\n[* Q-SL1 iOS]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n\t\tAndroid\n\t\t\t新OS対応\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\tリリースしました 11/18\n \tbcu-Android 新OS対応\n \t\tQA待ち\n\n\n[** ビルドイン(MIWA)]\n\t先週木曜にMIWAの人と話した\n\tすでにNDA締結済み\n\t来年度内リリース目標 (FY20内 = 2021/3中)\n\t今後、MIWAの技術担当の方からHWの設計書（I/F）が送られてくる。Qrioで開発検討する\n\t\tどう売るのか？　売るのはQrio?\n\t基本的にはkingの機能と同等になる。アプリがどうなるかはわからないが、極力吸収はしたい。\n\tカードリーダーもくっついてくるかも？？　すでにMIWAにあるらしいが、それがどうなっているか？？\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\nhttps://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\t　開発者申請に1ヶ月ほどかかる＆ドキュメント読み込む予定\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\nキャンペーン終わったら、サーバーをダウングレードする\n\t\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\t2月、3月のアプリの工数を確認する\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t3末までは生かしておいてほしい by 関さん\n\n\n[*** その他]\n\tAWSのDBの証明書を更新する（まだ作業完了してない）\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tチャンさん、お願いします\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\tSB <= Qrio Hub（進捗なし）\n\n\tZenhubどうするか\n\t やるならGithub Projectでもいいかも\n\t 外しておきます[takeuchi.icon]\n\t \tまだ外してない\n\n\t来年度予算のための開発リソース検討中[takeuchi.icon]\n\t\t次の4つが並走りそう\n\t\t\tJoker (3号機) : 2021/6 発売\n\t\t\t 設計から\n\t\t\t廉価版 : 2021/6 発売\n\t\t\t ハードウェアオンリー?\n\t\t\tビルトイン : 2021/3 リリース(?)\n\t\t\t 設計から\n\t\t\tSuperLegend (ハンズフリーできるQrioKey) : 不明\n\t\t\t\tQBS岡本さんが試作されていた\n\t\t\t\t設計だけちゃんとしてれば誰が作っても\n\t\t( ´_ゝ`) \n\t\t（´；ω；｀）ｳｯ\n\t\t谷内さんにコンサルお願いできるかも！\n\t\thttps://iotlofthandson2020jan.splashthat.com/ \n\n\n[*** 健忘録]\n\tなし\n\n# ymtk開発引き継ぎメモ\ncreated_at:Mon Jan 19 1970 12:47:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 15:24:49 GMT+0900 (日本標準時)\nymtk開発引き継ぎメモ\n文責[ymtk.icon]\n2019/09/19更新\n\n[** 概要]\n\t2019/11-12育休のため自分の担当領域についての引き継ぎメモを残します。\n\n[** Node.js共通の環境構築]\n\t導入方法\n\t\tNode.jsはn を利用。現状はNode.js v10\n\t\t\thttps://github.com/tj/n\n\t\tパッケージマネージャーはyarnを利用\n\t\t\thttps://yarnpkg.com/lang/ja/\n\t定期的に上がってくるrenovate is 何\n\t\t設定に合わせてパッケージ更新PRを立ててくれる。github Apps経由で契約\n\t\t\thttps://github.com/apps/renovate\n\t\tPRには差分についてのドキュメントが付属しており、対策検討もつく\n\t\t\tpatchなら大体問題ないが、念のためソースは読んでいる\n\t\t\tHerokuのレビューアップがコケていたら危ない。型エラーなり何かしらが発生している\n\t\tsirius-console、castle-console、castle-apiにのみ適用中\n\t\t\tいざ追加開発する時にこの辺の差分が大きいと辛いのと、毎週単位ならそこまで大きな対応も不要なため、週30分程度で対応している\n\n[** フロントエンド]\n\tここに知見をためている\n\t\thttps://qrioinc.slack.com/messages/CHS2GU891\n\t組み方のバリエーション\n\t\t既存製品で少しずつ変えて試しているので、必要に応じて参考にする。\n\t\tQrio的にはvue-cli & typescriptを標準としている。apiとviewを分けているのは分業のしやすさ、開発環境構築のやりやすさ、言語選択の幅の広さなどを考慮している\n\t\t\trailsにwebpackを組み込むなどは結構大変。apiと分かれている分には平和にできる。そして今更ES5でjsやtsを書くのは生産性も低くお勧めできないので、その点でのメリットもある。\n\t\t\tこだわりがない管理画面はblumaやbuefyあたりのcssフレームワークで組むと良い。jQuery依存もない。\n\t\t標準的なview単体アプリケーション\n\t\t\tsirius-console\n\t\tfirebaseログインつきview単体アプリケーション\n\t\t\tsirius-admin-console\n\t\tview + backend\n\t\t\tr-king-app\n\t\tview単体だがGraphQL\n\t\t\tcastle-console\n\n[** インフラ]\n\tHeroku\n\t\tKing prod dbに関わるものはPrivate Space内にある\n\t\t\tdbへの直アクセスは恵比寿からのみ可能\n\t\tHeroku由来の障害は下記を確認\n\t\t\thttps://status.heroku.com/\n\t\t\tエンプラアカウントからチケットを切って質問可能\n\t\t\t\tエンプラ特有\n\t\t\t\t\thttps://help.heroku.com/enterprise\n\t\t\t\t汎用\n\t\t\t\t\thttps://help.heroku.com/\n\t\tPostgres へのアクセスはSSL\n\t\t\thttps://qiita.com/hiro93n/items/fe015ce9517f139edbeb\n\t\t\tnode.jsアプリで説即できない場合は大体これ\n\tAWS\n\t\tコーポレートサイト\n\t\t\tコーポレートサイトの冗長化は途中\n\t\t\t\tロードバランサーにぶら下げるとhttp2が使えない\n\t\t\tアクセスが多く見込まれる場合は下記設定を参照\n\t\t\t\thttps://qrio.esa.io/posts/297\n\t\t\t\tEC2の世代およびphpは最新化済み\n\t\t\t\tm5.2xlargeは平日午後10時しゃべくりだと太刀打ちできなかった(瞬間2000、CPU80%)ので、日テレゴールデンタイム相手の場合はもう1段階上げていいかもしれない\n\t\tQ-SL1 DB\n\t\t\t履歴が多すぎて時々クエリが詰まることがある。Heroku側の再起動でもダメな場合はこちらで対処\n\t[よくある障害対応]\n\n\tGoogle Actions\n\t\tスキル一覧\n\t\t\thttps://console.actions.google.com/u/1/\n  aws側はapi gatewayと繋いでいる\n\n[** products]\n\t[Castle引き継ぎメモ]\n\t[Sirius引き継ぎメモ]\n\t[お試しキャンペーン引き継ぎメモ](TODO)\n\t[payjp界隈引き継ぎメモ]\n\t[topaz2さんにお願いしたい10のこと]\n\n全般はこちら（要ログイン）\nhttps://docs.google.com/spreadsheets/d/1rJA77bQU-VE_ee_p7d9hsuZf7mzHqh4rqaYDSuUsSe4/edit##gid=0\n\n##ymtk開発引き継ぎメモ\n\n# Dev MTG 2019/12/23\ncreated_at:Mon Jan 19 1970 15:04:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 15:09:01 GMT+0900 (日本標準時)\nDev MTG 2019/12/23\n[https://gyazo.com/d5612783add79b14c9d978a249a919e7]\n\n全体開発定例のアジェンダ／議事録です。\n\n\n[** 連絡事項]\n\tみなさま、↓記載おねがいします！\n\t\tAWS S3バケットを旧フォーマットURLで参照する、アプリ/サーバー/CIの修正\n\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t（備考）AWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了\n\t\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\n\n[*** Project]\n\n[** MANOMA]\n終[takeuchi.icon]\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\n\t1月末 FFリリース予定\nDevice開発[takeuchi.icon]\n\tBLEのSDKがきたので、取り込み中\n\tデバイスのBLE電波を測定。MANOMAよりも気持ち飛びがよいが、だいたい同じであった\nServer\n MANOMAから使い回すkingのapiの中であまり使ってほしくないものがあったのでドキュメント変更してそちらを勧める\n 　alexaにドアのステータスを通知してる機能をsomc用にしたもの\n 　\t[komai.icon]製じゃなく、メンテできてない\n 　\thttps://github.com/qrioinc/king-api/pull/482\n 　\tちょっと今の[komai.icon]製webhook改造しなきゃいけない \n\n[** Sirius]\n オートロック設定の有効時間帯指定\n\t 開発完了予定は12月末 -> 年初1週 に（こうきちさんと相談し、リスケした） \n \t ~12/20: king-api実装 (1d)\n \t\t12/23 ~ 25: Sirius側の異常系の実装 (3d)  ※適当です。最悪、エラー番号だけ表示するような対応も検討中です。\n \t\t12/26 ~ 27: SQA (2d)\n \t\t1/6 ~ 1/10: なんか問題あったら対応＆リリース\n \t正常系は、stgにデプロイ済み。\n　 失敗時のユーザーへの案内導線はちゃんさん、こーきちさん、マユトさんの三者で話し合って開発陣に落とされる予定\n　　 想定される失敗のケース一覧まとめとく？\n　　 　https://qrio.esa.io/posts/623 機能概要あるしここにまとめとくと都合よい？\n　　 失敗時の文言とかちゃんさんにまとめてもらった\n　　 　https://docs.google.com/spreadsheets/d/1ng9qScXqIUBeTiJv-MMFHQNwrCzcVEEMBQeCTPWMwm4/edit##gid=0\n \tKing側がAPI準備したら、開発完了\n \t\t１つのschedulerで１つのdyno (https://devcenter.heroku.com/articles/one-off-dynos) 使う？けどそれで追加料金発生するのかまだよくわかってないです。\n \t\thub presenceでhub死んでる時対応の実装中\n \t\t3スケジューラ起動している\n \t\t 1つの設定につき3回設定する\n \t\t\t（失敗率の計算は[Dev MTG 2019/11/19]を参照）\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n\tguest_key直発行スキマ時間見つけてやる\n\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\t\t \tもう隙間がなくなってきた。\n\t\t \tこれは瞬殺案件(少なくともkingは)[mikamix.icon]\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t\t開発終了後の対応は駒井くんに移管。\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t今、西川さんが設計中\n\t\t\t西川さんは1月末に終了。実装をお願いしている。\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\tbcu-Android \n\t\t新OS対応\n \t\tQA中\n bcu-iOS \n \tsetTime呼んでなかった問題\n \t\tQA待ち\n\n\tリモート解施錠はできるが履歴が更新されない市場障害が発生[takeuchi.icon]（今週は進捗なし）\n\t\tハブの実装にバグがありました。それだけが原因とは言い切れませんが、少なくともこのバグが起きると、パケットをあげられなくなります。\n\t\t\tハブ起動時、packet_server_urlのGET APIをたたいています。これに3回失敗すると、ハブが固定値で持っているURLに対してパケットを上げるのですが、この固定値が間違っていました。。。ほんともうしわけないです\n\t\t\t改修自体は簡単です。\n\t\t\t現象発生がレアケース（CS問い合わせ件数でいうと1〜2回/月）なので、早ければ今月中、遅くとも来月中には対応したいです（GM判定とかあるので、パッとは出せないです）。\n\t\t\tSiriusのBCU/コンソールで、ハブのFWを最新にする口が今ないので、それも検討せねばです。こちらもおいおい。\n\t\t\tハブ起動時に、ハブが自分の情報をkingに渡してもいいんじゃないか？\n\t\t\t\tkingとしてはよいが、siriusはハブと直接通信しないので、siriusは結局kingから情報をとらねばならない。。\n\t\t\tcommand_logという、ハブに発行したコマンドを入れるログを、今つくっている。ここにハブFW更新の情報も入れてあげる。\n\n[** King]\n[* API]\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00から0分間は開けれると認識(つまり開かない)\n \tそもそもMAX値の正しい仕様は？　確認しておく。\n \t\tUIで、0:00~翌0:00で設定できるのが、正しいのか？\n \t\t1440を許容するか？　少なくとも1441以上は、おかしい?\n \t\t 日付をまたぐことを加味すると、1440以上も許容している(おそらく)\n \t\t 日付はまたぐが1440以上でまたぐことは想定してない?\n \t\t 1440で開くようにするでFA?\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \tread_logを再起的に実行するか？\n\t \tなるべくやらないほうがいい\n\t \tもしやるなら、ハブがロックからreadCharacteristicでru_timeして、サーバーからもらったコマンドにru_timeを入れる？\n\t \tあまりハブに複雑なことはやらせたくないが、ru_timeはCharacteristicIdが必要なので、やるならこれしかできない\n\t\tケースが少ないんで事業部的にはもっと声が上がったら本腰で対応しろ言われると思います\n\t\t１，２年以上リモート解施錠だけで運用しているロックで起こりそう\n\tOpen Smart UR 研究会へのAPI公開（進捗なし）\n\t\t坂村健（TRONおじさん）　主宰\n\t\t東洋大学 情報連携学部とURが組んで、スマートホーム関連の研究会です。会費無料。\n\t\t\thttps://www.ur-net.go.jp/rd_portal/ur2030/index.html\n\t\t今、ドキュメント公開は有料なので、そのへんどうしたらいいか。\n\t\t\t高橋さんに聞いてみる。\n\t\t\t料金体系も確認しておく\n\t\tできればpostmanに移行したい\n\n[* CU]\n\tiOS \n\t\tXcode11対応\n\t\t\tリリースしました\n\t\tハンズフリーのアナリティクス対応\n\t\t\t対応完了\n\t\t文言周りの整理\n\t\t\t完了\n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t改善ネタ（優先度: 低）\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\t大西さんがWenaの人とやりとり中。デバイス側でのフィジビリをとっている最中です。\n\t\tCUの改修は、少なくともUIは必須。\n\t\t三上をCCに入れてもらえれば回答します。\n\t\t\tCC入れました。\n\t\tFobと一緒にはしない方がいいかもしれない(微妙に違ったら嫌だから)\t\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n\n[* Guardian]\nスケジュール\n\t12/23 (月) GMリリース -> のばし中。1/15までには出す\n\t1/15 (水) GM判定&設計検認\n\nスピードが遅い・失敗することがある件\n\t再FT中（今週）\n\t\tいろいろいじったけど効果ないかもヽ(`Д´)ﾉ\n\t\tFTでログ収集できるようにした。今週末にハブ回収して中身見る。\n\t\tできればサーバーに飛ばしたかったが、自分の知見を考えるとハブ単体で完結させたほうが早かった[takeuchi.icon]\n\t\t将来的にはハブのログも簡単にとれたらうれし\n\t\t\t1月中くらいを目処にやってみる。相談。\n\tPubNubからのコマンド受信がたまに遅い\n\t\tルーター持って帰ってWiresharkでパケットみてみる\n\tGATT Connection確立がたまに遅い\n\t\tAdafruit BLE Sniffer買った（残り1個だった。クリスマスに届く）。WiresharkでBLEパケットみてみる\n\t\t\thttps://www.switch-science.com/catalog/3347/\n\n残作業\n\tCI環境構築\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\t\t\t延期になっている（ハブ定例）\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n\n\n[* Q-SL1 iOS]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n\t\tAndroid\n\t\t\t新OS対応\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\tリリースしました 11/18\n \tbcu-Android 新OS対応\n \t\tQA待ち\n\n\n[** ビルドイン(MIWA)]\n\t先週木曜にMIWAの人と話した\n\tすでにNDA締結済み\n\t来年度内リリース目標\n\t今後、MIWAの技術担当の方からHWの設計書（I/F）が送られてくる。Qrioで開発検討する\n\t\tどう売るのか？　売るのはQrio?\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Manager整理中[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n google data portalに集約中\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\nhttps://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい[nakano.icon]\n\t　amazon MWS(amazon マーケットプレイス　ウェブサービス)開発者登録が必要。\n\t　開発者申請に1ヶ月ほどかかる＆ドキュメント読み込む予定\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n\n[*** その他]\n\tAWSのDBの証明書を更新する（まだ作業完了してない）\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tチャンさんに現状を確認する\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\tSB <= Qrio Hub\n\t\tオフレコ[takeuchi.icon]\n\t\tメールでやりとり中\n\t\t\tあちらもESP32使ってましたw\n\t\tサービス設計から始める感じらしい\n\n\tZenhubどうするか\n\t やるならGithub Projectでもいいかも\n\t 外しておきます[takeuchi.icon]\n\t \tまだ外してない\n\n\t来年度予算のための開発リソース検討中[takeuchi.icon]\n\t\t次の4つが並走りそう\n\t\t\tJoker (3号機) : 2020/11 リリース\n\t\t\t 設計から\n\t\t\tQ-SL2A (king 廉価版) : 2020/11 リリース\n\t\t\t ハードウェアオンリー?\n\t\t\tビルトイン : 2021/3 リリース(?)\n\t\t\t 設計から\n\t\t\tSuperLegend (ハンズフリーできるQrioKey) : 不明\n\t\t\t\tQBS岡本さんが試作されていた\n\t\t\t\t設計だけちゃんとしてれば誰が作っても\n\t\t( ´_ゝ`) \n\t\t（´；ω；｀）ｳｯ\n\t\t谷内さんにコンサルお願いできるかも！\n\t\thttps://iotlofthandson2020jan.splashthat.com/ \n\n\n[*** 健忘録]\n\tなし\n\n# Castle 未解決・対応中の項目管理\ncreated_at:Mon Jan 19 1970 09:14:40 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 15:04:45 GMT+0900 (日本標準時)\nCastle 未解決・対応中の項目管理\nこのドキュメントの使い方\n\t山田さんがSQAシートから優先項目を抜き出して書く\n\t各項目についてのコメント、進捗を書く、stgで確認オネシャスとか\n\tNo はSQA の issueList のナンバーです（issueListは基本山田さんが編集する）\n\t\tIssueList　https://docs.google.com/spreadsheets/d/1jWU63mKLTcTz4d_btG9hNVsRwcGzWt_lnIHbsDYGrvQ/edit?pli=1##gid=377246447\n\n\t本番API\n\t\troomon.jp\n\t\tstg.roomon.jp\n\tSTG API\n\t\tdev.roomon.jp = master マージでオートデプロイ\n\t\thttps://castle-console-staging.herokuapp.com プルリク番号付きのやつマージする前に確認したい時\n\n\tDEV環境アカウント \nFFFFFFFFF1 Pass123!\nFFFFFFFFF2 Pass123!\nFFFFFFFFF3 Pass123!\nFFFFFFFFF4, b284c3e7b64007\nhttp://qrio-dev.roomon.jp/login?path=%2F\n[*** 本番デプロイ待ち（本番確認したら順次削除）]\n\n[*** 勝手に作ってます][ymtk.icon]\n　グループの権限移行\n　\t6/2 具体的なユースケースも見えないのでやらない[ymtk.icon]\n　\t→6/18 と思っていたけど人事異動の時期に必要になるのでやりました[ymtk.icon]\n　\t仕様はこちら\n　\t\t[Castle / 権限移行仕様(19/06/17時点)]\n　アラート(stg)[mikamix.icon]\n　\tオートロックエラーあるいは電池不足になるとDBにデータが入る\n　\t\tまだ入ってないっぽい･･･\n　\tビューおよび無効化処理作ってます。履歴はどうしたもんかというのもありペンディング\n　\t\t履歴とアラートがいろいろと被ってしまうので。。。\n　\t\t6/21 apiとconsole入れました[ymtk.icon]\n\n[*** ランクA]\nなし\n\n[*** ランクB]\n　入居モード切り替え時に成功してるけどエラーが出る問題No147 No151　Deffer\n　　SafariはNetwork error: Origin http://localhost.dev.roomon.jp is not allowed by Access-Control-Allow-Origin.\n　　Chrome,IE,EdgeはNetwork error: Failed to fetch\n　　ハブの電源が抜けている、ロックの電池が切れているなどの場合\n　　\tエラーメッセージがおかしい点は気になる（対応はできそう）\n　　\t仮にハンドリングできたとして、Castleコンソール上から出来ることは何もない。アラート対応でやるべき問題\n　　\t「ハブ応答なし」「ロック電池切れ」などのアラートを出して回避すべき\n　　\t\t色々考えると、ここを対応強化するよりアラート実装を急ぐほうがよいのでは？\n　　\t\t例えばエラーを握りつぶして「エラーが発生しました」と表示するだけとか  \n　1ドア2ロック時に、サブロックのアラートが表示されてこない　No267　\n　\n\n[*** ランクC]\n　入居モードに切り替えるときにスピナーで処理中と分かるメッセージを出してほしいNo148  やった[narico.icon]\n　　処理中のダイアログ画面以外をクリックすると、ダイアログが閉じてしまう。No148\n　　\t他の箇所と挙動がずれているので、おかしい\n　　\tおかしいが今やらなくても（動くし）[tottokotkd.icon]\n　　\t\tスピナーが出るのはここだけなので、別コンポーネントに切り出した方がいい[ymtk.icon]\n　　\t\t6/3 結構大変かも。「他の箇所」を知りたいです[ymtk.icon] \n　　\t\t　6/3 例）リモート解施錠中はダイアログ画面以外をクリックしても閉じない動きになっています。[yamada.icon]\n　QrioLockの合カギ受け取り案内のPDFファイルで配布された\"「合カギシート」の\"と\"「アカウント作成に進む」を\" の文字が重なってしまっている。No211 →まゆしさんに確認を依頼しました。[yamada.icon]\n　　https://docs.roomon.jp/roomon_family-key_guide.pdf\n 親マネージャーが操作した動作が子グループユーザーから履歴が見れない  No241\n  グループ作成\n  ユーザー作成\n  グループ名編集、リモート操作許可\n  パスワードリセット\n  ユーザー削除\n　部屋の詳細画面の編集タブにある「設置アプリアカウントに部屋を紐づける」から、設置アカウントをプルダウンから選択して変更するボタンを押すと、 既存の設置アプリアカウントに登録されている部屋は消えて、変更した部屋のみになっています。No253\n　\t6/19 結構大変な処理なのでviewから落としました。根本は追って[ymtk.icon]\n　入居中の合カギが21個以上登録できてしまう　No270\n 建物詳細画面の建物のグループ変更についてのヘルプのリンクを押しても反応しない No271\n\n[*** ランクC(許容範囲）]\n　IEとEdgeで印刷レイアウトが少し右に寄っているNo164 \n　Safariで印刷レイアウトが右上に寄っているNo165\n　ログイン画面で画面の上下幅を狭くすると、フッターの表示が重なってしまう。No104\n　CSVデータで登録のファイルを一度選択してからキャンセルすると選択していたファイルの表示がリセットしてしまう。No119\n　チェックを外してからアカウント紐付けボタンを2回押すと、チェックが付いてくる。No174\n　  画面を更新するとチェックが外れているので許容。\n グループ管理を登録失敗する場合はエラーメッセージの内容が表示された方が分かりやすいNo141\n IE11、Edgeで設置アプリアカウントと合カギの印刷画面の表示がChromeの画面と異なっているNo134\n　アカウント紐づけ画面で、他のWindowをクリックすると紐付けた部屋の青いチェック表示が消えてしまう No205\n　ユーザーリストが作成した日時順になっていない（できれば設置アカウントリストの並び順と同じようにしてほしい）　No202\n　\tユーザーは一時的なモノではなく、あいうえお順でないと探しにくいと思いますがいかがでしょうか。設置アカウントリストとは別物と考えます[ymtk.icon]→あいうえお順が良いですね。[yamada.icon]\n　\t\t6/3 対応しました[ymtk.icon]  →まだ名前順になっていないようです。[yamada.icon]　No202\n　\t\t\thttps://github.com/qrioinc/castle-api/pull/246\n\n\n[*** 山田さんほかの思った要望 ]\n 要望：部屋名を編集するとき、保存するボタンを押すとダイアログが閉じない No209\n  設置アカウント名の編集時はダイアログが閉じているので統一して欲しい[yamada.icon]\n  \tダイアログ系、どこかでまとめて倒します。[ymtk.icon]\n　要望：https://docs.roomon.jp/roomon_lock_setup_guide.pdf　Qrio Lock本体のside-Aに電池がセットされているかご確認ください。と記載されているが、side-Aとside-Bの両方にセットしたほうが良いのでは？No215\n　要望：機器の初期化や、ロック登録、Hub登録を行った時に操作履歴にも表示するようにしてほしい　No216\n　要望：「電話カギにより部屋「501」を解錠しました。」が部屋内には表示しているが操作履歴タブ側にも表示してほしい　No219\n　\t今はrequestId && groupIdで検索している。電話カギはrequestIdがなく、前者をカバーできていない。履歴apiの作りを見直す必要がある[ymtk.icon]\n　ヘルプ　https://help.roomon.jp/article/27-article　は個別フォームからの登録手順も記載して欲しい。　No226\n　要望：アカウント紐づけの時の複数のチェックボックスに全選択ボタンをつけてほしい。チェック付け忘れ防止にもなる。(全選択、全選択解除) No236\n 　　「全て選択」チェックで全ての部屋にチェック付く。\n 　　「全て選択」チェックを外すと全ての部屋のチェックが外れる\n 　　一つでもチェックを外すと「全て選択」のチェックが外れる\n 要望：グループ編集を行った時の操作履歴が「グループ「xxx」を更新しました。」となっているので、グループ名を更新・入居時のリモート操作を更新したかを分かるようにしてほしい。No239\n  1. グループ「xxx」のグループ名を更新しました。\n  2. グループ「xxx」の入居時のリモート操作を更新しました。\n　アカウント紐づけの部屋で、ロックのみとロック無しの切り分けが出来るともっと分かりやすい。 No242\n　要望：建物・部屋の管理で新規登録時に同じ建物内に同じ部屋を登録してもエラーにならない　No124\n　要望：電話カギ一覧の並び順を作成日時が新しいものを上に表示して欲しい。　No246\n　　　設置アプリアカウントリストも作成日時が新しいものを上に表示しているため。\n　要望（関さんから）：ユーザーごとにリモート解施錠の許可/許可しないを設定できるようにしたい\n　\tまだROI満たせるほどのケースではないので保留と伝えています[ymtk.icon]\n 要望：パスワードリセットで決め打ちにして作成したい。　No261\n　要望：ヘルプに「パスワードを忘れた」と「管理者パスワードを忘れた」があるので一つにまとめたい　No268\n　　https://help.roomon.jp/category/60-category\n　要望：空室時の手動解施錠を操作履歴に表示して欲しい　No272\n　要望：オートロックを操作履歴に表示して欲しい　No273\n[*** 先送り]\n ブラウザを開いた状態でデプロイが行われると、ブラウザのタブ操作が利かなくなってしまう。No35 \n \tちょっとどころでなく重い\n \tインフラ環境依存の問題のため現状直しようがないがリロードすれば治る[narico.icon]\n \t　現状、リロードしても/errorの表示のまま\n 　　\tRoomonのリンクからログインし直すとログインできる\n\t部屋詳細 機器情報タブ\n\t 1ドア2ロック時に機器情報のQrioLockの表示が(上)(下)の表示が記載されていないNo109\n\t\tシリアルで判定できる [narico.icon]\n　アップロードするファイルを選択してエクスプローラーでファイル名を変更してからアップロードボタンを押下すると反応しないNo113\n　\t反応そのものは欲しい、が、イレギュラーすぎるので対応なしで先送り\n　ユーザー管理のユーザー情報から編集を行うとき、保存ボタンを押してからすぐにキャンセルボタンを押して再度開くと保存しました。と表示されてくるNo31→一旦ユーザー名の編集項目は無くなった\n　\t5/11 こちら5/8のリリース内容で対処済かと思います[ymtk.icon]　\n　　　→ユーザーの編集になりますので、まだ未実装になります。[yamada.icon]\n　CSVデータ生成の期間指定のyyyy/mm/ddが表示されていませんでした。No28→一旦CSV出力項目は無くなった\n　建物が他グループから自分のグループに移行されてきた時に、操作履歴が表示されてこない。No257\n　　自分のグループで建物グループを別のグループへ移行ときの履歴は表示されています。　\n　　\t6/24 これ一旦先送りにさせてください。履歴ロジックのせいです。個別の部屋の操作履歴には表示されます。[ymtk.icon]\n　IEでマイページからIDを変更したときのダイアログが崩れているように見える\n　　ブラウザ依存なのでどうしようもない　\n\n[*** 未実装　4/17時点]\nやるやらを判断して、かつリソース解決できたらやる\n　グループ削除\n　個別グループ登録　\n　部屋削除\n　ユーザー編集（名前・権限・メールアドレス）\n　設置アカウント有効期限編集\n　ログイン画面のパスワードを忘れた方はこちら\n　ロックのエラー状態（Hub、ロック上下）\n　ロックの電池残量アラート\n　CS登録ツール\n　\t管理ツール側で簡単なモノは実装済みです[ymtk.icon]\n\n[*** リリース済み案件]\n[Castle 未解決・対応中の項目管理 / released]\n\n##castle\n\n# Dev MTG 2019/12/16\ncreated_at:Mon Jan 19 1970 14:54:20 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 14:54:38 GMT+0900 (日本標準時)\nDev MTG 2019/12/16\n[https://gyazo.com/d5612783add79b14c9d978a249a919e7]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t開発定例は、今日から月曜13:00~14:00です！\n\n\n[*** Project]\n\n[** MANOMA]\n新プランは12月後半から、だそうです。\n\tAIHGW[takeuchi.icon]\n \tパフォーマンス調査中です。これ以上改善の見込みはないです。もはや証跡づくりのためにやってます。。\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\n\tとりあえず、来年2月末リリースを目標に仮スケジュールがプロットされた\nDevice開発[takeuchi.icon]\n\tBLEのSDKのAPIが、今朝来たようです。明日確認します。\n\tBLEのサンプルアプリでGATT通信を試しました（Connect, ReadCharacteristic）。MANOMAのAIHGWよりは安定してそうでした。\nServer\n MANOMAから使い回すkingのapiの中であまり使ってほしくないものがあったのでドキュメント変更してそちらを勧める\n 　alexaにドアのステータスを通知してる機能をsomc用にしたもの\n 　\t[komai.icon]製じゃなく、メンテできてない\n 　\thttps://github.com/qrioinc/king-api/pull/482\n 　\tちょっと今の[komai.icon]製webhook改造しなきゃいけない\n\n[** Sirius]\n オートロック設定の有効時間帯指定 (12月末　開発完了予定) \n \t正常系は、stgにデプロイ済み。\n　 失敗時のユーザーへの案内導線はちゃんさん、こーきちさん、マユトさんの三者で話し合って開発陣に落とされる予定\n　　 想定される失敗のケース一覧まとめとく？\n　　 　https://qrio.esa.io/posts/623 機能概要あるしここにまとめとくと都合よい？\n　　 失敗時の文言とかちゃんさんにまとめてもらった\n　　 　https://docs.google.com/spreadsheets/d/1ng9qScXqIUBeTiJv-MMFHQNwrCzcVEEMBQeCTPWMwm4/edit##gid=0\n \tKing側がAPI準備したら、開発完了\n \t\t１つのschedulerで１つのdyno (https://devcenter.heroku.com/articles/one-off-dynos) 使う？けどそれで追加料金発生するのかまだよくわかってないです。\n \t\thub presenceでhub死んでる時対応の実装中\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n \t（失敗率の計算は[Dev MTG 2019/11/19]を参照）\n\tguest_key直発行スキマ時間見つけてやる\n\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t今、西川さんが設計中\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\tbcu-Android 新OS対応\n \tAndroid10対応中\n\n\tリモート解施錠はできるが履歴が更新されない市場障害が発生[takeuchi.icon]\n\t\tハブの実装にバグがありました。それだけが原因とは言い切れませんが、少なくともこのバグが起きると、パケットをあげられなくなります。\n\t\t\tハブ起動時、packet_server_urlのGET APIをたたいています。これに3回失敗すると、ハブが固定値で持っているURLに対してパケットを上げるのですが、この固定値が間違っていました。。。ほんともうしわけないです\n\t\t\t改修自体は簡単です。\n\t\t\t現象発生がレアケース（CS問い合わせ件数でいうと1〜2回/月）なので、早ければ今月中、遅くとも来月中には対応したいです（GM判定とかあるので、パッとは出せないです）。\n\t\t\tSiriusのBCU/コンソールで、ハブのFWを最新にする口が今ないので、それも検討せねばです。こちらもおいおい。\n\t\t\tハブ起動時に、ハブが自分の情報をkingに渡してもいいんじゃないか？\n\t\t\t\tkingとしてはよいが、siriusはハブと直接通信しないので、siriusは結局kingから情報をとらねばならない。。\n\t\t\tcommand_logという、ハブに発行したコマンドを入れるログを、今つくっている。ここにハブFW更新の情報も入れてあげる。\n\n[** King]\n[* API]\n Google Home連携で異常な負荷がかかりサーバー落ちたから見直す\n 　https://status.cloud.google.com/incident/cloud-datastore/19006\n 　駒井の頭上を飛び越えてリリースされた機能なので調査必要\n 　\tリスク: 今後もこういうことがあったらking落ちます\n 　\t\tAL対応との優先度: リスク説明して経営判断にする。エンジニア的にはGoogleが落ちることはほとんどないと思われるので、優先度は低めと考えている\n 　\t\t\t改修するならreplace（king api -> google をやめて、lambdaをはさむ）\n 　\t\t\t\t工数はそれなりにかかる\n 　\t\t\t　改修するならgoogle functionsがよいのでは？　lambdaを使う理由がない\n　スロークエリをチェック[mikamix.icon]\n　　クエリではなく、arrayの処理とかで改善してみる\n　　 https://github.com/qrioinc/king-api/pull/610\n　　 schdulerの動作確認とか落ち着いたらマージします\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00から0分間は開けれると認識(つまり開かない)\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \tread_logを再起的に実行するか？\n\t \tなるべくやらないほうがいい\n\t \tもしやるなら、ハブがロックからreadCharacteristicでru_timeして、サーバーからもらったコマンドにru_timeを入れる？\n\t \tあまりハブに複雑なことはやらせたくないが、ru_timeはCharacteristicIdが必要なので、やるならこれしかできない\n\t\tケースが少ないんで事業部的にはもっと声が上がったら本腰で対応しろ言われると思います\n\t\t１，２年以上リモート解施錠だけで運用しているロックで起こりそう\n\tOpen Smart UR 研究会へのAPI公開\n\t\t東洋大学 情報連携学部とURが組んで、スマートホーム関連の研究会です。会費無料。\n\t\t\thttps://www.ur-net.go.jp/rd_portal/ur2030/index.html\n\t\t今、ドキュメント公開は有料なので、そのへんどうしたらいいか。\n\t\t\t高橋さんに聞いてみる。\n\t\t\t料金体系も確認しておく\n\t\tできればpostmanに移行したい\n\n[* CU]\n\tiOS \n\t\tXcode11対応\n\t\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t\t対応完了\n\t\t\tQA待ち\n\t\tハンズフリーのアナリティクス対応\n\t\t\t対応完了。テストフライト経由で本番テストします\n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t改善ネタ（優先度: 低）\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\t大西さんがWenaの人とやりとり中。デバイス側でのフィジビリをとっている最中です。\n\t\tCUの改修は、少なくともUIは必須。\n\t\t三上をCCに入れてもらえれば回答します。\n\t\tFobと一緒にはしない方がいいかもしれない(微妙に違ったら嫌だから)\t\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n\n[* Guardian]\nスケジュール\n\t12/6 (金) GMC -> リリースしました。FTしました。\n\t12/23 (月) GM\n残作業\n\tCI環境構築\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\t\t\t延期になっている（ハブ定例）\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n 遅い部分\n  サブスクリプションの部分\n  コマンドを受けとってからパケット送信するまで\n  原因は不明\n  使っているSDKがESP32(not by モジュールベンダー)なので、これより下のレイヤーはない\n\n[* Q-SL1 iOS]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n\t\tAndroid\n\t\t\t新OS対応\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\tリリースしました 11/18\n \tbcu-Android 新OS対応\n \t\tQA待ち\n\n\n[** ビルドイン(MIWA)]\n社内でそろそろ検討を初めてほしい by 高橋さん\nデッドボルト? もしかして?\n\t今週木曜に打ち合わせあり\n\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n Google Tag Managerをまず整理する予定[nakano.icon]\n\nデータ分析、アグリゲーション基盤をどうするか\n redashだけでは足りないものもあり、google data portalも使っていくかも\n 以下に集約する予定\n　　[https://datastudio.google.com/open/1sccI785zRBLLOWX2OgMMtZM0ZBpCXiq6  FY2019_SL2_dashboard]\n　イメージ\n\n[https://gyazo.com/ea80efea70e53232305ecb338e05c8f6]\nhttps://docs.google.com/presentation/d/1lioqHFNJuVDsGRcFzQmxjkgdU1gUDWX5cekdOBsXaHM/edit?usp=sharing\n\n 今のクエリが、分析用のスキーマになってない(あたりまえ)\n  違うDB作った方がいい\n  Bigqueryとか、その他もろもろ選択肢\n\t\t\tちゃんさん/駒井さんに相談[nakano.icon]\n\tamazon sellerのAPIから日々の売上取得したい\n\t　アカウント取得方法相談させていただくかも。。。ちゃんさん/駒井さん[nakano.icon]\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n\n[*** その他]\n\tAWSのDBの証明書を更新する（まだ作業完了してない）\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tチャンさんに現状を確認する\n\tAWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了になる[takeuchi.icon]\n\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\tバケットを参照するアプリ/サーバー/CIの修正\n\t\tどのアプリが該当するか棚卸しが必要。\n\t\t\t結構ある気がする:(；ﾞﾟ'ωﾟ'）:[hazimetyan.icon]\n\t\t\tリストをつくりました。各自ご確認いただき、埋めていってください。やるやらは随時チェックしていきます\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\tZenhubどうするか\n\t やるならGithub Projectでもいいかも\n\t 外しておきます[takeuchi.icon]\n\n\n\n[*** 健忘録]\n\tなし\n\n# Dev MTG 2019/12/10\ncreated_at:Mon Jan 19 1970 14:45:38 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 14:46:08 GMT+0900 (日本標準時)\nDev MTG 2019/12/10\n[https://gyazo.com/d5612783add79b14c9d978a249a919e7]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t今後の開発定例の日程を決めたいです。\n\t\t竹内: 月木のどちらか希望\n\t\tチャンさん: 月水木、金(リモート)\n\t\t来週から、13:00~14:00でやります！\n\n\t先週「Open Smart UR 研究会　立ち上げ説明会」に行ってきました（こうきちさんと）\n\t\t東洋大学 情報連携学部とURが組んで、スマートホーム関連の研究会です。会費無料。\n\t\t\thttps://www.ur-net.go.jp/rd_portal/ur2030/index.html\n\t\t自分もたぶん会員になりますが、API公開してほしいと言われているので、うちのAPIドキュメントのURL教えようと思ってます（どこまで欲しいとか、細かい要件はないです）。\n\t\t\t今、ドキュメント公開は有料なので、そのへんどうしたらいいか。\n\t\t\t\t高橋さんに聞いてみる。\n\t\t\t\t料金体系も確認しておく\n\t\t\t\tできればpostmanに移行したい\n\n\n[*** Project]\n\n[** MANOMA]\n新プランは12月後半から、だそうです。\n\tAIHGW[takeuchi.icon]\n \t解施錠速度がQrioHubより体感1~数秒遅いから、パフォーマンス調査してほしい、と依頼されたので、調べました。\n \t諸々のアーキがQrioより複雑なのが一番の原因です。が、BLEのチップもあんまり安定しないようです。\n\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\n\tとりあえず、来年2月末リリースを目標に仮スケジュールがプロットされた\nDevice開発[takeuchi.icon]\n\tBLEのSDKのAPIがまだこない\n\t\tサンプルアプリのバイナリだけあるらしい（コードはない）。それでフィジビリとれそうなところは確認する。\nServer\n MANOMAから使い回すkingのapiの中であまり使ってほしくないものがあったのでドキュメント変更してそちらを勧める\n 　alexaにドアのステータスを通知してる機能をsomc用にしたもの\n 　\t[komai.icon]製じゃなく、メンテできてない\n 　\thttps://github.com/qrioinc/king-api/pull/482\n\n\n[** King RU Refurbish]\n返却されたRUのリファービッシュ運用Project\n\t関さんがSNC横田さんと話を進めている、とのこと。\n\t\t誰も進めてないんじゃないかと思って焦ってましたが\n\tそのうち開発に初期化の依頼がくると思われる。\n\t\tボリューム感はまだ不明と言われているので、いったんはこまいさんに手動対応してもらいつつ、自動化検討は様子を見ながら考えたい。\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定 (12月末　開発完了予定) \n　 失敗時のユーザーへの案内導線はちゃんさん、こーきちさん、マユトさんの三者で話し合って開発陣に落とされる予定\n　　 想定される失敗のケース一覧まとめとく？\n　　 　https://qrio.esa.io/posts/623 機能概要あるしここにまとめとくと都合よい？\n　　 失敗時の文言とかちゃんさんにまとめてもらった\n　　 　https://docs.google.com/spreadsheets/d/1ng9qScXqIUBeTiJv-MMFHQNwrCzcVEEMBQeCTPWMwm4/edit##gid=0\n \tKing側がAPI準備したら、開発完了\n \t\t１つのschedulerで１つのdyno (https://devcenter.heroku.com/articles/one-off-dynos) 使う？けどそれで追加料金発生するのかまだよくわかってないです。\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n \t（失敗率の計算は[Dev MTG 2019/11/19]を参照）\n\tguest_key直発行スキマ時間見つけてやる\n\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t今、西川さんが設計中\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\tbcu-Android 新OS対応\n \tAndroid10対応中\n\n\tリモート解施錠はできるが履歴が更新されない市場障害が発生[takeuchi.icon]\n\t\t本日現場に行って調査しましたが、ロックは正常でした。ハブも電源入れ直すとログ取得もできるようになりました。\n\t\tただ、ハブは24時間経ったら再起動する実装が入る前のバージョン (v1.2.02) でした。再起動するのはv1.2.03です。\n\t\t再起動しないまま時間たつと、ロックのパケットがスキャンできなくなる問題が発生している可能性があると見込んでおり、引き続き調査中です。\n\t\t\tこの問題は、king用ハブではまだ確認できていない。\n\t\t\tただいまキットでBLEのScan Window/Intervalを調整しているとき、比率が高いと起動後3分くらいでパケットが拾えなくなる問題があった。比率の高さと、パケットがスキャンできなくなるまでの時間との間に比例関係がありそうであった。\n\t\t\tking用ハブは、比率はかなり低めだが、この現象から考えても、発生しないとは言い切れないので、ハブの検証はいちおう行う。\n\t\tどちらかというと、BCUでのハブ登録時、ハブFWが最新にならないケースがある可能性がある。それが問題かも。調査する。\n\t\t最短のオペレーションとしては、ハブの15秒長押しで最新のFWにしてもらう、ということになる。\n\n\n[** King]\n[* API]\n Google Home連携で異常な負荷がかかりサーバー落ちたから見直す\n 　https://status.cloud.google.com/incident/cloud-datastore/19006\n 　駒井の頭上を飛び越えてリリースされた機能なので調査必要\n 　\tリスク: 今後もこういうことがあったらking落ちます\n 　\t\tAL対応との優先度: リスク説明して経営判断にする。エンジニア的にはGoogleが落ちることはほとんどないと思われるので、優先度は低めと考えている\n 　\t\t\t改修するならreplace（king api -> google をやめて、lambdaをはさむ）\n 　\t\t\t\t工数はそれなりにかかる\n 　\t\t\t　改修するならgoogle functionsがよいのでは？　lambdaを使う理由がない\n　スロークエリをチェック[mikamix.icon]\n　　get logsはlock_id, logged_at, log_type の複合index貼っておけば早くなる疑惑あるので試す\n　　インデックス貼るだけなので、やってみて効果あるかないか\n　　3つで貼れば、2つのやつはまあ不要っちゃ不要\n　　ローカルに1万件のログ作ってexplainかけたが効果なし\n　　　メインロックとサブロックの２つを指定してselectしたらindexが効かなかった\n　　クエリではなく、arrayの処理とかで改善してみる\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00から0分間は開けれると認識(つまり開かない)\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \tread_logを再起的に実行するか？\n\t \tなるべくやらないほうがいい\n\t \tもしやるなら、ハブがロックからreadCharacteristicでru_timeして、サーバーからもらったコマンドにru_timeを入れる？\n\t \tあまりハブに複雑なことはやらせたくないが、ru_timeはCharacteristicIdが必要なので、やるならこれしかできない\n\t\tケースが少ないんで事業部的にはもっと声が上がったら本腰で対応しろ言われると思います\n\t\t１，２年以上リモート解施錠だけで運用しているロックで起こりそう\n\n[* CU]\n\tiOS \n\t\tXcode11対応\n\t\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t\t対応完了\n\t\t\tQA待ち\n\t\tハンズフリーのアナリティクス対応\n\tAndroid\n\t\tHub設定周りの改修予定\n\t\t\t完了。QA待ち\n\t改善ネタ（優先度: 低）\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena]\n\t最近動きなし。。\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n\n[* Guardian]\nスケジュール\n\t12/6 (金) GMC -> リリースしました。現在FT協力いただいてます。\n\t12/23 (月) GM\n残作業\n\tCI環境構築\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\t\t\t延期になっている（ハブ定例）\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n\n[* Q-SL1 iOS]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n\t\tAndroid\n\t\t\t新OS対応\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n[** ELTRES x ただいまキットFW]\nとくになし。詳細は[Dev MTG 2019/11/26]を参照\n\tどうなることやら\n\tコンペの日程よろしくです -> 竹内さん\n\t\t前にもらったスライドの資料ではスケジュールの話が削られてました。直接聞いてみます[takeuchi.icon]\n\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\tリリースしました 11/18\n \tbcu-Android 新OS対応\n \t\tQA待ち\n\n\n[** ビルドイン(MIWA)]\n社内でそろそろ検討を初めてほしい by 高橋さん\nデッドボルト? もしかして?\n\t来週木曜に打ち合わせあり\n\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n 今から見はじめたなら、全部消して必要なやつだけ再定義したらどうか?\n 整理中\n\nデータ分析、アグリゲーション基盤をどうするか\n redashだけでは足りないものもあり、google data portalも使っていくかも\n google data portal とはつまり google の redash\n みたいデータを定義してくところから\n  みないと欲しいデータがわからんということもある\n クエリで困ってること ->\n  weekly のアクティブユーザーの先週比とか1クエリでいけんの?\n   答えだけ言うといける\n   ただすごいクエリになる\n   data portal だとスクリプトは書けます\n    ETLみたいなことができる\n  今のクエリが、分析用のスキーマになってない(あたりまえ)\n   違うDB作った方がいい\n   Bigqueryとか、その他もろもろ選択肢\n\n data portal も使いましょう\n 中野さんが自由にできるDBを1つ用意すればいいのではないか\n  おそらくBigQueryとかでいい気がする\n  RDBMSでもいい\n  ほぼ中野さん専用DB\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n\n[*** その他]\n\tAWSのDBの証明書を更新する（まだ作業完了してない）\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tチャンさんに現状を確認する\n\tAWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了になる[takeuchi.icon]\n\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\tバケットを参照するアプリ/サーバー/CIの修正\n\t\tどのアプリが該当するか棚卸しが必要。\n\t\t\t結構ある気がする:(；ﾞﾟ'ωﾟ'）:[hazimetyan.icon]\n\t\t\tリストをつくりました。各自ご確認いただき、埋めていってください。やるやらは随時チェックしていきます\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\tZenhubどうするか\n\t やるならGithub Projectでもいいかも\n\t 外しておきます[takeuchi.icon]\n\n\n\n[*** 健忘録]\n\tなし\n\n# Dev MTG 2019/12/3\ncreated_at:Mon Jan 19 1970 14:35:33 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 14:39:56 GMT+0900 (日本標準時)\nDev MTG 2019/12/3\n[https://gyazo.com/d5612783add79b14c9d978a249a919e7]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t[takeuchi.icon]は、品川: 火、水、金 になりました。\n\tチャンさんは、月、木、金\n\t\tあとで決めるが、来年から金曜14:00とかいいかも\n\n\n[*** Project]\n\n[** MANOMA]\n無事、リリースされました。\n\tAIHGW[takeuchi.icon]\n \t時刻補正の仕様案をSNCに共有。実際やるかどうかは、別途相談。\n\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\n\tとりあえず、来年2月末リリースを目標に仮スケジュールがプロットされた\nDevice開発[takeuchi.icon]\n\tBLEのSDKのAPIがまだこない\n\tこないとなにもできない\n\t年内は来ないんじゃないか疑惑。ちなみにチップはBroadcom (ODMのベンダーはSercomm)\n\n[** King RU Refurbish]\n返却されたRUのリファービッシュ運用Project\n\tうちのやつはひとまずこまいさんに手動でやってもらう。\n\t\tおためしCPNまたやるので、直近だとそれがあると思う\n\tMANOMA、NUROはどういう運用フローなのか不明\n\t\t担当の方につなぎたいので、井宮さんに聞いてみる\n\t\t\tメールでつないでもらえるそう。今日も不在でした[takeuchi.icon]\n\tDBの登録情報のみ消す or ロック本体も初期化する\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定 (12月末　開発完了予定) \n　 失敗時のユーザーへの案内導線はちゃんさん、こーきちさん、マユトさんの三者で話し合って開発陣に落とされる予定\n　　 想定される失敗のケース一覧まとめとく？\n　　 　https://qrio.esa.io/posts/623 機能概要あるしここにまとめとくと都合よい？\n \tKing側がAPI準備したら、開発完了\n \t\t１つのschedulerで１つのdyno (https://devcenter.heroku.com/articles/one-off-dynos) 使う？けどそれで追加料金発生するのかまだよくわかってないです。\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n \t（失敗率の計算は[Dev MTG 2019/11/19]を参照）\n\tguest_key直発行スキマ時間見つけてやる\n\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\tアカウントの組織管理対応 (2月末　開発完了予定)\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t今、西川さんが実装中\n\tユーザーフィードバック分析＆売り上げに直結しそうなものは改善[takeuchi.icon]\n\t\tまずはCS川上さんと協力して分析（年内を目処？）\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\tbcu-Android 新OS対応\n \tAndroid10対応中\n\n\n[** King]\n[* API]\n Google Home連携で異常な負荷がかかりサーバー落ちたから見直す\n 　https://status.cloud.google.com/incident/cloud-datastore/19006\n 　駒井の頭上を飛び越えてリリースされた機能なので調査必要\n 　\tリスク: 今後もこういうことがあったらking落ちます\n 　\t\tAL対応との優先度: リスク説明して経営判断にする。エンジニア的にはGoogleが落ちることはほとんどないと思われるので、優先度は低めと考えている\n 　\t\t\t改修するならreplace（king api -> google をやめて、lambdaをはさむ）\n 　\t\t\t\t工数はそれなりにかかる\n 　\t\t\t　改修するならgoogle functionsがよいのでは？　lambdaを使う理由がない\n　スロークエリをチェック[mikamix.icon]\n　　get logsはlock_id, logged_at, log_type の複合index貼っておけば早くなる疑惑あるので試す\n　　インデックス貼るだけなので、やってみて効果あるかないか\n　　3つで貼れば、2つのやつはまあ不要っちゃ不要\n master_key削除できる管理ツール作成\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00から0分間は開けれると認識(つまり開かない)\n hub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n \tread_logを再起的に実行するか？\n\t \tなるべくやらないほうがいい\n\t \tもしやるなら、ハブがロックからreadCharacteristicでru_timeして、サーバーからもらったコマンドにru_timeを入れる？\n\t \tあまりハブに複雑なことはやらせたくないが、ru_timeはCharacteristicIdが必要なので、やるならこれしかできない\n\t\tケースが少ないんで事業部的にはもっと声が上がったら本腰で対応しろ言われると思います\n\n[* CU]\n\tiOS \n\t\tXcode11対応\n\t\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t\t対応完了\n\t\t\tQA待ち\n\tAndroid\n\t\tHub設定周りの改修予定\n\t改善ネタ（優先度: 低）\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena]\n\t最近動きなし。。\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n\n[* Guardian]\nスケジュール\n\t12/6 (金) GMC\n\t12/23 (月) GM\n残作業\n\tCI環境構築\n\tFT準備します\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\t\t\t延期になっている（ハブ定例）\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\t\tできればやらない方向でもっていきたい\n\n[* Q-SL1 iOS]\n\tXcode11対応\n \t来年4月頃にxcode11以上じゃないと申請できなくなる\n \tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t対応に二ヶ月かかる\n \tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t これはやりたくないのでやらない方向にまとめていきたい\n\n[* ただいまキット]\n\t\tAndroid\n\t\t\t新OS対応\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n[* Q-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)]\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n[** ELTRES x ただいまキットFW]\nとくになし。詳細は[Dev MTG 2019/11/26]を参照\n\tどうなることやら\n\tコンペの日程よろしくです -> 竹内さん\n\t\t前にもらったスライドの資料ではスケジュールの話が削られてました。直接聞いてみます[takeuchi.icon]\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\tリリースしました 11/18\n \tbcu-Android 新OS対応\n \t\tQA待ち\n\n\n[** ビルドイン(MIWA)]\n社内でそろそろ検討を初めてほしい by 高橋さん\nデッドボルト? もしかして?\n\n\n\n[** qrio.meのGoogleAnalytics見直し]\nユーザーの動向をGAで追いたいが、今仕込まれているGAは謎のものばかり\n新たに仕込みたいが、そうするならがっつり改修せねばならない\n 今から見はじめたなら、全部消して必要なやつだけ再定義したらどうか?\n 整理中\n\nデータ分析、アグリゲーション基盤をどうするか\n redashだけでは足りないものもあり、google data portalも使っていくかも\n google data portal とはつまり google の redash\n みたいデータを定義してくところから\n  みないと欲しいデータがわからんということもある\n クエリで困ってること ->\n  weekly のアクティブユーザーの先週比とか1クエリでいけんの?\n   答えだけ言うといける\n   ただすごいクエリになる\n   data portal だとスクリプトは書けます\n    ETLみたいなことができる\n  今のクエリが、分析用のスキーマになってない(あたりまえ)\n   違うDB作った方がいい\n   Bigqueryとか、その他もろもろ選択肢\n\n data portal も使いましょう\n 中野さんが自由にできるDBを1つ用意すればいいのではないか\n  おそらくBigQueryとかでいい気がする\n  RDBMSでもいい\n  ほぼ中野さん専用DB\n\nコーポレートサイトどうするか\n ECをBASEにするっていう話の後かと\n\n[*** 情報システム]\n\n[*** SQA]\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n\n[*** その他]\n\tAWSのDBの証明書を更新する（まだ作業完了してない）\n\t\tImportant Reminder: Update Your Amazon RDS SSL/TLS Certificates by February 5, 2020\n\t\tチャンさんに現状を確認する\n\tAWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了になる[takeuchi.icon]\n\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\tバケットを参照するアプリ/サーバー/CIの修正\n\t\tどのアプリが該当するか棚卸しが必要。\n\t\t\t結構ある気がする:(；ﾞﾟ'ωﾟ'）:[hazimetyan.icon]\n\t\t\tとりあえずやるやらをチェック\n\t\t\t\tリストにして、担当者とか対応の是非を書いていく\n\t\t\t\tspread sheetをココに貼る。時間を見つけて更新していく。\n\t\t\t\t\thttps://docs.google.com/spreadsheets/d/1fht1N4X23NiC_SHSigol7OcFIfTrGVbCCX8vbztb-ss/edit##gid=0\n\t\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\t\t少なくともiOS/AndroidのCUは、固定パスでS3を参照しているところがあり、改修が必要。\n\t\tSL1ですか?\n\t\t kingってアーティファクトでやってましたっけ? いやS3だな\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\tZenhubどうするか\n\t やるならGithub Projectでもいいかも\n\t 外します[takeuchi.icon]\n\n\n\n[*** 健忘録]\n\tなし\n\n# Dev MTG 2019/11/26\ncreated_at:Mon Jan 19 1970 14:25:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 14:35:51 GMT+0900 (日本標準時)\nDev MTG 2019/11/26\n[https://gyazo.com/55213ed37794ae8845669f7488d8aae9]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t\n\n\n[*** FY2019下期の目標 (Q-SL2)]\n[** ① C向け （3月末までに）月販3000台]\n現状\n\t1500台/月\n\t\t量販(ビックとか) + Softbank系 = 1000\n\t\t各種CPN→ECで買わせた = 500\n\t\t去年の今頃は、量販だけで1600くらいだった。落ちているぶんを取り戻したい\n施策\n\t利益率の高い直販で買わせるため、EC直販サイト開設（年内）→CPN（キャンペーン ）実施で年始から+2000\n\t\tサイト作成は開発チームは関係なし（BASE（エンジニアじゃない人がECサイトをつくるためのサービス）とかでやるらしいので）\n\t\tCPN実施にあたり、CPNの内容によってはCU改善の投げ込みもあるかも\n\t競合刈り取りで+200~300\n\t\tSesameなどに200~300くらい持っていかれてるらしい(うちの売上低下分からの予測)\n\t量販+Softbankの1000台を底上げ（営業なので開発は関係なし）\n全体としては、現時点で思いつく施策だけでは目標に届かないので、年内で分析＆施策を再検討して、年明けから実施する、という流れ。\n\n[** ②カギカン売上 1700万達成]\n現状\n\tカギカン1, 2合わせて170~180社契約中\n\t1契約あたりのロック台数も確認する必要がありそう[takeuchi.icon]\n開発がやること\n\tオートロック設定の切り替え対応\n\t\t12月中 -> なるはや、だそう[takeuchi.icon]\n\t 件数が増えるのであれば、アドホックな対応から、本体設定に切り替えも考える?\n\t 施錠に失敗する、遅延するリスクについての説明はした。[hazimetyan.icon]\n\t \t100%施錠できるわけではない。 → 仕様を今週中に詰められれば詰めます。\n\t \t\t仕様が決定次第、こまいくんの稼働が空き次第実装開始予定\n\t \t\t失敗率計算しました[takeuchi.icon]\n\t親子組織管理対応\n\t\t3月上旬(？) -> 2月中がデッド[takeuchi.icon]\n\t\tTKG(東京個別指導学院) にドカっと入れてもらうのを目標にしている\n\t\t\t3月に導入の決済予定\n\t\t仕様を潤さんに起こしてもらいました。[hazimetyan.icon]\n\t\t\t店舗ごとにログインアカウントを作ってもらって、ユーザーを、他の店舗のアカウントに移動させるだけ。\n\t\t\tカギは移さずに、招待メールを送るのみ。移動したユーザーはメールのリンクをポチポチしてカギを登録してもらう。\n\tユーザーフィードバック分析＆改善\n\t\t優先度: 低。よさそうなのがあれば。。\n\t\tCSチームの目標であるチャーンレート抑制に貢献するのが目的\n\t\t\t今の離脱率を確認する[takeuchi.icon]\n\n[** ③法人無形売上 5,400万達成]\n開発は関係なし（営業の押し込み）\n\tMANOMAは↑とは別計上だそうです\n\tNUROのONU対応も入るかも？\n\n[** ④来期への仕込み]\nBuilt-in Lockの仕込みとかがあるけど、優先度低め\nMIWAプロジェクト\n\n\n[*** Project]\n\n[** MANOMA]\nあさってリリース判定\nAIHGW[takeuchi.icon]\n 時刻補正の仕様案まとめました。まだSNCに話はしていない\n Qrioのポリシーとかビジネスリスク的には、対応したくない\n \tマユトさん高橋さんにはその話を共有している。高橋さんから井宮さんに話してもらうかも\nサーバー[komai.icon]\n\tauth0 Universal Loginのページのログインボタンがiphone8, XsMax, 11 Proで見切れてるから直してくれと言われた\n\t　issue更新されてたので共有\n\t　code:issue\n\t　 [原因]\n   アプリ側で、WebViewの高さを画面幅いっぱいに設定している状態で、\n   表示されるサイトの画面が想定より長い場合、\n   下部が表示しきれておりませんでした。\n   [修正内容]\n   WebViewの高さを短めに設定し、\n   表示しきれない部分が表示されるよう修正致しました。\n  正直ちょっと何言ってるかわからないけど解決したならいいや\n\n[** NURO ONU]\nProject経緯は[Dev MTG 2019/11/19]を参照\n昨日SNCでNUROチームと打ち合わせしました[takeuchi.icon]\n\t主に企画の説明\n\t開発スケジュールは未定（年末までに開発完了を要求されたが普通に無理なのでお断りした）\nやること\n\tSNC NURO\n  サービス設計\n  \tそもそもどういうサービスになるのか不明。とりあえずLockがバンドルされるっぽい \n   サービス名も、NUROでもQrioでもない別ブランドとしてやるかも、みたいな話をしていた\n\tSNC HW開発室(竹内がいるところ):\n  アプリ開発\n   専用アプリつくるらしい\n   MANOMAアプリの機能削った版みたいなので1stリリースするかも。時間ないから。\n  Device開発\n   MANOMAのAIHGWをほぼそのまま流用できる\n   BLEのSDKが別物になるのでおもな回収対象はそこだが、それがまだ出てきてないらしい\n  サーバー改修\n   あるとしたらreach側のみ。Qrioサーバーの改修はないはず。\n\nそういうわけで、Qrio開発チームがやることは、あんまりなさそうではある。\n\n\n[** King RU Refurbish]\n返却されたRUのリファービッシュ運用Project[takeuchi.icon]\n\tうちのやつはひとまずこまいさんに手動でやってもらう。\n\t\tおためしCPNまたやるので、直近だとそれがあると思う\n\tMANOMA、NUROはどういう運用フローなのか不明\n\t\t担当の方につなぎたいので、井宮さんに聞いてみる\n\tDBの登録情報のみ消す or ロック本体も初期化する\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定 (12月末　開発完了予定) -> なるはやと言われたが、マユトさんと今日相談します[takeuchi.icon]\n \tKing側がAPI準備したら、開発完了\n \t\t5分ごとのscheduler設定できました。\n \t\tでも１つのschedulerで１つのdyno (https://devcenter.heroku.com/articles/one-off-dynos) 使う？けどそれで追加料金発生するのかまだよくわかってないです。\n \tリードはちゃんさん\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t駒井さん、西川さんに一次説明。次にハード側懸念確認\n \t\t設定変更後にking to sirius webhookの案など\n \tその上で実現行けそうであればソフト側の設計方針決め\n \t\tcronはheroku schedulerが楽\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n \t（失敗率の計算は[Dev MTG 2019/11/19]を参照）\n\t\t\t結果はハンドリングしなくても、3回、ハブの再起動も考慮すると4回やればまあ成功するだろう\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\tアカウントの組織管理対応 (2月末〜3月　開発完了予定) -> 2月デッドと言われた\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t\tリードはちゃんさん\n\tユーザーフィードバック分析＆売り上げに直結しそうなものは改善[takeuchi.icon]\n\t\tまずはCS川上さんと協力して分析（年内を目処？）\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\tbcu-iOS 新OS対応\n\t\tQA待ち\n\tbcu-Android 新OS対応\n \tAndroid10対応中\n\n\n[** King]\n[* API]\n Google Home連携で異常な負荷がかかりサーバー落ちたから見直す\n 　https://status.cloud.google.com/incident/cloud-datastore/19006\n 　駒井の頭上を飛び越えてリリースされた機能なので調査必要\n 　\tリスク: 今後もこういうことがあったらking落ちます\n 　\t\tAL対応との優先度: リスク説明して経営判断にする。エンジニア的にはGoogleが落ちることはほとんどないと思われるので、優先度は低めと考えている\n 　\t\t\t改修するならreplace（king api -> google をやめて、lambdaをはさむ）\n 　\t\t\t\t工数はそれなりにかかる\n 　\t\t\t　改修するならgoogle functionsがよいのでは？　lambdaを使う理由がない\n　web dynoのcpu使用率100%超えが頻繁に起きており、ちょいちょいrequest timeoutしてる\n　　get all、post logs、get logsで4、５分に１回は処理に１〜１０秒かかっているのでクエリ見直さなきゃいけないかも\n　　dyno増やすと軽減する可能性はある？\n　　 dynoふやそう[mikamix.icon]\n　　 request timeoutは１０分の１以下に  なったが１日に２０回ほどエラー起こして\n　　スロークエリをチェック[mikamix.icon]\n　　　またscout入れて詳しくチェックしよう(DBは追加料金なので忘れずに[mikamix.icon])\n　　　post logsでn + 1問題検知したのでそちらを修正中\n　　　 修正完了、1000件以上のポストの中の重複確認で４秒かかってた場所が0.3秒ぐらいになった。\n　　　 というか1000件以上のlogをpostしてくるリクエストが１日に５件以上ある。謎。\n　　　  ログ仕込んでもよいかも\n　　　  post_log内部で、件数が1000越えてた時に、もろもろ出すようなやつ[mikamix.icon]\n　　　  同じユーザーだったら、クライアント問題\n　　　  シェアオフィスなどで一日246回解施錠しているロックがあり、さらにオートロックが設定してあると施錠の度に閉扉検出情報(log_type = 205)が記録されるのでそのせいかも\n　　　  それとは別にhub使用したロックで時刻がずれているとエンドレス認証/通信エラーが起こる事象を確認\n　　　get logsはlock_id, log_type, logged_atの複合index貼っておけば早くなる疑惑あるので試す\n master_key削除できる管理ツール作成頼まれた\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n\tread_logを再起的に実行するか？\n\t\tなるべくやらないほうがいい\n\t\tもしやるなら、ハブがロックからreadCharacteristicでru_timeして、サーバーからもらったコマンドにru_timeを入れる？\n\t\tあまりハブに複雑なことはやらせたくないが、ru_timeはCharacteristicIdが必要なので、やるならこれしかできない\n\n[* CU]\n\t（優先度: 低）ユーザーフィードバック分析（12月）＆売り上げに直結しそうなものは改善 [takeuchi.icon]\n\t\t改善ネタ\n\t\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\tiOS (Xcode11対応)\n\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t11月はwenaの対応があるのでそのあとになりそう\n\t\t\t完了\n\t\t\t\tただXcode11でビルドするとBLE接続周りの動作がなんか遅くなるので、一旦マージはしてません。\n\n[* Qrio Key x Wena]\n\t最近動きなし。。\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n\n[* Guardian]\nスケジュール\n\t12/6 (木) GMC\n\t12/23 (月) GM\n作業\n\t耐久試験（完了）\n\t\t2ロック解施錠は99%成功。\n\tCoverity対応\n\t\tQrio実装分は修正完了\n残作業\n\tCI環境構築\n\tハブの接続をHTTPS -> HTTPにしたい\n\t\tいつ作業するかを決めて、やるだけ。\n\t\t\t11月後半にやりたいと思います。作業手順はおって共有します（環境変数を変える＆ハブの動作確認）。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。もっと後で考える、でOK。\n\n[* Guardian セキュリティ]\n リスクアセスメントの解決は終わった。\n STM-0117のチェックシートが残っている。[hazimetyan.icon]\n \t途中までは進めているのだが、わからんところがあって困っているんで、そのうち品川にいくかも。\n \t埋めました[takeuchi.icon]\n 工場で焼くkey_seedは、暗号化した状態で焼いて、起動時に復号する予定でしたが、意味がないのでやめます。\n \tRAツール（リスクアセスメントのツール）を修正する必要あり[takeuchi.icon]\n\n\n[** Q-SL1/Q-ST1/ただいまキット/カギカン1]\n\tQ-SL1 iOS (Xcode11対応)\n \t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n \t\tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t\t対応に二ヶ月かかる\n \t\tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t\t これはやりたくないのでやらない方向にまとめていきたい\n\n\tQ-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n\n\t開発版アプリ(iOS, Android)の配信サービスの移行\n\t\tfabric beta -> firebase app distribution\n\t\t\tfirebase app distributionはgoogleアカウントベースのサービスになります。なので検証端末用のアカウントを用意する予定です。 これ用意しました ->`qrio.tester@gmail.com`\n\t\t移行対象: Q-SL2, Q-SL1, ST1, TK1, Kagican2, Roomon \n\t\t\t使う人がいないのであれば Kagican1, RUテストは移行しない予定\n\t\t\t\tRU Testは手動で渡す、でOK\n\t\tQ-SL2, Q-SL1以外は完了\n\t\tついでにテスターの整理も行います\n\t\t\tgeneralチャンネルで開発以外の方々には利用可否をヒアリング中\n\n\tただいまキット (新OS対応)\n\t\tAndroid\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n[** ELTRES x ただいまキットFW]\n\t楢原さんとSNCのELTRESやっている方から先週相談を受けた\n\t物流で、LPWAで荷物を追跡するシステムのコンペがあり、そこでELTRES vs Sigfox になっているらしい\n\tELTRESだと、屋外はGPSで追跡できるが、工場内に入ったら電波入らないので、別の方法で追跡する必要がある\n\t\t「ただいまキットのハブあるやん！」\n\tELTRES送信機が発信するiBeaconをハブが検出することで、不在確認をさせる\n\tもしかしたらFWの改修を依頼されるかも。。[takeuchi.icon]\n\t\tやるとは決まってない\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\tリリースしました 11/18\n \tbcu-Android 新OS対応\n \t\tAndroid10対応完了\n \t\tQA待ち\n\n\n[*** 情報システム]\n\n\n[*** SQA]\n スケジュールつくった\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n\n[*** その他]\n\tAWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了になる[takeuchi.icon]\n\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\tバケットを参照するアプリ/サーバー/CIの修正\n\t\tどのアプリが該当するか棚卸しが必要。\n\t\t\t結構ある気がする:(；ﾞﾟ'ωﾟ'）:[hazimetyan.icon]\n\t\t\tとりあえずやるやらをチェック\n\t\t\t\tリストにして、担当者とか対応の是非を書いていく\n\t\t\t\tspread sheetをココに貼る。時間を見つけて更新していく。\n\t\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\t\t少なくともiOS/AndroidのCUは、固定パスでS3を参照しているところがあり、改修が必要。\n\t\tSL1ですか?\n\t\t kingってアーティファクトでやってましたっけ? いやS3だな\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\n\n[*** 健忘録]\n\tなし\n\n# ロックの時刻ズレに関する回答と補足\ncreated_at:Mon Jan 19 1970 14:14:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 14:15:48 GMT+0900 (日本標準時)\nロックの時刻ズレに関する回答と補足\n[ロックの時刻ズレにかんするまとめ]\n\n[** やりかた]\n MANOMAをCUと同等の位置だと考えると、get_timeからの再通信でよいのではないか\n  APIはパラメータで時間を取るようにし、指定されなければ現在時刻で生成して返す\n  パラメータのバリデーションは例えば現在時刻プラスマイナス1時間とかにしておくなどもアリ\n  バリデーションしなかった場合は、このAPIとMANOMAサーバ間の通信がクリティカルになる\n  ただし、この方式の場合は開錠失敗、コマンド再取得、再開錠という段階を踏むので遅くなる\n あるいは先方が自分で署名するというなら公開鍵をパラメータにekeyを返してもよい\n  ただし、これだとロジックを実装する必要がある\n 最悪、set_timeする?\n  めちゃくちゃ強い権限\n  オーナー権限に近い\n  基本set_timeとオープンはセットで実行される\n  BLEの通信は普通に傍受できる\n  セキュリティ的にはとても脆弱になるがよろしいか\n\n[** 補足 invalid_auth_timeとは何か]\n ekeyに関する時間の概念は2つある\n 1つはTOVで、もう1つはコマンド送信時に署名に含める現在時刻である\n 前者は「鍵そのものの有効期限」を制限する一方、後者は「リプレイ攻撃に対する耐性を持たせる」ことが目的である\n CUにおいてinvalid_auth_timeが出た場合に、TOVの範囲内においてロックからget_timeした時間に合わせて再度署名してもセキュリティ上問題ないのはこのためである\n 逆に、リプレイ攻撃対策としてチャレンジレスポンス方式を採用すればこのシーケンスは不要となる\n \tSL1ではこの方式が採用されていた\n \t欠点として、ロックは毎回乱数を生成しなくてはならず、CUは、毎回ロックの乱数を確認しなければならない\n \tなので、現在時刻を署名に含めることにした。時間はずっと変わるものなので、擬似乱数に近くなる。\n \t5分以内にコマンドを送れば認証が通ってしまうが、閉めたロックを5分以内に閉めることにも、開けたロックを5分以内に開けることにも、実質意味はなく問題にはならない、という思想。\n\n\n\n\n# Dev MTG 2019/11/19\ncreated_at:Mon Jan 19 1970 14:15:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 14:15:44 GMT+0900 (日本標準時)\nDev MTG 2019/11/19\n[https://gyazo.com/55213ed37794ae8845669f7488d8aae9]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t\n\n\n[*** FY2019下期の目標 (Q-SL2)]\n[** ① C向け （3月末までに）月販3000台]\n現状\n\t1500台/月\n\t\t量販(ビックとか) + Softbank系 = 1000\n\t\t各種CPN→ECで買わせた = 500\n\t\t去年の今頃は、量販だけで1600くらいだった。落ちているぶんを取り戻したい\n施策\n\t利益率の高い直販で買わせるため、EC直販サイト開設（年内）→CPN（キャンペーン ）実施で年始から+2000\n\t\tサイト作成は開発チームは関係なし（BASE（エンジニアじゃない人がECサイトをつくるためのサービス）とかでやるらしいので）\n\t\tCPN実施にあたり、CPNの内容によってはCU改善の投げ込みもあるかも\n\t競合刈り取りで+200~300\n\t\tSesameなどに200~300くらい持っていかれてるらしい(うちの売上低下分からの予測)\n\t量販+Softbankの1000台を底上げ（営業なので開発は関係なし）\n全体としては、現時点で思いつく施策だけでは目標に届かないので、年内で分析＆施策を再検討して、年明けから実施する、という流れ。\n\n[** ②カギカン売上 1700万達成]\n現状\n\tカギカン1, 2合わせて170~180社契約中\n\t1契約あたりのロック台数も確認する必要がありそう[takeuchi.icon]\n開発がやること\n\tオートロック設定の切り替え対応\n\t\t12月中 -> なるはや、だそう[takeuchi.icon]\n\t 件数が増えるのであれば、アドホックな対応から、本体設定に切り替えも考える?\n\t 施錠に失敗する、遅延するリスクについての説明はした。[hazimetyan.icon]\n\t \t100%施錠できるわけではない。 → 仕様を今週中に詰められれば詰めます。\n\t \t\t仕様が決定次第、こまいくんの稼働が空き次第実装開始予定\n\t \t\t失敗率計算しました[takeuchi.icon]\n\t親子組織管理対応\n\t\t3月上旬(？) -> 2月中がデッド[takeuchi.icon]\n\t\tTKG(東京個別指導学院) にドカっと入れてもらうのを目標にしている\n\t\t\t3月に導入の決済予定\n\t\t仕様を潤さんに起こしてもらいました。[hazimetyan.icon]\n\t\t\t店舗ごとにログインアカウントを作ってもらって、ユーザーを、他の店舗のアカウントに移動させるだけ。\n\t\t\tカギは移さずに、招待メールを送るのみ。移動したユーザーはメールのリンクをポチポチしてカギを登録してもらう。\n\tユーザーフィードバック分析＆改善\n\t\t優先度: 低。よさそうなのがあれば。。\n\t\tCSチームの目標であるチャーンレート抑制に貢献するのが目的\n\t\t\tその辺で開発も評価してもらえるよう、川上さんと連携したい[takeuchi.icon]\n\t\t\t今の離脱率を確認する[takeuchi.icon]\n\n[** ③法人無形売上 5,400万達成]\n開発は関係なし（営業の押し込み）\n\tMANOMAは↑とは別計上だそうです\n\tNUROのONU対応も入るかも？\n\n[** ④来期への仕込み]\nBuilt-in Lockの仕込みとかがあるけど、優先度低め\nMIWAプロジェクト\n\n\n[*** Project]\n\n[** MANOMA]\n11/27 リリース判定\n常駐の件\n\t竹内は結局12末まで品川ヽ(`Д´)ﾉ\nAIHGW[takeuchi.icon]\n バグ修正中\n 時刻補正についてご相談させてください\n \t[ロックの時刻ズレにかんするまとめ]\n \t[ロックの時刻ズレに関する回答と補足]\nサーバー: 遅れている\n 具体的にどのくらいの遅れになるか把握できてません[komai.icon]\n\t解施錠できたっぽいので駒井の手は離れた認識\n\t\t駒井さんの実作業は今のところなし。あとはSNCのエンジニアが作業する\n\t\t「今後はQrio作業します。何かあったら連絡してください」でOK\n\tauth0 Universal Loginのページのログインボタンがiphone8, XsMax, 11 Proで見切れてるから直してくれと言われた\n\t　safari, chrome, lineのwebview, alexaのwebview, ひろさんに特別に作ってもらったwebviewではボタンが見切れなかったので謎。こっちのhtmlが悪いことにしたそう。\n\t　iOSの実装が悪い疑惑\n\t　 ヒロさんが解明したっぽい\n\t　 かちこもう\n\t　 コード見せてください\n\n[** NURO ONU]\nProject経緯\n\tNUROのONUは、今はHUAWAI/ZTEだが、SonyブランドのONUを自社開発し、Qrio Hubの機能をハードウェアに入れたい \n\t\tNUROスマートホーム\n\tNURO契約数: 30000件/月。うち10~15%にNUROスマートホームをAttachしたい。スマートホームには全部Lockをつけたい\n\t\t3000~4500件/月で入れてもらえる\n\t\t「スマートロックがいちばん売りやすいから、入れてくれ。売れるものを作りたいんだ」— NURO\n\t両方とも井宮さんがやっており、たぶんMANOMAと同じようにやろうとしている\n\n12月くらいから始まりそう\nMANOMAのときよりはうちの人員を割かなくてもよくなるように、高橋さんは動いてくれる、とのこと\n\tサービスのうちQrio関連部分はMANOMAと同じでいいと思う\n\t\t誰がどんなサービスにするのかは不明。。\n\tDevice側のコードは、ONU用のinfra実装をすれば、あとは共通コードでOKっぽい\n\n[** Sirius]\n オートロック設定の有効時間帯指定 (12月末　開発完了予定) -> なるはやと言われた\n \tKing側がAPI準備したら、開発完了\n \t\tこまいさん\n \tリードはちゃんさん\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t駒井さん、西川さんに一次説明。次にハード側懸念確認\n \t\t設定変更後にking to sirius webhookの案など\n \tその上で実現行けそうであればソフト側の設計方針決め\n \t\tcronはheroku schedulerが楽\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n \t（失敗率の計算は先週の議事録を参照）\n\t\t\t結果はハンドリングしなくても、3回やればまあ成功するだろう\n\t\t\tハブは26時間に1回、再起動するので、それも考慮する。[takeuchi.icon]\n \t\t\t26時間と24時間の最小公倍数は312時間。よって、24/312 = 13日\n    設定時刻にもよるが、13日に2トライ、コマンド実行に失敗する可能性がある。\n    （単純化のために、上記要因で100％失敗するとする）\n    13日中2トライ (= 6.5日中1トライ) は、コマンド実行を3回ではなく2回として、失敗率を計上せねばならない。\n    ここで、\n    \t2トライ: 1回/250回で失敗\n    \t3トライ: 1回/125000回で失敗\n    1/250 * 2/13 + 1/125000 * 11/13\n    = 0.000615384615385 + 0.000006769230769\n    = 0.000622153846154\n    ~= 0.0006\n    = 6/10000\n    ~= 1/1667回\n    = 1/834日\n    = 1/2.3年 で失敗\n   以上から、リトライ回数を3（計4トライ）にしておくと、少なくともリトライ回数2（計3トライ）の成功率は担保できる。\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\tアカウントの組織管理対応 (2月末〜3月　開発完了予定) -> 2月デッドと言われた\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t\tリードはちゃんさん\n\tユーザーフィードバック分析＆売り上げに直結しそうなものは改善[takeuchi.icon]\n\t\tまずはCS川上さんと協力して分析（年内を目処？）\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon] → 進捗なし\n\tbcu-iOS 新OS対応\n\t\tQA待ち\n\tbcu-Android 新OS対応\n \tAndroid10対応中\n\n\n[** King]\n[* API]\n Google Home連携で異常な負荷がかかりサーバー落ちたから見直す\n 　https://status.cloud.google.com/incident/cloud-datastore/19006\n 　駒井の頭上を飛び越えてリリースされた機能なので調査必要\n 　\tリスク: 今後もこういうことがあったらking落ちます\n 　\t\tAL対応との優先度: リスク説明して経営判断にする。エンジニア的にはGoogleが落ちることはほとんどないと思われるので、優先度は低めと考えている\n 　\t\t\t改修するならreplace（king api -> google をやめて、lambdaをはさむ）\n 　\t\t\t\t工数はそれなりにかかる\n 　\t\t\t　改修するならgoogle functionsがよいのでは？　lambdaを使う理由がない\n　web dynoのcpu使用率100%超えが頻繁に起きており、ちょいちょいrequest timeoutしてる\n　　get all、post logs、get logsで4、５分に１回は処理に１〜１０秒かかっているのでクエリ見直さなきゃいけないかも\n　　dyno増やすと軽減する可能性はある？\n　　 dynoふやそう[mikamix.icon]\n　　 request timeoutは１０分の１以下に  なったが１日に２０回ほどエラー起こして\n　　スロークエリをチェック[mikamix.icon]\n　　　またscout入れて詳しくチェックしよう(DBは追加料金なので忘れずに[mikamix.icon])\n　　　post logsでn + 1問題検知したのでそちらを修正中\n　　　 修正完了、1000件以上のポストの中の重複確認で４秒かかってた場所が0.3秒ぐらいになった。\n　　　 というか1000件以上のlogをpostしてくるリクエストが１日に５件以上ある。謎。\n　　　  ログ仕込んでもよいかも\n　　　  post_log内部で、件数が1000越えてた時に、もろもろ出すようなやつ[mikamix.icon]\n　　　  同じユーザーだったら、クライアント問題\n master_key削除できる管理ツール作成頼まれた\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n\n[* CU]\n\t（優先度: 低）ユーザーフィードバック分析（12月）＆売り上げに直結しそうなものは改善 [takeuchi.icon]\n\t\t改善ネタ\n\t\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\tiOS (Xcode11対応)\n\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t11月はwenaの対応があるのでそのあとになりそう\n\t\t\t完了\n\t\t\t\tただXcode11でビルドするとBLE接続周りの動作がなんか遅くなるので、一旦マージはしてません。\n\t全Androidアプリのプライバシーポリシーの対応\n\t\t対象年齢の設定と、子供がつかう場合は、いろいろ法的な質問に回答する必要がある\n\t\t回答しないとアプリがrejectされる、と警告されている\n\t\tGDPRとかその辺の話も絡む\n\t\t\tハンドリングはいったんチャンさん。→経営に確認\n\t\t今週末か来週頭くらいに、どうするか決める\n\t\t\tこちらチャンさんが調整してくださいました\n\t\t\t\t回答済み[h.yamaguchi.icon]\n\n[* King RU Refurbish]\n返却されたRUのリファービッシュ運用Project\n\t要望のInputがバラバラで、運用イメージもない\n\t\t少なくとも、お試しCPN、MANOMAの返品はある\n\t\t誰がやる？\n\t少なくともRUの初期化は必要\n\tまずは投げ込んだ方たちにヒアリングして、規模感とかのイメージをつかむところからやる\n\t現在駒井が手動でやってる\n\n[* Qrio Key x Wena]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n\n[* Guardian]\nスケジュール\n\t12/6 (木) GMC\n\t12/23 (月) GM。\n耐久試験\n\t2ロックだと、解施錠後のログ取得で稀にコケて再起動する。\n\t\tシーケンスを修正中です。が、限界かも[takeuchi.icon]\nRSSIのバグ対応した\n残作業\n\tCoverity対応\n\t FW部分は5~6件、SDK部分は300件\n\tCI環境構築\n\tCUでのUI表示関連のバグが数件 -> いずれも、やったら治せる系のもの。\n\tハブの接続をHTTPS -> HTTPにしたい\n\t\tいつ作業するかを決めて、やるだけ。\n\t\t\t11月後半にやりたいと思います。作業手順はおって共有します（環境変数を変える＆ハブの動作確認）。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。11月後半に考える、でOK。\n\n[* Guardian セキュリティ]\n リスクアセスメントの解決は終わった。\n STM-0117のチェックシートが残っている。[hazimetyan.icon]\n \t途中までは進めているのだが、わからんところがあって困っているんで、そのうち品川にいくかも。\n\n\n[** Q-SL1/Q-ST1/ただいまキット/カギカン1]\n\tQ-SL1 iOS (Xcode11対応)\n \t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n \t\tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t\t対応に二ヶ月かかる\n \t\tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t\t これはやりたくないのでやらない方向にまとめていきたい\n\n\tQ-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n\tただいまキット (新OS対応)\n\t\tAndroid\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\tリリースしました 11/18\n \tbcu-Android 新OS対応\n \t\tAndroid10対応完了\n \t\tQA待ち\n\n\n[*** 情報システム]\n\n\n[*** SQA]\n スケジュールつくった\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n\n[*** その他]\n\tAWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了になる[takeuchi.icon]\n\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\tバケットを参照するアプリ/サーバー/CIの修正\n\t\tどのアプリが該当するか棚卸しが必要。\n\t\t\t結構ある気がする:(；ﾞﾟ'ωﾟ'）:[hazimetyan.icon]\n\t\t\tとりあえずやるやらをチェック\n\t\t\t\tリストにして、担当者とか対応の是非を書いていく\n\t\t\t\tspread sheetをココに貼る。時間を見つけて更新していく。\n\t\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\t\t少なくともiOS/AndroidのCUは、固定パスでS3を参照しているところがあり、改修が必要。\n\t\tSL1ですか?\n\t\t kingってアーティファクトでやってましたっけ? いやS3だな\n\tUpdate Your Amazon RDS SSL/TLS Certificates by October 31, 2019 [AWS Account: 931243214056]\n\t\tAWSのRDS, Auroraの証明書更新の催促メールがきてましたが、使われていますか？\n\t\tYou are receiving this message because you have an Amazon RDS database instance(s) in the US-EAST-1 or US-EAST-2 Region(s).　とのことで、使っていると言われています\n\t\t作業終了\n\t\t\t意外と苦戦した。AWSが準備した証明書ファイルが、SL2のAPIリポジトリ内に置かれていたのでそれを更新しなければならなかった。\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\n\n[*** 健忘録]\n\tなし\n\n# Dev MTG 2019/11/12\ncreated_at:Mon Jan 19 1970 13:58:41 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 14:06:49 GMT+0900 (日本標準時)\nDev MTG 2019/11/12\n[https://gyazo.com/55213ed37794ae8845669f7488d8aae9]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t下期目標だいたい決まりました[takeuchi.icon]\n\t\t開発チームの成果を、エンジニア以外が見ても評価してもらえるよう、開発チームの成果がどれくらい売上に貢献するかをなるべく明確にしていきたいです。\n\t\t今やっている開発が本当に価値があるのかどうかを [takeuchi.icon] が随時チェックしていきたいので、毎週さらっと確認させてください。\n\t\tなお、下記①については「下期前半：分析＆施策検討」「後半：施策実施」の予定なので、項目はそのうち修正されます。\n\n\n[*** FY2019下期の目標 (Q-SL2)]\n[** ① C向け （3月末までに）月販3000台]\n現状\n\t1500台/月\n\t\t量販(ビックとか) + Softbank系 = 1000\n\t\t各種CPN→ECで買わせた = 500\n\t\t去年の今頃は、量販だけで1600くらいだった。落ちているぶんを取り戻したい\n施策\n\tEC直販サイト開設（年内）→CPN（キャンペーン ）実施で年始から+2000\n\t\tサイト作成は開発チームは関係なし（BASE（エンジニアじゃない人がECサイトをつくるためのサービス）とかでやるらしいので）\n\t\tCPN実施にあたり、CPNの内容によってはCU改善の投げ込みもあるかも\n\t\tなんで直販サイトがいいんでしたっけ?\n\t\t 利益率が高いから\n\t競合刈り取りで+200~300\n\t\tSesameなどに200~300くらい持っていかれてるらしい(うちの売上低下分からの予測)\n\t\tKing CU改善で効果があるか？\n\t\t\ttoB向けじゃないと考えるのがきびしい。アプリでできることはなさげ。。\n\t\t\ttoB向けのネタもなさそう（あったらこうきちさんからInputあるはず）\n\t量販+Softbankの1000台を底上げ（営業なので開発は関係なし）\n全体としては、現時点で思いつく施策だけでは目標に届かないので、年内で分析＆施策を再検討して、年明けから実施する、という流れ。\n\n[** ②カギカン売上 1700万達成]\n現状\n\tカギカン1, 2合わせて170~180社契約中\n\tロックの台数はまだ聞いてないです\n\t（参考）カギカン売上進捗\n\t\thttps://docs.google.com/spreadsheets/d/1BYOmlgBbWgezgcCKyNj-df9yED1eWrcPZBH1-yqJCrA/edit##gid=1152825663\n\t\t↓の両機能ともに店舗・物流など全国に拠点を構える（50拠点以上）のエンプラ系の案件を契約を取る上で必須な機能とお考えください。今期もすでに、700万円分のオポチュニティに対し、先方の必須要件として上がっています。来季はこの機能をベースに3,000万近い売上を作れる見込みです。by こうきちさん\n開発がやること\n\tオートロック設定の切り替え対応\n\t 件数が増えるのであれば、アドホックな対応から、本体設定に切り替えも考える?\n\t親子組織管理対応\n\t\tTKG(東京個別指導学院) にドカっと入れてもらうのを目標にしている\n\t\t\t3月に導入の決済予定\n\t\tそんなにコストかからなそうだしサクっとやってよいのではないか\n\tユーザーフィードバック分析＆改善\n\t\tよさそうなのがあれば。。\n\t\tCSチームの目標であるチャーンレート抑制に貢献するのが目的\n\t\t\tその辺で開発も評価してもらえるよう、川上さんと連携したい[takeuchi.icon]\n\t\t\t今の離脱率を確認する[takeuchi.icon]\n\n[** ③法人無形売上 5,400万達成]\n開発は関係なし（営業の押し込み）\n\tMANOMAは↑とは別計上だそうです\n\n[** ④来期への仕込み]\nBuilt-in Lockの仕込みとかがあるけど、優先度低め\nMIWAプロジェクト\n\n\n[*** Project]\n\n[** MANOMA]\n11末月開発終了が目標\n\tAIHGW[takeuchi.icon]\n\t MANOMAのアプリからリモート解施錠できた\n\t  すばらしい[mikamix.icon]\n\t バグ修正中\n\tサーバー: 遅れている\n\t 具体的にどのくらいの遅れになるか把握できてません[komai.icon]\n\t\t解施錠できたっぽいので駒井の手は離れた認識\n\t\t\t駒井さんの実作業は今のところなし。あとはSNCのエンジニアが作業する\n\t\t\t「今後はQrio作業します。何かあったら連絡してください」でOK\n\n\n[** Sirius]\n オートロック設定の有効時間帯指定(12月末　開発完了予定)\n \tKing側がAPI準備したら、開発完了\n \t\tこまいさん\n \tリードはちゃんさん\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t駒井さん、西川さんに一次説明。次にハード側懸念確認\n \t\t設定変更後にking to sirius webhookの案など\n \tその上で実現行けそうであればソフト側の設計方針決め\n \t\tcronはheroku schedulerが楽\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n \tハブ経由の解施錠の成功率は98%だが、change_settingsがこの成功率を超えることはない\n \t\t100台中2台失敗する。毎日やるので、何度かトライしないとそれなりに失敗する\n \t\t\t夜になったのにオートロック作動しないとか、昼になったのにオートロックのままとか\n \t\t（以下、1日あたり、朝と晩の2回実施するとする）\n \t\tトライアル1回、単純計算で50日に1回ぐらいは失敗する\n \t\t\tトライアル2回だと 0.02 x 0.02 = 0.0004 = 1/250回で失敗する\n\t\t\t1日あたり、朝と晩の2回実施するとして、どれくらいの精度であればよい？\n\t\t\t\t1回/5年くらいで考えてみる\n\t\t\t\t\t1回/1825日 -> 1日2回なので、1/3650回 = 0.000274 = 0.02% 以下に失敗率を抑えればOK\n\t\t\t1ロックの場合、コマンド実行の失敗率は2%（実測値）\n\t\t\t\tトライアル3回 -> 0.02^3 = 0.000008 = 0.0008% = 1回/125000回 = 1回/62500日 = 1回/172年 で失敗\n\t\t\t2ロックの場合、コマンド実行の失敗率は3%（実測値）\n\t\t\t\tトライアル3回 -> 0.03^3 = 0.000027 = 0.0027% = 1/37037回 = 1回/18518日 = 1回/51年 で失敗\n\t\t\t「指定された時刻」「5分後」「10分後」にそれぞれバッチをまわす、でよさそう\n\t\t\t\t指定された時刻から、およそ10分後には設定が適用される\n\t\t\t結果はハンドリングしなくても、3回やればまあ成功するだろう\n\t\t\t朝会スクラムで共有します\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\tアカウントの組織管理対応(2月末〜3月　開発完了予定)\n\t\tTKG (東京個別指導学院) のような中規模拠点向けの対応\n\t\t\t3月にロックを一気に導入したいらしい\n\t\t\tまずはミニマムでここまでできます、的な話をこうきちさん（営業）としに行く。[hazimetyan.icon]\n\t\t\t決済は3月中\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t\tリードはちゃんさん\n\tユーザーフィードバック分析＆売り上げに直結しそうなものは改善[takeuchi.icon]\n\t\tまずはCS川上さんと協力して分析（年内を目処？）\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon]\n\tbcu-iOS 新OS対応\n\t\t完了 SQA待ち\n \tguardian対応も完了\n\tbcu-Android 新OS対応\n \tQA中(ストアに配信しているアプリ)\n\n\n[** King]\n[* API]\n Google Home連携で異常な負荷がかかりサーバー落ちたから見直す\n 　https://status.cloud.google.com/incident/cloud-datastore/19006\n 　駒井の頭上を飛び越えてリリースされた機能なので調査必要\n 　\tリスク: 今後もこういうことがあったらking落ちます\n 　\t\tAL対応との優先度: リスク説明して経営判断にする。エンジニア的にはGoogleが落ちることはほとんどないと思われるので、優先度は低めと考えている\n 　\t\t\t改修するならreplace（king api -> google をやめて、lambdaをはさむ）\n 　\t\t\t\t工数はそれなりにかかる\n 　\t\t\t　改修するならgoogle functionsがよいのでは？　lambdaを使う理由がない\n　web dynoのcpu使用率100%超えが頻繁に起きており、ちょいちょいrequest timeoutしてる\n　　get all、post logs、get logsで4、５分に１回は処理に１〜１０秒かかっているのでクエリ見直さなきゃいけないかも\n　　dyno増やすと軽減する可能性はある？\n　　 dynoふやそう[mikamix.icon]\n　　 request timeoutは１０分の１以下に  なったが１日に２０回ほどエラー起こして\n　　スロークエリをチェック[mikamix.icon]\n　　　またscout入れて詳しくチェックしよう(DBは追加料金なので忘れずに[mikamix.icon])\n　　　post logsでn + 1問題検知したのでそちらを修正中\n master_key削除できる管理ツール作成頼まれた\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n\n[* CU]\n\tユーザーフィードバック分析（12月）＆売り上げに直結しそうなものは改善 [takeuchi.icon]\n\t\t改善ネタ\n\t\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\tフィードバック\n\t\t分析情報\n\t\tCPNに使えそうなネタがもしあれば、思いつきでいいので提供おねがいします[takeuchi.icon]\n\t\t\tなさそうヽ(`Д´)ﾉ\n\tiOS (Xcode11対応)\n\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t11月はwenaの対応があるのでそのあとになりそう\n\t\t\t完了\n\t\t\t\tただXcode11でビルドするとBLE接続周りの動作がなんか遅くなるので、一旦マージはしてません。\n\t全Androidアプリのプライバシーポリシーの対応\n\t\t対象年齢の設定と、子供がつかう場合は、いろいろ法的な質問に回答する必要がある\n\t\t回答しないとアプリがrejectされる、と警告されている\n\t\tGDPRとかその辺の話も絡む\n\t\t\tハンドリングはいったんチャンさん。→経営に確認\n\t\t今週末か来週頭くらいに、どうするか決める\n\n[* King RU Refurbish]\n返却されたRUのリファービッシュ運用Project\n\t要望のInputがバラバラで、運用イメージもない\n\t\t少なくとも、お試しCPN、MANOMAの返品はある\n\t\t誰がやる？\n\t少なくともRUの初期化は必要\n\tまずは投げ込んだ方たちにヒアリングして、規模感とかのイメージをつかむところからやる\n\t現在駒井が手動でやってる\n\n[* Qrio Key x Wena]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n\n[* Guardian]\nスケジュール\n\t12/6 (木) GMC\n\t12/13 (木) GM希望。\n耐久試験\n\t1ロックだと97.5%で成功。再起動なし。\n\t2ロックだと、解施錠後のログ取得で稀にコケて再起動する。\n\t\tシーケンスを修正中です。\n残作業\n\tCoverity対応\n\t FW部分は5~6件、SDK部分は300件\n\tCI環境構築\n\tCUでのUI表示関連のバグが数件 -> いずれも、やったら治せる系のもの。\n\tハブの接続をHTTPS -> HTTPにしたい\n\t\tいつ作業するかを決めて、やるだけ。\n\t\t\t11月後半にやりたいと思います。作業手順はおって共有します（環境変数を変える＆ハブの動作確認）。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。11月後半に考える、でOK。\n\n[* Guardian セキュリティ]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n\t\t作成した。1点だけ、DDoS攻撃などで、サーバーが応答しなくなったときに使えなくなる → 危機大\n\t\t\tAWSかHerokuで、どうにか勝手に防いだりしてくれるんじゃないのかな?\n\t\t\t\t調べます[hazimetyan.icon] → Heroku側でよしなにしてくれるとのこと\n\t\t\t\t\thttps://www.heroku.com/policy/security\n\t\t\t\tCDN入れたらできる。\n\t\t\t\tありがとうございます！！[takeuchi.icon]\n\n[** Q-SL1/Q-ST1/ただいまキット/カギカン1]\n\tQ-SL1 iOS (Xcode11対応)\n \t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n \t\tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t\t対応に二ヶ月かかる\n \t\tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t\t これはやりたくないのでやらない方向にまとめていきたい\n\n\tQ-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n\tただいまキット (新OS対応)\n\t\tAndroid\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** Castle]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\t完了 SQA待ち\n \t\tguardian対応も完了\n \tbcu-Android 新OS対応\n \t\tQAして不具合確認中。改修を誰が巻き取るかは後ほど相談（hiroさんor竹内）\n \t\tAndroid10対応中\n\n\n[*** 情報システム]\n\n\n[*** SQA]\n スケジュールつくった\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n\n[*** その他]\n\tAWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了になる[takeuchi.icon]\n\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\tバケットを参照するアプリ/サーバー/CIの修正\n\t\tどのアプリが該当するか棚卸しが必要。\n\t\t\t結構ある気がする:(；ﾞﾟ'ωﾟ'）:[hazimetyan.icon]\n\t\t\tとりあえずやるやらをチェック\n\t\t\t\tリストにして、担当者とか対応の是非を書いていく\n\t\t\t\tspread sheetをココに貼る。時間を見つけて更新していく。\n\t\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\t\t少なくともiOS/AndroidのCUは、固定パスでS3を参照しているところがあり、改修が必要。\n\t\tSL1ですか?\n\t\t kingってアーティファクトでやってましたっけ? いやS3だな\n\tUpdate Your Amazon RDS SSL/TLS Certificates by October 31, 2019 [AWS Account: 931243214056]\n\t\tAWSのRDS, Auroraの証明書更新の催促メールがきてましたが、使われていますか？\n\t\tYou are receiving this message because you have an Amazon RDS database instance(s) in the US-EAST-1 or US-EAST-2 Region(s).　とのことで、使っていると言われています\n\t\t作業終了\n\t\t\t意外と苦戦した。AWSが準備した証明書ファイルが、SL2のAPIリポジトリ内に置かれていたのでそれを更新しなければならなかった。\n\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\t組織変更によって、この会議体はどうなる？\n\t\tこのMTGは、今後もそのまま続ける\n\t\t\tymtkさんは？　今後も実装を続けるのか確認する。\n\t\t\tまゆしいさんにも確認する[takeuchi.icon]\n\t\t\t\t確認しました。「室長会（？）で竹内が報告します。議事録はscrapboxにとってます。必要ならご出席ください」で🙋‍♂️いただきました\n\t\t\t\t今日から企画開発課の朝会（スクラム）が始まりました。各自の進捗報告\n\n\n[*** 健忘録]\n\tなし\n\n# Dev MTG 2019/11/5\ncreated_at:Mon Jan 19 1970 13:55:17 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:57:12 GMT+0900 (日本標準時)\nDev MTG 2019/11/5\n[https://gyazo.com/55213ed37794ae8845669f7488d8aae9]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\tZAWA SYSTEM 10月末で契約終了[takeuchi.icon]\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tNastaボールで進捗なし\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n\t\t\tAIHGW[takeuchi.icon]\n\t\t\t 今日、feature fix 相当のバイナリを内部リリース（解施錠、ログ取得）\n\t\t\tサーバー: 遅れている\n\t\t\t 具体的にどのくらいの遅れになるか把握できてません[komai.icon]\n\t\t\t\t現在、コマンドをjavaで署名する箇所とpythonで署名する箇所があるが両方苦戦している\n\t\t\t\t javaはライブラリの使い方間違ってる可能性高め\n\t\t\t\t \t[takeuchi.icon]が間違ってました。。実機確認はまだですが、結局問題なさそうでした。\n\t\t\t\t pythonはライブラリをlambda上で動かすのに苦戦中\n\t\t\t\t \t動いた\n\t\t\t\t どちらもlambda説\n \t\t[MANOMAまとめ(随時更新)]\n \t\tDevice Typeどうするか？\n \t\t\tMANOMAはDevice Type＝４に決定\t\n\t\tMIWAのロックを使ったビジネス\n\t\t\tMIWAが提供するのはメカ部分と、メカを動作させるボードまで。\n\t\t\tFWの作成と、電子の通信部分は勝手につくってくれ。\n\t\t\t\tMIWA売ってくれないの?ケチでないか。\n\t\t\t\tMIWAの新製品をうちが作る、でよくないか?\n\n[** Castle (yamakawa)]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\t完了 SQA待ち\n \t\tguardian対応も完了\n \tbcu-Android 新OS対応\n \t\tQAして不具合確認中。改修を誰が巻き取るかは後ほど相談（hiroさんor竹内）\n\n[** Sirius (kmi、hiro)]\n\t全体スケジュール\n\t\t10末 ゲスト経由CSV\n\t\t12末 自動オートロック切り替え\n\t\t3末 組織管理\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\tアカウントの組織管理に対応できるようにする[ymtk.icon]\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t\tリードはちゃんさん\n オートロック設定の有効時間帯を指定できるようにする[ymtk.icon]\n \tリードはちゃんさん\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t駒井さん、西川さんに一次説明。次にハード側懸念確認\n \t\t設定変更後にking to sirius webhookの案など\n \tその上で実現行けそうであればソフト側の設計方針決め\n \t\tcronはheroku schedulerが楽\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon]\n\tbcu-iOS 新OS対応\n\t\t完了 SQA待ち\n \tguardian対応も完了\n\tbcu-Android 新OS対応\n \tCastleと同様にQA中。\n\n[** King]\n[* API (駒井)]\n　web dynoのcpu使用率100%超えが頻繁に起きており、ちょいちょいrequest timeoutしてる\n　　get all、post logs、get logsで4、５分に１回は処理に１〜１０秒かかっているのでクエリ見直さなきゃいけないかも\n　　dyno増やすと軽減する可能性はある？\n　　 dynoふやそう[mikamix.icon]\n　　 request timeoutは１０分の１以下になったが１日に２０回ほどエラー起こして\n　　スロークエリをチェック[mikamix.icon]\n　　　またscout入れて詳しくチェックしよう(DBは追加料金なので忘れずに[mikamix.icon])\n master_key削除できる管理ツール作成頼まれた\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n\n[* CU (竹内、hiro)]\n\tiOS (Xcode11対応)\n\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t11月はwenaの対応があるのでそのあとになりそう\n\t\t\t完了\n\t\t\t\tただXcode11でビルドするとBLE接続周りの動作がなんか遅くなるので、一旦マージはしてません。\n\tCU改善ネタ (by c-team) 進捗なし。優先度低め[takeuchi.icon]\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena(チャン, hiro)]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t\t12/Eまでに、試作機をつくってフィジビリをとる予定で進めている\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\nスケジュール\n\t10/31 (木) GMC -> GMがずれたので、先週はリリースなし。12/6 を希望中\n\t11/14 (木) GM -> 結局年明けになりそう。\n耐久試験\n\t1ロックだと97.5%で成功。再起動なし。\n\t2ロックだと、解施錠後のログ取得で稀にコケて再起動する。コードを修正した。今晩耐久回します。\n残作業\n\tCoverity対応\n\t FW部分は5~6件、SDK部分は300件\n\tCI環境構築\n\tCUでのUI表示関連のバグが数件 -> いずれも、やったら治せる系のもの。\n\tハブの接続をHTTPS -> HTTPにしたい\n\t\tいつ作業するかを決めて、やるだけ。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。11月後半に考える、でOK。\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n\t\t作成した。1点だけ、DDoS攻撃などで、サーバーが応答しなくなったときに使えなくなる → 危機大\n\t\t\tAWSかHerokuで、どうにか勝手に防いだりしてくれるんじゃないのかな?\n\t\t\t\t調べます[hazimetyan.icon]\n\t\t\t\tCDN入れたらできる。\n\t\t\t\tTicketでHerokuに聞いたらどうだい\n\t\t\tもしくはGM判定会議で、容認してもらう方法もあり。\n\n[** Q-SL1/Q-ST1/ただいまキット/カギカン1 (竹内、hiro)]\n\tQ-SL1 iOS (Xcode11対応)\n \t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n \t\tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t\t対応に二ヶ月かかる\n \t\tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t\t これはやりたくないのでやらない方向にまとめていきたい\n\n\tQ-SL1, Q-ST1のGoogleAnalyticsSDK (進捗なし)\n\t アプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t 急ぎではない（2020/10/EでAnalyticsは飛ばなくなっているが、誰も見てないし、問題はなさそう）\n\t SiriusやCastleは入れ替え済み\n\t SL1のXcode11対応しないのであれば、SL1のiOSのGAも対応しなくてよい?\n\t  androidとかは対応する必要あるか?\n\t   そもそもSL1を凍結するという話なので、androidも関係なく凍結する\n\t   タグも同様?\n\t    一部機能が保証外になるだけで、タグそのものはまだ継続\n\n\tただいまキット (新OS対応)\n\t\tAndroid\n\t\t\t軽微なバグのため修正の必要がないと判断\n\t\t\t\t手が空いたらAndroid10対応を行う\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n[** 情報システム (チャン)]\n\n[** SQA]\n スケジュールつくった\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** その他相談ほか]\n\t下期の目標[takeuchi.icon]\n\t\t開発グループとしての目標を求められました。\n\t\t\t明後日まで( ´_ゝ`)\n\t\t\t個人目標はこれまでどおりです。\n\t\t下期の注力事項の詳細はほとんど売り方の話ですが、開発も数字を意識しよう、と言われています。\n\t\tいったん開発がもっている作業の棚卸し＆工数・金勘定できるところはやって、作業の優先順位つけて、儲かりそうなところに注力します、みたいな目標にしようと思います。\n\tAWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了になる[takeuchi.icon]\n\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\tバケットを参照するアプリ/サーバー/CIの修正\n\t\tどのアプリが該当するか棚卸しが必要。\n\t\t\t結構ある気がする:(；ﾞﾟ'ωﾟ'）:[hazimetyan.icon]\n\t\t\tとりあえずやるやらをチェック\n\t\t\t\tリストにして、担当者とか対応の是非を書いていく\n\t\t\t\tspread sheetをココに貼る。時間を見つけて更新していく。\n\t\t\t\tアプリは強制アップデートできないため、早めの対応が吉。\n\t\t少なくともiOS/AndroidのCUは、固定パスでS3を参照しているところがあり、改修が必要。\n\t\tSL1ですか?\n\t\t kingってアーティファクトでやってましたっけ? いやS3だな\n\tUpdate Your Amazon RDS SSL/TLS Certificates by October 31, 2019 [AWS Account: 931243214056]\n\t\tAWSのRDS, Auroraの証明書更新の催促メールがきてましたが、使われていますか？\n\t\tYou are receiving this message because you have an Amazon RDS database instance(s) in the US-EAST-1 or US-EAST-2 Region(s).　とのことで、使っていると言われています\n\t\t\tRDS使っているのはコーポレートと1号機なので使ってますね。[ymtk.icon]\n\t\t\t\t手順説明されていた。11-14秒ほど止まりそう。早朝深夜に手動で実行しておくと良さげ\n\t\t\t\t\thttps://www.t3a.jp/blog/infrastructure/rds-ssl-update-2019/\n\t\t\t\t\tSTGで試して、そんなに長く刺さらないようであれば、本番環境でも深夜にダマで更新する。わいがやる[hazimetyan.icon]\n\t\t\t\t\t\t10.31までなので、今週中に試す&やる[hazimetyan.icon]\n\t\t\t\t\t\t-> doneの模様？\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\tQ-ST1もいっしょに凍結できないか？　打診したい。\n\t\tSL1の凍結といっしょにコミュニケーションとっていくのがよさそう。\n\n\t組織変更によって、この会議体はどうなる？\n\t\tこのMTGは、今後もそのまま続ける\n\t\t\tymtkさんは？　今後も実装を続けるのか確認する。\n\n\n[** 健忘録]\n\tなし\n\n# Dev MTG 2019/10/29\ncreated_at:Mon Jan 19 1970 13:45:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:55:33 GMT+0900 (日本標準時)\nDev MTG 2019/10/29\n[https://gyazo.com/55213ed37794ae8845669f7488d8aae9]\n\n全体開発定例のアジェンダ／議事録です。\n[** 連絡事項]\n\t省電力モード対応 (King RU)\n\t\t10/15 SQA着手\n\t\t10/18 GM判定 -> 10/23 承認済み\n\t\t10/23 OTAリリース予定\n\t\t\tリリース済みです[takeuchi.icon]\n\t\t\tRU Testを使うと署名エラーが発生することがある問題 -> 既知の問題でした（Android端末要因）。RUには関係ないです\n\tLock1号機、Tag1号機 AppのGoogleAnalyticsSDK (進捗なし)\n\t\t10/31でサポート終了（データが取れなくなる）するため、入れ替えが必要\n\t\t\tアプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t\t\t急ぎではない\n\t\tSiriusやCastleは入れ替え済み\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tNastaボールで進捗なし\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n\t\t\tAIHGW: 若干遅れ気味 (スプリント2週間くらい)[takeuchi.icon]\n\t\t\t 10末予定から11月になりそう\n\t\t\tサーバー: 遅れている\n\t\t\t 具体的にどのくらいの遅れになるか把握できてません[komai.icon]\n\t\t\t\t現在、コマンドをjavaで署名する箇所とpythonで署名する箇所があるが両方苦戦している\n\t\t\t\t javaはライブラリの使い方間違ってる可能性高め\n\t\t\t\t pythonはライブラリをlambda上で動かすのに苦戦中\n\t\t\t\t どちらもlambda説\n \t\t[MANOMAまとめ(随時更新)]\n \t\tDevice Typeどうするか？\n \t\t\tMANOMAはDevice Type＝４に決定\t\n\t\tMIWAのロックを使ったビジネス\n\t\t\tMIWAが提供するのはメカ部分と、メカを動作させるボードまで。\n\t\t\tFWの作成と、電子の通信部分は勝手につくってくれ。\n\t\t\t\tMIWA売ってくれないの?ケチでないか。\n\t\t\t\tMIWAの新製品をうちが作る、でよくないか?\n\n[** Castle (yamakawa)]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\t完了 SQA待ち\n \t\tguardian対応も完了\n \tbcu-Android 新OS対応\n \t\t現状のバージョンをQA中\n \t\t不具合があった場合対応\n\n[** Sirius (kmi、hiro)]\n\t全体スケジュール\n\t\t10末 ゲスト経由CSV\n\t\t12末 自動オートロック切り替え\n\t\t3末 組織管理\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\tアカウントの組織管理に対応できるようにする[ymtk.icon]\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t\tリードはちゃんさん\n オートロック設定の有効時間帯を指定できるようにする[ymtk.icon]\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t駒井さん、西川さんに一次説明。次にハード側懸念確認\n \t\t設定変更後にking to sirius webhookの案など\n \tその上で実現行けそうであればソフト側の設計方針決め\n \t\tcronはheroku schedulerが楽\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon]\n\tbcu-iOS 新OS対応\n\t\t完了 SQA待ち\n \tguardian対応も完了\n\tbcu-Android 新OS対応\n \t現状のバージョンをQA予定\n \t不具合があった場合対応\n\n[** King]\n[* スマートスピーカー (kmi)] \n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n　web dynoのcpu使用率100%超えが頻繁に起きており、ちょいちょいrequest timeoutしてる\n　　get all、post logs、get logsで4、５分に１回は処理に１〜１０秒かかっているのでクエリ見直さなきゃいけないかも\n　　dyno増やすと軽減する可能性はある？\n　　dynoふやそう[mikamix.icon]\n　　スロークエリをチェック[mikamix.icon]\n　　またscout入れて詳しくチェックしよう(DBは追加料金なので忘れずに[mikamix.icon])\n master_key削除できる管理ツール作成頼まれた\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n\n[* CU (竹内、hiro)]\n\tiOS (Xcode11対応)\n\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t\t完了\n\t\t\t\tただXcode11でビルドするとBLE接続周りの動作がなんか遅くなるので、一旦マージはしてません。\n\tCU改善ネタ (by c-team) 進捗なし。優先度低め[takeuchi.icon]\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena(チャン, hiro)]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\tRU Test での通信でLockの解施錠ができるので、CUはいらない。\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\nスケジュール\n\t10/17 (木) RC -> リリース済み\n\t10/31 (木) GMC -> そのまま。\n\t11/14 (木) GM -> ヘルツさん都合で、12/Mになりそう。\n耐久試験実施中。1ロックだと97.5%で成功。再起動なし。\n残作業\n\tCoverity対応\n\t FW部分は5~6件、SDK部分は300件\n\tCI環境構築\n\tCUでのUI表示関連のバグが数件 -> いずれも、やったら治せる系のもの。\n\tハブの接続をHTTPS -> HTTPにしたい\n\t\tいつ作業するかを決めて、やるだけ。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tAndroid: 済\n\t\tiOS\n\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。これはGM後に考えて決めればOK。\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n\t\t作成した。1点だけ、DDoS攻撃などで、サーバーが応答しなくなったときに使えなくなる → 危機大\n\t\t\tAWSかHerokuで、どうにか勝手に防いだりしてくれるんじゃないのかな?\n\t\t\t\t調べます[hazimetyan.icon]\n\t\t\t\tCDN入れたらできる。\n\t\t\t\tTicketでHerokuに聞いたらどうだい\n\t\t\tもしくはGM判定会議で、容認してもらう方法もあり。\n\n[** Q-SL1/Q-ST1/ただいまキット/カギカン1 (竹内、hiro)]\n\tQ-SL1 (新OS対応)\n\t\tAndroid\n\t\t\tZAWA SYSTEM様が対応中でございます[h.yamaguchi.icon]\n\t\t\t対応完了。QA待ち\n\t\t\tリリースしました(10/29)\n\n\tQ-SL1 iOS (Xcode11対応)\n \t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n \t\tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t\t対応に二ヶ月かかる\n \t\tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t\t これはやりたくないのでやらない方向にまとめていきたい\n\n\tQ-ST1 (新OS対応)\n\t\tAndroid\n\t\t\tZAWA SYSTEM様が対応中でございます[h.yamaguchi.icon]\n\t\t\t別途見つかったバグについても、ZAWA SYS様に対応してもらいます。(issue##418)  [hazimetyan.icon]\n\t\t\tリリースしました\n\n\tただいまキット (新OS対応)\n\t\tiOS\n\t\t\t完了 QA待ち \n\t\t\tswift5, xcode11対応もついでに行いました\n\t\t\tリリースしました(10/28)\n\t\tAndroid\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** 情報システム (チャン)]\n\n[** SQA]\n スケジュールつくった\nhttps://docs.google.com/spreadsheets/d/11KU4EKYOZfKXbkR8JKVUM3CutlhqyoAJ74Obhu08S74/edit##gid=0\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** その他相談ほか]\n\t昨日から正式に？　開発マネージャーになりました[takeuchi.icon][+1.icon]\n\t\tSaaSの決定権が私になったくらいです。とりたてて新たにマネジメントすることはなく、庶務が増えるくらいで基本何も変わらないと思っているので、そのように行動します。\n\tGithubから、これからもGithub Actions使いたかったら料金プラン更新してねメールが来てました[takeuchi.icon]\n\t\tUpdate your plan to keep using GitHub Actions\n\t\tIf you’d like to keep using GitHub Actions with this account after November 13, 2019, upgrade to a per-seat plan now.\n\t\thttps://github.us11.list-manage.com/track/click?u=9d7ced8c4bbd6c2f238673f0f&id=0c73192a86&e=00b9938bd5\n\t\tたぶん使わないと思いますが、いつか移行検討するかもしれない。というか当面は無視。\n\t\t新規のHeroku以外のプロジェクトが始まる時に、検討してもいいレベルだと思います。\n\tAWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了になる[takeuchi.icon]\n\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\tどのアプリが該当するか棚卸しが必要。\n\t\t\t結構ある気がする:(；ﾞﾟ'ωﾟ'）:[hazimetyan.icon]\n\t\t少なくともiOS/AndroidのCUは、固定パスでS3を参照しているところがあり、改修が必要。\n\t\tSL1ですか?\n\t\t kingってアーティファクトでやってましたっけ? いやS3だな\n\tUpdate Your Amazon RDS SSL/TLS Certificates by October 31, 2019 [AWS Account: 931243214056]\n\t\tAWSのRDS, Auroraの証明書更新の催促メールがきてましたが、使われていますか？\n\t\tYou are receiving this message because you have an Amazon RDS database instance(s) in the US-EAST-1 or US-EAST-2 Region(s).　とのことで、使っていると言われています\n\t\t\tRDS使っているのはコーポレートと1号機なので使ってますね。[ymtk.icon]\n\t\t\t\t手順説明されていた。11-14秒ほど止まりそう。早朝深夜に手動で実行しておくと良さげ\n\t\t\t\t\thttps://www.t3a.jp/blog/infrastructure/rds-ssl-update-2019/\n\t\t\t\t\tSTGで試して、そんなに長く刺さらないようであれば、本番環境でも深夜にダマで更新する。わいがやる[hazimetyan.icon]\n\t\t\t\t\t\t10.31までなので、今週中に試す&やる[hazimetyan.icon]\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\ngithubとpubnubとawsとpingdomの三上アカウントを削除\n\n[** 健忘録]\n\tなし\n\n# 年末までのCPN\ncreated_at:Mon Jan 19 1970 13:49:32 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:49:59 GMT+0900 (日本標準時)\n年末までのCPN\nCPN 主担当\n\t\tロック非・保持者へ×\n\t\t\t取付検証したいだろ\n\t\t\tメルマガ\n\t\t\t\t50,600 → 38,600（1台当たり6,000 OFF）購入条件：2台まで\n\t\t こっちなし、amazonセールと霞む\n\t\t 非・保持者はやるなら、別切り口のキャンペーン\n\t1more Lock CPN\n\t\t対象：ロック保持者\n\t\t\t\t購入条件：1台まで\n\t\t\t\t\t¥18,000（税込）※Qrio.me限定\n\t\t\t\t\t\tQrioのススメとして\n\t\t\t\t\t\t2ロック展開に！\n\t\t\t\t\t\t別のドア用途に！\n\t\t\t\t\t\t友人、知人へのプレゼントに！\n\t\t\tおそらく50〜100 台見込み\n\t\t11/11（月）〜11/24（土）23:59 まで or 11/30（日）\n\t\t要シミュレーション → 高橋さんへ展開\n\t\t\tアカウント登録者のぱい\n\t\t\tタクシー広告11/25（月）配信開始だが、期間は被っててよいでしょう\n\n\tQ-SL1買い替え 3次　5周年 感謝祭\n\t\t主担当：原田？\n\t\tスケジュール：12/中旬 or 年始\n\t\t過去施策の課題と改善方向：\n\t\t\t1次→2次　前回は、HTMLメール変更してCTRは微増でCV率に変化はなし\n \tSL-1 下取り SL-2 ¥8,000値引くか？\n\n　お試し 2次 →\n　\t主担当： 成田&鈴木 、中野\n \tスケジュール：\n \t過去施策の課題と改善方向：\n\n　サイバーマンデー → 成田&鈴木\n　　12/6~12/9\n　News Picks CPN → 鈴木\n　ペパクラ 3次 →  11/25（amazonクーポン に寄せる）\n　　以前請求して、買ってない人 へもメール\n\n\n社員：成田、マユト、川上、中野、高濱、原田\nインターン：つよし、しんじ、さとし\n\n「5周年記念」の大義名分も使える\n\n# c-team定例 19/10/28\ncreated_at:Mon Jan 19 1970 13:43:50 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:44:02 GMT+0900 (日本標準時)\nc-team定例 19/10/28\n[https://gyazo.com/b9a6ee25f63dbe6b00966f4b48810420]\n\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/ymtk/harada/ichikawa/nakano/takeuchi/knarita\n\n欠席\n\n前回\n[c-team定例 19/10/23]\n\nc-team定例としては今回最終回です。\n（同役割の議論は今後もあります）\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** アジェンダ]\n\tご意見BOX\n\t\thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\t販売確認\n\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t毎月+1000を作りつつ、１月以降からは+2000を狙う\n\tお試しキャンペーン\n\t　マッピング今週中には終わらせたい\n\t　　https://drive.google.com/open?id=1XNypFrBrCN1ATFOPPvZjJBkH55Wnk3Ar&usp=sharing\n\t　購入意向\n　\t　https://docs.google.com/presentation/d/1Dx55GcLKx2MYlswNkEvnbkhd6LO582KDkaa-HDOmpnY/edit?usp=sharing\n\t アンケート\n\t　　https://docs.google.com/presentation/d/1SepZLE-DLmZQL9zflOUBXDcz07JZw1FTEdK9k83QGNY/edit##slide=id.g616d44d5b1_0_0\n\t　 購入可否の見える化\n\t　 　https://drive.google.com/open?id=1nomO3PzziDlGl_TweVlDAm3rsa9_s9tg\n  関係データフォルダ\n  \thttps://drive.google.com/drive/folders/1YGb59LqCZ4eJLJCKNELeBKjOlpju_XYO\n NP\n \t[（作業中）お試しキャンペーンv2計画]\n\tペパクラ20%OFF\n\t\thttps://docs.google.com/spreadsheets/d/1qagdVYxDJSYgtLlnOjCUzoHi9t8Ep49QaUdAFZADVOI/edit?usp=sharing\n\n\n\n-- 前回\n[** アジェンダ]\n\tご意見BOX\n\t\thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tカートとランキング確認\n\t\tamazonへのリンクは商品名が含まれていた方が良い。プラットフォーム内検索ランクが上がるため\n\t販売確認\n\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t毎月+1000を作りつつ、１月以降からは+2000を狙う\n\t古物商申請出しておいた方がいいよ[ymtk.icon]\n\t\thttps://www.keishicho.metro.tokyo.jp/smph/tetsuzuki/kobutsu/tetsuzuki/kyoka.html\n\tお試しキャンペーン\n\t\thttps://docs.google.com/presentation/d/1SepZLE-DLmZQL9zflOUBXDcz07JZw1FTEdK9k83QGNY/edit##slide=id.g616d44d5b1_0_0\n\t　https://docs.google.com/presentation/d/1Dx55GcLKx2MYlswNkEvnbkhd6LO582KDkaa-HDOmpnY/edit?usp=sharing\n\t　 アンケート\n\t　 　https://docs.google.com/presentation/d/1SepZLE-DLmZQL9zflOUBXDcz07JZw1FTEdK9k83QGNY/edit##slide=id.g616d44d5b1_0_0\n\t　 購入可否の見える化\n\t　 　https://drive.google.com/open?id=1LWnqDV0pabuOHfmxLN4GCs5Qc-hNl2DK&usp=sharing\n  関係データフォルダ\n  \thttps://drive.google.com/drive/folders/1YGb59LqCZ4eJLJCKNELeBKjOlpju_XYO\n\n\n\n\n##toC #定例 #議事録\n\n# （作業中）お試しキャンペーンv2計画\ncreated_at:Mon Jan 19 1970 13:39:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:43:58 GMT+0900 (日本標準時)\n（作業中）お試しキャンペーンv2計画\n文責[ymtk.icon]\n[*** 目論見]\n\t前回の戻り品を中古品レンタルし、原価を抑える\n\n[* ベースとしての考え方]\n\t中古品を初月無料お試しレンタルとして提供する\n\t\tなので、リファービッシュと言っても登録削除と付属品追加くらいしかやらない\n\t\t2ヶ月目からは有料\n\t買いたい場合は新品を送る\n\t\tレンタル費用は還元\n\n[* 考慮点]\n\tアプリケーション登録した時点で月額課金（違約金）をセットするかどうか\n\t中古品をそのまま使い続けたい人への対応\n\t\t古物商必要\n\t利用規約の調整\n\t事前に押さえる情報\n\t\tカード登録だけにするか、デポジットまでにするか\n\t\tカード決済だけエラーするのは後者だと倒せる\n\tレンティオさんとの差別化\n\t\t関係性として、変な感じにはしたくない。お互いにメリットは出したい\n\n# amazon pay x stores.jp 調査\ncreated_at:Mon Jan 19 1970 13:43:51 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:43:56 GMT+0900 (日本標準時)\namazon pay x stores.jp 調査\n文責[ymtk.icon]\n19/10/28時点\n\n特設ページ\nhttps://stores.jp/amazonpay?ld=APJPLPADirect\n\n仕様\nhttps://stores.jp/price\n\n\t必要な手続き\n\t\tamazonの審査\n\t\tstores.jpへの申し込み\n\t手数料＋利用料\n\t\t4％ + 月額1,980円　\n\t独自ドメイン\n\t\t縛りあり\n\t\t\thttps://faq.stores.jp/hc/ja/articles/360006987451-独自ドメインについて教えてください\n\t\t\tスタンダードプラン(及びプレミアムプラン)をご利用の場合「https://○○.com」か「https://○○.net」か「https://○○.shop」の中からお好きな独自ドメインを１つご利用いただけます。独自ドメインはSTORES.jp内での新規取得に限り、既に取得されたドメインの移管等はおこなっておりません。また、外部で利用しているドメインの移管お手続きについても対応しておりません。\n\t\t\tということで、何かしら取得する必要がある\n\t利用できるアドオン\n\t\tGoogle analytics\n\t\t予約販売\n\t\tクーポン\n\t\t\thttps://officialmag.stores.jp/entry/kaigyou/kinou-coupon\n\t\t\tcode:txt\n\t\t\t ＜STORES.jpで設定できるクーポンの種類＞\n    \n    割引（％）／　値引き（円）／　送料無料　を自由に設定ができる\n    発行枚数に制限がつけられる\n    利用回数に制限がつけられる\n    使用条件（◯◯円以上の購入時のみ利用可能）を設定できる\n    有効期限を設定できる\n    クーポン発行のお知らせメールを自動送信できる\n\t運用上の課題\n\t\tcrossmallとの自動連携は簡単にはできない\n\t\t\t手入力運用が必要。ちゃんとやる場合、発送メールを形式変換する何かしらのアプリケーションが必要になるが、開発コストを考えると厳しい。発送代行はある\n\t\t\t\thttps://stores.jp/support/storage\n\n\n# sirius/castle vue-cli3 to 4 migrate作業ログ\ncreated_at:Mon Jan 19 1970 13:43:44 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:43:44 GMT+0900 (日本標準時)\nsirius/castle vue-cli3 to 4 migrate作業ログ\n文責[ymtk.icon]\n\n[* vue-cli?]\n\tvueフロントエンド開発する場合のツール群。開発サーバだけでなくビルドやエラー表示、パッケージ管理もできる¥\n\tWebGUI起動コマンドは`vue ui`\n\ncode: sh\n npm install -g @vue/cli\n vue upgrade\n\n\t良くあるエラー\ncode:bash\n $[ymtk]> vue upgrade\n \n ✔  Gathering package information...\n   Name                         Installed       Wanted          Latest          Command to upgrade\n   @vue/cli-service             3.12.0          3.12.0          4.0.5           vue upgrade @vue/cli-service\n   @vue/cli-plugin-babel        3.12.0          3.12.0          4.0.5           vue upgrade @vue/cli-plugin-babel\n   @vue/cli-plugin-e2e-cypress  3.12.0          3.12.0          4.0.5           vue upgrade @vue/cli-plugin-e2e-cypress\n   @vue/cli-plugin-eslint       3.12.0          3.12.0          4.0.5           vue upgrade @vue/cli-plugin-eslint\n   @vue/cli-plugin-typescript   3.12.0          3.12.0          4.0.5           vue upgrade @vue/cli-plugin-typescript\n   @vue/cli-plugin-unit-jest    3.12.0          3.12.0          4.0.5           vue upgrade @vue/cli-plugin-unit-jest\n ? Continue to upgrade these plugins? Yes\n Upgrading @vue/cli-service from 3.12.0 to 4.0.5\n yarn add v1.19.0\n [1/5] 🔍  Validating package.json...\n [2/5] 🔍  Resolving packages...\n [3/5] 🚚  Fetching packages...\n error Incorrect integrity when fetching from the cache\n info Visit https://yarnpkg.com/en/docs/cli/add for documentation about this command.\n  ERROR  command failed: yarn add @vue/cli-service@^4.0.5 --registry=https://registry.npm.taobao.org\nこの場合、下記の対応が必要。\n\t`yarn cache clean`する\n\t`vim ~/.vuerc`して、`\"useTaobaoRegistry\": false にする`\n\nリファレンス\nhttps://cli.vuejs.org/migrating-from-v3/##upgrade-all-plugins-at-once\n\n\n\n# Sirius csv経由でのゲスト取り込み機能\ncreated_at:Mon Jan 19 1970 13:37:54 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:38:29 GMT+0900 (日本標準時)\nSirius csv経由でのゲスト取り込み機能\n[* 機能概要]\n\tcsvを取り込むとゲスト登録できる\n\n[* サンプルcsv]\n\tコンソールよりダウンロード可能\n\tname, mail. organizationIdの順\n\t\torganizationは任意\n\n[* エラーが起こるパターン]\n\tメアドが不正\n\t\tアットマークがないなどの場合はエラー\n\t名前あるいはメアド抜け\n\t存在しない組織\n\tその他挙動\n\t\t途中でエラーが出た場合csvファイル入力に対して何も取り込まれない->現状取り込まれる\n \t空行がある場合エラーなくスキップ\n \t重複がある場合スキップ\n \t見出し行（１行目）はスキップ\n\n該当PR\nhttps://github.com/qrioinc/sirius-api/pull/246\n\n##Sirius #SQA #仕様\n\n# お試しCP リファービッシュ検討\ncreated_at:Mon Jan 19 1970 13:29:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:38:12 GMT+0900 (日本標準時)\nお試しCP リファービッシュ検討\n\t対象ロック数\n\t\t約280\n\t\t\tこの中からの振り分けが必要\n\t\t\t\t未使用未開封\n\t\t\t\t\tロック登録なし かつ 見た目上新品\n\t\t\t\t開けたけどつかなかった。両面テープは使った（50台程度ある）\n\t\t\t\tちょっと使った --- ここまでは新品同等判断にもいけそう\n\t\t\t\tそれなりに使った\n\t\t\t\tそれなりに使ったし、落とした傷汚れもある\n\t用途\n\t\tレンティオへの卸\n\t\tカギカンでのレンタル利用\n\t\t（未定）toC お試しレンタルキャンペーンでの利用\n\t\t庫出\n\t必要なもの\n\t\t不足部品の補充\n\t\tマスター登録状況の確認\n\tその他\n\t\tmacの整備済み商品レベルに戻す方法、基準\n\t\t\t製品品質の誤差レベルなのかどうか\n\t\tリードタイム\n\t\t\tマスター15個入りが10個ぐらいを対応すると最短でも1ヶ月くらい、標準2ヶ月とか\n\n[* NEXT]\n\t10/21週中に決めて、お見積もりいただく\n\tリファービッシュ基準\n\t\t袋、フィルム、アルコール拭き、物交換（RG、SG,、個装箱、両面テープ、電池ブタ、ねじ、高さ調整プレート、マグネットセンサ、サムターンホルダー、(UIサムターンホルダー)、(75PMサムターンホルダー)）\n\t\t包装形態の統一\n\t\t下記にまとめる\n\t\t\thttps://docs.google.com/spreadsheets/d/17IDzGTSMmaiZR9VXT7J1Mhj7RsNb8pV1a_l41nHNZZs/edit##gid=0\n\n##toC #リファービッシュ\n\n# c-team定例 19/10/23\ncreated_at:Mon Jan 19 1970 13:36:45 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:36:57 GMT+0900 (日本標準時)\nc-team定例 19/10/23\n[https://gyazo.com/b9a6ee25f63dbe6b00966f4b48810420]\n\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/ymtk/harada/ichikawa/nakano/takeuchi/knarita\n\n欠席\n\n前回\n[c-team定例 19/10/16]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** アジェンダ]\n\tご意見BOX\n\t\thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tカートとランキング確認\n\t\tamazonへのリンクは商品名が含まれていた方が良い。プラットフォーム内検索ランクが上がるため\n\t販売確認\n\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t毎月+1000を作りつつ、１月以降からは+2000を狙う\n\t古物商申請出しておいた方がいいよ[ymtk.icon]\n\t\thttps://www.keishicho.metro.tokyo.jp/smph/tetsuzuki/kobutsu/tetsuzuki/kyoka.html\n\tお試しキャンペーン\n\t\thttps://docs.google.com/presentation/d/1SepZLE-DLmZQL9zflOUBXDcz07JZw1FTEdK9k83QGNY/edit##slide=id.g616d44d5b1_0_0\n\t　https://docs.google.com/presentation/d/1Dx55GcLKx2MYlswNkEvnbkhd6LO582KDkaa-HDOmpnY/edit?usp=sharing\n\t　 アンケート\n\t　 　https://docs.google.com/presentation/d/1SepZLE-DLmZQL9zflOUBXDcz07JZw1FTEdK9k83QGNY/edit##slide=id.g616d44d5b1_0_0\n\t　 購入可否の見える化\n\t　 　https://drive.google.com/open?id=1LWnqDV0pabuOHfmxLN4GCs5Qc-hNl2DK&usp=sharing\n  関係データフォルダ\n  \thttps://drive.google.com/drive/folders/1YGb59LqCZ4eJLJCKNELeBKjOlpju_XYO\n\n\n\n--- 下記前回\n[* お試し今週の動きを確認]\n\t今日で終わりですよ買うなら今日までですよメール？\n\t被災地関連\n\t明日以降のタイミングで決済対応\n\nKeyセット速報\n\t在庫334->販売16\n\t非常に進捗はよろしくないのでテコ入れ必要\n\t\tなぜか仮説\n\n---\n\t施策進捗\n\t\t[https://gyazo.com/9a9d41e26b5b50530d21749aaf25ae70]\n\t\t社販xカギカン界隈：成田\n\t\t\tまずはカギカン移行から進めます\n  クロスセル,　アマゾン界隈：市川\n  \t10/11-10/31 link japan\n  \t\t現状6台（配信：3万）\n  \t\t\t会員登録が必要なのでハードルが高い[ymtk.icon]\n  \t\t\t6台だと準備するだけ赤字やで…\n  \tamazon\n  \t\t入稿済、反映待ち\n  \t\tセール時にAmazonに飛ばす際、リダイレクトURLが必要なので山口さんに相談したいです¥\n  \t\t\twww/r 以下に作ればOKです.URL的には qrio.me/r/taxi-cpn/  とか [ymtk.icon]\n  タクシー広告\n  　　最後の静止画のイメージだけサイバー共有してあります\n  　　\t25sec 動画、5sec静止画\n  　　\t11/25-12/8実施、サイバーマンデーが12/6 9:00-12/9 23:59。後半はサイバーマンデー被り、リンク先は全てamazonのQrioカートへ。12/5まではクーポン適用で¥6,000 off(税込から引かれる)\n  　　\t\t¥19,300(税込)で決定\n  　　\t\t12/6- 単品 ¥18,000(税込)\n  　　\t\t\tクーポン適用なし\n  　　価格とデザインを確認したいです\n  アップセル界隈：中野\n   Hubはダウントレンド→50%目指すとしたら、現時点で+1570台のHubが必要\n   [https://gyazo.com/43f738d4b8727bbddcd65a36e1027c04]\n　　　Fobはアップトレンド→50%目指すとしたら、現時点で+2229台のFobが必要\n　　　[https://gyazo.com/9e2fd477e15b0815dd68be3245f05f35]\n\n  ペパクラ 2次施策\n   10/17 - 10/23\n   請求数：127（発送：41）\n   アンケート回収：8\n   store購入：3\n \t　残タスク\n  　\tCrossmallでの本人確認オペレーション\n  　\tリマインドメール\n[https://gyazo.com/570d5b7cabdd280bc2ff1fa90849bc2f]\n[https://gyazo.com/295cde724f5492e19f8fc85171a1d03c]\n[https://gyazo.com/fdc9082d09495ab7e79b0d22ace44bd9]\nペパクラアンケート回答後、keyセットを購入された方2名\n\n  友達招待界隈：原田、山口\n  \thttps://docs.google.com/presentation/d/1mf5SOJ1_vhJL9e9hboRjrB9Yrs7ZxFIMqb8rcJE6v6Y/edit##slide=id.g6207887cee_1_0\n  レンティオ\n  \tプレスリリース準備、今月スタートの予定\n\n##toC #定例 #議事録\n\n# Dev MTG 2019/10/23\ncreated_at:Mon Jan 19 1970 13:36:31 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:36:46 GMT+0900 (日本標準時)\nDev MTG 2019/10/23\n[https://gyazo.com/55213ed37794ae8845669f7488d8aae9]\n\n全体開発定例のアジェンダ／議事録です。\n[** 連絡事項]\n\t各OSのリリース日\n\t\thttps://www.gizmodo.jp/2019/09/198609.html\n\t\tcode:os\n\t\t iOS 13：9月19日\n   watchOS 6：9月19日\n   iOS 13.1：9月30日\n   iPadOS 13：9月30日\n   macOS Catalina：10月\n\tザワさんにandroid相談開始\n\t\tSL2の対応は10.8にリリース済み\n\t\tST1/SL1 実装済み、SQA待ち\n\t省電力モード対応 (King RU)\n\t\t10/15 SQA着手\n\t\t10/18 GM判定 -> 10/23 承認済み\n\t\t10/23 OTAリリース予定\n\t\t\t翌日休みの日にはリリースしない。火曜はお休み\n\t\t\tリリース作業は竹内がやります。なお本対応とは関係ないと思われますが、大西さんのVAIO PHONEで、RU Testを使うと署名エラーが発生することがある問題の調査中です。この調査が完了し、問題なければリリースします。[takeuchi.icon]\n\tLock1号機、Tag1号機 AppのGoogleAnalyticsSDK\n\t\t10/31でサポート終了（データが取れなくなる）するため、入れ替えが必要\n\t\t\tアプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？\n\t\t\t急ぎではない\n\t\tSiriusやCastleは入れ替え済み\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tNastaボールで進捗なし\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n\t\t\tAIHGW: 若干遅れ気味 (スプリント1週間分くらい -> 2週間くらい)[takeuchi.icon]\n\t\t\t 10末予定から11月になりそう\n\t\t\tサーバー: 遅れている\n\t\t\t\treachサーバーを駒井さんが実装するにあたり、情報が足りていない？　誰が何をどこまでやるかハッキリしてなさそう\n\t\t\t\t今週からサーバーエンジニアがjoinするらしい\n\t\t\t\tサーバー側でed25519の署名をする想定\n\t\t\t\t 先方の希望\n\t\t\t\t 経路(manoma <-> サーバー)は安全であるという前提\n \t\t[MANOMAまとめ(随時更新)]\n \t\tDevice Typeどうするか？\n \t\t\thttps://docs.google.com/presentation/d/1ROuSZl-3UWx6XEDzotLCUOI5AhI50Hf-3CCwHzIl14U/edit##slide=id.g2ab8f9c87e_0_0\n \t\t\tMANOMAというデバイスを追加するのがいいと思う[komai.icon]\n \t\t\t\t一旦MANOMAというデバイスを追加\n\n[** Castle (yamakawa)]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\t完了 SQA待ち\n \t\tguardian対応も完了\n \tbcu-Android 新OS対応\n \t\t未定\n\n[** Sirius (kmi、hiro)]\n\t全体スケジュール\n\t\t10末 ゲスト経由CSV\n\t\t12末 自動オートロック切り替え\n\t\t3末 組織管理\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n\t\t \t多拠点利用が3月以降TKG で想定されているので1月くらいには欲しいです。年明けたらつなぎこみ、SQAします。\n\tアカウントの組織管理に対応できるようにする[ymtk.icon]\n\t\t企画\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t\t\t[10/23 Sirius 組織機能]\n\t\t\tリードはちゃんさん\n オートロック設定の有効時間帯を指定できるようにする[ymtk.icon]\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t駒井さん、西川さんに一次説明。次にハード側懸念確認\n \t\t設定変更後にking to sirius webhookの案など\n \tその上で実現行けそうであればソフト側の設計方針決め\n \t\tcronはheroku schedulerが楽\n \t単純なオンオフ切り替えはapi、consoleでつくりました（consoleはコメントアウト）[ymtk.icon]\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon]\n\tbcu-iOS 新OS対応\n\t\t完了 SQA待ち\n \tguardian対応も完了\n\tbcu-Android 新OS対応\n \t未定\n\n[** King]\n[* スマートスピーカー (kmi)] \n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n　POST v1/m/commands/change_settings に enable_autolock のparam追加\n　 今review_app\n　 懸念点は上記siriusに記載\n master_key削除できる管理ツール作成頼まれた\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n\n[* CU (竹内、hiro)]\n\tiOS (Xcode11対応)\n\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t11月はwenaの対応があるのでそのあとになりそう\n\t\t\t完了\n\t\t\t\tただXcode11でビルドするとBLE接続周りの動作がなんか遅くなるので、一旦マージはしてません。\n\tCU改善ネタ (by c-team) 進捗なし。優先度低め[takeuchi.icon]\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[* Qrio Key x Wena(チャン, hiro)]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\nスケジュール\n\t10/17 (木) RC -> リリース済み\n\t10/31 (木) GMC -> 2w後ろにずれそう。\n\t11/14 (木) GM -> 2w後ろにずれそう。\n残作業（今週は進捗なし）\n\tCoverity対応\n\t FW部分は5~6件、SDK部分は300件\n\tCI環境構築\n\tCUでのUI表示関連のバグが数件 -> いずれも、やったら治せる系のもの。\n\tハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\t\t現状、Guardian FWに、httpsがきても全部http通信するコードを入れているので、動作確認はできます。\n\t\tGM前に元に戻すのを忘れないようにします（最悪、忘れても大きな問題にはならないですが）\n\t\t\t現行のQ-H1にも影響があるが、大西さんと認識合わせしたか？　-> あらためて確認する[takeuchi.icon]\n\t\t\t\t言わずにそのままやってOK。FWを変更するわけではないので。あとはいつ作業するかを決めて、やるだけ。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない。\n\t\t今、King CU iOSやってます (qb_setup_iosの扱いについて、hiroさんに相談したいことがある) 。\n\t\t\tマージ済み？？[takeuchi.icon]\n\t\t\t\tqb-setup-iosはマージ済み、公開済み。king-cuにはまだ反映していない\n\t\t\t\tking-cuに入れますね[h.yamaguchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。これはGM後に考えて決めればOK。\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n\t\t作成した。1点だけ、DDoS攻撃などで、サーバーが応答しなくなったときに使えなくなる → 危機大\n\t\t\tAWSかHerokuで、どうにか勝手に防いだりしてくれるんじゃないのかな?\n\t\t\t\t調べます[hazimetyan.icon]\n\t\t\t\tCDN入れたらできる。\n\t\t\t\tTicketでHerokuに聞いたらどうだい\n\t\t\tもしくはGM判定会議で、容認してもらう方法もあり。\n\n[** Q-SL1/Q-ST1/ただいまキット/カギカン1 (竹内、hiro)]\n\tQ-SL1 (新OS対応)\n\t\tiOS\n\t\t\t完了。\n\t\t\tリリースしました(10/10)\n\t\tAndroid\n\t\t\tZAWA SYSTEM様が対応中でございます[h.yamaguchi.icon]\n\t\t\t対応完了。QA待ち\n\n\tQ-SL1 iOS (Xcode11対応)\n \t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n \t\tかなり既存コードに手を入れる必要がありそう。。キツイ\n \t\t対応に二ヶ月かかる\n \t\tやらないと、4月以降にアプリの新バージョンをリリースできなくなる\n \t\t これはやりたくないのでやらない方向にまとめていきたい\n\n\tQ-ST1 (新OS対応)\n\t\tiOS\n\t\t\t全て完了。QA待ち (10月2週目予定)\n\t\t\tswift5, xcode11対応もついでに行いました\n\t\t\tスクショ作らないと申請できない\n   \t素材を準備してマユトさんに依頼\n\t\tAndroid\n\t\t\tZAWA SYSTEM様が対応中でございます[h.yamaguchi.icon]\n\t\t\t別途見つかったバグについても、ZAWA SYS様に対応してもらいます。(issue##418)  [hazimetyan.icon]\n\n\tただいまキット (新OS対応)\n\t\tiOS\n\t\t\t完了 QA待ち \n\t\t\tswift5, xcode11対応もついでに行いました\n\t\t\tスクショ作らないと申請できない\n\t\t\t\t素材を準備してマユトさんに依頼\n\t\tAndroid\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** 情報システム (チャン)]\n Twilioの会社情報の更新\n\t\t作業担当者の運転免許証でおkと、Twilioの日本法人から回答。でも、通らなかったら、また連絡して。って言われた。\n\n[** SQA]\n ただいまキットの優先度を下げる[hazimetyan.icon]\n フオンさんの見込み済みの工数0.5人月は、10月に入れる。\n 11月のSQAの工数をヒアリングしてまとめる。11月中の工数を、1.5人/月 -> 2.0人月にするか、判定したい。\n\n*** ↓ リストが古いので更新する ***\n1.カギカン　9月中に終わる　10月1日リリース　→完了\n2. KingCU iOS13対応 1.3.1(69)　→9/26-27実施中　→完了\n3. KingCU Android版 OS9とOS10 他OS8～6で解施錠確認 →9/30-10/4実施中（★TestFlightある1.3.1(69)）\n4. ただいまキット Android10 / iOS13　→10月3週目　→残件あり\n5. SmartTagのiOS13修正版　フル検証 iOS13,12,11　→10月2週目3機種で6人日（★TestFlightある1.2.1(135)）\n6. SL1のiOS13修正版　→10月3週目（★TestFlightある1.8.4(205)）\n7. Sirius CSV登録、オートロック設定　→10/9～テスト実施？\n8. カギカンBCU Android10 / iOS13　→10月4週目　2機種で2人日\n9.  RoomonBCU  Android10 / iOS13　→10月4週目　2機種で2人日\n10. ただいまキット iOS版の修正　→10月4週目？　→開発中\n11. SL1 Android版の修正　→10月5週目？　\n12. SmartTag Android版の修正　→10月5週目？\n13. KingCU iOS Xcode11対応　フル検証　→10月5週目？\n14. Guardian の修正が出るかも？\n\t→竹内さんが実施するかも。 →山田さんにやってもらうことになりました。RCリリース前チェックです。-> done\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** その他相談ほか]\n\tGithubから、これからもGithub Actions使いたかったら料金プラン更新してねメールが来てました[takeuchi.icon]\n\t\tUpdate your plan to keep using GitHub Actions\n\t\tIf you’d like to keep using GitHub Actions with this account after November 13, 2019, upgrade to a per-seat plan now.\n\t\thttps://github.us11.list-manage.com/track/click?u=9d7ced8c4bbd6c2f238673f0f&id=0c73192a86&e=00b9938bd5\n\t\tたぶん使わないと思いますが、いつか移行検討するかもしれない。というか当面は無視。\n\t\t新規のHeroku以外のプロジェクトが始まる時に、検討してもいいレベルだと思います。\n\tAWS S3 バケットURLのフォーマットは2種類あるが、2020/9/30以降、古い方（パス形式）はサポート終了になる[takeuchi.icon]\n\t\thttps://forums.aws.amazon.com/ann.jspa?annID=6776 \n\t\tどのアプリが該当するか棚卸しが必要。\n\t\t\t結構ある気がする:(；ﾞﾟ'ωﾟ'）:[hazimetyan.icon]\n\t\t少なくともiOS/AndroidのCUは、固定パスでS3を参照しているところがあり、改修が必要。\n\t\tSL1ですか?\n\t\t kingってアーティファクトでやってましたっけ? いやS3だな\n\tUpdate Your Amazon RDS SSL/TLS Certificates by October 31, 2019 [AWS Account: 931243214056]\n\t\tAWSのRDS, Auroraの証明書更新の催促メールがきてましたが、使われていますか？\n\t\tYou are receiving this message because you have an Amazon RDS database instance(s) in the US-EAST-1 or US-EAST-2 Region(s).　とのことで、使っていると言われています\n\t\t\tRDS使っているのはコーポレートと1号機なので使ってますね。[ymtk.icon]\n\t\t\t\t手順説明されていた。11-14秒ほど止まりそう。早朝深夜に手動で実行しておくと良さげ\n\t\t\t\t\thttps://www.t3a.jp/blog/infrastructure/rds-ssl-update-2019/\n\t\t\t\t\tSTGで試して、そんなに長く刺さらないようであれば、本番環境でも深夜にダマで更新する。わいがやる[hazimetyan.icon]\n\t\t\t\t\t\t10.31までなので、今週中に試す&やる[hazimetyan.icon]\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\ngithubとpubnubとawsとpingdomの三上アカウントを削除\n\n[** 健忘録]\n\tなし\n\n# 10/23 Sirius 組織機能\ncreated_at:Mon Jan 19 1970 13:36:38 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:36:39 GMT+0900 (日本標準時)\n10/23 Sirius 組織機能\n参加者\nhazimetyan, mayuto, topaz2, ymtk\n\n[* 方針]\n\t組織別ログインについては今のままでも可能\n\t複数の組織を親組織でまとめるような仕組みを検討する\n\t\tシーンとしては異動にどう対応するか。カギカン組織管理的な。\n\t\t今回はTKGだが、類似するのは居酒屋など、フランチャイズ系の店舗チェーンにカギカンを導入するパターン。\n\t\t組織でカギを管理するパターンの一般化\n\t必要なものはjingerの組織管理くらいでもよさそう。あとはこれを個別に月額とりたい気持ちがある[ymtk.icon]\n\t\t[https://gyazo.com/3706e6c16439e399fc1c60bb7f16401a]\n\tミニマムな画面設計を検討し、こうきちさんと相談し他にニーズある顧客とも話す\n\n[* 資料]\n\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\n\n# 10/18 カギカン事業定例\ncreated_at:Mon Jan 19 1970 13:29:36 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:29:47 GMT+0900 (日本標準時)\n10/18 カギカン事業定例\n参加者\nryo/kokichi/mayuto/ymtk/nakano\n\n欠席\n\n前回\n[10/4 カギカン事業定例]\n\n[*** 議題]\n数字\n\t10月現状\n\t\t直販\n\t\t\t11件\n\t\t代理店\n\t\t\t1件\n\t\t\tほか、1件変更依頼来てるけど対応してる？（カギカン1）\n\n[* 販促課題]\n\t注力顧客状況\n\t\tTKG\n\t\t\t親組織子組織系の状況確認\n\t\t\t\tid別ログインでOK\n\t\t\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.g6525d95bef_0_0\n\t移行状況、移行課題\n\t\t今155社\n\n[* 販促施策]\n\t年間契約の獲得\n\tカギカン1ユーザーの移行プラン\n\t\t今変えれば安いよ、放っておくと変わらないよの体\n\t\t\t最悪、裏から請求することはできる\n\t\t\t3末で停止は厳しい。5末までに返却で、このタイミングでサービスも止める。\n\t\t請求書→カード払い切り替えは必要\n\n[* 主要な開発案件、ユーザー要求整理]\n\tcsv経由でのゲスト登録\n\t\t主に移行ユーザー向け。10月下旬リリース予定。これからSQA\n\tオートロック有効期間の自動設定\n\t\tQBS確認終了、懸念なし。\n\t\tコンソールからの単体変更モックはdone。これを時間別に並列して動かす部分を設計中。\n\tqrio.me ロック製品ページからの「ビジネスの方はこちら」ランディング\n\t\t対応できていない。他施策優先。\n\t\tそもそものトップページをロックした前提で流入設計した方が効果大きそうだよね？[ymtk.icon]\n\tガイドが貧弱\n\t\t要対応。CSコスト↑\n\n[* その他]\n\tリファービッシュの立ち上げ\n\tymtk からの引き継ぎ先\n\t\t開発->西川さん、駒井さん、山川さん\n\t\t手触り・UX->マユトさん\n\n##カギカン #定例\n\n# IoT - dev 室長会 19/10/18\ncreated_at:Mon Jan 19 1970 13:19:24 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:29:38 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/10/18\n前回：[IoT - dev 室長会 19/9/27]\n\n[** 共有・相談ネタ]\n[* 全般]\n\t体制\n\tPL\n\tdevリソースについて\n\t\thttps://docs.google.com/spreadsheets/u/1/d/1poWK-oBdm3p4JhGp44QCX4psXqJJxH37AsK5p2EkP0w/edit##gid=676598306\n\tymtk引き継ぎ\n\t\thttps://docs.google.com/spreadsheets/d/1rJA77bQU-VE_ee_p7d9hsuZf7mzHqh4rqaYDSuUsSe4/edit?usp=drive_web&ouid=109170418868775192408\n\t振り返りの検討 -> 次回\n\n[* 製品開発]\n\tQ-SL1 app 開発止められるか問題\n\t\tDark Mode対応実質不可能\n\tMANOMA 開発状況\n\t\t今日から槙本さんチームjoin\n\tSirius csv経由のユーザー登録\n\t\tSQA待ち。実装終わった[ymtk.icon]\n\n[* デザインコミュニケーション]\n\t11月以降、サポートお願いしたい事項\n\t\t開発系案件の「テクニカルディレクション」\n\t\t実装サポート\n\tペパクラ\n\t\twelcart - crossmall ラインのシステム微修正\n\tBlog\n\t\t運用をインターン&ADに任せる 方針検討\n\n[* CS推進]\n　つつがなく\n\n[* 分析係]\n お試しアンケート解析中\n 経営ダッシュボードやる\n\n\n--前回そのまま\n[* その他課題など（更新なし）]\n チャンが開発本部の仕事をほぼできていない( 'ᾥ' )[hazimetyan.icon]\n \tやっているのは、セキュリティ部、情報システム部、管理部、あたりで8割占めている。\n\t米澤さんのマネジメントはCD室 or CS どちらメインでやる？？[m.suzuki.icon]\n\t\tCD室で[ymtk.icon]\n\tymtkの引き継ぎ資料を9月中に制作し、後半くらいから各所やります\n\t開発環境トラブルは1人で解決できるようにならねば[m.suzuki.icon]\n\n##室長会 #議事録\n\n# 日建様対応 for 関さん\ncreated_at:Mon Jan 19 1970 13:29:27 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:29:32 GMT+0900 (日本標準時)\n日建様対応 for 関さん\n[* 前提]\n\tBCUでセットアップしたロックを顧客に渡したいので、初期化する必要がある\n\n[* 手順]\n\tBCU（SOMC版）を渡す\n\t\t最低限のセットアップ機能だけ存在する。初期化もできる\n\t該当アカウントでログインし、初期化する\n\t\t初期化前に対象のロックリストを出しておくことは必要\n\t\tロックとBLE通信できる距離にスマホがないと初期化できないので注意\n\t初期化したら、サーバのビジネスフラグを殺す\n\t\tちゃんさん、駒井さんに依頼済み。やりかた調査中。\n\t初期化したら、オーナー登録カードを顧客に渡す\n\t\t顧客は再度このカードを使って登録すればOK\n\n顧客について、slackの該当部分\nhttps://qrioinc.slack.com/archives/CPFLQ24J2/p1571126126005200\n\napk置き場\nhttps://drive.google.com/drive/u/0/folders/1y9z-xlZhouWrKRYQA8T-gUf_s4g2p2eY\n\n# topaz2さんにお願いしたい10のこと\ncreated_at:Mon Jan 19 1970 13:28:17 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:28:23 GMT+0900 (日本標準時)\ntopaz2さんにお願いしたい10のこと\n文責：[ymtk.icon]\n\n[* sirius関連]\n\tオートロックを時間指定でオンオフする\n\t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.p\n\t親組織・子組織で管理できるようにする\n\t\tこうきちさんに求められる仕様確認\n\t\t\tTKGさんがそもそも今どういう風に人事管理しているかも確認したいため\n\t\t一度考えたもの\n\t\t\thttps://docs.google.com/presentation/d/1m02Bt1NCu3kg1cV_sZdJlH64T8GGEokeYg56VJsiNFs/edit##slide=id.p\n\tカード払いと請求書払いを切り替えられる様にする\n\tNP掛け払いapiと連携し、申し込み時のNPへの審査提出を自動化する\n\tNP掛け払いapiと連携し、NPへの毎月の請求データアップロードを自動化する\n\tその他、運用課題への対処\n\t\tプラン変更など、まだシステム化されていない部分\n\t\t省電力モードとオートロックオンオフは実装終わっていますがコメントアウトしています。利用自体は可能なので、利用ニーズあれば使ってください。\n\n[* castle関連]\n\tdockerのnodeを12に上げる\n\n[* kingスマスピ関連]\n\tkingのアカウントを消したら、king-dbにあるalexaのtokenも削除する\n\n[* その他]\n\tr-king-app 第2回施策のサポート\n\t\t詳しくはこの辺り\n\t\t\t[お試しキャンペーン引き継ぎメモ]\n\t友達招待\n\n##ymtk開発引き継ぎメモ\n\n# お試しキャンペーン引き継ぎメモ\ncreated_at:Mon Jan 19 1970 13:19:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:28:20 GMT+0900 (日本標準時)\nお試しキャンペーン引き継ぎメモ\n文責[ymtk.icon]\n10/11 更新\n\n[* システム構成]\n\tvue-cli + node.js\n\t\tフロントとバックエンド両立\n\t\tvue-cliから起動の際はexpressとserverの両方を起動させる\n\t\t\texpress:runは本番向け\n\t\t課金はpay.jp\n\t\t\tアカウントはyuriさんに共有済み\n\t\tHeroku\n\t\t\tアプリケーション\n\t\t\t\thttps://dashboard.heroku.com/pipelines/54a8210a-d5f0-4627-8a64-f5db38b0ef29\n\t\t\t管理ツール\n\t\t\t\thttps://dashboard.heroku.com/teams/qrio/apps\n\t\tgithub\n\t\t\tアプリケーション\n\t\t\t\thttps://github.com/qrioinc/r-king-app\n\t\t\t管理ツール\n\t\t\t\thttps://github.com/qrioinc/r-king-ope\n\n[* 環境変数で主に運用しているもの]\n\t管理ツールのbasic認証\n\t\tid/pwともにここで設定\n\t税率\n\t\t以降は10だと思うので、特に気にせずOK\n\tSlackへの通知ch\n\t価格\n\t\t割引額含め\n\t最大貸出数\n\t\tこれを超えると新規動線クローズ\n\n\n[* 次にキャンペーンをやるとき必要なこと]\n\tDBのリセット\n\t環境変数の再設定\n\n##ymtk開発引き継ぎメモ\n\n# c-team定例 19/10/16\ncreated_at:Mon Jan 19 1970 13:25:15 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:26:46 GMT+0900 (日本標準時)\nc-team定例 19/10/16\n[https://gyazo.com/b9a6ee25f63dbe6b00966f4b48810420]\n\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/ymtk/harada/ichikawa/nakano/takeuchi/knarita\n\n欠席\n\n前回\n[c-team定例 19/10/7]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** アジェンダ]\n\tご意見BOX\n\t\thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tカートとランキング確認\n\t \n\t販売確認\n\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t毎月+1000を作りつつ、１月以降からは+2000を狙う\n\tお試しキャンペーン\n\t　https://docs.google.com/presentation/d/1Dx55GcLKx2MYlswNkEvnbkhd6LO582KDkaa-HDOmpnY/edit?usp=sharing\n\t\t\t9/21 15:00購入促進メール送信→購入数49件up\n \t\t9/28 11:00期限終わるよ購入促進メール送信\n \t\t　購入107件、返品50件\n \t\t　アンケート88件\n \t\t10/4 購入or返却してねメール送信→累計購入数139件\n \t\t　returned→127件\n \t\t　購入+returned=266件\n \t\tNext\n  　 10/10 (木) →15日までに返してくれないと決済しますよメール\n  　 実際15日過ぎて決済して、1週間以内ならよしなに返金、クレームは都度判断\n  関係データフォルダ\n  \thttps://drive.google.com/drive/folders/1YGb59LqCZ4eJLJCKNELeBKjOlpju_XYO\n\n[* お試し今週の動きを確認]\n\t今日で終わりですよ買うなら今日までですよメール？\n\t被災地関連\n\t明日以降のタイミングで決済対応\n\nKeyセット速報\n\t在庫334->販売16\n\t非常に進捗はよろしくないのでテコ入れ必要\n\t\tなぜか仮説\n\n---\n\t施策進捗\n\t\t[https://gyazo.com/9a9d41e26b5b50530d21749aaf25ae70]\n\t\t社販xカギカン界隈：成田\n\t\t\tまずはカギカン移行から進めます\n  クロスセル,　アマゾン界隈：市川\n  \t10/11-10/31 link japan\n  \t\tメルマガ打つ予定\n  \t\tソフトバンク（ソフトバンクセレクション）の購入ページに誘導する\n  \t\t見立て\n  \t\t\t会員３万->着地70−100台くらい\n  \t\t\tメルマガは２回送付、Lock＋Hubのセット、¥27,500\n  \tamazon\n  \t\t先週末に確定、入稿誰がいつなのかはこれから\n  アップセル界隈：中野\n   Hubはダウントレンド→50%目指すとしたら、現時点で+1570台のHubが必要\n   [https://gyazo.com/43f738d4b8727bbddcd65a36e1027c04]\n　　　Fobはアップトレンド→50%目指すとしたら、現時点で+2229台のFobが必要\n　　　[https://gyazo.com/9e2fd477e15b0815dd68be3245f05f35]\n\n  ペパクラ界隈：鈴木\n  \t10/15 → 10/17\n  　　取付できる人限定、アンケート協力してくれたら20%OFF\n  　　配布 600部\n  　　目標\n  　\t　アンケート回収 300（50%）\n  　\t　購入台数：90台（15%）厳しい数字だが3次施策を見越し、設定\n  　残タスク\n  \t　クーポン利用上の注意\n  \t　crossmall商品情報登録\n  　\t本番環境購入テスト\n  　\t全体フロー最終テスト\n\n  友達招待界隈：原田、山口\n  \thttps://docs.google.com/presentation/d/1mf5SOJ1_vhJL9e9hboRjrB9Yrs7ZxFIMqb8rcJE6v6Y/edit##slide=id.g6207887cee_1_0\n  レンティオ\n  \tプレスリリース準備、今月スタートの予定\n\n-- 前回の内容\n[* アジェンダ]\n\tお試し\n\t\t9/21 15:00購入促進メール送信→購入数49件up\n\t\t9/28 11:00期限終わるよ購入促進メール送信\n\t\t　購入107件、返品50件\n\t\t　アンケート88件\n\t\t10/4 購入or返却してねメール送信→累計購入数139件\n\t\t　returned→127件\n\t\t　購入+returned=266件\n\t\tNext\n 　 10/9 (水)15日までに返してくれないと決済しますよメール\n 　 実際15日過ぎて決済して、1週間以内ならよしなに返金、クレームは都度判断\n\tamazon\n\t\tAPO(amazon page optimization)用の画像が出来上がってきた。\n\t\tサイバーさん提案で一旦やる。No1表記はアマゾンの規定でダメ(やってるところ多いけど、ダマでやってるのが現状)\n\t\t今月中に納品、来月から開始予定。\n\t買い換え\n\t\t630台、9/26 17:00まで\n\t\t700台着地想定？\n\tペパクラ\n\n\tNewsPicks\n\t\t田端さんでやる方向→zozoの影響で10月末〜\n\t\t西川さん、なりさん巻き込む必要ありそう\n\t\t\tお試しキャンペーンの座組検討中\n\t年末商戦\n\t\t買い換えキャンペーン\n\t\tタクシー広告（仮）x  ホリエモン動画\n\t\t\tQRコードでクーポン付与\n\t\t\t11/25-2週間くらい\n\tその他\n\t\tドア次第だが量販店売場検討。\n\t\tレンティオ界隈、プレスリリースとQrioからの動線検討\n\n##toC #定例 #議事録\n\n# Dev MTG 2019/10/15\ncreated_at:Mon Jan 19 1970 13:25:04 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:25:23 GMT+0900 (日本標準時)\nDev MTG 2019/10/15\n[https://gyazo.com/55213ed37794ae8845669f7488d8aae9]\n\n全体開発定例のアジェンダ／議事録です。\n[** 連絡事項]\n\t各OSのリリース日\n\t\thttps://www.gizmodo.jp/2019/09/198609.html\n\t\tcode:os\n\t\t iOS 13：9月19日\n   watchOS 6：9月19日\n   iOS 13.1：9月30日\n   iPadOS 13：9月30日\n   macOS Catalina：10月\n\tザワさんにandroid相談開始\n\t\tSL2の対応は10.8にリリース済み\n\t\t\t追加で、SL1とST1の見積もりもらっていて、対応作業もお願いしてます。の対応を依頼済み → ZAWA SYS\n\t省電力モード対応\n\t\t10/15 SQA着手\n\t\t10/18 GM判定予定\n\t\t10/23 OTAリリース予定\n\t\t\t翌日休みの日にはリリースしない。火曜はお休み\n\tLock1号機、Tag1号機 AppのGoogleAnalyticsSDK\n\t\t10/31でサポート終了（データが取れなくなる）するため、入れ替えが必要\n\t\t\tアプリが死ななければ、入れ替えなくてもいいかも？　少なくとも情報はもういらない？？[takeuchi.icon]\n\t\t\t急ぎではない\n\t\tSiriusやCastleは入れ替え済み\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tNastaボールで進捗なし\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\t仕様が決まった[takeuchi.icon]\n \t\t\tAIHGW: 若干遅れ気味 (スプリント1週間分くらい)\n \t\t\tサーバー: 遅れている\n \t\t\t\treachサーバーを駒井さんが実装するにあたり、情報が足りていない？　誰が何をどこまでやるかハッキリしてなさそう\n \t\t\t\t今週からサーバーエンジニアがjoinするらしい\n \t\tたかひろとQBSで、Heltzさんの対応をスライドできないかと話をしてもらう。\n \t\t\tGuardianの対応を優先度下げでやるようにお願いしました。\n \t\tGuardianのRC/GMのスケジュールを、このあと楢原さんたちと相談して調整します[takeuchi.icon]\n \t\t\t遅らせられなかった -> ですが、作業的には問題ないです。[takeuchi.icon]\n \t\t[MANOMAまとめ(随時更新)]\n \t\tDevice Typeどうするか？\n \t\t\thttps://docs.google.com/presentation/d/1ROuSZl-3UWx6XEDzotLCUOI5AhI50Hf-3CCwHzIl14U/edit##slide=id.g2ab8f9c87e_0_0\n \t\t\tMANOMAというデバイスを追加するのがいいと思う[komai.icon]\n \t\t\t\t一旦MANOMAというデバイスを追加\n\n[** Castle (yamakawa)]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\t完了 SQA待ち\n \t\tguardian対応も完了\n \tbcu-Android 新OS対応\n \t\t未定\n\n[** Sirius (kmi、hiro)]\n\t全体スケジュール\n\t\t10/1 カード決済リリース（その他細々）\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n オートロック設定の有効時間帯を指定できるようにする[ymtk.icon]\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t駒井さん、西川さんに一次説明。次にハード側懸念確認\n \t\t設定変更後にking to sirius webhookの案など\n \tその上で実現行けそうであればソフト側の設計方針決め\n \tcronはheroku schedulerが楽\n `v1/m/change_settings` にオートロック変更を投げるだけじゃダメなので注意[ymtk.icon]\n \tこれはあくまでHubの`beacon_interval`だけ\n \tもしかしたら、change_settings を1回叩くだけで変更できるかもしれない ← New!!\n \t\tZAWA SYSTEMに確認する\n \t\tオートロック解錠後開扉待ちというパラメータを変更してon,off切り替える\n \t\t　CUでやるキャリブレーション設定をやらずにパラメータを変更してもオートロックされなかった\n \t\t　CUで一回オートロック設定をしてからハブでon,offを切り替えると機能した\n \t\t　もともとその想定でした（すでにオートロックのキャリブレーションはされている前提）が、サーバーでは値の設定変更自体の成功/失敗しかわからないので、リモートでの設定に成功しても、それで実際にオートロックされるかどうかは、サーバーではわからない。\n \t\t　\tこのへんのUIの見せ方などはymtkさんに相談して決める。\n \t\t　\tオートロック設定があらかじめされている必要があるか？　大西さんに確認します[takeuchi.icon]\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon]\n\tbcu-iOS 新OS対応\n\t\t対応中\n\tbcu-Android 新OS対応\n \t未定\n\n[** King]\n[* スマートスピーカー (kmi)] \n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n　POST v1/m/commands/change_settings に enable_autolock のparam追加\n　 今review_app\n　 懸念点は上記siriusに記載\n master_key削除できる管理ツール作成頼まれた\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n\n[* CU (竹内、hiro)]\n\t新OS対応\n\t\tAndroid\n\t\t\t\tリリースしました！ 10/8\n\t\t\t\t\tありがとうございます[takeuchi.icon]\n\t\tiOS\n\t\t\t\tリリースしました！9/30\n\tiOS (Xcode11対応)\n\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t11月はwenaの対応があるのでそのあとになりそう\n\tCU改善ネタ (by c-team)\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t優先順位は決めましたが、対応は後回し。。\n\n[* Qrio Key x Wena(チャン, hiro)]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\nスケジュール\n\t10/17 (木) RC\n\t\t明後日 ( ´_ゝ`)\n\t\t重い不具合は残っていないです。\n\t10/31 (木) GMC\n\t11/14 (木) GM\n進捗\n\tヘルツさん作業に影響するFW不具合の修正\n\t\tたまにハングしてコマンドの類を受け付けなくなる\n\t\t\t調査中。ちょっと重めなので、このあとヘルツさんに対応相談する。\n\t\t\t\t原因判明。バグでした。直してヘルツさんにFWを渡しました。\n残作業\n\tCoverity対応\n\t FW部分は5~6件、SDK部分は300件\n\tCI環境構築\n\tCUでのUI表示関連のバグが数件 -> いずれも、やったら治せる系のもの。\n\tハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\t\t現状、Guardian FWに、httpsがきても全部http通信するコードを入れているので、動作確認はできます。\n\t\tGM前に元に戻すのを忘れないようにします（最悪、忘れても大きな問題にはならないですが）\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない。\n\t\t今、King CU iOSやってます (qb_setup_iosの扱いについて、hiroさんに相談したいことがある) 。\n\t\t\tマージ済み？？[takeuchi.icon]\n\t「Bootloaderを2回以上書き換えられたら起動しなくする」オプションをONにするかどうか？\n\t\t工場側でいくつか懸念事項があり、後回しになってます。これはGM後に考えて決めればOK。\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n\t\t作成した。1点だけ、DDoS攻撃などで、サーバーが応答しなくなったときに使えなくなる → 危機大\n\t\t\tAWSかHerokuで、どうにか勝手に防いだりしてくれるんじゃないのかな?\n\t\t\t\t調べます[hazimetyan.icon]\n\t\t\t\tCDN入れたらできる。\n\t\t\t\tTicketでHerokuに聞いたらどうだい\n\t\t\tもしくはGM判定会議で、容認してもらう方法もあり。\n\n[** Q-SL1/Q-ST1/ただいまキット/カギカン1 (竹内、hiro)]\n\tQ-SL1 (新OS対応)\n\t\tiOS\n\t\t\t完了。\n\t\t\tリリースしました(10/10)\n\t\tAndroid\n\t\t\tZAWA SYSTEM様が対応中でございます[h.yamaguchi.icon]\n\t\t\t対応完了。QA待ち\n\n\tQ-SL1 iOS (Xcode11対応)\n \t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n \t\tかなり既存コードに手を入れる必要がありそう。。キツイ\n\n\tQ-ST1 (新OS対応)\n\t\tiOS\n\t\t\t全て完了。QA待ち (10月2週目予定)\n\t\t\tswift5, xcode11対応もついでに行いました\n\t\t\tスクショ作らないと申請できない\n   \t素材を準備してマユトさんに依頼\n\t\tAndroid\n\t\t\tZAWA SYSTEM様が対応中でございます[h.yamaguchi.icon]\n\t\t\t別途見つかったバグについても、ZAWA SYS様に対応してもらいます。(issue##418)  [hazimetyan.icon]\n\n\tただいまキット (新OS対応)\n\t\tiOS\n\t\t\t完了 QA待ち \n\t\t\tswift5, xcode11対応もついでに行いました\n\t\t\tスクショ作らないと申請できない\n\t\t\t\t素材を準備してマユトさんに依頼\n\t\tAndroid\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** 情報システム (チャン)]\n Twilioの会社情報の更新\n\t\t作業担当者の運転免許証でおkと、Twilioの日本法人から回答。でも、通らなかったら、また連絡して。って言われた。\n\n[** SQA]\n ただいまキットの優先度を下げる[hazimetyan.icon]\n フオンさんの見込み済みの工数0.5人月は、10月に入れる。\n\n*** ↓ リストが古いので更新する ***\n1.カギカン　9月中に終わる　10月1日リリース　→完了\n2. KingCU iOS13対応 1.3.1(69)　→9/26-27実施中　→完了\n3. KingCU Android版 OS9とOS10 他OS8～6で解施錠確認 →9/30-10/4実施中（★TestFlightある1.3.1(69)）\n4. ただいまキット Android10 / iOS13　→10月3週目　→残件あり\n5. SmartTagのiOS13修正版　フル検証 iOS13,12,11　→10月2週目3機種で6人日（★TestFlightある1.2.1(135)）\n6. SL1のiOS13修正版　→10月3週目（★TestFlightある1.8.4(205)）\n7. Sirius CSV登録、オートロック設定　→10/9～テスト実施？\n8. カギカンBCU Android10 / iOS13　→10月4週目　2機種で2人日\n9.  RoomonBCU  Android10 / iOS13　→10月4週目　2機種で2人日\n10. ただいまキット iOS版の修正　→10月4週目？　→開発中\n11. SL1 Android版の修正　→10月5週目？　\n12. SmartTag Android版の修正　→10月5週目？\n13. KingCU iOS Xcode11対応　フル検証　→10月5週目？\n14. Guardian の修正が出るかも？\n\t→竹内さんが実施するかも。 →山田さんにやってもらうことになりました。RCリリース前チェックです。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** その他相談ほか]\n\tUpdate Your Amazon RDS SSL/TLS Certificates by October 31, 2019 [AWS Account: 931243214056]\n\t\tAWSのRDS, Auroraの証明書更新の催促メールがきてましたが、使われていますか？\n\t\tYou are receiving this message because you have an Amazon RDS database instance(s) in the US-EAST-1 or US-EAST-2 Region(s).　とのことで、使っていると言われています\n\t\t\tRDS使っているのはコーポレートと1号機なので使ってますね。[ymtk.icon]\n\t\t\t\t手順説明されていた。11-14秒ほど止まりそう。早朝深夜に手動で実行しておくと良さげ\n\t\t\t\t\thttps://www.t3a.jp/blog/infrastructure/rds-ssl-update-2019/\n\t\t\t\t\tSTGで試して、そんなに長く刺さらないようであれば、本番環境でも深夜にダマで更新する。わいがやる[hazimetyan.icon]\n\t\t\t\t\t\t10.31までなので、今週中に試す&やる[hazimetyan.icon]\n\tQ-SL1アプリ更新凍結（サポート終了）に向けて[ymtk.icon]\n\t\t毎年何かしらappleさんが大幅変更をかけるが、これについての改修負荷が非常に高い。今のものは来年4月以降更新できなくなる予定。\n\t\t\t今年はヒロさんが丸2ヶ月取られるくらいの規模。ちょっとしたサービスが作れるレベル。\n\t\t「これだからIoTなんて信用ならない」「QrioはどうせいまのLockも止めるんだろ」「(競合が)うちはそんなことありませんので安心して買ってください」などは想定済みだが、どうコミュニケーションしていくのかは要検討\n\t\t\tビジネス面でも、サポート終了したものを売るわけにはいかないよね界隈の解決\n\t\t\tとはいえ、すぐに全てが使えなくなるわけではない。サーバもまだ止めない\n\t\t\t今後のためにも誠実にやっておこう\n\t\t凍結すると起こることとしては、何かしらの不具合やOS対応が必要になってもすぐ動けない\n\t\t\t3月までに何かするならやっておく必要がある(先のGAとか。どのくらい動いてるのアプリ？を知る上で）\n\t\t技術的観点でのもっともらしい説明もできればほしい\n\t\t\tダークモード必須になったらそもそも…\n\n[** 健忘録]\n\tなし\n\n# c-team定例 19/10/7\ncreated_at:Mon Jan 19 1970 13:13:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:25:17 GMT+0900 (日本標準時)\nc-team定例 19/10/7\n[https://gyazo.com/b9a6ee25f63dbe6b00966f4b48810420]\n\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/ymtk/harada/ichikawa/nakano/takeuchi/knarita\n\n欠席\n\n前回\n[c-team定例 19/9/30]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** アジェンダ]\n\t役員会報告\n\tご意見BOX\n\t\thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tカートとランキング確認\n\t販売確認\n\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t毎月+1000を作りつつ、１月以降からは+2000を狙う\n\tお試しキャンペーン\n\t\t\t9/21 15:00購入促進メール送信→購入数49件up\n \t\t9/28 11:00期限終わるよ購入促進メール送信\n \t\t　購入107件、返品50件\n \t\t　アンケート88件\n \t\t10/4 購入or返却してねメール送信→累計購入数139件\n \t\t　returned→127件\n \t\t　購入+returned=266件\n \t\tNext\n  　 10/9 (水) →15日までに返してくれないと決済しますよメール\n  　 実際15日過ぎて決済して、1週間以内ならよしなに返金、クレームは都度判断\n\t施策進捗\n\t\t[https://gyazo.com/9a9d41e26b5b50530d21749aaf25ae70]\n\t\t社販xカギカン界隈：成田\n\t\t\tまずはカギカン移行から進めます\n  クロスセル,　アマゾン界隈：市川\n  \t10/11-10/31 link japan\n  \t\tメルマガ打つ予定\n  \t\tソフトバンク（ソフトバンクセレクション）の購入ページに誘導する\n  \t\t見立て\n  \t\t\t会員３万->着地70−100台くらい\n  \t\t\tメルマガは２回送付、Lock＋Hubのセット、¥27,500\n  \tamazon\n  \t\t先週末に確定、入稿誰がいつなのかはこれから\n  アップセル界隈：中野\n   Hubはダウントレンド→50%目指すとしたら、現時点で+1570台のHubが必要\n   [https://gyazo.com/43f738d4b8727bbddcd65a36e1027c04]\n　　　Fobはアップトレンド→50%目指すとしたら、現時点で+2229台のFobが必要\n　　　[https://gyazo.com/9e2fd477e15b0815dd68be3245f05f35]\n\n  ペパクラ界隈：鈴木\n  \t10/17 開始 で進行中\n  　　取付できる人限定、アンケート協力してくれたら20%OFF\n  \t　【残タスク】https://docs.google.com/spreadsheets/d/1LHjHR5FS0789_KNoL-histqOtZVCSIBgLAgGPIwhJRo/edit?usp=sharing\n 　　300人取付可能として、目標台数：100台程度（約30%）\n  友達招待界隈：原田、山口\n  \thttps://docs.google.com/presentation/d/1mf5SOJ1_vhJL9e9hboRjrB9Yrs7ZxFIMqb8rcJE6v6Y/edit##slide=id.g6207887cee_1_0\n  レンティオ\n  \tプレスリリース準備、今月スタートの予定\n\n-- 前回の内容\n[* アジェンダ]\n\tお試し\n\t\t9/21 15:00購入促進メール送信→購入数49件up\n\t\t9/28 11:00期限終わるよ購入促進メール送信\n\t\t　購入107件、返品50件\n\t\t　アンケート88件\n\t\t10/4 購入or返却してねメール送信→累計購入数139件\n\t\t　returned→127件\n\t\t　購入+returned=266件\n\t\tNext\n 　 10/9 (水)15日までに返してくれないと決済しますよメール\n 　 実際15日過ぎて決済して、1週間以内ならよしなに返金、クレームは都度判断\n\tamazon\n\t\tAPO(amazon page optimization)用の画像が出来上がってきた。\n\t\tサイバーさん提案で一旦やる。No1表記はアマゾンの規定でダメ(やってるところ多いけど、ダマでやってるのが現状)\n\t\t今月中に納品、来月から開始予定。\n\t買い換え\n\t\t630台、9/26 17:00まで\n\t\t700台着地想定？\n\tペパクラ\n\n\tNewsPicks\n\t\t田端さんでやる方向→zozoの影響で10月末〜\n\t\t西川さん、なりさん巻き込む必要ありそう\n\t\t\tお試しキャンペーンの座組検討中\n\t年末商戦\n\t\t買い換えキャンペーン\n\t\tタクシー広告（仮）x  ホリエモン動画\n\t\t\tQRコードでクーポン付与\n\t\t\t11/25-2週間くらい\n\tその他\n\t\tドア次第だが量販店売場検討。\n\t\tレンティオ界隈、プレスリリースとQrioからの動線検討\n\n##toC #定例 #議事録\n\n# 1011 c-team CPN(Qrio Lock + Hub)\ncreated_at:Mon Jan 19 1970 13:19:19 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:19:38 GMT+0900 (日本標準時)\n1011 c-team CPN(Qrio Lock + Hub)\n対応概要\n[https://gyazo.com/1d4512e7a394b11e9d2247a0d6e0e9af]\n\n期間\n10/11 1700-1031 2359\n\nタスク状況\n\tWebサイト動線done\n\t\t購入動線amazon -> Qrio Store 特設ページ\n\t\thttps://qrio.me/store/smartlock/campaign-keypresent/\n\tWebサイトバナーdone\n\t\t修正版周りコンフリクト修正中\n\tストア\n\t\t上下文言揺れなおす\n\t\tもう公開されているのでURL扱い注意\n\tCrossmall\n\t\tPCテスト、SPテストどちらも確認done\n\tメール発信\n\t\t送信先 done\n\t\t送信内容done\n\t\t\tABテストは母数の大きいQ-ST1のみで実施\n\t\t\t常勝の「キャンペーン」訴求と、「20万人」訴求でいく\n\tSNS\n\t\t原田さん担当でよろしくです\n\t\t画像\n\t\t\t1200px × 630px\n\n\n# King RUFW GM8 SQAについて\ncreated_at:Mon Jan 19 1970 13:19:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:19:28 GMT+0900 (日本標準時)\nKing RUFW GM8 SQAについて\n文責[ymtk.icon]\n\n機能観点\n\t省電力モードのON/OFFが作動するか\n\t省電力モードの副作用が発動しないか\n\t\tオートロックのタイマーが狂い正しく閉まらない（ドアが閉まる前に閉まる）\n\t\tQrio Keyなどで解錠できない\n\t\t履歴が上がらない\n\ncode: slack\n okamo\n 省電力モード解析の現状です。\n @Kawakami\n Kingの処理でBLE通信、タイマー割り込みがない場合にイベント待ちの状態に入ります。\n このイベント待ちが通常１５分程度続くとNordicチップのスリープモード(？)に入り\n アプリで使用するapp_timerがのプリスケーラーが初期化されます。\n app_timerが初期化されると次の起動時にスケーラーがセットされるまで時間がかかり（数秒）その間タイマーが高速で動作します。\n 現状、常時動作しているapp_timerは1000秒（16分40秒）とビーコンタイミング設定（100msec）でビーコンONしている場合はapp_timerが初期化されることはありません。\n 今回省エネ設定でビーコンOFFした場合、1000秒タイマー発火15分後から1000秒タイマー次回発火までの間app_timerを起動すると高速動作が発症します。同時にこの期間keyfobからの解錠ができなくなる症状を確認しています。\n app_timerが高速で動作する場合の症状としては\n １）ManualThumbturnTimeout（解錠記録がのこらない）\n ２）ManualThumbturnTimeout x n回→AL fale safe time out →施錠\n ３）ManualThumbturnTimeout x n回 → AL fale safe time out → unlock time out → unlock retry timeout → 停止\n CUからの解錠ではBLE通信処理中にapp_timerが本来の動作に復帰して目に見える異常は無いと思われます。\n 【再現方法】\n Kingを再起動して、15分放置（BLE接続もしない）マニュアルで解錠する。\n 上記１）～３）の症状を確認\n 「省電力モードに関するといあわせまとめ.xlsx」のオートロック♯３以外の事象はNordic問題の発生はタイミングに依存しますので、チップのスリープモードに入ることにより引き起こされているということで説明がつくと思います。\n 上記♯３の省エネモードOFFでも症状がでるというのがお客さんの勘違いだと良いのですが。ちなみにログ上 LogType=34（ビーコンのインターバルの設定）が残っていれば確認できます。\n Show less\n\n上記に加えて受入検査がクリアできていればOK .\n\n[* GM8]\nhttps://github.com/qrioinc/smartlock-king-ru/releases/tag/GM8\n\n\n# ペパクラ リスク管理\ncreated_at:Mon Jan 19 1970 13:15:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:16:28 GMT+0900 (日本標準時)\nペパクラ リスク管理\n[** ペパクラエラー系]\n\t組み立てに失敗したから再送して\n\t\t写真をもらい、1回目は無料配布で、2回目以降は有料の案内（費用が決まってない）\n\t雨に濡れちゃって組み立てられません\n\t\t写真をもらい、無料配布\n\tどうやったら組み立てられますか？\n\t\t組み立て案内をみてください\n\t同梱の紙を無くした\n\t\tメールに添付\n\n[** 自動返信系]\n　自動返信が届かない\n\t\tメアドを聞き、入力内容と照合\n\t自動返信を消しちゃった\n\t\t再入力の案内\n\n[** 購入系]\n\t何個まで買えますか？\n\t\t1人2個までの注意事項\n\t間違ってカートに何回も入れてしまった場合\n\t\t市川 → 鈴木へ引き継ぎ\n\t\t\t前回のメールテンプレはある\n\tキャンセルの場合\n\t\t着荷前まで受付可能とする\n\t\t\tヤマトの追跡番号をおう\n\tペパクラ請求時のメアド入力ミス\n\t\t@前の内容が合っていれば、ドメイン手動で直す\n\t製品が取り付けられなかった\n\t　返品オペでCSに任せます\n\t20%OFFの範疇\n\t\tQrio Storeで販売しているQ-SL2のみ とする\n\n[** システムバグ系]\n\twordpressのCSVエクスポート時に、特殊記号系がバグるケースあり\n\t\t「+」が半角スペース\n\t\t照合し、合わなかった人は購入メールなどで再確認する\n\n# Dev MTG 2019/10/8\ncreated_at:Mon Jan 19 1970 13:14:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:15:18 GMT+0900 (日本標準時)\nDev MTG 2019/10/8\n[https://gyazo.com/55213ed37794ae8845669f7488d8aae9]\n\n全体開発定例のアジェンダ／議事録です。\n[** 連絡事項]\n\t各OSのリリース日\n\t\thttps://www.gizmodo.jp/2019/09/198609.html\n\t\tcode:os\n\t\t iOS 13：9月19日\n   watchOS 6：9月19日\n   iOS 13.1：9月30日\n   iPadOS 13：9月30日\n   macOS Catalina：10月\n\tザワさんにandroid相談開始\n\t\tSL2の対応は10.8にリリース済み\n\t\t\t追加で、SL1の対応を依頼済み → ZAWA SYS\n\t省電力モード原因わかりました[ymtk.icon]\n\t\t詳しくはここ\n\t\t\thttps://qrioinc.slack.com/archives/CBS8NBFFV/p1570008806053200\n\t\tissue\n\t\t\thttps://github.com/qrioinc/smartlock-king-ru/issues/797\n\t\t今週金曜に上記対応版FWができるので、その後SQA必要\n\t\tSQA行なった上でGM判定、リリース\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tNastaボールで進捗なし\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\t仕様が決まった[takeuchi.icon]\n \t\t\tAIHGW: ギリギリですがオンスケで進んでます\n \t\t\tサーバー: 遅れている\n \t\t\t\treachサーバーを駒井さんが実装するにあたり、情報が足りていない？　誰が何をどこまでやるかハッキリしてなさそう\n \t\tたかひろとQBSで、Heltzさんの対応をスライドできないかと話をしてもらう。\n \t\t\tGuardianの対応を優先度下げでやるようにお願いしました。\n \t\tGuardianのRC/GMのスケジュールを、このあと楢原さんたちと相談して調整します[takeuchi.icon]\n \t\t[MANOMAまとめ(随時更新)]\n \t\tDevice Typeどうするか？\n \t\t\thttps://docs.google.com/presentation/d/1ROuSZl-3UWx6XEDzotLCUOI5AhI50Hf-3CCwHzIl14U/edit##slide=id.g2ab8f9c87e_0_0\n \t\t\tMANOMAというデバイスを追加するのがいいと思う[komai.icon]\n \t\t\t\t一旦MANOMAというデバイスを追加\n\n[** Castle (yamakawa)]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n \tbcu-iOS 新OS対応\n \t\t完了 SQA待ち\n \t\tguardian対応も完了\n \tbcu-Android 新OS対応\n \t\t未定\n\n[** Sirius (kmi、hiro)]\n\t全体スケジュール\n\t\t10/1 カード決済リリース（その他細々）\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n オートロック設定の有効時間帯を指定できるようにする[ymtk.icon]\n \t企画\n \t\thttps://docs.google.com/presentation/d/1DnsCRwyvj-VdtoTPW3EYMOD0g8NIHaljKMupflFZ20k/edit##slide=id.g5de5227461_0_0\n \t駒井さん、西川さんに一次説明。次にハード側懸念確認\n \t\t設定変更後にking to sirius webhookの案など\n \tその上で実現行けそうであればソフト側の設計方針決め\n `v1/m/change_settings` にオートロック変更を投げるだけじゃダメなので注意[ymtk.icon]\n \tこれはあくまでHubの`beacon_interval`だけ\n \tもしかしたら、change_settings を1回叩くだけで変更できるかもしれない ← New!!\n \t\tZAWA SYSTEMに確認する\n Googleカレンダーから入力されたら、その鍵を作成して招待する、みたいなサンプルを作る[hazimetyan.icon]\n\tbcu-iOS 新OS対応\n\t\t対応中\n\tbcu-Android 新OS対応\n \t未定\n\n[** King]\n[* スマートスピーカー (kmi)] \n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n master_key削除できる管理ツール作成頼まれた\n \t９月中には実証テストしたい\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n and hostle さんとのコミュニケーションに、まりおくんと一緒に駒井くんがまざって入ることにする。\n MANOMAにコマンドを送るために、コマンドを作るapiを用意した\n \thttps://github.com/qrioinc/king-api/issues/600\n MANOMAにコマンド結果取得用のapiを用意した\n \thttps://github.com/qrioinc/king-api/pull/601\n MANOMAが拾ったパケットを使用してロック情報更新、サーバー内のlast_log_idを返すapiを用意した\n \thttps://github.com/qrioinc/king-api/pull/602\n\n[* CU (竹内、hiro)]\n\t新OS対応\n\t\tAndroid\n\t\t\t\tリリースしました！ 10/8\n\t\t\t\t\tありがとうございます[takeuchi.icon]\n\t\tiOS\n\t\t\t\tリリースしました！9/30\n\tiOS (Xcode11対応)\n\t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n\t\t11月はwenaの対応があるのでそのあとになりそう\n\tCU改善ネタ (by c-team)\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t優先順位は決めましたが、対応は後回し。。\n\n[* Qrio Key x Wena(チャン, hiro)]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t必要なもの\n\t ED25519の署名(機能)\n\t \tED25519はC言語でのライブラリがあるから、普通あると思うよ。\n\t \tQ-H1のコード見れば参考になるよ。\n\t \t\t長谷川さん(Sony)に教えてあげる[hazimetyan.icon]\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n\tヘルツさん作業に影響するFW不具合の修正\n\t\tボタンのイベントが重複したり、反応しなかったりする\n\t\t\t昨日修正した\n\t\tたまにハングしてコマンドの類を受け付けなくなる\n\t\t\t調査中。ちょっと重めなので、このあとヘルツさんに対応相談する。\n\tCoverity対応中\n\t FW部分は5~6件、SDK部分は300件\n残作業\n\tCI環境構築\n\tハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない。\n\t\t今、King CU iOSやってます (qb_setup_iosの扱いについて、hiroさんに相談したいことがある) 。\n\t\t\tマージ済み？？[takeuchi.icon]\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n\t\t作成した。1点だけ、DDoS攻撃などで、サーバーが応答しなくなったときに使えなくなる → 危機大\n\t\t\tAWSかHerokuで、どうにか勝手に防いだりしてくれるんじゃないのかな?\n\t\t\t\t調べます[hazimetyan.icon]\n\t\t\t\tCDN入れたらできる。\n\t\t\t\tTicketでHerokuに聞いたらどうだい\n\t\t\tもしくはGM判定会議で、容認してもらう方法もあり。\n\n[** Q-SL1/Q-ST1/ただいまキット/カギカン1 (竹内、hiro)]\n\tQ-SL1 (新OS対応)\n\t\tiOS\n\t\t\t完了。QA待ち (10月3週目予定)\n\t\tAndroid不具合\n\t\t\t端末の位置情報の「許可しない」選択で時手ぶらで解錠設定を行うとアプリが落ちてしまう\n\t\t\t\tZAWA SYSTEM様が対応中でございます[h.yamaguchi.icon]\n\t\t\tゲストキーで２つのロックを同時に操作をONにしている状態でオーナーキーから１つのロックを削除するとONが表示されたままになっている\n\t\t\t\t→既存バグでした\n\n\tQ-SL1 iOS (Xcode11対応)\n \t\t来年4月頃にxcode11以上じゃないと申請できなくなる\n \t\tかなり既存コードに手を入れる必要がありそう。。キツイ\n\n\tQ-ST1 (新OS対応)\n\t\tiOS不具合\n\t\t\t\t全て完了。QA待ち (10月2週目予定)\n\t\t\t\tswift5, xcode11対応もついでに行いました\n\t\tAndroid不具合\n\t\t\t位置情報で「許可しない」選択後、アプリを起動しても位置情報要求ダイアログが表示されていない\n\t\t\tバックグラウンドからのリモコンでカメラが起動してこない\n\t\t\tゲストタグの通知設定が対象外でマスタータグから解除して、再度共有してゲストタグの通知設定ボタンを押下するとアプリが落ちてしまう\n\t\t\tアプリをインストールした時アプリのアイコンが表示されていない\n\n\tただいまキット (新OS対応)\n\t\tiOS\n\t\t\t完了 QA待ち \n\t\t\tswift5, xcode11対応もついでに行いました\n\t\tAndroid\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** 情報システム (チャン)]\n Twilioの会社情報の更新\n\t\t作業担当者の運転免許証でおkと、Twilioの日本法人から回答。でも、通らなかったら、また連絡して。って言われた。\n\n[** SQA]\n ただいまキットの優先度を下げる\n フオンさんの見込み済みの工数0.5人月は、10月に入れる。\n\n1.カギカン　9月中に終わる　10月1日リリース　→完了\n2. KingCU iOS13対応 1.3.1(69)　→9/26-27実施中　→完了\n3. KingCU Android版 OS9とOS10 他OS8～6で解施錠確認 →9/30-10/4実施中（★TestFlightある1.3.1(69)）\n4. ただいまキット Android10 / iOS13　→10月3週目　→残件あり\n5. SmartTagのiOS13修正版　フル検証 iOS13,12,11　→10月2週目3機種で6人日（★TestFlightある1.2.1(135)）\n6. SL1のiOS13修正版　→10月3週目（★TestFlightある1.8.4(205)）\n7. Sirius CSV登録、オートロック設定　→10/9～テスト実施？\n8. カギカンBCU Android10 / iOS13　→10月4週目　2機種で2人日\n9.  RoomonBCU  Android10 / iOS13　→10月4週目　2機種で2人日\n10. ただいまキット iOS版の修正　→10月4週目？　→開発中\n11. SL1 Android版の修正　→10月5週目？　\n12. SmartTag Android版の修正　→10月5週目？\n13. KingCU iOS Xcode11対応　フル検証　→10月5週目？\n14. Guardian の修正が出るかも？　→竹内さんが実施するかも。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** その他相談ほか]\n\n\n[** 健忘録]\n\tなし\n\n# 10/8 インサイト定例\ncreated_at:Mon Jan 19 1970 13:15:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:15:16 GMT+0900 (日本標準時)\n10/8 インサイト定例\n参加\nharada/mayuto/ymtk\n\n[** 今週のタスク]\n- インタビュー設計\n- ヒアリング内容の明示化\n\n\n--- 前回のあらすじ\n\t検討準備\n\t\tプロジェクト設計\n\t\t\t仮説\n\t\t\t調査してからの想定アクション\n\t\t調査設計\n\t\t\tユーザーインタビューの教科書\n   \thttps://drive.google.com/file/d/1ACFIYvjQkrawOm3xUvo9IPBI4GgAlAY8/view?usp=sharing\n\t\t調査実施\n\t\t\tリクルーティング\n\t\t\t会場・設備確保\n\t\t\tインタビュースクリプト\n\t\t調査分析前のローデータ\n\t\tモデル化ファシリテーション\n\t関係相談\n\t\tSGMOユーザビリティ品質技術部　小島さん\n\t運営や体制\n\t\tインサイト系のメーリスを作って一通りそこに入れたい\n\n[* NEXT]\n\t教科書見る\n\t調査見て、仮説文書化\n\n##CD室 #インサイト #定例\n\n# Sirius 審査・決済オペレーション\ncreated_at:Mon Jan 19 1970 13:13:43 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:13:55 GMT+0900 (日本標準時)\nSirius 審査・決済オペレーション\n文責[ymtk.icon]\n10/7 updated\n\n[** 課題周り]\n\tアカウント発行漏れ\n\tアカウント紐付けミス\n\t\tNPとNP以外の請求書など\n\t請求漏れ\n\n[** アカウントの種類]\n\tカード決済(pay.jp)\n\t\t毎月1日AM1時自動決済\n\t請求書決済(NP後払い)\n\t\t毎月1日AM1時自動締め\n\t\t月初3営業日以内のCSVアップロードが必要\n\t\t\t上記完了後、郵送で請求書発行される。\n\t[* NEW!] 請求書決済(Qrioその他)\n\t\t任意営業対応。年間支払い、最初３ヶ月無料など定常運用に乗っていないものはこれ\n\t\t請求したかどうかは、他と統一して管理する必要がある\n\t\tアルコンさんなどがこれ\n\t無料トライアル\n\t\t受注前の試用などはこれ\n\tCSサポート\n\t\t営業用、サポート用のアカウントはこれ\n\t代理店\n\t\t毎月各代理店への請求が必要\n\n[** 現在のアカウント別対応]\n\t審査・アカウントの払い出し\n\t\tカード\n\t\t\tQrio側で会社情報など確認審査。審査OKの場合、管理ツールから審査承認\n\t\t請求書\n\t\t\tNPに会社情報をアップロードし審査依頼(おおよそ当日中に結果が来る)。審査OKの場合、管理ツールから審査承認\n\t\t代理店\n\t\t\t代理店判断で審査。Qrioは関与しない\n\t\t\tアカウント発行は管理ツールから。対応した、していないの管理が必要\n\t\tその他\n\t\t\tQrio独自で判断\n\t機器の発送\n\t\t無料トライアル、CSサポート以外はCrossmall経由で発送される\n\n##Sirius #運用\n\n# 10/7 c-team 分析分科会\ncreated_at:Mon Jan 19 1970 13:13:51 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:13:52 GMT+0900 (日本標準時)\n10/7 c-team 分析分科会\n前回\n[9/30 c-team 分析分科会]\n\n[* アジェンダ]\n\tQrio ダッシュボード\n\t\t経営指標の自動更新から\n\t\t元データの洗い出し\n\t\t\tどのシートが生きているのか\n\t\t\t販路シートがほぼほぼ重要\n\tChatDealer進捗\n\t\t慣らし運転中・・・\n\n-- 前回\n\tHubSpot\n\t\tインターン採用進めつつ、顧客来訪チェック\n\tChatDealer\n\t\t投資フェーズ。単純な問い合わせを減らせるかどうか？\n\t\tキャンペーン向け問い合わせ数をチャット対処\n\t\t\t何をもって成功なんだっけ？の感覚\n\tインターン向けシステム、re:lation\n\t\tSNS返信(twitter)\n\n# 友達紹介CPN用の招待キー発行システム\ncreated_at:Mon Jan 19 1970 13:09:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:09:50 GMT+0900 (日本標準時)\n友達紹介CPN用の招待キー発行システム\n文責[ymtk.icon]\n\n[* 要件]\n\tQrio Lockアカウントでログインすると招待キーが表示される\n\t招待キーは別途設けるQrio Storeの入力欄に記載するが、動的な検証は行わない\n\t\tcorporateのdbをdumpして突き合わせ、一致していないものは取り消す\n\n参考\n\tメルカリ友達紹介\n\t\thttps://jp-news.mercari.com/2019/08/30/susumerpay/\n\n# 10/4 カギカン事業定例\ncreated_at:Mon Jan 19 1970 13:09:27 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:09:41 GMT+0900 (日本標準時)\n10/4 カギカン事業定例\n参加者\nryo/kokichi/mayuto/ymtk/nakano\n\n欠席\n\n前回\n[9/20 カギカン事業定例]\n\n[*** 議題]\n数字\n\t9月締\n\t\t直販\n\t\t\t¥216,420\n\t\t\t\t請求書 15社（うち1社が日本アルコン、15台契約）\n\t\t\t\t\t年間なので確認\n\t\t代理店\n\t\t\t¥7,980\n\t\t\t\tダイワボウ経由1社\n\t\t\t\t今月は請求書出している…？\n\t10月目標\n\t\t？\n\t\tカギカン1が50万ほど\n\n[* 販促課題]\n\t何かしら営業施策の課題になっている、障壁になっているもの\n\t注力顧客状況\n\t\tTKG\n\t\t\t親組織子組織系の優先度\n  \t\t対応検討必要？売上規模？\n  \t\t買い切り特殊な座組（買い切り＋月1,xxxくらい？）\n  \t\t200店舗の運用、4店舗で実証試用\n  \t\tゲストキーのメール集約対応も必要\n  \t\t本部が学生の採用をしているので、学生を登録するのも本部\n  \t\t\t登録専用のアプリケーションがあった方がわかりやすい？\n  \t\t\t親組織子組織の紐付けは正直Qrio側でやればいいと思われる\n\t\tフジ物流\n\t\t\t話せておらず\n\n[* 販促施策]\n\t年間契約の獲得\n\t\tシステムとしての年間フラグ立て\n\t\t\tNPではやらない\n\t\t経理的な処理をどうやるかの確認\n\t\t\tキャッシュフローは改善するがP/L is...?\n\t\t\tリースバックになる想定\n\tカギカン１ユーザーの移行プラン\n\t\t¥4,980のままで利用可能\n\t\t施策に対する試算中\n\t\t利用規約確認\n\t\t\t途中で強制切り替えにできるかどうか？\n\t\t\t「通知する」までは記載あり\n\t\t\t考慮事項あり。いずれにせよ2020/3クローズ\n\tリファービッシュの立ち上げ\n\t\t今はまだ動いていない認識。ひとまずやらず。\n\n[* 主要な開発案件、ユーザー要求整理]\n\tcsv経由でのゲスト登録\n\t\t主に移行ユーザー向け。10月下旬リリース予定\n\tオートロック有効期間の自動設定\n\t\t日中は解放、夜間休日のみオートロックで運用したいニーズ。ヒアリング済み。\n\t\tQBSへの懸念確認が10/8(火)予定\n\tNP掛け払いapiつなぎこみ\n\t\t合間を見て。csvのやりとり自体をなくし、オペミスをなくす\n\tqrio.me ロック製品ページからの「ビジネスの方はこちら」ランディング\n\t\t対応できていない。来週中あたりに。\n\t\tそもそものトップページをロックした前提で流入設計した方が効果大きそうだよね？[ymtk.icon]\n\tガイドが貧弱\n\t\t要対応。CSコスト↑\n\n[* その他]\n\tメルマガの検討\n\t\t機能追加の紹介、toC社販の紹介、事例ヒアリング先募集\n\t日経記者ヒアリング\n\t\tPRに記載した働き方改革フックで問い合わせあり\n\n--- 下記前回\n[** 大方針]\n\t倉庫、店舗、教室系の機会\n\t\tいずれもエンタープライズ用途。複数箇所でモノを管理したい\n\t\t\tスマホなしQrio Key\n\tカギカン1からの乗り換え系\n\t\t電話案内\n\t\t\t目標cvr is..?\n\t新規獲得系\n\t\tテレマ販路\n\t\tリード\n\n立ち上がり期間と工数ROI\n前提解約率10%、10ヶ月\n獲得コストとして 2.2万円\nサック 3-4万くらいあり得る\n\n[* 事業]\n\t富士物流状況\n\t既存顧客引き継ぎプラン\n\t\tシステム上の対応必要\n\t個別指導学院プラン\n\t\tシステム上の対応必要\n\tその他年間契約関連\n\n[* 開発]\n\t開発優先度の確認→開発と言うよりチーム課題管理\n\t\thttps://docs.google.com/spreadsheets/d/1bxgVGUHVflRwiRahQNgRJFQ-2dLspn9-CzLOW0D2b5Q/edit##gid=1951457751\n\t開発案件\n\t\tカード決済\n\t\t\t新規登録はdone。周辺事項をQA中。\n\t\t省電力モード\n\t\t\tFW調査終わるまでコメントアウト\n\t\t時間別オートロック\n\t\t\t10月に入ってから顧客ヒアリング\n\t\tNP後払いAPI\n\t\t\t調査検討中。審査自動化\n\n[* マーケ・UX]\n\t今月のメール経由リード：30件\n\t運用確認\n\t\t代理店周りのフローを今一度確認したい\n\n[* 分析]\n[https://gyazo.com/8f23bcc28415c470174225dd20166f38]\n\n\n[* その他]\n\n[* NEXT]\n\t方針別ROI議論\n\t\t各自、ぼくのかんがえた最強の戦略を持ってくる\n\tqrio.me からの法人動線テスト\n\t\t簡易的につくってまずはCTR\n\n##カギカン #定例\n\n# 9/20 カギカン事業定例\ncreated_at:Mon Jan 19 1970 12:49:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:09:39 GMT+0900 (日本標準時)\n9/20 カギカン事業定例\n参加者\nryo/kokichi/mayuto/ymtk/nakano\n\n欠席\n\n\n前回\n[9/6 カギカン事業定例]\n\n[** 大方針]\n\t倉庫、店舗、教室系の機会\n\t\tいずれもエンタープライズ用途。複数箇所でモノを管理したい\n\t\t\tスマホなしQrio Key\n\tカギカン1からの乗り換え系\n\t\t電話案内\n\t\t\t目標cvr is..?\n\t新規獲得系\n\t\tテレマ販路\n\t\tリード\n\n立ち上がり期間と工数ROI\n前提解約率10%、10ヶ月\n獲得コストとして 2.2万円\nサック 3-4万くらいあり得る\n\n[* 事業]\n\t富士物流状況\n\t既存顧客引き継ぎプラン\n\t\tシステム上の対応必要\n\t個別指導学院プラン\n\t\tシステム上の対応必要\n\tその他年間契約関連\n\n[* 開発]\n\t開発優先度の確認→開発と言うよりチーム課題管理\n\t\thttps://docs.google.com/spreadsheets/d/1bxgVGUHVflRwiRahQNgRJFQ-2dLspn9-CzLOW0D2b5Q/edit##gid=1951457751\n\t開発案件\n\t\tカード決済\n\t\t\t新規登録はdone。周辺事項をQA中。\n\t\t省電力モード\n\t\t\tFW調査終わるまでコメントアウト\n\t\t時間別オートロック\n\t\t\t10月に入ってから顧客ヒアリング\n\t\tNP後払いAPI\n\t\t\t調査検討中。審査自動化\n\n[* マーケ・UX]\n\t今月のメール経由リード：30件\n\t運用確認\n\t\t代理店周りのフローを今一度確認したい\n\n[* 分析]\n[https://gyazo.com/1a84d1057bbca5d4d2970921ebba7153]\n[https://gyazo.com/beda85cdd0698baab51fb1766c2dc501]\n[https://gyazo.com/68175970514d36968adb8e011c013247]\n\n\n[* その他]\n\n[* NEXT]\n\t方針別ROI議論\n\t\t各自、ぼくのかんがえた最強の戦略を持ってくる\n\tqrio.me からの法人動線テスト\n\t\t簡易的につくってまずはCTR\n\n--下記前回\n[* 事業]\n\t年末までのアクションプラン確認\n\t\t事業目標売り上げの確認\n\t\t\t月販70以上(56万/月、LTV25万(3年利用想定))\n\t\t\t\tインバウンド：15\n\t\t\t\t移行ペース：20\n\t\t\t\tアウトバウンド：35\n\t\tその他\n\t\t\t想定インセン5万バックくらい\n\t\t\t\t最初は8万だが･･･\n\t\t\t\t販路開拓スキームを作る、導入事例を作る\n\t\t\t\t200万くらいで小規模営業センター立ちあげ検討したい\n\t\t\t\t\t3ヶ月は見たい\n\t\t\t\t\tスクリプトが作り終わっている、ロープレが展開できる状態\n\n[* 開発]\n\t開発優先度の確認→開発と言うよりチーム課題管理\n\t\thttps://docs.google.com/spreadsheets/d/1bxgVGUHVflRwiRahQNgRJFQ-2dLspn9-CzLOW0D2b5Q/edit##gid=1951457751\n\n[* マーケ・UX]\n\tパンフレット界隈\n\t\tリリースタイミングで一段落。資料請求など。\n\n[* 分析]\n\t顧客属性\n\t\tカギカン1既存ユーザー\n\t\t\t電話した際の、今どう使ってますかね\n\t\tカギカン2ユーザー\n\t\t\t定期アンケート\n\t\t\t導入理由、非導入理由\n\tHubspot\n\t\tテレマでの利用ケース相談\n\n[* その他]\n\tFAQ足りないので補填\n\n[* NEXT]\n\tテレマ販路立ちあげに関するブレスト\n\n##カギカン #定例\n\n\n# payjp界隈引き継ぎメモ\ncreated_at:Mon Jan 19 1970 13:08:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:09:14 GMT+0900 (日本標準時)\npayjp界隈引き継ぎメモ\n文責[ymtk.icon]\n10/4\n\n現在の運営サービス\n\tカギカン１\n\tカギカン２\n\tお試しキャンペーン\n\nできること\n\t決済履歴の確認\n\t利用者の確認\n\t\tサービス側でpayjpのidを持っているので、これと突き合わせて特定する\n\t任意額の決済\n\t任意額の返金\n\t上記についてのapi処理\n\t\thttps://pay.jp/docs/api/\n\nアカウント\n\tymtkが管理しているので、経営本部にも共有します\n\n##ymtk開発引き継ぎメモ\n\n# Sirius引き継ぎメモ\ncreated_at:Mon Jan 19 1970 12:48:01 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:08:28 GMT+0900 (日本標準時)\nSirius引き継ぎメモ\n文責[ymtk.icon]\n190919時点\n\n[** general]\n\t構成としてはapiサーバーとviewサーバーの2つ\n\n[* api]\n\tリポジトリ\n\t\thttps://github.com/qrioinc/sirius-api\n\t特徴など\n\t\tRailsで構築。grapeを利用してapiサーバーとしている。\n\t\tRedisは登録時のメアド一時保存などに利用。\n\t\tKingに関わる処理は、King側の`/m/`(通称management-api)にアクセスしている\n\t\t\tアクセスには管理者（manager）のauth0 jwtを利用する。\n\t\t\t\tsiriusで管理者を作る時、auth0での新規アカウント作成を経てkingでmanagerを作成している\n\t\t請求に関わる機能も持っており、毎月バッチで月額課金データを作成する\n\t\t\tカード：上記データを元に自動請求\n\t\t\t請求書：毎月管理ツールから上記データのcsvをダウンロードし、NP掛け払いに登録\n\t\tdockerで開発しており、docker-imageはaws ecrで管理している\n\t\t\tローカルでパッケージを追加した時にdocker内で「見つからない」となった時、パッケージ追加差分をmaster にマージしてaws上でビルド後に,`docker-compose pull`してくるか、`docker-compose exec app sh`でdocker内に入ってから`bundle install`なりすれば解決する\n\t\tinvoice_historyの役割\n\t\t\t請求書の作成元データ\n\t\t\tNP掛け払いcsvの作成元データ\n\t\t\t\tNP掛け払いのシステム都合で、名前は全角かつ30文字以内でないとcsv登録できない。そのため、csv作成する時にはトリミングしている\n\t運用上の注意\n\t\t代理店\n\t\t\t親子関係までは保持していないため、別紙管理が必要\n\t\t\t登録は管理ツール経由で行う\n\t\t決済\n\t\t\t毎月1日締め。その上でカード、請求書、代理店に関わる処理が必要\n\t\t\t\t代理店については、どこがどのプランをいくつ契約しているか\n\n[* view]\n\tリポジトリ\n\t\thttps://github.com/qrioinc/sirius-console\n\t特徴など\n\t\tvue-cli3で構築している。vue-cliでサーバを立てて開発するのが楽。\n\t\t\thttps://cli.vuejs.org/\n\t\t\tcode: sh\n\t\t\t\t## サーバを立てるコンソールの立ちあげ\n\t\t\t\tvue ui\n\t\t\tdockerで開発しており、docker-imageはaws ecrで管理している\n \t\t\tローカルでパッケージを追加した時にdocker内で「見つからない」となった時、パッケージ追加差分をmaster にマージしてaws上でビルド後に,`docker-compose pull`してくるか、`docker-compose exec app sh`でdocker内に入ってから`yarn install`なりすれば解決する\n\t\tvueファイルはコンポーネント単位で分割。ルーティングはvue-routerを利用\n\t\t基本的にはsirius-api経由でmanagement-apiを叩いているが、ゲストキーの受け取りについてはking-apiを叩いている（通常のユーザーのinvitation受け取り）\n\t\tcors設定上、ローカル開発ではlocalhostではなく`http://127.0.0.1:8083を利用している\n\t\t`yarn lint`がcommit 前に自動で行われ、自動修正される\n\t\t\t修正できない場合はエラーとして出てくる\n\t運用上の注意\n\t\tHerokuでビルドしているため、stgの環境からprodへpromoteしてはいけない\n\t\t\tビルドした時点でenvの内容を内包するため、promoteするとstgのenvを引きずってしまいstgのapiを向いてしまう。必ず直接デプロイすること(Herokuの仕様）\n\t\t\t画面を開いている状態でapiやconsoleのデプロイすると表示が崩れる（特定のchunkにあるjs等が呼べなくなるなどがあるため）。不動産顧客影響の比較的少ない水曜にデプロイしている。リロードすれば直る。\n\t\teslint 6.x 系への対応はしていない\n\t\t\t6.x 系にすると当然lintも通らない\n\n[* ope（管理ツール）]\n\tリポジトリ\n\t\thttps://github.com/qrioinc/sirius-admin-console\n\t特徴など\n\t\tvue-cli3で構築している。apiロジックはなく、siriusの`admin`以下のapiを叩く\n\t\t顧客審査や決済など、運用に関わることは全てここで実施する\n\t\tIP制限を入れており、恵比寿かピットクルー拠点以外でapiアクセスできない\n\t\tGoogleログインを利用。その際、qrioメアドが必要\n\t\t\tfirebase側でユーザー管理可能\n\n[* site]\n\tリポジトリ\n\t\thttps://github.com/qrioinc/sirius-site\n\t特徴など\n\t\texpressを利用\n\t\t\t旧サイトの構成をほぼ移行しているが、お問い合わせフォームはformrun経由でHubspotにデータを入れている\n\t\t\t以前はS3に置いていたが、デプロイの手間を考慮してHeroku に移した\n\n[* others]\n\t[Sirius 開発メモ(ymtk)]\n\n##ymtk開発引き継ぎメモ #sirius\n\n# Dev MTG 2019/10/1\ncreated_at:Mon Jan 19 1970 13:05:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:08:20 GMT+0900 (日本標準時)\nDev MTG 2019/10/1\n[https://cosme-tantei.com/wp-content/uploads/2019/02/summer.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n[** 連絡事項]\n\t各OSのリリース日\n\t\thttps://www.gizmodo.jp/2019/09/198609.html\n\t\tcode:os\n\t\t iOS 13：9月19日\n   watchOS 6：9月19日\n   iOS 13.1：9月30日\n   iPadOS 13：9月30日\n   macOS Catalina：10月\n\tザワさんにandroid相談開始\n\t\tSL2に関しては、対応済み。SQA待ち\n\t\t\t追加で、SL1とST1 できるところまでやってもらう予定。スケジュール調整中\n\t\t\t\tSQAとのスケジュール調整は、優先順位の上からよしなにやるよてい[hazimetyan.icon]\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tNastaボールで進捗なし\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\t今週あたりからSNCのエンジニアも徐々に実作業に入っていけるっぽい\n \t\t\tDevice側は、前案件のバグ改修などもあり、週3くらいで加勢してもらえそうです\n \t\tサーバー x デバイス含めたアーキについて打ち合わせした\n \t\t\t課題と解決案とpros/consを出していく\n \t\t\t発行したekeyのkey_type(master_keyなりfamily_keyなり)をqrioアプリ側で消された場合でも開けれてしまうのどうするか\n \t\t\t\t毎回Qrioサーバーにコマンドを取りに来てほしい\n \t\t\t\t\t一旦この方法で開発することになりました！\n \t\t\t\tそもそも一度発行して上げてしまったら、回収（？）するのが困難\n \t\tたかひろとQBSで、Heltzさんの対応をスライドできないかと話をしてもらう。\n \t\t\tそうたろうくんのリソースが、GuardianとManomaでかぶってしまっている\n \t\t[MANOMAまとめ(随時更新)]\n \t\tDevice Typeどうするか？\n \t\t\thttps://docs.google.com/presentation/d/1ROuSZl-3UWx6XEDzotLCUOI5AhI50Hf-3CCwHzIl14U/edit##slide=id.g2ab8f9c87e_0_0\n \t\t\tMANOMAというデバイスを追加するのがいいと思う[komai.icon]\n \t\t\t\t一旦MANOMAというデバイスを追加\n\n[** Castle (yamakawa)]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n \t\tALの開発は、MIWAとHeltzと弊社の座組(without QBS)で、新築とかに組み込んで売る想定で、アーキテクチャを考えてほしい。\n \t\t\tイメージ的には、メインロック(家の鍵)+サブロック(共用玄関)で設計するといいんじゃないか。\n \t\t\t\t共用玄関だけを開けるという場合もあるか。\n \t\t\tハードウェア、FWに関しては現行のSL2でまったく問題ないと考える。\n\n[** Sirius (kmi、hiro)]\n\t全体スケジュール\n\t\t10/1 カード決済リリース（その他細々）\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n オートロック設定の有効時間帯を指定できるようにする[ymtk.icon]\n \tヒアリングしてきました。想定通りでおおよそ行けそう。onにした時に施錠もしたい。\n \t\tmanagement-apiで、オートロックの切り替え口が欲しい\n \t\t楢原さんへのハード側懸念は確認する\n \tこれまでのあらすじ\n  \tカギカン界隈（物流）でニーズあり。こうきちさん(営業)によると、顧客20件中8件が欲しい機能で、作ったら契約数10%上がる見込みだそうです。\n  \t例えば「毎日7:00~10:00まではオートロックOFF、それ以外はON」など。\n  \t他に、曜日も指定できるとか、いくつか検討事項あり。\n  \t具体的なことはこれから決めていきます。\n  \tWebフロント/バックエンドの対応のみになる見込み。CU (BCU) はなし。\n  \thiroさんにハンドリングをお願いしました。\n  \t失敗のハンドリングが大変かも\n `v1/m/change_settings` にオートロック変更を投げるだけじゃダメなので注意[ymtk.icon]\n \tこれはあくまでHubの`beacon_interval`だけ\n \tもしかしたら、change_settings を1回叩くだけで変更できるかもしれない ← New!!\n \t\tZAWA SYSTEMに確認する\n[10/1 SIrius-dev確認]\n\n[** King]\n[* スマートスピーカー (kmi)] \n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n master_key削除できる管理ツール作成頼まれた\n \t９月中には実証テストしたい\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n and hostle さんとのコミュニケーションに、まりおくんと一緒に駒井くんがまざって入ることにする。\n MANOMAにコマンドを送るために、コマンドを作るapiを用意した\n \thttps://github.com/qrioinc/king-api/issues/600\n\n[* CU (竹内、hiro)]\n\t新OS対応\n\t\t今日からSQA中。不具合があり次第順次対応します\n\t\t\tiOS, Androidアプリ合計12本。。。[h.yamaguchi.icon]\n\t\tAndroid\n\t\t\t緊急度高ければざーさんに外注相談する可能性ありますよsyncはTKとしました。[ymtk.icon]\n\t\t\t\tしました。[ymtk.icon]\n\t\t\t\tふかざわ神にご降臨いただきました。不具合対応中[takeuchi.icon]\n\t\t\t\t\tすごい[h.yamaguchi.icon]\n\t\t\t\t対応完了。QAは9/30-10/\n\t\tiOS\n\t\t\tiOS13で位置情報周りの権限取得方法が変更されたためその対応が必要\n\t\t\tiOS13でPUSH通知が飛んでないらしい\n\t\t\t\t対応完了。リリースしました！9/30\n\tCU改善ネタ (by c-team)\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t優先順位は決めましたが、対応は後回しかも。。\n\n[* Qrio Key x Wena(チャン, hiro)]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t必要なもの\n\t ED25519の署名(機能)\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n\t二次試作が届きました\n\t\t明日13:00~、モデルルームで最後のWi-Fi電波測定します\n\t\t\tdone。問題なしです。\n\tCoverity対応中\n\t FW部分は5~6件、SDK部分は300件\n\tヘルツさん作業に影響するFW不具合が少しあるので、修正版を10月頭に出します。\n\t\tdone。ただし、まだ不具合が少し残っている\n残作業\n\tCI環境構築\n\tハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない。\n\t\t今、King CU iOSやってます (qb_setup_iosの扱いについて、hiroさんに相談したいことがある) 。\n\n[* Guardian 製造・制作系 (ymtk)]  \n\t2−2次施策に向けて\n\t\tリファレンスガイドとVOIDシールはmayutoさんへ依頼\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n\t\t作成した。1点だけ、DDoS攻撃などで、サーバーが応答しなくなったときに使えなくなる → 危機大\n\t\t\tAWSかHerokuで、どうにか勝手に防いだりしてくれるんじゃないのかな?\n\t\t\t\t調べます[hazimetyan.icon]\n\t\t\t\tCDN入れたらできる。\n\t\t\t\tTicketでHerokuに聞いたらどうだい\n\t\t\tもしくはGM判定会議で、容認してもらう方法もあり。\n\n[** Q-SL1/Q-ST1/カギカン1 (竹内、hiro)]\n\tQ-SL1 (新OS対応)\n\t\tiOS不具合\n\t\t\t２つのロックをシェアキーで受け取って、２つのロックを同時に操作でペアリングすることができない (既存バグ)\n\t\t\t\t既存バグのためスルーしました\n\t\t\t位置情報を「次回確認」に設定すると、手ぶらで解錠の計測から先に進めない\n\t\t\t位置情報許可画面で「常に許可」の選択が行えないため、表示方法を見直してほしい\n\t\t\t\t完了。QA待ち (10月3週目予定)\n\t\tAndroid不具合\n\t\t\t端末の位置情報の「許可しない」選択で時手ぶらで解錠設定を行うとアプリが落ちてしまう\n\t\t\tゲストキーで２つのロックを同時に操作をONにしている状態でオーナーキーから１つのロックを削除するとONが表示されたままになっている\n\t\t\t\t→既存バグでした\n\n\tQ-ST1 (新OS対応)\n\t\tiOS不具合\n\t\t\t位置情報許可画面で「常に許可」の選択が行えないため、表示方法を見直してほしい\n\t\t\tタグのFWアップデートが一度も成功しない\n\t\t\tタグの位置情報データが送信されていない\n\t\t\t\t全て完了。QA待ち (10月2週目予定)\n\t\t\t\tswift5, xcode11対応もついでに行いました\n\t\tAndroid不具合\n\t\t\t位置情報で「許可しない」選択後、アプリを起動しても位置情報要求ダイアログが表示されていない\n\t\t\tバックグラウンドからのリモコンでカメラが起動してこない\n\t\t\tゲストタグの通知設定が対象外でマスタータグから解除して、再度共有してゲストタグの通知設定ボタンを押下するとアプリが落ちてしまう\n\t\t\tアプリをインストールした時アプリのアイコンが表示されていない\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** 情報システム (チャン)]\n Twilioの会社情報の更新\n\t\t作業担当者の運転免許証でおkと、Twilioの日本法人から回答。でも、通らなかったら、また連絡して。って言われた。\n\n[** SQA]\n ただいまキットの優先度を下げる\n フオンさんの見込み済みの工数0.5人月は、10月に入れる。\n\n1.カギカン　9月中に終わる　10月1日リリース　→完了\n2. KingCU iOS13対応 1.3.1(69)　→9/26-27実施中　→完了\n3. KingCU Android版 OS9とOS10 他OS8～6で解施錠確認 →9/30-10/4実施中（★TestFlightある1.3.1(69)）\n4. ただいまキット Android10 / iOS13　→10月3週目　→残件あり\n5. SmartTagのiOS13修正版　フル検証 iOS13,12,11　→10月2週目3機種で6人日（★TestFlightある1.2.1(135)）\n6. SL1のiOS13修正版　→10月3週目（★TestFlightある1.8.4(205)）\n7. Sirius CSV登録、オートロック設定　→10/9～テスト実施？\n8. カギカンBCU Android10 / iOS13　→10月4週目　2機種で2人日\n9.  RoomonBCU  Android10 / iOS13　→10月4週目　2機種で2人日\n10. ただいまキット iOS版の修正　→10月4週目？　→開発中\n11. SL1 Android版の修正　→10月5週目？　\n12. SmartTag Android版の修正　→10月5週目？\n13. KingCU iOS Xcode11対応　フル検証　→10月5週目？\n14. Guardian の修正が出るかも？　→竹内さんが実施するかも。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** 消費税界隈(ymtk)]\n\t一通りリリース対応done\n\n[** その他相談ほか]\n\n\n[** 健忘録]\n\tなし\n\n# Qrio Lock x Wena プロジェクト雑談 10.01\ncreated_at:Mon Jan 19 1970 13:05:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:05:18 GMT+0900 (日本標準時)\nQrio Lock x Wena プロジェクト雑談 10.01\n[* アジェンダ]\n どうやったら実現できますかね。\n\n[* 議事]\n ハードウェアに、楕円暗号化のED25519が使えるかどうかの確認をしてあげないといけない。 → 長谷川さんかつしまさんに伝える[hazimetyan.icon]\n \t確認は大西さんかな。\n 10-12月がWenaの機能実装なので、この間になんらかのQrio Lockのアプリの実装が必要。\n\t\ta) Qrio LockアプリにWena連携機能を載っける\n\t\t\tWenaで解錠できる\n\t\tb) 独自の簡易アプリで、WenaをQ-K1として登録するだけのアプリを作る\n\t\t\t解錠はできない。やるとしたら、データを捏造しないといけない。\n\n\t\tまあ a) 案かな。\n\n やることはわかったわけだが、何をしたら進むのか。\n \tとりあえずアプリで、対応してみたらいいんじゃないの。\n \t\tアプリ側が必要とするQ-K1の情報を洗い出して、Wenaサイドから該当の情報をもらう。\n \t\t\tもらう必要ないかもしれない。\n \t\t\t\t調べる[h.yamaguchi.icon]\n \t\t\t\t\t10月は忙しいから11月かな。運が良ければ10月3週目ぐらいからいけるかもしれない。\n \t\t\t\t\t\tkingのxcode11対応と、コンフリクトする予定。優先度を決めなくては\n\ncode:wena schedule\n 2019年9月      実現可能性の検討\n 2019年10~12月  機能実装\n 2020年1月      DVT試作に合わせてプロトタイプ作製\n 2020年1~3月    評価＆改善\n 2020年4月      PVT試作に合わせて多台数搭載\n 2020年4~6月    多台数評価＆改善\n 2020年7月      量産開始\n 2020年9月      発表\n\n\n\n\n\n\n\n\n\n\n# 10/1 インサイト定例\ncreated_at:Mon Jan 19 1970 13:05:04 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:05:09 GMT+0900 (日本標準時)\n10/1 インサイト定例\n参加\nharada/mayuto/ymtk\n\n\t検討準備\n\t\tプロジェクト設計\n\t\t\t仮説\n\t\t\t調査してからの想定アクション\n\t\t調査設計\n\t\t\tユーザーインタビューの教科書\n   \thttps://drive.google.com/file/d/1ACFIYvjQkrawOm3xUvo9IPBI4GgAlAY8/view?usp=sharing\n\t\t調査実施\n\t\t\tリクルーティング\n\t\t\t会場・設備確保\n\t\t\tインタビュースクリプト\n\t\t調査分析前のローデータ\n\t\tモデル化ファシリテーション\n\t関係相談\n\t\tSGMOユーザビリティ品質技術部　小島さん\n\t運営や体制\n\t\tインサイト系のメーリスを作って一通りそこに入れたい\n\n[* NEXT]\n\t教科書見る\n\t調査見て、仮説文書化\n\n##CD室 #インサイト #定例\n\n# 10/1 SIrius-dev確認\ncreated_at:Mon Jan 19 1970 13:05:05 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:05:07 GMT+0900 (日本標準時)\n10/1 SIrius-dev確認\n出席\ntopaz2/ymtk\n\n今月の予定\n\tCSV経由のゲストユーザー登録\n\t毎日特定の時間帯だけオートロックon\n\t\tex 2200-0800はオートロックon\n\t\tオートロックonにする時は施錠する\n\t\t\tオートロックはonにできたけど、施錠は失敗したというのもある\n\t\t\tmanagement-apiに、オートロックonにする口が必要\n\t\t\t\t施錠は同期的に既存のapiを叩けば良いだけではある\n\t\tオートロックoffにする時に解錠したりはしない\n\t\t最初は時間だけ設定\n\t\t設定箇所としては「ロック設定」\n\t\t失敗時対応\n\t\t\tリトライ何回？せめて３回\n\t\t\t成功していない時の通知どうするかは考える必要あり\n\t管理ツール\n\t\t代理店分の請求データ出力\n\t既存改善\n\t\tフロントリファクタリング、テストコード\n\t\treadmeでの環境構築記載\n\nIcebox\n\t組織別ログイン\n\t省電力モード（FW待ち）\n\tNP掛け払いのapi連携\n\tmanagement-apiにuserをpostするとゲストキー付与\n\n# 9/30 c-team 分析分科会\ncreated_at:Mon Jan 19 1970 13:03:46 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:03:48 GMT+0900 (日本標準時)\n9/30 c-team 分析分科会\n前回\n[9/2 c-team 分析分科会]\n\n\tHubSpot\n\t\tインターン採用進めつつ、顧客来訪チェック\n\tChatDealer\n\t\t投資フェーズ。単純な問い合わせを減らせるかどうか？\n\t\tキャンペーン向け問い合わせ数をチャット対処\n\t\t\t何をもって成功なんだっけ？の感覚\n\tインターン向けシステム、re:lation\n\t\tSNS返信(twitter)\n\n# c-team定例 19/9/30\ncreated_at:Mon Jan 19 1970 13:03:42 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 13:03:44 GMT+0900 (日本標準時)\nc-team定例 19/9/30\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/ymtk/harada/ichikawa/nakano/takeuchi\n\n欠席\nknarita/takeuchi\n\n前回\n[c-team定例 19/9/25]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** 前回のNEXT]\n\t12月-1月（年末）施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n--\n[* アジェンダ]\n\tお試し\n\t\t9/21 15:00購入促進メール送信→購入数49件up\n\t\t9/28 11:00期限終わるよ購入促進メール送信\n\t\t　購入107件、返品50件\n\t\t　アンケート88件\n\t\tNext\n 　 終わったあと、15日までに返してくれないと決済しますよメール\n 　 実際15日過ぎて決済して、1週間以内ならよしなに返金、クレームは都度判断\n\tamazon\n\t\tAPO(amazon page optimization)用の画像が出来上がってきた。\n\t\tサイバーさん提案で一旦やる。No1表記はアマゾンの規定でダメ(やってるところ多いけど、ダマでやってるのが現状)\n\t\t今月中に納品、来月から開始予定。\n\t買い換え\n\t\t630台、9/26 17:00まで\n\t\t700台着地想定？\n\tペパクラ\n\t\t600まく予定。露出は増やさない方向。\n\t\tアンケートに答えたら割引→base使う?6.6%\n\tNewsPicks\n\t\t田端さんでやる方向→zozoの影響で10月末〜\n\t\t西川さん、なりさん巻き込む必要ありそう\n\t\t\tお試しキャンペーンの座組検討中\n\t年末商戦\n\t\t買い換えキャンペーン\n\t\tタクシー広告（仮）x  ホリエモン動画\n\t\t\tQRコードでクーポン付与\n\t\t\t11/25-2週間くらい\n\tその他\n\t\tドア次第だが量販店売場検討。\n\t\tレンティオ界隈、プレスリリースとQrioからの動線検討\n\n\n---\n[* アジェンダ2]\n\t中野枠\n\t\tGA\n[https://gyazo.com/3cfabe59a01f0ecfdbebc66a1905ac45]\n\n  スクール革命の影響は軽微？\n\n\t\tご意見\n  \thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tお試し振返り\n\t　状況\n\t　\tアジェンダ参照\n\t　\tアクション\n\t　\t\t登録促進メール 1回目/2回目\n\t　\t\t登録促進ハガキ\n\t　\t\t　102通郵送済(9/12) \n\t　\t\t　3台が登録、6台が返品\n\t　\t\t　3連休は要因でない可能性が高い。認識していないか忙しいのか。。。\n\t　\t\t登録促進メール 3回目(planB)\n\t　\t\t ご好評につきみなさん購入いただいてますよ訴求\n\t　　お試しCP進捗190930\n\t　　 https://docs.google.com/presentation/d/16VwX2meTsSx9SF6MhY1qkY2JJNDL3ItlzmeZbfGXh_g/edit?usp=sharing\n[https://gyazo.com/23bbdd88457281dc55825028cdbfd317]\n\n　お試しCP利用後アンケート\n\t　　　https://docs.google.com/presentation/d/1SepZLE-DLmZQL9zflOUBXDcz07JZw1FTEdK9k83QGNY/edit?usp=sharing\n\t　\ttodo\n\t　\t 返品ユーザー＋購入ユーザーに対するアンケート回収\n\tお試し2ndに向けて\n\t\tNP企画[ymtk.icon]\n\t\t\t9/3 mtg予定\n\t\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t\t運用などこれから設計\n\t\tスケジュール検討\n\t\t\t10月中旬〜11月くらい\n\t電池2倍[ymtk.icon]\n\t\t水曜日に各所リリース。お知らせ+blog\n\t\t\t[2019/10 toC 電池2倍まわりの顧客コミュニケーション]\n\t\t\tお知らせ書いたのでご確認をお願いします[ichikawa.icon]\n\t（new）Wena + QrioKey[ymtk.icon]\n\t\tWenaをQrioKey化する。先方から相談あり、mtg予定。\n\t各自\n\t\t市川枠\n    Amazon施策をサイバーさんと取り組みます（確定）\n    \tページ案作成してもらっている\n    \tできました。テクニカルのほうチェック中\n    アフィリエイトはバリューコマースさんとすすめます（確定）\n\t\t営業 / 成田枠\n\t\t\tトータル\n\t\t\t\t996台（先月1,200台）\n\t\t\t\t\tうちEC850台に対して、amazon560台（先月と同じ）\n\t\t\t\t\t単体として伸びたわけではない\n\t\t\t\t\tそもそもの店舗側の販売数を伸ばす施策が大事\n\t\t\t\t特筆して20店舗くらいに対する集中施策ができないか（total100万とかで）\n\t\t\t\t\t売場への投資（各店舗に対して）\n\t\t\t\t\t2月にギフトショーがあり、スマートホームカテゴリがあるので明日見てくる\n\t\t\t\t\tドア含めた展示スペース、展示方法の確保（モデル店舗作り）\n\t\t\t\t価格調整してから順位が5000まで下がることも\n\t\t\t\t\tここについてBtoB影響あるが、調整しない方がいい？\n\t\t\t\t買い換え\n\t\t\t\t\t9/12~26(木)\n\t\t\t\t\t\tQ-SL2 + Key (△4,500)\n\t\t\t\tダブルチャンスCP(12月予定)\n\t\t\t\t\t50名タダ、を計画予定\n\t\t\t営業施策状況\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t原田枠\n\t\t\t今週はお休みです\n\t\t開発\n\t \tKing CU改善ネタ。優先度つけました\n\t\t\t https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t\tECOモード対応（電池二倍）\n\t\t\t\tサーバー、アプリとも完了。あとはストアでポチればアプリが公開される->done\n\t\t\tオートロック設定の有効期間設定の対応\n\t\t\t\thiroさんにハンドリングをお願いしました\n\t\t\t\tWebフロント/バックエンドの対応が必要。CU (BCU) は必要なし\n\t\t\t\t\tなるほど了解です。やるとしたら自分の方で両方対応します[ymtk.icon]\n\t\t\t\t詳細は開発チームで話しますが、1ヶ月以上かかりそうです\n\t\t\t新OS対応は、iOSのみ進めます。Androidはリソース的に厳しいので、あとまわしに\n\t\t\t\tandroidアプデ待ってねメールは必要そう[ymtk.icon] >> 中野さん\n\t\t\t\tふかざわさんに外注してます。\n\n\tペーパークラフト\n\t\t1st\n\t\t\t請求の完了数：245（9/6）\n  \tマスターキーアカウント確認：24件→27件（9/18時点）\n\t\t2nd  ペパクラ体験アンケート答えたらstore購入20%OFF（仮）\n\t\t\t配布部数 600部\n\t\t\t10/15（月）施策開始 予定\n\t\t\t\tクーポン発行機能 welcartのプラグイン調査\n[https://gyazo.com/f9d00c1935f469da0b21c84e947113ad]\n\n\t検索パフォーマンス\n\t\t表示回数は徐々に増えている\n\t\tクリック数に大きな変化なし\n[https://gyazo.com/f3dc8ecb643968fc9fc46c2b7d35ea5f]\n\n[https://gyazo.com/7a1dc96ea8d8a46a13767a23450b9821]\n\t「スマートロック  比較」の流入低い\n\t\t1位の記事：sesame推し\n\t\t2位の記事：Qrio推し\n\n[** NEXT]\n\t12月-1月（年末）施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/knarita/ymtk/ichikawa/nakano/takeuchi\n\n欠席\nharada\n\n前回\n[c-team定例 19/9/2]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** 前回のNEXT]\n\t電池2倍CPN直前確認\n\tSL1買い換え、電池＆価格方針確認\n\tR25アンケート内容レビュー\n\tR25ユーザー利用状況分析\n\tR25購入動線表示\n\t施策カレンダー 9-12月分\n\n[* アジェンダ2]\n\t中野枠\n\t\tGA\n[https://gyazo.com/a92120d515ff37990eeaa51575f064b8]\n\n\n\t\tご意見\n  \thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tお試し振返り\n\t　状況\n\t　\t購入11件(+6件)\n\t　\t返品13件　※6ユーザーは登録もしていない状態、3名ほどマスター削除せずに返却\n\t　\t\t別件で楢原さんに4台渡す案件があるので、ここから出します[ymtk.icon]\n\t　\t登録77%(+4%)\n\t　\t\t土日で10件+→385件（残り114件）\n\t　\tアクション\n\t　\t\t設置してください\n\t　\t\t\tこんなことができますよ、困っていたらお知らせください\n\t　\t\t\t\t先々週、水木金に分けて送信はしている\n\t　\t\t\t　先週末に未登録ユーザーに再送\n\t　\t\t\t　100人くらいいてやばい。DM（はがき）する？送るなら3連休前の金曜着。今週中に決めます(中野・市川)\n\t　\t\t\t　\t62円\n\t　\t\t\t　\tPlanAはDM、PlanBは･･･？\n\t　\t\t\t　\t\t仮説としては、普通に認識していないか、3連休か。3連休ならまとめて設定動画リンク送ってこれでもかとフォローする。これ以降はもはやフォローしにくい。[ymtk.icon]\n\t　\t\t\t　\t\tご好評につき、既に7-8割のお客様が設置していますよ、既に購入されている方がいらっしゃいますよ（こっちは弱い？）なども表現としてはある。あなた遅れてますよ訴求。\n\t　\t\t販売促進メール送信予定\n\t　\t\t\thttps://docs.google.com/presentation/d/1PkaM8MHV4w80b9fHgti2JVvm4elbsUZDAMa0R4a9gwk/edit?usp=sharing\n\tお試し2ndに向けて\n\t\tNP企画[ymtk.icon]\n\t\t\t9/3 mtg予定\n\t\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t\t運用などこれから設計\n\t\tスケジュール検討\n\t\t\t10月中旬〜11月くらい\n\t電池2倍[ymtk.icon]\n\t\t水曜日に各所リリース。お知らせ+blog\n\t\t\t[2019/10 toC 電池2倍まわりの顧客コミュニケーション]\n\t\t\tお知らせ書いたのでご確認をお願いします[ichikawa.icon]\n\t（new）Wena + QrioKey[ymtk.icon]\n\t\tWenaをQrioKey化する。先方から相談あり、mtg予定。\n\t各自\n\t\t市川枠\n    Amazon施策をサイバーさんと取り組みます（確定）\n    \tページ案作成してもらっている\n    \t\tamazonの中でなんでここにないのページについての確認\n    \t\t\talexa対応デバイス一覧とか\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_10?ie=UTF8&node=5375221051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_t=101&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_i=5364388051\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_2?ie=UTF8&node=5364389051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_t=101&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_i=5375221051\n    アフィリエイトはバリューコマースさんとすすめます（確定）\n    \t10/1-11末、メディア側に払うのが¥4,500 x 2（50記事予定）\n    \t12-2末、メディア側に払うのが¥2,250、のち¥1,500\n　　　　買い替えCPN\n　　　　　HTMLメルマガ仕上げ中\n　　　　　ページをまゆしさんに作ってもらったので商品コード入力する\n　　　　　ロジテム共有予定\n　　　　　まゆしさんページC-teamに共有します\n\t\t営業 / 成田枠\n\t\t\tトータル\n\t\t\t\t996台（先月1,200台）\n\t\t\t\t\tうちEC850台に対して、amazon560台（先月と同じ）\n\t\t\t\t\t単体として伸びたわけではない\n\t\t\t\t\tそもそもの店舗側の販売数を伸ばす施策が大事\n\t\t\t\t特筆して20店舗くらいに対する集中施策ができないか（total100万とかで）\n\t\t\t\t\t売場への投資（各店舗に対して）\n\t\t\t\t\t2月にギフトショーがあり、スマートホームカテゴリがあるので明日見てくる\n\t\t\t\t\tドア含めた展示スペース、展示方法の確保（モデル店舗作り）\n\t\t\t\t価格調整してから順位が5000まで下がることも\n\t\t\t\t\tここについてBtoB影響あるが、調整しない方がいい？\n\t\t\t\t買い換え\n\t\t\t\t\t9/12~26(木)\n\t\t\t\t\t\tQ-SL2 + Key (△4,500)\n\t\t\t\tダブルチャンスCP(12月予定)\n\t\t\t\t\t50名タダ、を計画予定\n\t\t\t営業施策状況\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t原田枠\n\t\t\t今週はお休みです\n\t\t開発\n\t \tKing CU改善ネタ。優先度つけました\n\t\t\t https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t\tECOモード対応（電池二倍）\n\t\t\t\tサーバー、アプリとも完了。あとはストアでポチればアプリが公開される\n\t\t\tオートロック設定の有効期間設定の対応\n\t\t\t\thiroさんにハンドリングをお願いしました\n\t\t\t\tWebフロント/バックエンドの対応が必要。CU (BCU) は必要なし\n\t\t\t\t\tなるほど了解です。やるとしたら自分の方で両方対応します[ymtk.icon]\n\t\t\t\t詳細は開発チームで話しますが、1ヶ月以上かかりそうです\n\t\t\t新OS対応は、iOSのみ進めます。Androidはリソース的に厳しいので、あとまわしに\n\t\t\t\tandroidアプデ待ってねメールは必要そう[ymtk.icon] >> 中野さん\n\t\tCD マユト枠\n\t\t\t受付期間：8/20〜9/6（14営業日）\n\t\t\t請求の完了数：245（9/6）\n\t\t\tマスターキーアカウント確認：24件（9/10時点）\n\t\t　\t10人に1人が購入\n\t\t　\t請求〜購入までに要した時間調査する\n\t\t　\t次は、store購入に繋がる施策提げて増刷交渉\n\t\t　　\t（ある程度入力ボリュームがある、写真がある、など）アンケートに対しての割引であれば自然\n\nQRコードからqrio storeへの流入数：34\n[https://gyazo.com/13c6caf8c14505415787ea49821f5d68]\n[https://gyazo.com/509dada0b210a148796079d74690634a]\n\n\nstore流入が金 or 土に集中。\n\n\tBlog\n[https://gyazo.com/f9d00c1935f469da0b21c84e947113ad]\n\n\n\n[https://gyazo.com/88354010f8981eae7c94ebfb1bf3b364]\n\t「スマートロック  比較」の流入低い\n\n[https://gyazo.com/e1bc682cf06d0c2180acde0d47155e89]\n検索順位7位\n\n\n[** NEXT]\n\t12月-1月（年末）施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n# IoT - dev 室長会 19/9/27\ncreated_at:Mon Jan 19 1970 12:59:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:59:22 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/9/27\n前回：[IoT - dev 室長会 19/9/13]\n\n[** 共有・相談ネタ]\n[* 全般]\n\tdevリソースについて\n\t\thttps://docs.google.com/spreadsheets/u/1/d/1poWK-oBdm3p4JhGp44QCX4psXqJJxH37AsK5p2EkP0w/edit##gid=676598306\n\tymtk引き継ぎ\n\t\thttps://docs.google.com/spreadsheets/d/1rJA77bQU-VE_ee_p7d9hsuZf7mzHqh4rqaYDSuUsSe4/edit?usp=drive_web&ouid=109170418868775192408\n\tキャッチアップうまく回せていない（若手、社歴が浅い人）\n\t\t展示会の事例\n\t\t\t初期の進行は手伝えていた\n\t\t\tリリース品質になった時に相談されなかった\n\t\t全部一人でやろうとしてしまう、巻き込めない\n\t\t\t何がわからないのかわからないからの、誰を巻き込んだらいいのかわからない問題\n\t\t\t保健室\n\t\t\t「自分だけができてないのでは」からの焦り、抱え込み\n\t\t\t人に今やっていることを気軽に話せるシーン不足\n\t\t\t\t抱えてる人は複数抱えている。優先度的に引き出せないこともある\n\t\t自己申告に対するフィードバックは厳しい。プロジェクトに対するタスク一覧がベースであってほしい\n\t\t\t計画を立てることを最初に置く。特にルーチン化していないこと。\n\t\t\tレビューイベント。作業者と依頼者の間で品質担保することが大事\n\t\t\t\tホットラインまわり、ゆりさん、まゆしーと詰める\n\t振り返りの検討 -> 次回　\n\t監査\n\n[* 製品開発]\n\t新機能\n\t\t10/1 Siriusカード決済開始\n\t障害\n\t\tiOS、androidまわり->ざーさんin\n\t\t\tzawa system\n\t\t省電力モード->根本原因調査中\n\tMANOMA\n\t\t11中旬リリース\n\n[* デザインコミュニケーション]\n\n\tペパクラ2次施策\n\t\t転売ヤー防止にユニークでクーポン発行したいらしい\n\t\t\tBASEとstores.jpはクーポン発行機能あるが、ユニークでは作成できないっぽい\n\t\t\t他CPNの時は今までどうしてきた？\n\tLEGEND\n\t\tRG\n\t\t\t山縣印刷さんへデータ制作依頼\n\t\tVOIDテープ\n\t\t\t三光産業さんへ開発相談\n\tBlog\n\t\tタグクラウドを作成したい\n\n\tqrio.meの法人向け導線改善\n\n\n[* CS推進]\n　チャットボット(チャットディーラー)検証中\n　　バナーをフロート出来るのでペパクラ誘導とかにも使えそう\n　　最低利用期間半年がネックか。。。\n\n\n[* 分析係]\n　お試し＆買換え\n\n\n[* その他課題など（更新なし）]\n チャンが開発本部の仕事をほぼできていない( 'ᾥ' )[hazimetyan.icon]\n \tやっているのは、セキュリティ部、情報システム部、管理部、あたりで8割占めている。\n\t米澤さんのマネジメントはCD室 or CS どちらメインでやる？？[m.suzuki.icon]\n\t\tCD室で[ymtk.icon]\n\tymtkの引き継ぎ資料を9月中に制作し、後半くらいから各所やります\n\t開発環境トラブルは1人で解決できるようにならねば[m.suzuki.icon]\n\n##室長会 #議事録\n\n# c-team定例 19/9/25\ncreated_at:Mon Jan 19 1970 12:56:26 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:56:29 GMT+0900 (日本標準時)\nc-team定例 19/9/25\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/ymtk/harada/ichikawa/nakano/takeuchi\n\n欠席\nknarita/takeuchi\n\n前回\n[c-team定例 19/9/18]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** 前回のNEXT]\n\t12月-1月（年末）施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n--\n[* アジェンダ]\n\tお試し\n\t\t9/21 15:00購入促進メール送信→購入数49件up\n\t\t　購入69件、返品47件（購入率14%、返品率9%）\n\t\t　アンケート46件(返品ユーザーへは返却確認とアンケート促進済)\n\t\t　千葉県民17名→5名購入済、返品3名　北部が多め\n\t\t　　千葉市\t3\n    松戸市\t3\n    船橋市\t2\n    野田市\t2\n    市川市\t2\n    旭市\t1\n    茂原市\t1\n    流山市\t1\n    習志野市\t1\n    我孫子市\t1\n\t\tラスト1回、返却＆アンケート通知メール\n\t　\t期限終わるよメール\n 　 終わったあと、15日までに返してくれないと決済しますよメール\n 　 実際15日過ぎて決済して、1週間以内ならよしなに返金、クレームは都度判断\n\tamazon\n\t\tAPO(amazon page optimization)用の画像が出来上がってきた。\n\t\tサイバーさん提案で一旦やる。No1表記はアマゾンの規定でダメ(やってるところ多いけど、ダマでやってるのが現状)\n\t\t今月中に納品、来月から開始予定。\n\t買い換え\n\t\t630台、9/26 17:00まで\n\t\t700台着地想定？\n\tペパクラ\n\t\t600まく予定。露出は増やさない方向。\n\t\tアンケートに答えたら割引→base使う?6.6%\n\tNewsPicks\n\t\t田端さんでやる方向→zozoの影響で10月末〜\n\t\t西川さん、なりさん巻き込む必要ありそう\n\t\t\tお試しキャンペーンの座組検討中\n\t年末商戦\n\t\t買い換えキャンペーン\n\t\tタクシー広告（仮）x  ホリエモン動画\n\t\t\tQRコードでクーポン付与\n\t\t\t11/25-2週間くらい\n\tその他\n\t\tドア次第だが量販店売場検討。\n\t\tレンティオ界隈、プレスリリースとQrioからの動線検討\n\n\n---\n[* アジェンダ2]\n\t中野枠\n\t\tGA\n[https://gyazo.com/3cfabe59a01f0ecfdbebc66a1905ac45]\n\n  スクール革命の影響は軽微？\n\n\t\tご意見\n  \thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tお試し振返り\n\t　状況\n\t　\tアジェンダ参照\n\t　\tアクション\n\t　\t\t登録促進メール 1回目/2回目\n\t　\t\t登録促進ハガキ\n\t　\t\t　102通郵送済(9/12) \n\t　\t\t　3台が登録、6台が返品\n\t　\t\t　3連休は要因でない可能性が高い。認識していないか忙しいのか。。。\n\t　\t\t登録促進メール 3回目(planB)\n\t　\t\t ご好評につきみなさん購入いただいてますよ訴求\n\t　　お試しCP進捗190925\n\t　　 https://docs.google.com/presentation/d/1ahevkGOnp178Vs9ygf7Si0VGJC5XbmecOZvqUF3naEY/edit?usp=sharing\n[https://gyazo.com/f4ae80dc588e681f97b390aa72326de3]\n\n\t　　お試しCP利用後アンケート\n\t　　　https://docs.google.com/presentation/d/1SepZLE-DLmZQL9zflOUBXDcz07JZw1FTEdK9k83QGNY/edit?usp=sharing\n\t　\ttodo\n\t　\t 返品ユーザー＋購入ユーザーに対するアンケート回収\n\tお試し2ndに向けて\n\t\tNP企画[ymtk.icon]\n\t\t\t9/3 mtg予定\n\t\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t\t運用などこれから設計\n\t\tスケジュール検討\n\t\t\t10月中旬〜11月くらい\n\t電池2倍[ymtk.icon]\n\t\t水曜日に各所リリース。お知らせ+blog\n\t\t\t[2019/10 toC 電池2倍まわりの顧客コミュニケーション]\n\t\t\tお知らせ書いたのでご確認をお願いします[ichikawa.icon]\n\t（new）Wena + QrioKey[ymtk.icon]\n\t\tWenaをQrioKey化する。先方から相談あり、mtg予定。\n\t各自\n\t\t市川枠\n    Amazon施策をサイバーさんと取り組みます（確定）\n    \tページ案作成してもらっている\n    \t\tamazonの中でなんでここにないのページについての確認\n    \t\t\talexa対応デバイス一覧とか\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_10?ie=UTF8&node=5375221051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_t=101&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_i=5364388051\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_2?ie=UTF8&node=5364389051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_t=101&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_i=5375221051\n    アフィリエイトはバリューコマースさんとすすめます（確定）\n    \t10/1-11末、メディア側に払うのが¥4,500 x 2（50記事予定）\n    \t12-2末、メディア側に払うのが¥2,250、のち¥1,500\n　　　　買い替えCPN\n　　　　　HTMLメルマガ仕上げ中\n　　　　　ページをまゆしさんに作ってもらったので商品コード入力する\n　　　　　ロジテム共有予定\n　　　　　まゆしさんページC-teamに共有します\n\t\t営業 / 成田枠\n\t\t\tトータル\n\t\t\t\t996台（先月1,200台）\n\t\t\t\t\tうちEC850台に対して、amazon560台（先月と同じ）\n\t\t\t\t\t単体として伸びたわけではない\n\t\t\t\t\tそもそもの店舗側の販売数を伸ばす施策が大事\n\t\t\t\t特筆して20店舗くらいに対する集中施策ができないか（total100万とかで）\n\t\t\t\t\t売場への投資（各店舗に対して）\n\t\t\t\t\t2月にギフトショーがあり、スマートホームカテゴリがあるので明日見てくる\n\t\t\t\t\tドア含めた展示スペース、展示方法の確保（モデル店舗作り）\n\t\t\t\t価格調整してから順位が5000まで下がることも\n\t\t\t\t\tここについてBtoB影響あるが、調整しない方がいい？\n\t\t\t\t買い換え\n\t\t\t\t\t9/12~26(木)\n\t\t\t\t\t\tQ-SL2 + Key (△4,500)\n\t\t\t\tダブルチャンスCP(12月予定)\n\t\t\t\t\t50名タダ、を計画予定\n\t\t\t営業施策状況\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t原田枠\n\t\t\t今週はお休みです\n\t\t開発\n\t \tKing CU改善ネタ。優先度つけました\n\t\t\t https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t\tECOモード対応（電池二倍）\n\t\t\t\tサーバー、アプリとも完了。あとはストアでポチればアプリが公開される\n\t\t\tオートロック設定の有効期間設定の対応\n\t\t\t\thiroさんにハンドリングをお願いしました\n\t\t\t\tWebフロント/バックエンドの対応が必要。CU (BCU) は必要なし\n\t\t\t\t\tなるほど了解です。やるとしたら自分の方で両方対応します[ymtk.icon]\n\t\t\t\t詳細は開発チームで話しますが、1ヶ月以上かかりそうです\n\t\t\t新OS対応は、iOSのみ進めます。Androidはリソース的に厳しいので、あとまわしに\n\t\t\t\tandroidアプデ待ってねメールは必要そう[ymtk.icon] >> 中野さん\n\n\tペーパークラフト\n\t\t1st\n\t\t\t請求の完了数：245（9/6）\n  \tマスターキーアカウント確認：24件→27件（9/18時点）\n\t\t\tROI：-47%\n\t\t\t\tイニシャル（開発費）がかかり、最小ロットで検証したため\n\t\t\t請求から登録作業まで：平均6.9日\n\t\t[https://gyazo.com/445c0c03b307c8ae728069bf5540cdf5]\n\t\t2nd  ペパクラ体験アンケート答えたらstore購入20%OFF（仮）\n\t\t\t10月上旬 → 最短納品10/11（金）\n\t\t\t10/15（月）施策開始 予定\n\t\t\t600部\n\t\t\t\t露出強めすぎると、組み立てないなどの可能性高まる\n\t\t\tBASE\n\t\t\t\tクーポン発行機能 ある\n\t\t\t\t\t手数料\n\t\t\t\t\t\tかんたん決済手数料3.6%+40円、サービス手数料3%\n\t\t\t\tstores.jpでも調べてみる\n\tQrio Lock Blog\n[https://gyazo.com/f9d00c1935f469da0b21c84e947113ad]\n\n\t検索パフォーマンス\n\t\t表示回数は徐々に増えている\n\t\tクリック数に大きな変化なし\n[https://gyazo.com/f3dc8ecb643968fc9fc46c2b7d35ea5f]\n\n[https://gyazo.com/7a1dc96ea8d8a46a13767a23450b9821]\n\t「スマートロック  比較」の流入低い\n\t\t1位の記事：sesame推し\n\t\t2位の記事：Qrio推し\n\n[** NEXT]\n\t12月-1月（年末）施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/knarita/ymtk/ichikawa/nakano/takeuchi\n\n欠席\nharada\n\n前回\n[c-team定例 19/9/2]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** 前回のNEXT]\n\t電池2倍CPN直前確認\n\tSL1買い換え、電池＆価格方針確認\n\tR25アンケート内容レビュー\n\tR25ユーザー利用状況分析\n\tR25購入動線表示\n\t施策カレンダー 9-12月分\n\n[* アジェンダ2]\n\t中野枠\n\t\tGA\n[https://gyazo.com/a92120d515ff37990eeaa51575f064b8]\n\n\n\t\tご意見\n  \thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tお試し振返り\n\t　状況\n\t　\t購入11件(+6件)\n\t　\t返品13件　※6ユーザーは登録もしていない状態、3名ほどマスター削除せずに返却\n\t　\t\t別件で楢原さんに4台渡す案件があるので、ここから出します[ymtk.icon]\n\t　\t登録77%(+4%)\n\t　\t\t土日で10件+→385件（残り114件）\n\t　\tアクション\n\t　\t\t設置してください\n\t　\t\t\tこんなことができますよ、困っていたらお知らせください\n\t　\t\t\t\t先々週、水木金に分けて送信はしている\n\t　\t\t\t　先週末に未登録ユーザーに再送\n\t　\t\t\t　100人くらいいてやばい。DM（はがき）する？送るなら3連休前の金曜着。今週中に決めます(中野・市川)\n\t　\t\t\t　\t62円\n\t　\t\t\t　\tPlanAはDM、PlanBは･･･？\n\t　\t\t\t　\t\t仮説としては、普通に認識していないか、3連休か。3連休ならまとめて設定動画リンク送ってこれでもかとフォローする。これ以降はもはやフォローしにくい。[ymtk.icon]\n\t　\t\t\t　\t\tご好評につき、既に7-8割のお客様が設置していますよ、既に購入されている方がいらっしゃいますよ（こっちは弱い？）なども表現としてはある。あなた遅れてますよ訴求。\n\t　\t\t販売促進メール送信予定\n\t　\t\t\thttps://docs.google.com/presentation/d/1PkaM8MHV4w80b9fHgti2JVvm4elbsUZDAMa0R4a9gwk/edit?usp=sharing\n\tお試し2ndに向けて\n\t\tNP企画[ymtk.icon]\n\t\t\t9/3 mtg予定\n\t\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t\t運用などこれから設計\n\t\tスケジュール検討\n\t\t\t10月中旬〜11月くらい\n\t電池2倍[ymtk.icon]\n\t\t水曜日に各所リリース。お知らせ+blog\n\t\t\t[2019/10 toC 電池2倍まわりの顧客コミュニケーション]\n\t\t\tお知らせ書いたのでご確認をお願いします[ichikawa.icon]\n\t（new）Wena + QrioKey[ymtk.icon]\n\t\tWenaをQrioKey化する。先方から相談あり、mtg予定。\n\t各自\n\t\t市川枠\n    Amazon施策をサイバーさんと取り組みます（確定）\n    \tページ案作成してもらっている\n    \t\tamazonの中でなんでここにないのページについての確認\n    \t\t\talexa対応デバイス一覧とか\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_10?ie=UTF8&node=5375221051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_t=101&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_i=5364388051\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_2?ie=UTF8&node=5364389051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_t=101&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_i=5375221051\n    アフィリエイトはバリューコマースさんとすすめます（確定）\n    \t10/1-11末、メディア側に払うのが¥4,500 x 2（50記事予定）\n    \t12-2末、メディア側に払うのが¥2,250、のち¥1,500\n　　　　買い替えCPN\n　　　　　HTMLメルマガ仕上げ中\n　　　　　ページをまゆしさんに作ってもらったので商品コード入力する\n　　　　　ロジテム共有予定\n　　　　　まゆしさんページC-teamに共有します\n\t\t営業 / 成田枠\n\t\t\tトータル\n\t\t\t\t996台（先月1,200台）\n\t\t\t\t\tうちEC850台に対して、amazon560台（先月と同じ）\n\t\t\t\t\t単体として伸びたわけではない\n\t\t\t\t\tそもそもの店舗側の販売数を伸ばす施策が大事\n\t\t\t\t特筆して20店舗くらいに対する集中施策ができないか（total100万とかで）\n\t\t\t\t\t売場への投資（各店舗に対して）\n\t\t\t\t\t2月にギフトショーがあり、スマートホームカテゴリがあるので明日見てくる\n\t\t\t\t\tドア含めた展示スペース、展示方法の確保（モデル店舗作り）\n\t\t\t\t価格調整してから順位が5000まで下がることも\n\t\t\t\t\tここについてBtoB影響あるが、調整しない方がいい？\n\t\t\t\t買い換え\n\t\t\t\t\t9/12~26(木)\n\t\t\t\t\t\tQ-SL2 + Key (△4,500)\n\t\t\t\tダブルチャンスCP(12月予定)\n\t\t\t\t\t50名タダ、を計画予定\n\t\t\t営業施策状況\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t原田枠\n\t\t\t今週はお休みです\n\t\t開発\n\t \tKing CU改善ネタ。優先度つけました\n\t\t\t https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t\tECOモード対応（電池二倍）\n\t\t\t\tサーバー、アプリとも完了。あとはストアでポチればアプリが公開される\n\t\t\tオートロック設定の有効期間設定の対応\n\t\t\t\thiroさんにハンドリングをお願いしました\n\t\t\t\tWebフロント/バックエンドの対応が必要。CU (BCU) は必要なし\n\t\t\t\t\tなるほど了解です。やるとしたら自分の方で両方対応します[ymtk.icon]\n\t\t\t\t詳細は開発チームで話しますが、1ヶ月以上かかりそうです\n\t\t\t新OS対応は、iOSのみ進めます。Androidはリソース的に厳しいので、あとまわしに\n\t\t\t\tandroidアプデ待ってねメールは必要そう[ymtk.icon] >> 中野さん\n\t\tCD マユト枠\n\t\t\t受付期間：8/20〜9/6（14営業日）\n\t\t\t請求の完了数：245（9/6）\n\t\t\tマスターキーアカウント確認：24件（9/10時点）\n\t\t　\t10人に1人が購入\n\t\t　\t請求〜購入までに要した時間調査する\n\t\t　\t次は、store購入に繋がる施策提げて増刷交渉\n\t\t　　\t（ある程度入力ボリュームがある、写真がある、など）アンケートに対しての割引であれば自然\n\nQRコードからqrio storeへの流入数：34\n[https://gyazo.com/13c6caf8c14505415787ea49821f5d68]\n[https://gyazo.com/509dada0b210a148796079d74690634a]\n\n\nstore流入が金 or 土に集中。\n\n\tBlog\n[https://gyazo.com/f9d00c1935f469da0b21c84e947113ad]\n\n\n\n[https://gyazo.com/88354010f8981eae7c94ebfb1bf3b364]\n\t「スマートロック  比較」の流入低い\n\n[https://gyazo.com/e1bc682cf06d0c2180acde0d47155e89]\n検索順位7位\n\n\n[** NEXT]\n\t12月-1月（年末）施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n# ペパクラ施策 vol.1 9/20\ncreated_at:Mon Jan 19 1970 12:49:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:56:26 GMT+0900 (日本標準時)\nペパクラ施策 vol.1 9/20\n\n前回\n[ペパクラ施策 vol.1 9/18]\n\n\t年末商戦11中旬から仕込むから、その辺りで施策終えたい\n\t露出を強めてくので300→600巻く方向で\n\n\t600部巻く方法\n\t\thttps://qrio.me/smartlock/design　に導線追加\n\t\taplusのカギ対応一覧の隅っこに、ペパクラあるよ！の表記追加\n\t\tQrio Lock Blogで記事作成\n\t\t\t後々リスクになる気もするので、やるならリスクマネジメントしてから\n\n\tCV15%以上達成する方法\nクーポン有効期間：10/15〜\n\n\tCV上げる方法に振り切るべき\n\t\t買おうと思ってる人の後押し\n\n\tアンケートのメリット\n\t\tペパクラ改善\n\t\t値引きをするための言い訳\n\n\tアンケート修正\n\t\tペーパークラフトはカギにつきましたか？削除\n\t\tペーパークラフト組み立てにかかった時間（必須）\n\t\t写真添付の後に、ペーパークラフトへのご意見があればお願いします。（必須でなくて良い）\n\n\t取付可能な人に特典があります！で「QR」に促す\n\t\tアンケートへ\n\t\tどこで認知、ペパクラどうだった？\n\t\t\t謝礼を送れる既成事実を作る\n\t\tつかなかった方々への配慮、リスクマネジメント（市川）\n\t取付可能だと断定してる奴の母数を知りたい（鈴木）\n\n\t購入ページへの誘導について\n\t\tアンケート送信後の自動返信メール内に専用URL記載\n\t\tURL知ってれば誰でも入れてしまう\n\t\tアンケート答えた人と購入者の照合方法（アンケート答えた人が損する事になる）\n\t\t\t松案：ユニークでクーポンコード配れると楽\n\t\t\t竹案：パスコードに期限をつける（できるか謎）[ichikawa.icon]\n\t\t\t梅案：URLの有効期限だけ決めてしまう\n\n\t期限つけると何が良い？\n\t\t期間ごとの効果測定がしやすい\n\n\t購入ルール\n\t\tお一人様2台まで\n\n\nNA\n\tアンケート答えた人と購入者の照合方法（市川、鈴木）\n\tアンケート修正版（市川）\n\n\t次回MTG 9/25 13:00〜\n\n##ペパクラ #toC\n\n# Dev MTG 2019/9/24\ncreated_at:Mon Jan 19 1970 12:55:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:55:09 GMT+0900 (日本標準時)\nDev MTG 2019/9/24\n[https://cosme-tantei.com/wp-content/uploads/2019/02/summer.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n[** 連絡事項]\n\t各OSのリリース日\n\t\thttps://www.gizmodo.jp/2019/09/198609.html\n\t\tcode:os\n\t\t iOS 13：9月19日\n   watchOS 6：9月19日\n   iOS 13.1：9月30日\n   iPadOS 13：9月30日\n   macOS Catalina：10月\n\tザワさんにandroid相談開始\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tNastaボールで進捗なし\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\t今週あたりからSNCのエンジニアも徐々に実作業に入っていけるっぽい\n \t\tサーバー x デバイス含めたアーキについて打ち合わせした\n \t\t\t課題と解決案とpros/consを出していく\n \t\t\t発行したekeyのkey_type(master_keyなりfamily_keyなり)をqrioアプリ側で消された場合でも開けれてしまうのどうするか\n \t\t\t\t毎回Qrioサーバーにコマンドを取りに来てほしい\n \t\t\t\tそもそも一度発行して上げてしまったら、回収（？）するのが困難\n \t\tたかひろとQBSで、Heltzさんの対応をスライドできないかと話をしてもらう。\n \t\t\tそうたろうくんのリソースが、GuardianとManomaでかぶってしまっている\n \t\t[MANOMAまとめ(随時更新)]\n\n[** Castle (yamakawa)]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n\n[** Sirius (kmi、hiro)]\n\t全体スケジュール\n\t\t10/1 カード決済リリース（その他細々）\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n\tsirius-api (mikamix)\n\t\tCSVアップロード実装中\n\tWebフロント(ymtk)[ymtk.icon]\n\t\tカード経由の新規登録done!\n\t\t\tその他周辺のカード界隈のフロントを対応予定\n\t\t省電力モードdone!\n\t\tその他、適宜必要なapiをはやしてます\n iOS [h.yamaguchi.icon]\n \t完\n Android (なし)\n オートロック設定の有効時間帯を指定できるようにする\n \tカギカン界隈（物流）でニーズあり。こうきちさん(営業)によると、顧客20件中8件が欲しい機能で、作ったら契約数10%上がる見込みだそうです。\n \t例えば「毎日7:00~10:00まではオートロックOFF、それ以外はON」など。\n \t他に、曜日も指定できるとか、いくつか検討事項あり。\n \t具体的なことはこれから決めていきます。\n \tWebフロント/バックエンドの対応のみになる見込み。CU (BCU) はなし。\n \thiroさんにハンドリングをお願いしました。\n `v1/m/change_settings` にオートロック変更を投げるだけじゃダメなので注意[ymtk.icon]\n \tこれはあくまでHubの`beacon_interval`だけ\n[sirius-king api mtg 9/24]\n\n\n[** King]\n[* スマートスピーカー (kmi)] \n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n master_key削除できる管理ツール作成頼まれた\n \t９月中には実証テストしたい\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n  管理ツールの場合はミスが心配\n   シリアルじゃなくてUUIDなどで補完?\n   二重チェックするなど\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n and hostle さんとのコミュニケーションに、まりおくんと一緒に駒井くんがまざって入ることにする。\n\n[* CU (竹内、hiro)]\n\t新OS対応\n\t\t今日からSQA中。不具合があり次第順次対応します\n\t\t\tiOS, Androidアプリ合計12本。。。[h.yamaguchi.icon]\n\t\tAndroidの不具合\n\t\t\t緊急度高ければざーさんに外注相談する可能性ありますよsyncはTKとしました。[ymtk.icon]\n\t\t\t\tしました。[ymtk.icon]\n\t\t\tメール出してもらう→完了\n\t\t\t\tふかざわ神にご降臨いただきました。不具合対応中[takeuchi.icon]\n\t\t\t\t\tすごい[h.yamaguchi.icon]\n\t\tiOSの不具合\n\t\t\tiOS13で位置情報周りの権限取得方法が変更されたためその対応が必要\n\t\t\t\t対応完了してQA中でございます[h.yamaguchi.icon]\n\t\t\t\t\t審査も完了\n\t\t\t\tメール出してもらう→完了\n\t\t\tiOS13でPUSH通知が飛んでないらしい\n\t\t\t\tベータではないiOS13でQAチームにテストを依頼中\n\tCU改善ネタ (by c-team)\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t優先順位は決めましたが、対応は後回しかも。。\n\n[* Qrio Key x Wena(チャン, hiro, ymtk)]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tWena 待ち\n\t必要なもの\n\t ED25519の署名(機能)\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n\t二次試作が届きました\n\t\t明日13:00~、モデルルームで最後のWi-Fi電波測定します\n\tCoverity対応中\n\t FW部分は5~6件、SDK部分は300件\n\tヘルツさん作業に影響するFW不具合が少しあるので、修正版を10月頭に出します。\n残作業\n\tCI環境構築\n\tハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない。\n\t\t今、King CU iOSやってます (qb_setup_iosの扱いについて、hiroさんに相談したいことがある) 。\n\n[* Guardian 製造・制作系 (ymtk)]  \n\t2次試作-1 done!\n\t\tいくつか箱など修正事項があるので2−2あり\n 落下試験に向けた準備[ymtk.icon]\n \t束見本、VOIDシール手配済み\n \tデータはこれから作成\n アンテナの向き逆疑惑\n \t疑惑だけで結果大丈夫でした。ESP32のドキュメントが間違っていた\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールを利用できる。\n \t  リスクアセスメント -> 点数をつけてデータを作成しているところ\n   \t リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117をもらったので読んだ上、最小化する\n   セキュリティ運用設計 -> ソニー内部で発信している脆弱性のメールが来ているから、もう終わりな気がする。\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[* Qrio Lock お試し/レンタル(ymtk)]\n\t内製短期(R25)[ymtk.icon]\n\t\tあと1週間。今は60弱。\n\t協業長期（レンティオ）\n\t\t上のモノが返ってきてから。10月。\n\t第2回お試しキャンペーン\n\t\t10月以降 with NewsPicksで検討中。ymtkがいるうちにアプリケーション準備（マスタ替えるだけ）\n\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t運用などこれから設計\n\n[** Q-SL1/Q-ST1/カギカン1 (竹内、hiro)]\n\tQ-SL1 (新OS対応)\n\t\tiOS不具合\n\t\t\t２つのロックをシェアキーで受け取って、２つのロックを同時に操作でペアリングすることができない (既存バグ)\n\t\t\t位置情報を「次回確認」に設定すると、手ぶらで解錠の計測から先に進めない\n\t\t\t位置情報許可画面で「常に許可」の選択が行えないため、表示方法を見直してほしい\n\t\tAndroid不具合\n\t\t\t端末の位置情報の「許可しない」選択で時手ぶらで解錠設定を行うとアプリが落ちてしまう\n\t\t\tゲストキーで２つのロックを同時に操作をONにしている状態でオーナーキーから１つのロックを削除するとONが表示されたままになっている\n\n\tQ-ST1 (新OS対応)\n\t\tiOS不具合\n\t\t\t位置情報許可画面で「常に許可」の選択が行えないため、表示方法を見直してほしい\n\t\t\tタグのFWアップデートが一度も成功しない\n\t\t\t\t調査中\n\t\t\tタグの位置情報データが送信されていない\n\t\t\t\t調査中\n\t\tAndroid不具合\n\t\t\t位置情報で「許可しない」選択後、アプリを起動しても位置情報要求ダイアログが表示されていない\n\t\t\tバックグラウンドからのリモコンでカメラが起動してこない\n\t\t\tゲストタグの通知設定が対象外でマスタータグから解除して、再度共有してゲストタグの通知設定ボタンを押下するとアプリが落ちてしまう\n\t\t\tアプリをインストールした時アプリのアイコンが表示されていない\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \tGuardianが市場に出回るまでに対応すればいいので、当分後回し。忘れないようにだけする。\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n\n[** 情報システム (チャン)]\n Twilioの会社情報の更新\n\t\t作業担当者の運転免許証でおkと、Twilioの日本法人から回答。でも、通らなかったら、また連絡して。って言われた。\n 弊社の監査について、セキュリティ関係の研修を受けていないと監査が通らないので、アドバイザをやってます。\n CCPAの施行2020.1月になるので、対応を検討しています。\n \tUSAのマーケットから、アプリを取り下げたりしたらよくない? → 確認する\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** 消費税界隈(ymtk)]\n\t月額ただいま\n\t\t課金終了\n\tカギカン1\n\t\t謎の2%割引を始める\n\tカギカン2\n\t\t特に対応なし\n\tQrio Store\n\t\t9/30昼でメンテナンス→10%へ\n\n[** その他相談ほか]\n\n\n[** 健忘録]\n\tなし\n\n# sirius-king api mtg 9/24\ncreated_at:Mon Jan 19 1970 12:44:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:55:00 GMT+0900 (日本標準時)\nsirius-king api mtg 9/24\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 9/17]\n\n[* 参加者]\nymtk/topaz2/hiro/mikamix/kmi\n\n[* SQA]\nhttps://docs.google.com/spreadsheets/d/1tTip3WsAeZF6QNQDzmOy40RWMjXdEF6f9EPyzfrgaWw/edit##gid=0\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n 手が空いてる時にissue対応する\n\t https://github.com/qrioinc/king-api/issues/594\n\t  開発定例で話しましょう\n\t https://github.com/qrioinc/king-api/issues/596\n\t  siriusその他で使う前提\n\t  user_idからinvitationなしで招待\n\tリモートchange_settings機能追加\n\t 叩き方→https://github.com/qrioinc/king-api/issues/598\n\ntopaz2\n カード決済\n \t実装\n \t\tGET /invoice_histories\n \t\tGET /subscription_histories\n \t\tGET /admin/subscription_histories\n\t\t POST /subscription_histories\n\t\t正常系動作確認\n\nymtk[ymtk.icon]\n\tリリース！打ち上げやります\n\t\thttps://chouseisan.com/s?h=3d4e5ecab1624e87b070a6107ed0c2c0\n\t\t店決めはじめます→決め忘れていたので再度スケジューリングします→やるやる詐欺\n\tv: カード決済関連のview対応 done\n\t\tプラン表示切り替え\n\t\t請求書表示（一覧、詳細）\n\tv: カード登録時のバリデーション done\n\to: SQA 対処\n\to:  カード更新時のエラーハンドリング\n\t\t正常系はdone\n\to: csv読み込みからのゲスト登録\n\t\tapi待ち\n\to: 夜間自動オートロックonの顧客ヒアリング（これから）\n\t\t10/2 予定\n\t 一時間に一回のバッチとかで、レコードに登録された設定をなめてhubに設定変更を送るのがよいのではないか説\n\t 1分単位の指定とかは嫌だ\n\n[h.yamaguchi.icon]hiro\n\tiOS13対応予定 (kingなどが完了した後)\n\n[mikamix.icon]\n o: CSVインポート実装中\n  PR修正中\n\n[narico.icon] narico\n\tv: 改善系Issue　\n\t\t対応済み　https://github.com/qrioinc/sirius-console/issues/235\n\to: 特になし\n\n事業前提\n\tカード決済10/1(火)リリース\n\t QA中\n\n##sirius #定例 #sirius-apis\n\n# sirius-king api mtg 10/1(先行作成)\ncreated_at:Mon Jan 19 1970 12:54:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:54:59 GMT+0900 (日本標準時)\nsirius-king api mtg 10/1(先行作成)\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 9/24]\n\n[* 参加者]\nymtk/topaz2/hiro/mikamix/kmi\n\n[* SQA]\nhttps://docs.google.com/spreadsheets/d/1tTip3WsAeZF6QNQDzmOy40RWMjXdEF6f9EPyzfrgaWw/edit##gid=0\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n 手が空いてる時にissue対応する\n\t https://github.com/qrioinc/king-api/issues/594\n\t  開発定例で話しましょう\n\t https://github.com/qrioinc/king-api/issues/596\n\t  siriusその他で使う前提\n\t  user_idからinvitationなしで招待\n\tリモートchange_settings機能追加\n\t 叩き方→https://github.com/qrioinc/king-api/issues/598\n\ntopaz2\n カード決済\n \t実装\n \t\tGET /invoice_histories\n \t\tGET /subscription_histories\n \t\tGET /admin/subscription_histories\n\t\t POST /subscription_histories\n 色々PRレビュー\n\nymtk[ymtk.icon]\n\tリリース！打ち上げやります\n\t\thttps://chouseisan.com/s?h=3d4e5ecab1624e87b070a6107ed0c2c0\n\t\t店決めはじめます→決め忘れていたので再度スケジューリングします→やるやる詐欺\n\tv: カード決済関連のview対応 done\n\t\tプラン表示切り替え\n\t\t請求書表示（一覧、詳細）\n\tv: カード登録時のバリデーション done\n\to:  カード更新時のエラーハンドリング\n\t\t正常系はdone\n\to: csv読み込みからのゲスト登録\n\t\tapi待ち\n\to: 夜間自動オートロックonの顧客ヒアリング（これから）\n\t\t10/2 予定\n\t 一時間に一回のバッチとかで、レコードに登録された設定をなめてhubに設定変更を送るのがよいのではないか説\n\t 1分単位の指定とかは嫌だ\n\n[h.yamaguchi.icon]hiro\n\tiOS13対応予定 (kingなどが完了した後)\n\n[mikamix.icon]\n o: CSVインポート実装中\n  PR修正中\n\n[narico.icon] narico\n\tv：改善系Issue　\n\t\t対応済み　https://github.com/qrioinc/sirius-console/issues/235\n\n事業前提\n\tカード決済10/1(火)リリース\n\t QA中\n\nAkerunはそんなに競合ではない\n 日々の入退室とかNFCはつけられない\n ↑が不要な人達がターゲット\n なのでモノの管理がよく来る\n 倉庫系がおおい\n 物流とか\n\n##sirius #定例 #sirius-apis\n\n# ペパクラ施策 vol.1 9/13\ncreated_at:Mon Jan 19 1970 12:39:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:49:26 GMT+0900 (日本標準時)\nペパクラ施策 vol.1 9/13\n[** 施策リスト]\n\tstore 購入で15%OFF\n\tstore 購入でQrio Keyプレゼント\n\n施策は15%OFFを先行する。\nQrio Keyプレゼントはリスクが少ない状態で進めたい。\n\n割引プラン\nA：1台購入15%OFF、2台購入20%OFF\nB：1台購入20%OFF、2台購入25%OFF\n\nアンケートに協力してくれて取付可能な人→割引対象\nアンケートに協力してくれて取付不可な人→抽選でamazonギフト券当たる\n\n割引対象の条件：\n・アンケートに協力してくれた\n・取付可能だと断定できる写真を送ってもらう\n\n[** ペパクラ増刷状況]\n\t3000部発注済み\n\t納品は10月上旬\n\n[** 施策開始日]\n\t10/7（月）→10/15（月）が妥当かも\n\t10/1増税の影響で消費行動が冷え込んでるから\n\n\n[** 次回MTG]\n10/18（火）13:30〜\n[* 18までのNA]\n成田：販売台数、売り上げシミュレーション\n市川：アンケートたたき\n鈴木：スケジュール引き直し\n\n##ペパクラ #toC\n\n# ペパクラ施策 vol.1 9/18\ncreated_at:Mon Jan 19 1970 12:46:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:49:26 GMT+0900 (日本標準時)\nペパクラ施策 vol.1 9/18\n前回\n[ペパクラ施策 vol.1 9/13]\n\n[** 施策リスト]\n\tstore 購入で15%OFF\n\tstore 購入でQrio Keyプレゼント\n\n施策は15%OFFを先行する。\nQrio Keyプレゼントはリスクが少ない状態で進めたい。\n\n割引プラン\nA：1台購入15%OFF、2台購入20%OFF\nB：1台購入20%OFF、2台購入25%OFF\n\nアンケートに協力してくれて取付可能な人→割引対象\nアンケートに協力してくれて取付不可な人→抽選でamazonギフト券当たる\n\n割引対象の条件：\n・アンケートに協力してくれた\n・取付可能だと断定できる写真を送ってもらう\n\n[** ペパクラ増刷状況]\n\t3000部発注済み\n\t納品は10月上旬\n\n[** 施策開始日]\n\t10/7（月）→10/15（月）が妥当かも\n\t10/1増税の影響で消費行動が冷え込んでるから\n\n\n[** 次回MTG]\n10/18（火）13:30〜\n[* 18までのNA]\n成田：販売台数、売り上げシミュレーション\n市川：アンケートたたき\n鈴木：スケジュール引き直し\n\n##ペパクラ #toC\n\n# castle-product定例 8/6\ncreated_at:Mon Jan 19 1970 11:34:28 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:48:08 GMT+0900 (日本標準時)\ncastle-product定例 8/6 \n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n参加者\nryo / seki / jani / ymtk / kawakami  \n\n前回\n[castle-product定例 7/30]\n\n[* 事業]\n\t\n\n[* 開発・デザイン]\n\t新規開発は止めています\n\n[* CS]\n\t今週は特にありません\n\n[* 運用]\n\t特になし\n\n-- 前回 --\n[* その他]\n\t本定例、toB定例に組み込んだ方が良い？\t[ymtk.icon]\n\t回線、電源、ALという壁があるから、これを回避して売り込めるかの、別アプローチを考えていったほうがよい\n\t\t回線と電源を弊社で負担してみたりして、導入できるかどうかを試してみるのもありではないか。\n\tSmart Lockがついていることで、入居者、ひいてはオーナーの幸福度があがることが価値となる。\n\t\t上記の問題を解決するか、別途圧倒的な価値を見つけて、それを売り込む\n\t\tSmart Lockを導入することで、空室率下がることが価値なので、月額350円+電気代を負担することを呑んでもらえるといいなあ。\n\n\t現状のアプローチでは、Castleのユーザーを目標どおり増やすのは難しいと感じている\n\t\t管理会社ではなく、オーナーに直接販売するというアプローチで考えている\n\t\t\tコストを負担するのはオーナーなので、管理会社にアプローチするよりも、オーナーを説得するほうが筋が良さそう\n\t\t\tオーナーへ個別にアプローチするのは難しいので、管理会社経由で多くのオーナーさんに紹介してもらう機会を作りたい\n\t\tハブレス化が進んでいるので、それも視野に入れて提案をしてみる\n\t\t小額決済に対応するアプローチなども必要になってくると思われる\n\t\tオフラインで販売する場合も検討しているが、ログの初期化(Qrio Lockをまっさらな状態にする)が現状はできないので、難しい。\n\t\t\t例えば、Qrio Lockのアプリで、Bluetooth接続したQrio Lockの初期化をする機能があれば解決したりしないか?\n\t\t\t\tアプリで行うことを実現できるか、工数、実現性の検討をする必要がある。\n\t\t管理会社経由で訴求することと、オーナーに直接訴求することで売れるようになるかは、不明なのでわからない。\n\t\t\t戦略的に\n\t\t綿貫さん(だれだろう。どんな人?)にヒアリングする\n\n--\n[** 回線・電源なし時の想定ユーザーシナリオと価値]\nby [ymtk.icon]\ntgt / 不動産オーナー\n\t内見中はアプリのみで操作する\n\t[* 「アプリ内見でいいよ」が成立している前提]はmust\n\t\tHubがないので、操作＋電池状況もアプリ経由で情報取得\n\t\t緊急解錠、施錠はできない\n\t\tQrio Keyを受け渡すことになると、カギと同じ。むしろコストアップ\n\t入居したタイミングで、入居者が利用開始となる何かしらのフラグを立てるとファミリーキーを取得できる\n\t\tそのキー自体はアプリ間でやりとり\n\t\t取得すると入居前のロックのログは消える\n\t\t入居時にハブを刺し、退去時にハブを返す\n\t退去するときはオーナーのアプリ or Roomonから上記のカギを削除する\n\n[* 退去時ロックの初期化]\nwhy / 入居者が作っているオフラインキーがそのまま使えてしまうから\n\tplan1 / 直接ロックの前でBCU\n\tplan2 / ロックで（今はないけど）物理的スイッチを押して初期化\n\t\t内見の担当が実行できうる\n\tplan3 / 退去前に入居者が自らCUで初期化する\n\tplan4 / 退去前にオーナーがRoomonから遠隔でロックを初期化する\n\t\tハブがある状態。ただし、入居中に初期化されることになる\n\n[* そうなったときのRoomonの価値]\n\t入居・退去モードのあるロック\n\t\t大崎電気にあるパターン\n\tWebコンソールでの管理\n\t\t内見者向けに多くの合カギを発行できる\n\t\t多くの物件とロックの紐づけを管理できる\n\t\t入居者が利用しているかどうかは把握できる\n\t何かしらのapi利用権？\n\t\t物件別、業者別の内見回数管理を数えるとか。オーナーだと必要ないか。\n\n##castleプロダクト定例 #castle\n# joker 7月以降の本開発に向けて\ncreated_at:Mon Jan 19 1970 10:34:13 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:48:08 GMT+0900 (日本標準時)\njoker 7月以降の本開発に向けて\n[https://gyazo.com/6c1c005329000ad2b4f31be668f4bc12]\n\n[** タスク]\n 基礎検討＆sync\n \t逗子long mtg →済み\n \t\thttps://www.notion.so/ymtk/joker-planning-0d47a3752b6b47a4a6205ac4a2a4692e\n \t楢原さんとのsync\n \t\t出かけるときに必要な情報を知らされる体験とその価値とは\n \t\t\tディスプレイありきにならないよう、並行して考えた中でも最適なのがLockへのディスプレイ設置と言えるよう深掘る\n \t\t\tディスプレイがある暮らしの動画を作ろう\n \t\tと言いつつプロダクトアウトで魅力出すようなのもソニーはよくある\n \t\t\t失敗もありつつ、技術的なチャレンジ、ソニーしかできなそうだよね、と言う部分で斬新性出すのもよい\n \t井宮さんとのsync\n \t\t6/17週・予定調整中\n \t渡辺さんとのpre sync\n \t\t手つかず。遅くとも6月中には一度。井宮さんに相談。\n \t経営会議プレ\n \t\t手つかず。本年度の研究開発費を稟議取得する。既に出ている額。（4000万強）\n\n\t全体計画界隈\n\t\t開発費\n\t\t\tKingの開発費確認\n\t\t\tJokerの開発費（概算）検討\n\t\t\t\t初期開発費がどのくらいの割合か\n\t\tスケジュール\n\t\t\t何もしなければ2020年度末\n\t\t\t\t2020年中になんとかしたい。2018年6月から考えると2年半。\n\n\t仕様検討\n\t\t解除バリエーションのマッピング\n\t\tこれは少なくともやるだろリスト\n\t\t\t市川さん、叩き作成中\n\n\n##joker #議事録\n\n# Castle引き継ぎメモ\ncreated_at:Mon Jan 19 1970 12:47:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:48:02 GMT+0900 (日本標準時)\nCastle引き継ぎメモ\n文責[ymtk.icon]\n190919時点\n\n[** general]\n\t構成としてはapiサーバーとviewサーバーの2つ\n\t新規会社アカウントは管理ツールから発行可能。パスワード再発行も同様\n\t退会機能は未開発。DBの値を変更してログインできない形にする等が必要\n\tGraphQLのデバッグはpostmanを使うか、apiサーバーを立ち上げた時に一緒にできるplaygroundを使うのが便利\n\t\tstg環境ではアクセスキーの更新が必要。castleにログインしてchrome デバッグツールからlocalstrageに入っているキーを使うとよい。meクエリが取れればOK。\n\t\tplaygroundはこんな感じ\n\t\t\thttps://qiita.com/WooNoo/items/08e3ba1e19455c4a464a\n\n[* api]\n\tリポジトリ\n\t\thttps://github.com/qrioinc/castle-api\n\t特徴など\n\t\tts-nodeでtypescriptサーバーを動かしている\n\t\tview向けのapiエンドポイントとしてGraphQLを利用している\n\t\t\tいわゆるgetとその他で分かれる。前者はquery、後者はmutationが編集対象\n\t\tアプリ向け、電話解施錠はexpressなCRUD\n\t\tdockerで開発しているが、castleのdocker-imageは共通管理していない。\n\t\t\tkingのimageは持ってきている\n\t\t\tただしローカル開発の場合、kingに対するauth0の認証が使えない\n\t\t操作ログは各種db更新処理の際に並行して実施し、castle内にためている\n\t\tアラートはkingからpostされる操作ログを元に作成している\n\t運用上の注意\n\t\t容易にパッケージアップデートをすると型問題で詰むことがあるのでドキュメントは読むこと\n\t\t\t大体書き換え手順が記載してある。import方法の違い、定義ファイルの書き方など\n\t\t\t型問題はある場合はHerokuでビルドエラー出るためすぐ気づける\n\t\t環境構築して立ち上がらない場合はおそらくdbエラーなのでmigrateする\n\t\t\tcode:bash\n\t\t\t yarn migration:run\n\t\t\t yarn seed\n\t\t\tyarnコマンドの実態は`package.json`を参照のこと\n\n[* view]\n\tリポジトリ\n\t\thttps://github.com/qrioinc/castle-console\n\t特徴など\n\t\tvue-cli3で構築している。vue-cliでサーバを立てて開発するのが楽。\n\t\t\thttps://cli.vuejs.org/\n\t\t\tcode: sh\n\t\t\t\t## サーバを立てるコンソールの立ちあげ\n\t\t\t\tvue ui\n\t\tGraphQLへのアクセス用にapolloを使っている\n\t\t\tクエリ定義ファイルを作成してサーバへアクセス\n\t\t\tapolloの思想は基本的にキャッシュしていくので、ユーザー情報を行き来する際などは強制更新の処理を入れている\n\t\tvueファイルはコンポーネント単位で分割\n\t\tルーティングはvue-routerを利用\n\t\tcssフレームワークはtailwind。マージンなどはおおよそこれで対応できる\n\t\tstorybookについてはリリース後更新していない\n\t運用上の注意\n\t\tHerokuでビルドしているため、stgの環境からprodへpromoteしてはいけない\n\t\t\tビルドした時点でenvの内容を内包するため、promoteするとstgのenvを引きずってしまいstgのapiを向いてしまう。必ず直接デプロイすること(Herokuの仕様）\n\t\t\t画面を開いている状態でapiやconsoleのデプロイすると表示が崩れる（特定のchunkにあるjs等が呼べなくなるなどがあるため）。不動産顧客影響の比較的少ない水曜にデプロイしている。リロードすれば直る。\n\n[* ope（管理ツール）]\n\tリポジトリ\n\t\thttps://github.com/qrioinc/castle-ope\n\t特徴など\n\t\tvue-cli3で構築している。必要に応じて機能追加しているが、まだアカウント作成とパスワードリセットくらいしかできない\n\t\tbasic認証でアクセス制限\n\n[* others ]\n\t[Castle 開発メモ]\n\n##ymtk開発引き継ぎメモ　#Castle\n\n# c-team定例 19/9/18\ncreated_at:Mon Jan 19 1970 12:45:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:46:25 GMT+0900 (日本標準時)\nc-team定例 19/9/18 \n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/knarita/ymtk/harada/ichikawa/nakano/takeuchi\n\n欠席\n\n前回\n[c-team定例 19/9/10]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** 前回のNEXT]\n\t電池2倍CPN直前確認\n\tSL1買い換え、電池＆価格方針確認\n\tR25アンケート内容レビュー\n\tR25ユーザー利用状況分析\n\tR25購入動線表示\n\t施策カレンダー 9-12月分\n\n--\n[* アジェンダ]\n\tお試し\n\t\t現状20件\n\t\t予測249件\n\t\t2割は休眠\n\t\tラスト1回、返却＆アンケート通知メール\n\t\t最終手段として電話はありうる\n\t\t\t10/15  までの請求で検討？\n\t\t\t千葉の人は確かにケアしてもいいかもね\n\tamazon\n\t\t最安値注視\n\t買い換え\n\t\t383台、来週金曜まで。見た目は500台。\n\t\t600台着地想定？\n\tペパクラ\n\t\t27件登録\n\t\t請求から購入して登録まで7日、長い人で17日\n\t\t増刷3000部、10月上旬\n\t\t体験アンケート経由で15％オフ、開始日は10/15\n\t\t\tアンケート謝礼が割引\n\tNewsPicks\n\t\tmanomaとがっつり組むまでは間に合わなそう\n\t\t家庭をアップグレードする的\n\t\t\t田端さん、藤原さん　or　ダイヤモンドユカイさん\n\t\t\tお試しキャンペーンの座組検討中\n\t年末商戦\n\t\t買い換えキャンペーン\n\t\tタクシー広告（仮）x  ホリエモン動画\n\t\t\tQRコードでクーポン付与\n\t\t\t11/25-2週間くらい\n\tその他\n\t\tドア次第だが量販店売場検討。\n\t\tレンティオ界隈、プレスリリースとQrioからの動線検討\n\n\n---\n[* アジェンダ2]\n\t中野枠\n\t\tGA\n[https://gyazo.com/5a7e33d38f34a1f43c4898119343baeb]\n\n\t\tご意見\n  \thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tお試し振返り\n\t　状況\n\t　\t購入20件(+10件)\n\t　\t返品33件(+20件)　※16台はマスター未登録\n\t　\t登録中のロック：386台で77%(±0)\n\t　\t\tマスター登録してないロック→103台\n\t　\t\tそのうち、16台が返品済。103-16=87台に対するアクションが必要\n\t　\tアクション\n\t　\t\t登録促進メール 1回目/2回目\n\t　\t\t登録促進ハガキ\n\t　\t\t　102通郵送済(9/12) \n\t　\t\t　3台が登録、6台が返品\n\t　\t\t　3連休は要因でない可能性が高い。認識していないか忙しいのか。。。\n\t　\t\t登録促進メール 3回目(planB)\n\t　\t\t ご好評につきみなさん購入いただいてますよ訴求\n\t　　お試しCP進捗190918 \n\t　　 https://docs.google.com/presentation/d/1CtH2OyZvCul6awsFV-dtv1tdXPpCl9HLkfbu3vvwX98/edit?usp=sharing\n\t　　お試しCP購入者予測\n\t　　　https://docs.google.com/presentation/d/1m-3jTJvPSV6Ike6q3NQC7s1r6vuSGZ_ORJXp01ikjaM/edit?usp=sharing\n\n\t　\t\t販売促進メール送信予定\n\t　\t\t\thttps://docs.google.com/presentation/d/1PkaM8MHV4w80b9fHgti2JVvm4elbsUZDAMa0R4a9gwk/edit?usp=sharing\n\t　\ttodo\n\t　\t 返品ユーザー＋購入ユーザーに対するアンケート回収\n\tお試し2ndに向けて\n\t\tNP企画[ymtk.icon]\n\t\t\t9/3 mtg予定\n\t\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t\t運用などこれから設計\n\t\tスケジュール検討\n\t\t\t10月中旬〜11月くらい\n\t電池2倍[ymtk.icon]\n\t\t水曜日に各所リリース。お知らせ+blog\n\t\t\t[2019/10 toC 電池2倍まわりの顧客コミュニケーション]\n\t\t\tお知らせ書いたのでご確認をお願いします[ichikawa.icon]\n\t（new）Wena + QrioKey[ymtk.icon]\n\t\tWenaをQrioKey化する。先方から相談あり、mtg予定。\n\t各自\n\t\t市川枠\n    Amazon施策をサイバーさんと取り組みます（確定）\n    \tページ案作成してもらっている\n    \t\tamazonの中でなんでここにないのページについての確認\n    \t\t\talexa対応デバイス一覧とか\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_10?ie=UTF8&node=5375221051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_t=101&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_i=5364388051\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_2?ie=UTF8&node=5364389051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_t=101&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_i=5375221051\n    アフィリエイトはバリューコマースさんとすすめます（確定）\n    \t10/1-11末、メディア側に払うのが¥4,500 x 2（50記事予定）\n    \t12-2末、メディア側に払うのが¥2,250、のち¥1,500\n　　　　買い替えCPN\n　　　　　HTMLメルマガ仕上げ中\n　　　　　ページをまゆしさんに作ってもらったので商品コード入力する\n　　　　　ロジテム共有予定\n　　　　　まゆしさんページC-teamに共有します\n\t\t営業 / 成田枠\n\t\t\tトータル\n\t\t\t\t996台（先月1,200台）\n\t\t\t\t\tうちEC850台に対して、amazon560台（先月と同じ）\n\t\t\t\t\t単体として伸びたわけではない\n\t\t\t\t\tそもそもの店舗側の販売数を伸ばす施策が大事\n\t\t\t\t特筆して20店舗くらいに対する集中施策ができないか（total100万とかで）\n\t\t\t\t\t売場への投資（各店舗に対して）\n\t\t\t\t\t2月にギフトショーがあり、スマートホームカテゴリがあるので明日見てくる\n\t\t\t\t\tドア含めた展示スペース、展示方法の確保（モデル店舗作り）\n\t\t\t\t価格調整してから順位が5000まで下がることも\n\t\t\t\t\tここについてBtoB影響あるが、調整しない方がいい？\n\t\t\t\t買い換え\n\t\t\t\t\t9/12~26(木)\n\t\t\t\t\t\tQ-SL2 + Key (△4,500)\n\t\t\t\tダブルチャンスCP(12月予定)\n\t\t\t\t\t50名タダ、を計画予定\n\t\t\t営業施策状況\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t原田枠\n\t\t\t今週はお休みです\n\t\t開発\n\t \tKing CU改善ネタ。優先度つけました\n\t\t\t https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t\tECOモード対応（電池二倍）\n\t\t\t\tサーバー、アプリとも完了。あとはストアでポチればアプリが公開される\n\t\t\tオートロック設定の有効期間設定の対応\n\t\t\t\thiroさんにハンドリングをお願いしました\n\t\t\t\tWebフロント/バックエンドの対応が必要。CU (BCU) は必要なし\n\t\t\t\t\tなるほど了解です。やるとしたら自分の方で両方対応します[ymtk.icon]\n\t\t\t\t詳細は開発チームで話しますが、1ヶ月以上かかりそうです\n\t\t\t新OS対応は、iOSのみ進めます。Androidはリソース的に厳しいので、あとまわしに\n\t\t\t\tandroidアプデ待ってねメールは必要そう[ymtk.icon] >> 中野さん\n\n\tペーパークラフト\n\t\t1st\n\t\t\t請求の完了数：245（9/6）\n  \tマスターキーアカウント確認：24件→27件（9/18時点）\n\t\t\tROI：-47%\n\t\t\t\tイニシャル（開発費）がかかり、最小ロットで検証したため\n\t\t\t請求から登録作業まで：平均6.9日\n\t\t[https://gyazo.com/445c0c03b307c8ae728069bf5540cdf5]\n\t\t2nd\n\t\t\t3,000部増刷決定\n\t\t\t\t10月上旬納品\n\t\t\t\t施策内容やOPP袋への同梱物差し替えなど行い、刺さる切り口してみる\n\t\t\t施策\n\t\t\t\tペパクラ体験アンケート答えたらstore購入15%OFF（仮）\n\t\t\t\t\t10/15（月）施策開始（仮）\n\t\t\t\t\t300部？ or 600部？\n\t\t\t\t\t取り付けられないと判断した人にどのようにアンケート協力してもらうか？\n\tQrio Lock Blog\n[https://gyazo.com/f9d00c1935f469da0b21c84e947113ad]\n\n\t検索パフォーマンス\n\t\t表示回数は徐々に増えている\n\t\tクリック数に大きな変化なし\n[https://gyazo.com/f3dc8ecb643968fc9fc46c2b7d35ea5f]\n\n[https://gyazo.com/7a1dc96ea8d8a46a13767a23450b9821]\n\t「スマートロック  比較」の流入低い\n\t\t1位の記事：sesame推し\n\t\t2位の記事：Qrio推し\n\n[** NEXT]\n\t12月-1月（年末）施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/knarita/ymtk/ichikawa/nakano/takeuchi\n\n欠席\nharada\n\n前回\n[c-team定例 19/9/2]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** 前回のNEXT]\n\t電池2倍CPN直前確認\n\tSL1買い換え、電池＆価格方針確認\n\tR25アンケート内容レビュー\n\tR25ユーザー利用状況分析\n\tR25購入動線表示\n\t施策カレンダー 9-12月分\n\n[* アジェンダ2]\n\t中野枠\n\t\tGA\n[https://gyazo.com/a92120d515ff37990eeaa51575f064b8]\n\n\n\t\tご意見\n  \thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tお試し振返り\n\t　状況\n\t　\t購入11件(+6件)\n\t　\t返品13件　※6ユーザーは登録もしていない状態、3名ほどマスター削除せずに返却\n\t　\t\t別件で楢原さんに4台渡す案件があるので、ここから出します[ymtk.icon]\n\t　\t登録77%(+4%)\n\t　\t\t土日で10件+→385件（残り114件）\n\t　\tアクション\n\t　\t\t設置してください\n\t　\t\t\tこんなことができますよ、困っていたらお知らせください\n\t　\t\t\t\t先々週、水木金に分けて送信はしている\n\t　\t\t\t　先週末に未登録ユーザーに再送\n\t　\t\t\t　100人くらいいてやばい。DM（はがき）する？送るなら3連休前の金曜着。今週中に決めます(中野・市川)\n\t　\t\t\t　\t62円\n\t　\t\t\t　\tPlanAはDM、PlanBは･･･？\n\t　\t\t\t　\t\t仮説としては、普通に認識していないか、3連休か。3連休ならまとめて設定動画リンク送ってこれでもかとフォローする。これ以降はもはやフォローしにくい。[ymtk.icon]\n\t　\t\t\t　\t\tご好評につき、既に7-8割のお客様が設置していますよ、既に購入されている方がいらっしゃいますよ（こっちは弱い？）なども表現としてはある。あなた遅れてますよ訴求。\n\t　\t\t販売促進メール送信予定\n\t　\t\t\thttps://docs.google.com/presentation/d/1PkaM8MHV4w80b9fHgti2JVvm4elbsUZDAMa0R4a9gwk/edit?usp=sharing\n\tお試し2ndに向けて\n\t\tNP企画[ymtk.icon]\n\t\t\t9/3 mtg予定\n\t\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t\t運用などこれから設計\n\t\tスケジュール検討\n\t\t\t10月中旬〜11月くらい\n\t電池2倍[ymtk.icon]\n\t\t水曜日に各所リリース。お知らせ+blog\n\t\t\t[2019/10 toC 電池2倍まわりの顧客コミュニケーション]\n\t\t\tお知らせ書いたのでご確認をお願いします[ichikawa.icon]\n\t（new）Wena + QrioKey[ymtk.icon]\n\t\tWenaをQrioKey化する。先方から相談あり、mtg予定。\n\t各自\n\t\t市川枠\n    Amazon施策をサイバーさんと取り組みます（確定）\n    \tページ案作成してもらっている\n    \t\tamazonの中でなんでここにないのページについての確認\n    \t\t\talexa対応デバイス一覧とか\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_10?ie=UTF8&node=5375221051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_t=101&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_i=5364388051\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_2?ie=UTF8&node=5364389051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_t=101&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_i=5375221051\n    アフィリエイトはバリューコマースさんとすすめます（確定）\n    \t10/1-11末、メディア側に払うのが¥4,500 x 2（50記事予定）\n    \t12-2末、メディア側に払うのが¥2,250、のち¥1,500\n　　　　買い替えCPN\n　　　　　HTMLメルマガ仕上げ中\n　　　　　ページをまゆしさんに作ってもらったので商品コード入力する\n　　　　　ロジテム共有予定\n　　　　　まゆしさんページC-teamに共有します\n\t\t営業 / 成田枠\n\t\t\tトータル\n\t\t\t\t996台（先月1,200台）\n\t\t\t\t\tうちEC850台に対して、amazon560台（先月と同じ）\n\t\t\t\t\t単体として伸びたわけではない\n\t\t\t\t\tそもそもの店舗側の販売数を伸ばす施策が大事\n\t\t\t\t特筆して20店舗くらいに対する集中施策ができないか（total100万とかで）\n\t\t\t\t\t売場への投資（各店舗に対して）\n\t\t\t\t\t2月にギフトショーがあり、スマートホームカテゴリがあるので明日見てくる\n\t\t\t\t\tドア含めた展示スペース、展示方法の確保（モデル店舗作り）\n\t\t\t\t価格調整してから順位が5000まで下がることも\n\t\t\t\t\tここについてBtoB影響あるが、調整しない方がいい？\n\t\t\t\t買い換え\n\t\t\t\t\t9/12~26(木)\n\t\t\t\t\t\tQ-SL2 + Key (△4,500)\n\t\t\t\tダブルチャンスCP(12月予定)\n\t\t\t\t\t50名タダ、を計画予定\n\t\t\t営業施策状況\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t原田枠\n\t\t\t今週はお休みです\n\t\t開発\n\t \tKing CU改善ネタ。優先度つけました\n\t\t\t https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t\tECOモード対応（電池二倍）\n\t\t\t\tサーバー、アプリとも完了。あとはストアでポチればアプリが公開される\n\t\t\tオートロック設定の有効期間設定の対応\n\t\t\t\thiroさんにハンドリングをお願いしました\n\t\t\t\tWebフロント/バックエンドの対応が必要。CU (BCU) は必要なし\n\t\t\t\t\tなるほど了解です。やるとしたら自分の方で両方対応します[ymtk.icon]\n\t\t\t\t詳細は開発チームで話しますが、1ヶ月以上かかりそうです\n\t\t\t新OS対応は、iOSのみ進めます。Androidはリソース的に厳しいので、あとまわしに\n\t\t\t\tandroidアプデ待ってねメールは必要そう[ymtk.icon] >> 中野さん\n\t\tCD マユト枠\n\t\t\t受付期間：8/20〜9/6（14営業日）\n\t\t\t請求の完了数：245（9/6）\n\t\t\tマスターキーアカウント確認：24件（9/10時点）\n\t\t　\t10人に1人が購入\n\t\t　\t請求〜購入までに要した時間調査する\n\t\t　\t次は、store購入に繋がる施策提げて増刷交渉\n\t\t　　\t（ある程度入力ボリュームがある、写真がある、など）アンケートに対しての割引であれば自然\n\nQRコードからqrio storeへの流入数：34\n[https://gyazo.com/13c6caf8c14505415787ea49821f5d68]\n[https://gyazo.com/509dada0b210a148796079d74690634a]\n\n\nstore流入が金 or 土に集中。\n\n\tBlog\n[https://gyazo.com/f9d00c1935f469da0b21c84e947113ad]\n\n\n\n[https://gyazo.com/88354010f8981eae7c94ebfb1bf3b364]\n\t「スマートロック  比較」の流入低い\n\n[https://gyazo.com/e1bc682cf06d0c2180acde0d47155e89]\n検索順位7位\n\n\n[** NEXT]\n\t12月-1月（年末）施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n# iOS13 / Android 10 影響と対応(2019/9/17)\ncreated_at:Mon Jan 19 1970 12:45:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:45:07 GMT+0900 (日本標準時)\niOS13 / Android 10 影響と対応(2019/9/17)\n文責：[ymtk.icon]\n\n[* 概要]\n\tiOS、Androidともに位置情報のパーミッションが変更となり、「常に有効」のような設定が簡単にできなくなる\n\t\tiOS: これまでは「常に有効」をアプリ上で選択可能。これを選択肢に容易に出せなくなる。\n\t\tandroid: これまではON/OFF。これが複数の選択肢になる\n\tこれまでなかった選択肢が必要になるため、UIだけでなく挙動にも影響が出る\n\t製品&機能範囲が広く、根本対応にはしばらく時間がかかる（ここ1-2ヶ月くらい）\n\n[* 対象]\n\tQ-SL1\n\t\tハンズフリー解錠が動作しない\n\tQ-SL2\n\t\tハンズフリー解錠が動作しない\n\tQ-ST1\n\t\t位置情報の記録&送信されない\n\n[* 想定対応]\n\tユーザー向けのメール通知（CS川上さん文言作成中）\n\t最新OSにアップデートした場合の対処（hiroさん調査中）\n\t\t各OSで最低限利用できるようにする手段の提示\n\t\t多くの場合は、OSの設定画面から位置情報を「常に有効」へ切り替え\n\n# Dev MTG 2019/9/17\ncreated_at:Mon Jan 19 1970 12:44:46 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:45:03 GMT+0900 (日本標準時)\nDev MTG 2019/9/17\n[https://cosme-tantei.com/wp-content/uploads/2019/02/summer.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n[** 連絡事項]\n\t各OSのリリース日\n\t\thttps://www.gizmodo.jp/2019/09/198609.html\n\t\tcode:os\n\t\t iOS 13：9月19日\n   watchOS 6：9月19日\n   iOS 13.1：9月30日\n   iPadOS 13：9月30日\n   macOS Catalina：10月\n ついてこれないやつらは薙ぎ払え!!![hazimetyan.icon]\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tNastaボールで進捗なし\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\tekeyをAIHGWに内包してあけるパターンでやる方向になった\n \t\t\tBLE部分を実装中[takeuchi.icon]\n \t\t\t発行したekeyのkey_type(master_keyなりfamily_keyなり)をqrioアプリ側で消された場合でも開けれてしまうのどうするか\n \t\t\t\t毎回Qrioサーバーにコマンドを取りに来てほしい\n \t\t\t\tそもそも一度発行して上げてしまったら、回収（？）するのが困難\n \t\t\t\tどうにも、Manomaのハードが終わるのが、10.22ぐらいっぽいよ。\n \t\t\t\t\tManomaのスケジュールを確認するよ[hazimetyan.icon]\n \t\t[MANOMAまとめ(随時更新)]\n \t\tデバイスのエンジニアもサーバーのエンジニアもいねぇ！\n\n[** Castle (yamakawa)]\n\t開発停止中。\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n\n[** Sirius (kmi、hiro)]\n\t全体スケジュール\n\t\t10/1 カード決済リリース（その他細々）\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n\tsirius-api (mikamix)\n\t\tCSVアップロード実装中\n\tWebフロント(ymtk)[ymtk.icon]\n\t\tカード経由の新規登録done!\n\t\t\tその他周辺のカード界隈のフロントを対応予定\n\t\t省電力モードdone!\n\t\tその他、適宜必要なapiをはやしてます\n iOS [h.yamaguchi.icon]\n \t完\n Android (なし)\n オートロック設定の有効時間帯を指定できるようにする\n \tカギカン界隈（物流）でニーズあり。こうきちさん(営業)によると、顧客20件中8件が欲しい機能で、作ったら契約数10%上がる見込みだそうです。\n \t例えば「毎日7:00~10:00まではオートロックOFF、それ以外はON」など。\n \t他に、曜日も指定できるとか、いくつか検討事項あり。\n \t具体的なことはこれから決めていきます。\n \tWebフロント/バックエンドの対応のみになる見込み。CU (BCU) はなし。\n \thiroさんにハンドリングをお願いしました。\n `v1/m/change_settings` にオートロック変更を投げるだけじゃダメなので注意[ymtk.icon]\n \tこれはあくまでHubの`beacon_interval`だけ\n[sirius-king api mtg 9/24]\n\n\n[** King]\n[* スマートスピーカー (kmi)] \n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n and hostelさんとのコミュニケーションが発生している\n change_settingsコマンド発行api作成頼まれた\n \tデプロイ済み\n \t叩き方→https://github.com/qrioinc/king-api/issues/598\n master_key削除できる管理ツール作成頼まれた\n \t９月中には実証テストしたい\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n and hostle さんとのコミュニケーションに、まりおくんと一緒に駒井くんがまざって入ることにする。\n\n[* CU (竹内、hiro)]\n\t省電力モード\n\t\thttps://docs.google.com/presentation/d/1q0x1Ww1G6mXdzKpcqnoBHmcgCbPw6OQuROcZ6WK2n8s\n\t\tリリースされました！！\n\t新OS対応\n\t\t今日からSQA中。不具合があり次第順次対応します\n\t\t\tiOS, Androidアプリ合計12本。。。[h.yamaguchi.icon]\n\t\tAndroidの不具合\n\t\t\tリソースがないので後回し[takeuchi.icon]\n\t\t\t\t緊急度高ければざーさんに外注相談する可能性ありますよsyncはTKとしました。[ymtk.icon]\n\t\t\t\tメール出してもらう\n\t\tiOSの不具合\n\t\t\tiOS13で位置情報周りの権限取得方法が変更されたためその対応が必要\n\t\t\t\t対応完了してQA中でございます[h.yamaguchi.icon]\n\t\t\t\tメール出してもらう\n\tCU改善ネタ (by c-team)\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t優先順位は決めましたが、対応は後回しかも。。\n\n[* Qrio Key x Wena(チャン, hiro, ymtk)]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tキックオフした。テスト基板もらいます。\n\t\tQBS側は大西さん \n\t\t一次試作は2020/1予定（これに間に合わないと死ぬ、とかではない）\n\t必要なもの\n\t ED25519の署名(機能)\n\t ED25519の秘密鍵を保持(32byte)\n http://www.arrowjapan.com/blog/pickup/19877/\n\t\t消費電力が1/10だが、BLEの機能に制約があるらしいので、確認が必要。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n\tSQA中。新OS対応と同時並行。\n\tCoverity対応中\n\t FW部分は5~6件、SDK部分は300件\n\t工場の書き込みスクリプト（ヘルツさん作成分）のための、不具合修正版FWを今日渡します\n残作業\n\tCI環境構築\n\tハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない\n\t\t他はまだだが、対応は9月中でもよい\n\t\t\tもっとあとになるかも\n\t\t今、King CU iOSやってます (qb_setup_iosの扱いについて、来週あたりにhiroさんに相談したいことがある) 。\n\t\t\tQrio行くとき連絡します。  \n生産が遅れる件\n\tRC, GMは遅れない\n\tヘルツさんに、ハードウェアそのものの問題がない、と判定できれば、他のものは後ろにずらせるのでは？　となっている。\n\tQrio的にはMANOMA優先。\n\n[* Guardian 製造・制作系 (ymtk)]  \n 落下試験に向けた準備[ymtk.icon]\n \t束見本、VOIDシール手配済み\n \tデータはこれから作成\n アンテナの向き逆疑惑\n \t疑惑だけで結果大丈夫でした。ESP32のドキュメントが間違っていた\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールを利用できる。\n \t  リスクアセスメント -> 点数をつけてデータを作成しているところ\n   \t リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117をもらったので読んだ上、最小化する\n   セキュリティ運用設計 -> ソニー内部で発信している脆弱性のメールが来ているから、もう終わりな気がする。\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[* Qrio Lock お試し/レンタル(ymtk)]\n\t内製短期(R25)[ymtk.icon]\n\t\t先週末にはがき送付で設定訴求したがそこまで動かず\n\t協業長期（レンティオ）\n\t\t上のモノが返ってきてから。10月。\n\t第2回お試しキャンペーン\n\t\t10月以降 with NewsPicksで検討中。ymtkがいるうちにアプリケーション準備（マスタ替えるだけ）\n\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t運用などこれから設計\n\n[** Q-SL1/Q-ST1/カギカン1 (竹内、hiro)]\n\tQ-SL1 (新OS対応)\n\t\tiOS不具合\n\t\t\t２つのロックをシェアキーで受け取って、２つのロックを同時に操作でペアリングすることができない (既存バグ)\n\t\t\t位置情報を「次回確認」に設定すると、手ぶらで解錠の計測から先に進めない\n\t\t\t位置情報許可画面で「常に許可」の選択が行えないため、表示方法を見直してほしい\n\t\tAndroid不具合\n\t\t\t端末の位置情報の「許可しない」選択で時手ぶらで解錠設定を行うとアプリが落ちてしまう\n\t\t\tゲストキーで２つのロックを同時に操作をONにしている状態でオーナーキーから１つのロックを削除するとONが表示されたままになっている\n\n\tQ-ST1 (新OS対応)\n\t\tiOS不具合\n\t\t\t位置情報許可画面で「常に許可」の選択が行えないため、表示方法を見直してほしい\n\t\t\tタグのFWアップデートが一度も成功しない\n\t\t\tタグの位置情報データが送信されていない\n\t\tAndroid不具合\n\t\t\t位置情報で「許可しない」選択後、アプリを起動しても位置情報要求ダイアログが表示されていない\n\t\t\tバックグラウンドからのリモコンでカメラが起動してこない\n\t\t\tゲストタグの通知設定が対象外でマスタータグから解除して、再度共有してゲストタグの通知設定ボタンを押下するとアプリが落ちてしまう\n\t\t\tアプリをインストールした時アプリのアイコンが表示されていない\n\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon] (進捗なし)\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n \t9月中対応を目標に進める。[takeuchi.icon]\n \t\tもう少しあとになるかも。\n\n[** 情報システム (チャン)]\n Twilioの会社情報の更新\n\t\t作業担当者の運転免許証でおkと、Twilioの日本法人から回答。でも、通らなかったら、また連絡して。って言われた。\n 弊社の監査について、セキュリティ関係の研修を受けていないと監査が通らないので、アドバイザをやってます。\n CCPAの施行2020.1月になるので、対応を検討しています。\n \tUSAのマーケットから、アプリを取り下げたりしたらよくない? → 確認する\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** 消費税界隈(ymtk)]\n\t月額ただいま\n\t\t課金終了\n\tカギカン1\n\t\t謎の2%割引を始める\n\tカギカン2\n\t\t特に対応なし\n\tQrio Store\n\t\t9/30昼でメンテナンス→10%へ\n\n[** その他相談ほか]\n\n\n[** 健忘録]\n\tなし\n\n# sirius-king api mtg 9/17\ncreated_at:Mon Jan 19 1970 12:44:53 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:44:55 GMT+0900 (日本標準時)\nsirius-king api mtg 9/17\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 9/10]\n\n[* 参加者]\nymtk/topaz2/hiro/mikamix/kmi\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n 手が空いてる時にissue対応する\n\t https://github.com/qrioinc/king-api/issues/594\n\t  開発定例で話しましょう\n\t https://github.com/qrioinc/king-api/issues/596\n\t  siriusその他で使う前提\n\t  user_idからinvitationなしで招待\n\tリモートchange_settings機能追加\n\t 叩き方→https://github.com/qrioinc/king-api/issues/598\n\ntopaz2\n カード決済\n \t調査\n \t\tカギカン１の仕様\n \t設計\n \t実装\n \t\tPOST /organizations\n \t\t決済履歴バッチ\n 色々PRレビュー\n\nymtk[ymtk.icon]\n\tリリース！打ち上げやります\n\t\thttps://chouseisan.com/s?h=3d4e5ecab1624e87b070a6107ed0c2c0\n\t\t店決めはじめます→決め忘れていたので再度スケジューリングします→やるやる詐欺\n\tv: カード決済 新規登録の部分をconsoleへのapi紐付けdone\n\tv: 省電力モード切替へのapi紐付けdone\n\to: カード決済関連のview対応\n\t\tプラン表示切り替え\n\t\t請求書表示とのapiつなぎ替え\n\to: 夜間自動オートロックonの顧客ヒアリング（これから）\n\t 一時間に一回のバッチとかで、レコードに登録された設定をなめてhubに設定変更を送るのがよいのではないか説\n\t 1分単位の指定とかは嫌だ\n\n[h.yamaguchi.icon]hiro\n\tiOS13対応予定 (kingなどが完了した後)\n\n[mikamix.icon]\n o: CSVインポート実装中\n  PRだします\n\n[narico.icon] narico\n\t支払い履歴＆領収書PDF\n\t\tマークアップしてプルリク\n\t改善系Issue　\n\t\thttps://github.com/qrioinc/sirius-console/issues/235\n\n\n事業前提\n\tカード決済10/1(火)リリース\n\t QA中\n\n##sirius #定例 #sirius-apis\n\n# IoT - dev 室長会 19/9/13\ncreated_at:Mon Jan 19 1970 12:39:06 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:39:25 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/9/13\n前回：[IoT - dev 室長会 19/8/30]\n\n[** 共有・相談ネタ]\n[* 全般]\n\tお試しキャンペーン[nakano.icon]\n\t\tマスター登録→499台中76%→9/12 未登録ユーザーへDM郵送済\n\t\tオートロック:オートロックなし＝209:175\n\t乗り換えCP\n\t 昨日時点で200ちょい\n\tQ-H1A しばらく量産しません\n\t\t12末くらいまで\n\t\tQ-H1生産調整進めてます。3月に1000台作って、4-6これから\n\tdevリソースについて\n\t\thttps://docs.google.com/spreadsheets/u/1/d/1poWK-oBdm3p4JhGp44QCX4psXqJJxH37AsK5p2EkP0w/edit##gid=676598306\n\n[* 製品開発]\n\t（山川さんお願いします）\n\t品川系開発\n\t\tリリース11月中旬\n\tHubなしCastleの状況？\n\t\t19x人日\n\n[* デザインコミュニケーション]\n\tQrio Lock Blog\n　\t記事生産の仕組み見直し\n　\t調査\n　　\t流入経路9割Direct\n　　\tSNS連動プラグイン\n　　　\tWP予約投稿ではなく直接投稿すると、SNS自動投稿される\n　　　　\tなぜかtwitterが2枚目の画像表示される\n\tペパクラ\n\t\t3000部増刷（納品10月上旬）\n\t\t\t施策のブリーフィング\n\tCastle 相談役\n\t\tAI・スマート住宅EXPO（9/25〜9/27）主担当：高濱さん\n\t\t\tKPI名刺交換らしが、ペルソナ詰まってないぞ？（どんな会社のどんな人の名刺取りたいのか）\n\t\t\tブースの設計業者も、デザインしづらそー\n\n\n[* CS推進]\n\t5日(木)からインターン:栗原さんjoin(週2：火曜・木曜)\n\t12月からPitCrew3席→1席へ減席→Pit-Crew八木さんとスケジュール相談中\n\tチャットボット導入検証\n\n[* 分析係]\n\tHubSpot運用開始\n\t sales starterにプラン変更検討する\n\n[* その他課題など（更新なし）]\n チャンが開発本部の仕事をほぼできていない( 'ᾥ' )[hazimetyan.icon]\n \tやっているのは、セキュリティ部、情報システム部、管理部、あたりで8割占めている。\n\t米澤さんのマネジメントはCD室 or CS どちらメインでやる？？[m.suzuki.icon]\n\t\tCD室で[ymtk.icon]\n\tymtkの引き継ぎ資料を9月中に制作し、後半くらいから各所やります\n\t開発環境トラブルは1人で解決できるようにならねば[m.suzuki.icon]\n\n##室長会 #議事録\n\n# 2019/10 消費税対策\ncreated_at:Mon Jan 19 1970 12:26:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:39:13 GMT+0900 (日本標準時)\n2019/10 消費税対策\n[** 提案]\n\t今後半年未満でクローズするサービスが主であり、税対応をしても開発工数を取り戻せるような差額はない。ROIを考えると、[* 開発不要な「割引」だけで乗り切りたい]\n\t\t月額ただいまキットもカギカン1のタイミングでクローズ想定\n\t\t割引もせず据え置きの場合は法律違反対象になる\n\t割引の場合、既存顧客向けに価格改定メールを送信\n\n[** 影響範囲]\n[* 要開発]\n\t基本的には売り上げ規模的にはシステム対応せず、割引対応がおすすめ\n\t\t「消費税分は頂きません」のような転嫁した表現はNG。あくまで偶然2％引くだけ\n\t月額ただいまキット\n\t\t月収入¥13,186 / ¥378/月\n\t\t\t税抜単価¥350\n\t\t\t顧客37名\n\t\t10%で価格変えない場合\n\t\t\t税抜¥344（2%引き）\n\t\t\t税を上げた場合との収入差 ¥▲244/月\n\t\tログイン用サーバ代で月¥1万弱\n\t\t9末のタイミングでクローズ、ものは渡す\n\tカギカン1\n\t\t月収入¥1,084,570円\n\t\t\t税抜単価¥4,980〜\n\t\t\t顧客152件（直販）\n\t\t10%で価格変えない場合\n\t\t\t税抜¥4,890〜（2%引き）\n\t\t\t税を上げた場合との収入差 ▲¥20,085/月\n\t\t\t\t3末クローズ予定（顧客により適宜調整）\n\tカギカン2\n\t\t課金10/1スタートであり、想定内\n\n[* 開発不要]\n\tQrio Store\n\t\tWelcartの税率マスタ変更が必要\n\t\t\tただし、税率は荷物が発送されたタイミングが基準\n\t\t\t\t9/30夕方に販売して発送が10/1の場合は、10%\n\t\t\t発送可能な9/30 昼時点で一時販売停止にし、ここで税率を変えると問題回避できる\n\n[** NEXT]\n\t月額ただいまキット終了文言[kk.icon]\n\tカギカン1割引と、価格表示確認[ymtk.icon]\n\tQrio Store 9/30オペレーションの確認(yuri)\n\n# Dev MTG 2019/9/10\ncreated_at:Mon Jan 19 1970 12:34:36 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:34:58 GMT+0900 (日本標準時)\nDev MTG 2019/9/10\n[https://cosme-tantei.com/wp-content/uploads/2019/02/summer.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t特になし\n\tymtk が育休で10/31 - 12/31\n\t\tこれは - 1/1 にするべき。会社の負担が減るよ!!\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tQrio社内で開発する方向で見積り中\n  \t\tソニー経営会議のネタ\n \t\t\t8月中に見積もり、9月に経営会議通す予定\n \t\t\t設計構想の準備\n \t\t\tリリース判定までのスケジュールを検討する\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\tekeyをAIHGWに内包してあけるパターンでやる方向になった\n \t\t\tBLE部分を実装中[takeuchi.icon]\n \t\t\t発行したekeyのkey_type(master_keyなりfamily_keyなり)をqrioアプリ側で消された場合でも開けれてしまうのどうするか\n \t\t\t\t毎回Qrioサーバーにコマンドを取りに来てほしい\n \t\t\t\tそもそも一度発行して上げてしまったら、回収（？）するのが困難\n \t\t[MANOMAまとめ(随時更新)]\n \t\tデバイスのエンジニアもサーバーのエンジニアもいねぇ！\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n\n[** Joker (ymtk)]\n\t9月になったので企画構想に向けて再起動\n\t\tが、まだ動けてないです[ymtk.icon]\n\n[** Castle (yamakawa)]\n\t開発停止中。\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\t全体スケジュール\n\t\t8/28(水): 1stリリース、富士物流向け(リモート解施錠、メール通知が必須)＆一般向け(合鍵、新規登録など)\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tguest_key直発行スキマ時間見つけてやる\n\t\t https://github.com/qrioinc/king-api/issues/596\n\tsirius-api (mikamix)\n\t\tadmin以下\n\t\t新規作成PRだん\n\t\t 変更\n\t\t 削除\n\tWebフロント(ymtk)[ymtk.icon]\n\t\tカード周りの実装開始\n\t\t代理店機能は作った（api、フロント共に）\n iOS [h.yamaguchi.icon]\n \t完\n Android [takeuchi.icon]\n \t完\n オートロック設定の有効時間帯を指定できるようにする\n \tカギカン界隈（物流）でニーズあり。こうきちさん(営業)によると、顧客20件中8件が欲しい機能で、作ったら契約数10%上がる見込みだそうです。\n \t例えば「毎日7:00~10:00まではオートロックOFF、それ以外はON」など。\n \t他に、曜日も指定できるとか、いくつか検討事項あり。\n \t具体的なことはこれから決めていきます。\n \tWebフロント/バックエンドの対応のみになる見込み。CU (BCU) はなし。\n \thiroさんにハンドリングをお願いしました。\n[sirius-king api mtg 9/3]\n\n\n[** King]\n[* スマートスピーカー (kmi)] \n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n and hostelさんとのコミュニケーションが発生している\n change_settingsコマンド発行api作成頼まれた\n \tリモートでビーコンON/OFF設定を変えたい(Sirius)\n \t\t電池残量2倍になるやつですねこれ[ymtk.icon]\n \t設定値をAPIの引数にして、バイナリを作ってコマンド発行できるようにしたい\n \t8月中を目標にしたい\n \t2lockのコマンド失敗した。でも8月中には出せそう。\n \t本日に省電力モードのAPIをデプロイする\n master_key削除できる管理ツール作成頼まれた\n \t９月中には実証テストしたい\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n dailyのexpires_inが1440以上で不具合がおきるパターン発生\n \thttps://github.com/qrioinc/king-api/issues/594\n \t サーバー側がロックに合わせる案を考えとく[komai.icon]\n \t簡単に説明すると0:00〜翌0:00設定(expires_in = 1440)でサーバーは0:00分から0分間は開けれると認識(つまり開かない)\n\n[* CU (竹内、hiro)]\n\t省電力モード\n\t\thttps://docs.google.com/presentation/d/1q0x1Ww1G6mXdzKpcqnoBHmcgCbPw6OQuROcZ6WK2n8s\n\t\tiOS:  あとはポチれば公開される[h.yamaguchi.icon]\n\t\tAndroid: あとはポチれば公開される[takeuchi.icon]\n\t\t今週末にプレスリリースとともに出す\n\t新OS対応\n\t\t今日からSQA中。不具合があり次第順次対応します\n\t\t\tiOS, Androidアプリ合計12本。。。[h.yamaguchi.icon]\n\t\tAndroidの不具合\n\t\t\tリソースがないので後回し[takeuchi.icon]\n\t\tiOSの不具合\n\t\t\tiOS13で位置情報周りの権限取得方法が変更されたためその対応が必要\n\t\t\t\t挙動の調査しています。対応方針を決める。[h.yamaguchi.icon]\n\t\t\t最新のxcodeでビルドするとモーダル遷移がセミモーダルになってしまう。king-cuはやけにモーダルで画面遷移している画面が多く最新Xcode-11でビルドするとほどんどの画面が崩壊している。\n\t\t\t\tここまで直すとかなり時間がかかりそうなので最新のXcode-11で位置情報の問題のみ修正して一旦Xcode-10でビルドしてストア提出しようかと検討中[h.yamaguchi.icon]\n\tCU改善ネタ (by c-team)\n\t　https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t優先順位は決めましたが、対応は後回しかも。。\n\n[* Qrio Key x Wena(ymtk)]\n\tWenaをQrio Key化する[ymtk.icon]\n\t\tキックオフこれから。先方からの要望受け。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n\tSQA中。新OS対応と同時並行。\n\tCoverity対応中\n\t FW部分は5~6件、SDK部分は300件\n\t量産用のビルド、書き込みスクリプト作成しました\n\t二次試作データ作成（100台）作成しました\n残作業\n\tCI環境構築\n\tハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない\n\t\t他はまだだが、対応は9月中でもよい\n\t\t\tもっとあとになるかも\n\t\t今、King CU iOSやってます (qb_setup_iosの扱いについて、来週あたりにhiroさんに相談したいことがある) 。\n生産が遅れる件\n\tRC, GMは遅れない\n\tヘルツさんに、ハードウェアそのものの問題がない、と判定できれば、他のものは後ろにずらせるのでは？　となっている。\n\tQrio的にはMANOMA優先。\n\n[* Guardian 製造・制作系 (ymtk)] \n 落下試験に向けた準備[ymtk.icon]\n \t束見本、VOIDシール手配済み\n \tデータはこれから作成\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールを利用できる。\n \t  リスクアセスメント -> 点数をつけてデータを作成しているところ\n   \t リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117をもらったので読んだ上、最小化する\n   セキュリティ運用設計 -> ソニー内部で発信している脆弱性のメールが来ているから、もう終わりな気がする。\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[* Qrio Lock お試し/レンタル(ymtk)]\n\t内製短期(R25)[ymtk.icon]\n\t\t8月中に5台売れた。これからメルマガなどでアプローチ\n\t\t今11件。ペース上げるための施策検討中。\n\t協業長期（レンティオ）\n\t\t上のモノが返ってきてから。10月。\n\t第2回お試しキャンペーン\n\t\t10月以降 with NewsPicksで検討中。ymtkがいるうちにアプリケーション準備（マスタ替えるだけ）\n\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t運用などこれから設計\n\n[** Q-SL1/Q-ST1/カギカン1 (竹内、hiro)]\n進捗なしです。\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon]\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよさそう。\n \tGuardianのシリアルは2xxxxxxxとする\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n \t9月中対応を目標に進める。[takeuchi.icon]\n \t\tもう少しあとになるかも。\n\n[** 情報システム (チャン)]\n Lastpass導入\n \t結局ブラインドのままパスワードを共有できるのが、Lastpassしかなかった。Bitwarden、1password はブラインドで渡すことが不可能。\n 恐怖 McAfeeのインストールと手続き\n \tバックオフィス、CS、インターンのPCにインストールして数を稼いでいます。\n Twilioの会社情報の更新\n\t\t作業担当者の運転免許証でおkと、Twilioの日本法人から回答。でも、通らなかったら、また連絡して。って言われた。\n 弊社の監査について、セキュリティ関係の研修を受けていないと監査が通らないので、アドバイザをやってます。\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** その他相談ほか]\n\tr-tadaimaいつ止めるのか？qrio \n\t来週からの会議体\n\t\t竹内さん、しばらくは基本電話会議で参加、必要なときは恵比寿に来る\n\tAWS IoT Loft (第4回、10/16) に登壇します[takeuchi.icon]\n\t\tまだ何もしてないです。ネタほしいです。。\n\t\t\tなぜAWSを使わなかったか？　がいいテーマだが、言わないほうがいいかも？\n\t\t\tpubnubがあったから\n\n[** 健忘録]\n\t消費税対応[ymtk.icon]\n\t\t今週話します\n\t\tqrioストア\n\t\tカギカン1\n\t\t月額ただいまキット\n\t\tカギカン2\n\n# sirius-king api mtg 9/10\ncreated_at:Mon Jan 19 1970 12:34:48 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:34:51 GMT+0900 (日本標準時)\nsirius-king api mtg 9/10\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 8/28]\n\n[* 参加者]\nymtk/topaz2/hiro/mikamix/kmi\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n 手が空いてる時にissue対応する\n\t https://github.com/qrioinc/king-api/issues/594\n\t  開発定例で話しましょう\n\t https://github.com/qrioinc/king-api/issues/596\n\t  siriusその他で使う前提\n\t  user_idからinvitationなしで招待\n\ntopaz2\n カード決済\n \t調査\n \t\tpayjp の仕様\n \t\tカギカン１の仕様\n \t設計\n \t実装\n \t\tPOST /credit_cards\n \t\t月次請求バッチ\n 色々PRレビュー\n\nymtk[ymtk.icon]\n\tリリース！打ち上げやります\n\t\thttps://chouseisan.com/s?h=3d4e5ecab1624e87b070a6107ed0c2c0\n\t\t店決めはじめます→決め忘れていたので再度スケジューリングします\n\tv: admin向け代理店登録および組織作成時の代理店追加 api、consoleともにdone\n\to: カード決済 consoleへのapi紐付け\n\to: 省電力モード切替へのapi紐付け\n\to: 夜間自動オートロックonの顧客ヒアリング\n\t 一時間に一回のバッチとかで、レコードに登録された設定をなめてhubに設定変更を送るのがよいのではないか説\n\t 1分単位の指定とかは嫌だ\n\n[h.yamaguchi.icon]hiro\n\tiOS13対応予定 (kingなどが完了した後)\n\n\n[mikamix.icon]\n admin/organizationsに関して\n  PATCH(更新) PR出てます -> 修正あったのでdone\n  DELETE(削除) PR出てます\n   抜け漏れ等あると嫌なので慎重に\n\n[narico.icon] narico\n\t先週は特に進捗無し\n\t残項目\n\t\t支払い履歴＆領収書PDF\n\t\t改善系Issue\n\n事業前提\n\tカード決済10/1(火)リリース\n\n##sirius #定例 #sirius-apis\n\n# c-team定例 19/9/10\ncreated_at:Mon Jan 19 1970 12:34:40 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:34:43 GMT+0900 (日本標準時)\nc-team定例 19/9/10 \n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/knarita/ymtk/ichikawa/nakano/takeuchi\n\n欠席\nharada\n\n前回\n[c-team定例 19/9/2]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** 前回のNEXT]\n\t電池2倍CPN直前確認\n\tSL1買い換え、電池＆価格方針確認\n\tR25アンケート内容レビュー\n\tR25ユーザー利用状況分析\n\tR25購入動線表示\n\t施策カレンダー 9-12月分\n\n[* アジェンダ2]\n\t中野枠\n\t\tGA\n[https://gyazo.com/a92120d515ff37990eeaa51575f064b8]\n\n\n\t\tご意見\n  \thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tお試し振返り\n\t　状況\n\t　\t購入11件(+6件)\n\t　\t返品13件　※6ユーザーは登録もしていない状態、3名ほどマスター削除せずに返却\n\t　\t\t別件で楢原さんに4台渡す案件があるので、ここから出します[ymtk.icon]\n\t　\t登録77%(+4%)\n\t　\t\t土日で10件+→385件（残り114件）\n\t　\tアクション\n\t　\t\t設置してください\n\t　\t\t\tこんなことができますよ、困っていたらお知らせください\n\t　\t\t\t\t先々週、水木金に分けて送信はしている\n\t　\t\t\t　先週末に未登録ユーザーに再送\n\t　\t\t\t　100人くらいいてやばい。DM（はがき）する？送るなら3連休前の金曜着。今週中に決めます(中野・市川)\n\t　\t\t\t　\t62円\n\t　\t\t\t　\tPlanAはDM、PlanBは･･･？\n\t　\t\t\t　\t\t仮説としては、普通に認識していないか、3連休か。3連休ならまとめて設定動画リンク送ってこれでもかとフォローする。これ以降はもはやフォローしにくい。[ymtk.icon]\n\t　\t\t\t　\t\tご好評につき、既に7-8割のお客様が設置していますよ、既に購入されている方がいらっしゃいますよ（こっちは弱い？）なども表現としてはある。あなた遅れてますよ訴求。\n\t　\t\t販売促進メール送信予定\n\t　\t\t\thttps://docs.google.com/presentation/d/1PkaM8MHV4w80b9fHgti2JVvm4elbsUZDAMa0R4a9gwk/edit?usp=sharing\n\tお試し2ndに向けて\n\t\tNP企画[ymtk.icon]\n\t\t\t9/3 mtg予定\n\t\t\t子育て世代向け、ハイパフォーマンスな父親へのアプローチ\n\t\t\t\tQrio Lock + MANOMAイエナカをベースに、生活をアップデートするお試しCPNを提供予定\n\t\t\t\t運用などこれから設計\n\t\tスケジュール検討\n\t\t\t10月中旬〜11月くらい\n\t電池2倍[ymtk.icon]\n\t\t水曜日に各所リリース。お知らせ+blog\n\t\t\t[2019/10 toC 電池2倍まわりの顧客コミュニケーション]\n\t\t\tお知らせ書いたのでご確認をお願いします[ichikawa.icon]\n\t（new）Wena + QrioKey[ymtk.icon]\n\t\tWenaをQrioKey化する。先方から相談あり、mtg予定。\n\t各自\n\t\t市川枠\n    Amazon施策をサイバーさんと取り組みます（確定）\n    \tページ案作成してもらっている\n    \t\tamazonの中でなんでここにないのページについての確認\n    \t\t\talexa対応デバイス一覧とか\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_10?ie=UTF8&node=5375221051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_r=FKTFZW2JAFEXZEEWYZZP&pf_rd_t=101&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_p=981e10f3-58a4-406b-9c4e-6c441bd3267c&pf_rd_i=5364388051\n    \t\t\t\thttps://www.amazon.co.jp/b/ref=amb_link_s0ZCzsh6OF6HPdrqP9ehSA_2?ie=UTF8&node=5364389051&suppress-ve=1&pf_rd_m=AN1VRQENFRJN5&pf_rd_s=merchandised-search-leftnav&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_r=Z74TKTYZ38VZK6405HKE&pf_rd_t=101&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_p=014269c5-f354-4cb3-a095-d913638d0139&pf_rd_i=5375221051\n    アフィリエイトはバリューコマースさんとすすめます（確定）\n    \t10/1-11末、メディア側に払うのが¥4,500 x 2（50記事予定）\n    \t12-2末、メディア側に払うのが¥2,250、のち¥1,500\n　　　　買い替えCPN\n　　　　　HTMLメルマガ仕上げ中\n　　　　　ページをまゆしさんに作ってもらったので商品コード入力する\n　　　　　ロジテム共有予定\n　　　　　まゆしさんページC-teamに共有します\n\t\t営業 / 成田枠\n\t\t\tトータル\n\t\t\t\t996台（先月1,200台）\n\t\t\t\t\tうちEC850台に対して、amazon560台（先月と同じ）\n\t\t\t\t\t単体として伸びたわけではない\n\t\t\t\t\tそもそもの店舗側の販売数を伸ばす施策が大事\n\t\t\t\t特筆して20店舗くらいに対する集中施策ができないか（total100万とかで）\n\t\t\t\t\t売場への投資（各店舗に対して）\n\t\t\t\t\t2月にギフトショーがあり、スマートホームカテゴリがあるので明日見てくる\n\t\t\t\t\tドア含めた展示スペース、展示方法の確保（モデル店舗作り）\n\t\t\t\t価格調整してから順位が5000まで下がることも\n\t\t\t\t\tここについてBtoB影響あるが、調整しない方がいい？\n\t\t\t\t買い換え\n\t\t\t\t\t9/12~26(木)\n\t\t\t\t\t\tQ-SL2 + Key (△4,500)\n\t\t\t\tダブルチャンスCP(12月予定)\n\t\t\t\t\t50名タダ、を計画予定\n\t\t\t営業施策状況\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t原田枠\n\t\t\t今週はお休みです\n\t\t開発\n\t \tKing CU改善ネタ。優先度つけました\n\t\t\t https://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t\tECOモード対応（電池二倍）\n\t\t\t\tサーバー、アプリとも完了。あとはストアでポチればアプリが公開される\n\t\t\tオートロック設定の有効期間設定の対応\n\t\t\t\thiroさんにハンドリングをお願いしました\n\t\t\t\tWebフロント/バックエンドの対応が必要。CU (BCU) は必要なし\n\t\t\t\t\tなるほど了解です。やるとしたら自分の方で両方対応します[ymtk.icon]\n\t\t\t\t詳細は開発チームで話しますが、1ヶ月以上かかりそうです\n\t\t\t新OS対応は、iOSのみ進めます。Androidはリソース的に厳しいので、あとまわしに\n\t\t\t\tandroidアプデ待ってねメールは必要そう[ymtk.icon] >> 中野さん\n\t\tCD マユト枠\n\t\t\t受付期間：8/20〜9/6（14営業日）\n\t\t\t請求の完了数：245（9/6）\n\t\t\tマスターキーアカウント確認：24件（9/10時点）\n\t\t　\t10人に1人が購入\n\t\t　\t請求〜購入までに要した時間調査する\n\t\t　\t次は、store購入に繋がる施策提げて増刷交渉\n\t\t　　\t（ある程度入力ボリュームがある、写真がある、など）アンケートに対しての割引であれば自然\n\nQRコードからqrio storeへの流入数：34\n[https://gyazo.com/13c6caf8c14505415787ea49821f5d68]\n[https://gyazo.com/509dada0b210a148796079d74690634a]\n\n\nstore流入が金 or 土に集中。\n\n\tBlog\n[https://gyazo.com/f9d00c1935f469da0b21c84e947113ad]\n\n\n\n[https://gyazo.com/88354010f8981eae7c94ebfb1bf3b364]\n\t「スマートロック  比較」の流入低い\n\n[https://gyazo.com/e1bc682cf06d0c2180acde0d47155e89]\n検索順位7位\n\n\n[** NEXT]\n\t12月-1月（年末）施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n# 2019/10 toC 電池2倍まわりの顧客コミュニケーション\ncreated_at:Mon Jan 19 1970 12:26:14 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:29:19 GMT+0900 (日本標準時)\n2019/10 toC 電池2倍まわりの顧客コミュニケーション\n[** 概要]\n\tQ-SL2の電池持ちはスペック上だけで言えばQ-SL1より劣化している\n\t\tハンズフリー解錠で必要なビーコンを発射していることが要因\n\tBtoB、Qrio Keyユーザーなど、ハンズフリー解錠を必ずしも必要としてないユーザー層が存在している\n\t\tビーコンを止めると電池持ちが2倍に改善する\n\tQrioは電池が持たないというネガキャンは少なからずある\n\t\tsesame 500日（2個）\n\t\tbitkey 400～600日（4個）\n\t\tbitkey pro 800~1200日？（8個）\n\t\tQrio Lock 365日（4個）→ 730日（4個）\n\t\t\ttoC一般消費者向けで言えば最も電池持ちが担保できる\n\tQrioは2系統電源を採用しているが、そこまで認知されていない印象\n\tカギカンはWebから切り替えられるようにする予定（9-10月)\n\n[** 狙い]\n\t常に進化し続けるスマートロックである、と言うことを伝える\n\t\t今さらQrioを買うなんて、と言う印象払拭\n\t電池持ち情報のアップデート\n\t\tsesameの表の更新などはされないだろうが、公式情報として現ユーザー含め認知してもらう\n\n[** 想定アクション]\n諸々次週火or水曜でのリリースを想定。\n\tqrio.me\n\t\tお知らせ→リリースにほうが良さそうです[ichikawa.icon]\n\t\t\t2倍になった旨を記載。詳細記事へリンク。\n\t\t\t\tプレスリリースとしては弱い印象（記事になるかというと･･･）なので、お知らせとする\n\t\t\t\t\t電池持ちが2倍になる。ただしハンズフリーと二者択一\n\t\t\t\t\tアプリからの設定方法\n\t\t\t\t記念キャンペーンも検討したが乗り換えキャンペーンの準備などもあり付け焼き刃になるため、今回は告知のみとする\n\t\t\tSNSシェアするのは記事\n\t\t製品サイト\n\t\t\t対応アプリリリース次第更新\n\t\t\tトップ4枠のうち1枠で「電池持ちが730日になった理由」についてのBlog記事（作成予定）へリンク\n\t\t\t\t販売店を取るつもりだが、クリック見ておく(1-2day)\n\t\tBlog\n\t\t\t比較表の電池持ちに730日を追記\n\t\t\t電池持ちが730日になった理由の背景、切り替え方法、電池2系統の話を記載\n\t各種紙販促物（パンフレットなど）\n\t\t次回印刷のタイミングで更新\n\tCS\n\t\t現ユーザー向けに電池2倍切り替えについてお知らせメールを打つ\n\t\t\tハンズフリーと二者択一のことは記載\n\t\t\t電池持ち2倍モード設定率はサーバより把握可能\n\t\t\tキャプチャ付きFAQへ誘導\n\t\t\tSL-1ユーザーに対しては、乗り換えキャンペーンのメール内で記載予定\n\n\n# 9/6 カギカン事業定例\ncreated_at:Mon Jan 19 1970 12:29:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:29:18 GMT+0900 (日本標準時)\n9/6 カギカン事業定例\n参加者\nryo/mayuto/ymtk/nakano\n欠席\nkokichi\n\n[* 事業]\n\t年末までのアクションプラン確認\n\t\t事業目標売り上げの確認\n\t\t\t月販70以上(56万/月、LTV25万(3年利用想定))\n\t\t\t\tインバウンド：15\n\t\t\t\t移行ペース：20\n\t\t\t\tアウトバウンド：35\n\t\tその他\n\t\t\t想定インセン5万バックくらい\n\t\t\t\t最初は8万だが･･･\n\t\t\t\t販路開拓スキームを作る、導入事例を作る\n\t\t\t\t200万くらいで小規模営業センター立ちあげ検討したい\n\t\t\t\t\t3ヶ月は見たい\n\t\t\t\t\tスクリプトが作り終わっている、ロープレが展開できる状態\n\n[* 開発]\n\t開発優先度の確認→開発と言うよりチーム課題管理\n\t\thttps://docs.google.com/spreadsheets/d/1bxgVGUHVflRwiRahQNgRJFQ-2dLspn9-CzLOW0D2b5Q/edit##gid=1951457751\n\n[* マーケ・UX]\n\tパンフレット界隈\n\t\tリリースタイミングで一段落。資料請求など。\n\n[* 分析]\n\t顧客属性\n\t\tカギカン1既存ユーザー\n\t\t\t電話した際の、今どう使ってますかね\n\t\tカギカン2ユーザー\n\t\t\t定期アンケート\n\t\t\t導入理由、非導入理由\n\tHubspot\n\t\tテレマでの利用ケース相談\n\n[* その他]\n\tFAQ足りないので補填\n\n[* NEXT]\n\tテレマ販路立ちあげに関するブレスト\n\n\n\n# Sirius-admin/agent api仕様\ncreated_at:Mon Jan 19 1970 12:26:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:26:32 GMT+0900 (日本標準時)\nSirius-admin/agent api仕様\n文責[ymtk.icon]\n\n[** 背景]\n\t代理店もカギカンを販売してくれる\n\t\n\n# Sirius 要件整理 index\ncreated_at:Mon Jan 19 1970 09:35:04 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:26:12 GMT+0900 (日本標準時)\nSirius 要件整理 index\n2019/5 再度見直し。NPPを見越した要件整理。[ymtk.icon]\n\n[** 全般]\n[Sirius]\n\n[* 誰が決める？誰に聞けばいい？]\n\t事業方針\n\t\t高橋\n\tプロダクト仕様・方針\n\t\tymtk\n\n[* 資料]\n\tnaricoさんのpdfを参照のこと（リンクください）\n\n[*** API]\n[* 前提条件]\n\tking-apiとは分割する\n\t\tking-apiのDBに直接アクセスすることはなくなる。api経由で操作する。\n\truby、rails最新版を利用する\n\tapiにはBCUおよびWeb、adminWebがアクセスする\n\n[*** WEB]\n[* 前提条件]\n\tブラウザは最新バージョンのみ対応\n\t\tIE11は工数相談\n\tスマホ対応不要\n\t10インチノートPCでも使える解像度\n\n[* 各項目]\n\t[Sirius 新規登録〜審査待ち]\n\t[Sirius 審査OK〜利用開始〜機器セットアップ]\n\t[Sirius BCUセットアップ後〜チュートリアル]\n\t通常利用\n\t追加・削除申請\n\t退会\n\n[*** BCU]\n[* 前提条件]\n\tリリース時android対応\n\t\tのちiOS対応としてコレはいつ頃に？（要検討）\n\t[Sirius アプリUI 2019/5/8]\n\t[Sirius 機器セットアップ(BCU ユーザーフロー)]\n\n[*** adminWEB]\n[* 前提条件]\n\tadminWEBは新規顧客登録、代理店登録、審査管理、退会管理などを行う管理ツールのこと\n\tブラウザは最新バージョンのみ対応\n\t\tIE11対応不要\n\tスマホ対応不要\n\t10インチノートPCでも使える解像度\n\n各項目\n\t[Sirius admin 審査確認と承認管理]\n\t利用状況確認\n\tプラン変更処理\n\t退会処理\n\t個別登録処理\n\n---\n各種決め打ち数値\n[* 招待URL]\n\t30日間有効\n\n[* 履歴1ページの表示数]\n\t200件\n\n\n##Sirius\n\n# Castle プロダクトバックログ\ncreated_at:Mon Jan 19 1970 09:42:18 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:26:12 GMT+0900 (日本標準時)\nCastle プロダクトバックログ\n[** リリースルール]\n\t隔週リリース\n\t\t直近はここにあるもの中心。原則としてymtkが追加していく\n\t\t\t[##Castle 未解決・対応中の項目管理]\n\t向こう1ヶ月間の計画を立て、定例で確認する\n\t着手し始めたら目標リリース時期を決める\n\t\t実装済みなのか、調査・実装中なのかは記載\n\t\t対象\n\t\t\tc: コンソール、a: api\n\t文字修正レベルのものは小fixにまとめてOK。デプロイの必要があることだけ確認\n\ticobox is...?\n\t\tやるやらは決まっているが着手時期が決まっていないもの\n\t過去のリリース\n\t\t[Castle プロダクトバックログ past]\n\tその他ノウハウ\n\t\t[Castle 開発メモ]\n\n[** 次回]\n[*** v19.07.09]\n\t実装済\n \tファミリーキーのあるなし判定\n \t\t有効になっているのか、使いはじめているのかが分かる\n \tHubエラーの取得api\n\t実装前\n\t\tHubエラーの表示\n\n[*** icebox]\n\tユーザー削除とログへの「名前」タブ追加[ymtk.icon]\n リモート操作時のGraphQL文言修正[ymtk.icon]\n　アカウント紐付けのタブで設置アカウント名が長すぎると先頭部分が表示されていないNo71\n　部屋名が長いと、操作履歴画面ではみ出てしまうNo194\n　同じ名前の設置アカウント名を登録できてしまうNo46\n　グループ管理を登録失敗する場合はエラーメッセージの内容が表示された方が分かりやすいNo141\n 設置アカウント有効期限編集\n\t操作履歴改修\n\t\tnameカラムを作成して当時の記録を残す\n\t\t\t結構大変なので、売り上げ的にもまだいいかなと思い始めた･･･\n\n\n##castle #プロダクトバックログ\n\n# Dev MTG 2019/9/3\ncreated_at:Mon Jan 19 1970 12:24:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:24:52 GMT+0900 (日本標準時)\nDev MTG 2019/9/3\n[https://cosme-tantei.com/wp-content/uploads/2019/02/summer.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\tawsエイリアス爆誕[ymtk.icon]\n\t\thttps://qrioinc.signin.aws.amazon.com/console\n\t\tリダイレクト先ではなく、このURLをブクマした方がいいです\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tQrio社内で開発する方向で見積り中\n  \t\tソニー経営会議のネタ\n \t\t\t8月中に見積もり、9月に経営会議通す予定\n \t\t\t設計構想の準備\n \t\t\tリリース判定までのスケジュールを検討する\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\tekeyをAIHGWに内包してあけるパターンでやる方向になった\n \t\t\tAIGHWでロックのBluetooth LE Scan、GATT Readなどできた[takeuchi.icon]\n \t\t[MANOMAまとめ(随時更新)]\n \tAL (オートロック玄関)\n \t\tCastleに機能追加する想定で設計\n \t\t見積もりを高橋さんに提出\n \t\t[シーケンスと見積もり https://docs.google.com/presentation/d/10YZEble4LyhHhHBbXIWPSE1w0jgZCjAbDl0HeIrEyTM/edit##slide=id.p]\n \t\t\t高橋さんから[ymtk.icon]に仕様と見積もりを共有するよう依頼されてます。ご一読いただけると！不明なところや議論の余地などがある場合はミーティングしましょう[h.yamaguchi.icon]\n \t\t\t\t見ますね。明日明後日にtkにFBします[ymtk.icon]\n\n[** Joker (ymtk)]\n\t9月になったので企画構想に向けて再起動\n\n[** Castle (yamakawa)]\n\t開発停止中。折を見てパッケージアップデートだけやってます[ymtk.icon]\n\tHubなしプランの相談受けてます[komai.icon]\n\t まだ相談ベース、何も決まってない\n\t ちゃんさんがオーダー受けて色々見積もっている模様[ymtk.icon]\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\t全体スケジュール\n\t\t8/28(水): 1stリリース、富士物流向け(リモート解施錠、メール通知が必須)＆一般向け(合鍵、新規登録など)\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\tsirius-api (mikamix)\n\t\tadmin以下\n\t\t新規作成PRだん\n\t\t 変更\n\t\t 削除\n\tWebフロント(ymtk)[ymtk.icon]\n\t\tサイトもリリース済み。メールをHubspotに繋ぎ混んだので顧客分析できる\n\t\tフロントはカード周り、admin-tool周りをやる\n iOS [h.yamaguchi.icon]\n \t完\n Android [takeuchi.icon]\n \t完\n[sirius-king api mtg 9/3]\n\n[** King]\n[* スマートスピーカー (kmi)] \n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n and hostelさんにAPI提供する話が回ってきた(2019/7/9)\n \tドキュメント作って渡した\n change_settingsコマンド発行api作成頼まれた\n \tリモートでビーコンON/OFF設定を変えたい(Sirius)\n \t\t電池残量2倍になりやつですねこれ[ymtk.icon]\n \t設定値をAPIの引数にして、バイナリを作ってコマンド発行できるようにしたい\n \t8月中を目標にしたい\n \t2lockのコマンド失敗した。でも8月中には出せそう。\n \t本日に省電力モードのAPIをデプロイする\n master_key削除できる管理ツール作成頼まれた\n \t９月中には実証テストしたい\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n\n[* CU (竹内、hiro)]\n\t省電力モード\n\t\thttps://docs.google.com/presentation/d/1q0x1Ww1G6mXdzKpcqnoBHmcgCbPw6OQuROcZ6WK2n8s\n\t\tiOS:  申請中\n\t\t\t今日(9/3)か明日(9/4)には審査結果が出ると思います\n\t\tAndroid: あとはポチれば公開される[takeuchi.icon]\n\t\t今週末にプレスリリースとともに出す\n\t新OS対応\n\t\t今日からSQA中。不具合があり次第順次対応します\n\t\t\tiOS, Androidアプリ合計12本。。。[h.yamaguchi.icon]\n\tCU改善ネタ (by c-team)\n\t\tオートロック設定の有効時間帯を指定できるようにする\n\t\t\tカギカン界隈（物流）でニーズあり。こうきちさん(営業)によると、顧客20件中8件が欲しい機能で、作ったら契約数10%上がる見込みだそうです。\n\t\t\t例えば「毎日7:00~10:00まではオートロックOFF、それ以外はON」など。\n\t\t\t他に、曜日も指定できるとか、いくつか検討事項あり。\n\t\t\t具体的なことはこれから決めていきます。\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n\tSQA中。新OS対応と同時並行。\n残作業\n\t量産用のビルド、書き込みスクリプト（作成中）\n\t二次試作データ作成（100台）\n\tハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\t8/28、再度モデルルームでの測定\n\t\t山川さんと竹内で行ってきます。作業方法はまた共有します。\n\tCoverity環境構築（進捗なし）\n\t\t大西さんにCoverityのライセンス更新を今やってもらっているところ。-> 完\n\t\t\tImpact: Highのものだけ対応する。全部で304件。SDKのコードもチェック対象なので、早めに確認する。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない\n\t\t他はまだだが、対応は9月中でもよい\n\t\t\tもっとあとになるかも\n生産スケジュールを遅らせる\n\n[* Guardian 製造・制作系 (ymtk)] \n 落下試験に向けた準備\n \t束見本\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールを利用できる。\n \t  リスクアセスメント -> 点数をつけてデータを作成しているところ\n   \t リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117をもらったので読んだ上、最小化する\n   セキュリティ運用設計 -> ソニー内部で発信している脆弱性のメールが来ているから、もう終わりな気がする。\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[* Qrio Lock お試し/レンタル(ymtk)]\n\t内製短期(R25)[ymtk.icon]\n\t\t8月中に5台売れた。これからメルマガなどでアプローチ\n\t協業長期（レンティオ）\n\t\t上のモノが返ってきてから。10月。\n\t第2回お試しキャンペーン\n\t\t10月以降 with NewsPicksで検討中。ymtkがいるうちにアプリケーション準備（マスタ替えるだけ）\n\n[** Q-SL1/Q-ST1/カギカン1 (竹内、hiro)]\n進捗なしです。\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon]\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよい？\n \tGuardianのシリアルは2xxxxxxxとする予定（大西さんにも確認済み）\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n \t9月中対応を目標に進める。[takeuchi.icon]\n \t\tもう少しあとになるかも。\n\n[** 情報システム (チャン)]\n Lastpass導入\n \t結局ブラインドのままパスワードを共有できるのが、Lastpassしかなかった。Bitwarden、1password はブラインドで渡すことが不可能。\n 恐怖 McAfeeのインストールと手続き\n \tバックオフィス、CS、インターンのPCにインストールして数を稼いでいます。\n Twilioの会社情報の更新\n \t11.21までにTwillio本体が通産省に報告するらしい\n \t代理人の身分証明書でいいのかTwilioに確認中\n 弊社の監査について、セキュリティ関係の研修を受けていないと監査が通らないので、アドバイザをやってます。\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** その他相談ほか]\n\tr-tadaimaいつ止めるのか？qrio \n\t来週からの会議体\n\t\t竹内さん、しばらくは基本電話会議で参加、必要なときは恵比寿に来る\n\tAWS IoT Loft (第4回、10/16) に登壇します[takeuchi.icon]\n\t\t飯田さんに勧誘されました。チャット抜粋↓\n\t\t\t「ぜひQrio入社してからわかったハードウェア量産のツラさとか、色々共有してくださいーｗ」\n\t\t\t「あとは、何かしらAWSが絡むといいんですけどねー　Qrio HubにAmazon FreeRTOS入れてみるとかｗ」\n\t\t\t「Alexa連携とか　あれ丸山さんか」\n\t\t\t「基本はQrioと同じように実務でIoT開発やってる人たちなので、いわゆる作ってみた系のLTよりは、製品化するうえでの課題や解決策などを具体例を交えてお話頂けると嬉しいです。（出来る範囲で。。）」\n\t\t\t「ありがとうございますー。といいつつWorks with Alexaのアーキ図もぜひw」\n\t\tIoTプロダクトがテーマのようです。フォトシンスにも声かけるそうです。\n\t\tできたら、Alexa関連のアーキの話もしようかと思います。キャッチアップしたいので、またお時間いただけると。。\n\t\t\tなぜAWSを使わなかったか？　がいいテーマだが、言わないほうがいいかも？\n\t\t\tpubnubがあったから\n\n[** 健忘録]\n\t消費税\n\t\tqrioストア\n\t\tカギカン1\n\t\t月額ただいまキット\n\t\tカギカン2\n\n# sirius-king api mtg 9/3\ncreated_at:Mon Jan 19 1970 12:24:45 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:24:46 GMT+0900 (日本標準時)\nsirius-king api mtg 9/3\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 8/28]\n\n[* 参加者]\nymtk/topaz2/hiro/mikamix\n\n[* 欠席]\nkmi\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\t今日はお休み[ymtk.icon]\n\ntopaz2\n 細かい issue 対応\n SQA対応\n 仕様の問い合わせ対応\n リリース後の動作確認\n カード決済\n \t設計\n \t実装\n\nymtk[ymtk.icon]\n\tリリース！打ち上げやります\n\t\thttps://chouseisan.com/s?h=3d4e5ecab1624e87b070a6107ed0c2c0\n\t\t店決めはじめます\n\t案件整理 with Bizチーム\n\t\tcsvとかオートロックタイマーとかゲストキー自動acceptとか今あがっているものが色々\n\tadmin-tool 組織登録繋ぎ込み\n\tカード決済向けUI\n\t\tトークン作成までは入れてあります\n\t諸々フォロー\n\t\tユーザー向けガイドが色々足りない\n\tenum\n\t\thttps://docs.google.com/spreadsheets/d/1RguUdNuCGmkwVIKnXuSHX0er9LQ2Wcg_8J5y3OpWmwU/edit##gid=0\n\n[h.yamaguchi.icon]hiro\n\tiOS 完了\n\tAndroid 完了\n\n[mikamix.icon]\n admin/organizationsに関して\n  PATCH(更新) PR出てます -> merge済み\n  DELETE(削除)は少しやっかいで、他のレコードも消さないといけない、かつ論理削除もありそう? (要確認)\n   間違えるとえらいことになるので慎重にやりたい\n   仕様等確認しながらやりたい\n   \t直近すぐには大丈夫なので1週間くらいかけて慎重にいきましょう[ymtk.icon]\n\n[narico.icon] narico\n\t先週は特になし\n\t吉本さん　9月も稼働厳しそう\n\t中島さんは8月と同じくらい稼働できそう\n\t\t中島さんと成田で残項目対応します\n \t残項目\n \t\t支払い履歴＆領収書PDF\n \t\tCSVユーザー登録\n \t\tチュートリアル\n \t\t改善系Issue\n\n事業前提\n\tカード決済10/1(火)リリース\n\n##sirius #定例 #sirius-apis\n\n# 9/2 c-team 分析分科会\ncreated_at:Mon Jan 19 1970 12:23:28 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:23:29 GMT+0900 (日本標準時)\n9/2 c-team 分析分科会\n前回\n[8/26 c-team 分析分科会]\n\ntoB\n\tカギカン\n\t\tHubSpot設置。今週様子見てからCXに相談\n\t\t広告よりもpushで取り行く方針\n\t\t\t流入としてはダイレクトか、qrio.me 経由が増える模様\n\t\tCX\n\t\t\t直近の15台導入と、富士物流100台導入のサポート\n\t\t\t前者設置はコウキチさんが同席\n\t\t\t\t今マズそうな部分\n\t\t\t\t\tマニュアル系がまだ準備できてません\n\t\t\t\t\tゲストキーの受け取り\n\t\t\t大量系だと、稼働できないと最後まで広げてもらえない恐れがある。また、そこからの口コミも広がらない\n\ntoC\n\t押し込み\n\t\tロックをモデムのように配り出す\n\t\t\tお試しキャンペーン時のユーザー行動をベースに進める予定\n\t\t\t中野さんが釈迦（Yahoo!BBのモデム界隈）\n\t\t\tビットキー x ビックカメラの取り組みの状況\n\t\t\t\tそもそもどんな感じ？2年で8,380円\n\t\t\t\tラゾーナ見てきます\n\t\tどう立ち上げるのか？買ってもらうのか？もらい逃げ去れない状況を作れるのか\n\t\t\t大丈夫ですか通知、2w/3w/4w、コンテンツを考えて送る\n\t\t\t送付メール通知は開封率10％\n\t\t\tそこまで行くと、手動push通知\n\t\t\t\t特定の人にどう送るか要確認\n\t\t\t今週中に計画立て。mtgセットします。\n\n---\n[* toC]\n\t電池省エネモード設定率\n\t\tintervalの値で分かる\n\tR25 購入率を上げていく\n\t\tあと、人は何があって、何日経ったら買うのか･･･？\n\t\t15%引きであることは伝わっているのか･･･？\n\t施策サイクル\n\t\t分析設計する→施策打つ→振り返る→次に活かす、のシステム化、フォーマットづくり\n\t\t\tアンケートするにも、それをどう使いたいからどう項目立てるのか\n\t\t\tアンケートやユーザーインタビューの基本を知る学ぶ\n\t\t\t\t基本的なのはこの辺\n\t\t\t\t\thttps://www.cscd.osaka-u.ac.jp/user/rosaldo/000602episte.html\n\t通知を分けたい、の深掘り\n\t\tmixiのあしあとっぽい\n\t\t自分の出入りを知られたくない\n\t\t\t不倫？\n\t\t子供（特定の人）以外の通知は知りたくない\n\t\t\t見守りたい\n\t\t\t大人、奥さんの通知が要らないのはなぜ？\n\t\t\t\tたくさん通知が来ている人なので、できる限り通知を減らしたい人？\n\t\t\t\t重要なものが埋もれるから？\n\t\t\t\t特定の人の出入りが多すぎるので除外したい？\n\t\t履歴も通知も興味ない\n\t\t\tそもそも要らない\n\t\tなんでこの辺のニーズが出てくるのか･･･？\n\t履歴を編集したい、の深掘り\n\t\tなぜ履歴を削除したいのか\n[* toB]\n\tSirius\n\t\tredash接続済み\n\t\t各値の解釈をまとめ始めています\n\t\t\thttps://docs.google.com/spreadsheets/u/1/d/1RguUdNuCGmkwVIKnXuSHX0er9LQ2Wcg_8J5y3OpWmwU/edit?usp=drive_open&ouid=109170418868775192408\n\n\n---\n前回のあらすじ\n[* アジェンダ]\n\tR25 満足度アンケート設計\n\t\t実際に使ってみてどうだった？を解像度高くやりたい\n\tメルマガの効果分析\n\t\t何を持って良しとするか\n\tカギカンサイトHubSpot実装\n\t\tcookieを喰わせる\n\t\t解約フォーム自動化\n\t\t\t理由を知りたい\n\t\t\t\t案件設計\n\t\t9月に整えていくイメージ\n\t\t\t外部向けお問い合わせフォームはHubspot \n\t\t\t内部フォームはFormrun to qrio_support@kagican.jp\n\t電池2倍率の把握\n\t\tどのくらいなの･･･？の計算方法。ハンズフリー解錠設定と含め\n\t差し込みメール\n\t\tSendgrid => kw氏に依頼\n\tR25稼働率\n\n# c-team定例 19/9/2\ncreated_at:Mon Jan 19 1970 12:23:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:23:28 GMT+0900 (日本標準時)\nc-team定例 19/9/2\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/knarita/ymtk/ichikawa/nakano/takeuchi\n\n欠席\n\n\n前回\n[c-team定例 19/8/26]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[** 前回のNEXT]\n\t電池2倍CPN直前確認\n\tSL1買い換え、電池＆価格方針確認\n\tR25アンケート内容レビュー\n\tR25ユーザー利用状況分析\n\tR25購入動線表示\n\t施策カレンダー 9-12月分\n\n[* アジェンダ2\n\t中野枠\n\t\tGA\n\t\tご意見\n  \thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tお試し振返り\n\t　状況\n\t　\t購入5件\n\t　\t登録73%\n\t　\t\t土日で28-30件+→367件（残り132件）\n\t　\tアクション\n\t　\t\t設置してください\n\t　\t\t\tこんなことができますよ、困っていたらお知らせください\n\t　\t\t\t\t先週、水木金に分けて送信はしている\n\t　\t\t\t\t\t開封率自体は土曜高め\n\t　\t\t\t\t動画も案内済み\n\t　\t\t\t\tメール自体の開封率はある（70%前後）\n\t　\t\t\t今週金曜には未登録ユーザーに再送する\n\t　\t\t安く販売しています\n\t　\t\t\t設置済みのユーザー。いつ送るの、何送るの。\n\tお試し2ndに向けて\n\t\tNP企画\n\t\t\t9/3 mtg予定\n\t\tスケジュール検討\n\t\t\t10月中旬〜11月くらい\n\t各自\n\t\t市川枠\n\t\t\tアンケート内容のレビュー\n\t\t\t\tNPSとsyncできるように\n\t\t\t\t画像については何の用途？は抑えてください\n\t\t\t\t\thttps://form.run/forms/59054/edit_creator\n    Amazon施策をサイバーさんと取り組みます\n    \tCA待ち。amazonから商品ページCVRをもらい、ページ案作成してもらっている。今週後半に話す\n    アフィリエイトはバリューコマースさんとすすめるかも...？\n    \t単価の話を仮決め、先方相談中\n    \t10/1-11末、メディア側に払うのが¥4,500 x 2（50記事予定）\n    \t12-2末、メディア側に払うのが¥2,250、のち¥1,500\n\t\t営業 / 成田枠\n\t\t\tトータル\n\t\t\t\t996台（先月1,200台）\n\t\t\t\t\tうちEC850台に対して、amazon560台（先月と同じ）\n\t\t\t\t\t単体として伸びたわけではない\n\t\t\t\t\tそもそもの店舗側の販売数を伸ばす施策が大事\n\t\t\t\t特筆して20店舗くらいに対する集中施策ができないか（total100万とかで）\n\t\t\t\t\t売場への投資（各店舗に対して）\n\t\t\t\t\t2月にギフトショーがあり、スマートホームカテゴリがあるので明日見てくる\n\t\t\t\t\tドア含めた展示スペース、展示方法の確保（モデル店舗作り）\n\t\t\t\t価格調整してから順位が5000まで下がることも\n\t\t\t\t\tここについてBtoB影響あるが、調整しない方がいい？\n\t\t\t\t買い換え\n\t\t\t\t\t9/12~26(木)\n\t\t\t\t\t\tQ-SL2 + Key (△4,500)\n\t\t\t\tダブルチャンスCP(12月予定)\n\t\t\t\t\t50名タダ、を計画予定\n\t\t\t営業施策状況\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t原田枠\n\t\t\t電池2倍=> ymtk預かり\n\t\t\t発送しないと消費税10％影響あり\n\t\t\tSL-1 買い換え 9/12(木)-9/27(金)\n\t\t\t\t電池2個＋価格\n\t\t\t電池2倍\n\t\t\t\t電池2個付ける販売セール・9/5(木)-9/27(金)予定\n    https://drive.google.com/open?id=1lLhIrnGoW6klzvca0Jsu7AHgE5QR64Ip\n   カレンダー現状\n　　　　https://docs.google.com/presentation/d/1F5j5fpcUSXVbpwIDWr5iMauZQFWcKFCEG1VYjJJxEJk/edit?usp=sharing\n　　　12−1の計画、今月中に出していきましょう\n\n\t\t開発\n\t\t\thttps://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t\tECOモード対応\n\t\t\t\tサーバー: 完了\n\t\t\t\tアプリ (King CU):\n\t\t\t\t\tAndroid: あとは公開ボタンを押せば、ストアに公開される状態\n\t\t\t\t\tiOS: リリースプロセスで問題発生 (iTunes Connectにアプリをアップロードできない)\n\t\t\t\t\t\tまだ情報が少なく対応方法が不明な状態\n\t\t\t\t\t\tAppleの対応待ち。水曜までに対応方法がわかれば、今週末には出せる\n\t\t\t\t\t\t\t暫定対策をして、審査提出済み by hiroさん\n\t\t\t\tアプリ (カギカンBCU):\n\t\t\t\t\tiOS/Androidともに、hiroさんと状況を確認する\n\t\t\t他は進捗なし\n\t\t\t\t他の案件の優先順位は、明日ymtkさんと相談する\n\t\tCD マユト枠\n\t\t\tペパクラ（8/20開始）\n\t\t\t8/20〜9/1\n\t\t\tフォーム流入：259\n\t\t\t請求の完了数：164（平均16.4件）+30件程度\n[https://gyazo.com/12875ad293d0af1fb0a241b6946ca2dc]\n\n\nQRコードからqrio storeへの流入数：17\n[https://gyazo.com/d7a1045d24804b223b9692aa3e56b63b]\n\t（ある程度入力ボリュームがある、写真がある、など）アンケートに対しての割引であれば自然\n\nstore流入が金 or 土に集中。\n[https://gyazo.com/02aac71b55c5a4c16cd99f82ccc43776]\n　赤→10以上、ピンク→5以上10以下、青→2以上4以下、アクア→1、白抜き→0\n\n\tBlog\n[https://gyazo.com/88354010f8981eae7c94ebfb1bf3b364]\n\t「スマートロック  比較」の流入低い\n\n[https://gyazo.com/e1bc682cf06d0c2180acde0d47155e89]\n検索順位7位\n\n\n[** NEXT]\n\t12-1施策\n\tペパクラ2nd\n\tNP x お試し\n\tamazon最適化\n\t今のお試し、設置状況と購入促進\n\t開発優先度\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n# c-team定例 19/8/26\ncreated_at:Mon Jan 19 1970 12:13:03 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:23:04 GMT+0900 (日本標準時)\nc-team定例 19/8/26\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/knarita/ymtk/ichikawa/nakano\n\n欠席\ntakeuchi\n\n前回\n[c-team定例 19/8/19]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n[* アジェンダ2]\n\tご意見\n\t　https://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\t中野枠GA\n[https://gyazo.com/bff182716ae65b3f09a3a3d78feb71b8]\n\n\n\tお試し振返り\n\t　https://docs.google.com/presentation/d/1qqDgM-yaxzJ-dd2e-01rRi79eIJ9zQcpxPbDmJX4D2c/edit?usp=sharing\n\t　301台オーナー登録済\n\t　　いくらで買えますか？\n\t　　\t購入表示確認します。\n\t　　取り付けられなかったので返品希望\n\tお試し2ndに向けて\n\t\tNP企画\n\t\t\t9/3 mtg予定\n\t\tスケジュール検討\n\t\t\t10月中旬〜11月くらい\n\t各自\n\t\t営業 / 成田枠\n\t\t\tR25 amazon情報まだ取れていない\n\t\t\t店舗販売施策、目標の再設定\n\t\t\tCampfire展示 / 11月\n\t\t\t\t何かしら訴求できるのであれば載せる\n\t\t\t営業施策状況\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1EyzUBPXOBrmyvZnysenhpAucJ5dcc4fZZz-qgu8Jm7M/edit##gid=1501945205\n\t\t原田枠\n\t\t\t発送しないと消費税10％影響あり\n\t\t\tSL-1 買い換え 9/12(木)-9/27(金)\n\t\t\t\t電池2個＋価格\n\t\t\t電池2倍\n\t\t\t\t電池2個付ける販売セール・9/5(木)-9/27(金)予定\n\t\t開発\n\t\t\thttps://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t\t\tECOモード対応は、サーバー対応が本当は今日入る予定だったが駒井さんがおやすみのため明日以降になる。アプリの対応は終わった（non-optionalにする対応だけ）。Kingは今週リリース予定。[takeuchi.icon]\n\t\t\t\tymtkさんの方で別途リリースの準備が行われる。アプリのリリースもそれに合わせる。9月頭。\n\t\t\t他は進捗なし\n\t\tCD\n\t\t\tペパクラ（8/20開始）\n\t\t\t8/20〜8/26\n\t\t\tフォーム流入：131\n\t\t\t請求の完了数：81（平均11.5件）\n[https://gyazo.com/8f81a00b80b849268fce6c657f8416b0]\n\nQRコードからqrio storeへの流入数：8\n[https://gyazo.com/b330070532beac085387cfd5e1f7287c]\n\n[https://gyazo.com/02aac71b55c5a4c16cd99f82ccc43776]\n　赤→10以上、ピンク→5以上10以下、青→2以上4以下、アクア→1、白抜き→0\n\t市川枠[ichikawa.icon]\n  Amazon施策をサイバーさんと取り組みます\n  アフィリエイトはバリューコマースさんとすすめるかも...？\n  \t最初の3ヶ月が勝負\n  インターン2名稼働開始（Twitter、ブログメインではじめます）\n\n[** NEXT]\n\t電池2倍CPN直前確認\n\tSL1買い換え、電池＆価格方針確認\n\tR25アンケート内容レビュー\n\tR25ユーザー利用状況分析\n\tR25購入動線表示\n\t施策カレンダー 9-12月分\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n# 8/26 c-team 分析分科会\ncreated_at:Mon Jan 19 1970 12:13:24 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:20:32 GMT+0900 (日本標準時)\n8/26 c-team 分析分科会\n前回\n[8/19 c-team 分析分科会]\n\n[* toC]\n\t電池省エネモード設定率\n\t\tintervalの値で分かる\n\tR25 購入率を上げていく\n\t\tあと、人は何があって、何日経ったら買うのか･･･？\n\t\t15%引きであることは伝わっているのか･･･？\n\t施策サイクル\n\t\t分析設計する→施策打つ→振り返る→次に活かす、のシステム化、フォーマットづくり\n\t\t\tアンケートするにも、それをどう使いたいからどう項目立てるのか\n\t\t\tアンケートやユーザーインタビューの基本を知る学ぶ\n\t\t\t\t基本的なのはこの辺\n\t\t\t\t\thttps://www.cscd.osaka-u.ac.jp/user/rosaldo/000602episte.html\n\t通知を分けたい、の深掘り\n\t\tmixiのあしあとっぽい\n\t\t自分の出入りを知られたくない\n\t\t\t不倫？\n\t\t子供（特定の人）以外の通知は知りたくない\n\t\t\t見守りたい\n\t\t\t大人、奥さんの通知が要らないのはなぜ？\n\t\t\t\tたくさん通知が来ている人なので、できる限り通知を減らしたい人？\n\t\t\t\t重要なものが埋もれるから？\n\t\t\t\t特定の人の出入りが多すぎるので除外したい？\n\t\t履歴も通知も興味ない\n\t\t\tそもそも要らない\n\t\tなんでこの辺のニーズが出てくるのか･･･？\n\t履歴を編集したい、の深掘り\n\t\tなぜ履歴を削除したいのか\n[* toB]\n\tSirius\n\t\tredash接続済み\n\t\t各値の解釈をまとめ始めています\n\t\t\thttps://docs.google.com/spreadsheets/u/1/d/1RguUdNuCGmkwVIKnXuSHX0er9LQ2Wcg_8J5y3OpWmwU/edit?usp=drive_open&ouid=109170418868775192408\n\n\n---\n前回のあらすじ\n[* アジェンダ]\n\tR25 満足度アンケート設計\n\t\t実際に使ってみてどうだった？を解像度高くやりたい\n\tメルマガの効果分析\n\t\t何を持って良しとするか\n\tカギカンサイトHubSpot実装\n\t\tcookieを喰わせる\n\t\t解約フォーム自動化\n\t\t\t理由を知りたい\n\t\t\t\t案件設計\n\t\t9月に整えていくイメージ\n\t\t\t外部向けお問い合わせフォームはHubspot \n\t\t\t内部フォームはFormrun to qrio_support@kagican.jp\n\t電池2倍率の把握\n\t\tどのくらいなの･･･？の計算方法。ハンズフリー解錠設定と含め\n\t差し込みメール\n\t\tSendgrid => kw氏に依頼\n\tR25稼働率\n\n# IoT - dev 室長会 19/8/30\ncreated_at:Mon Jan 19 1970 12:18:57 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:19:03 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/8/30\n前回：[IoT - dev 室長会 19/8/16]\n\n[** 共有・相談ネタ]\n[* 全般]\n\t9/2(月)13:00 カギカン2リリース\n\tお試しキャンペーン[nakano.icon]\n\t\t宅配完了・宅配ボックスステータスが多い（4割ほど）\n\t\tオートロックが多いであろう\n\tQ-H1A しばらく量産しません\n\t\tQ-H1の在庫で向こう1年以上持つ\n\t\tQ-H1 10月からの生産も止めている\n\t\t背景\n\t\t\t想定売り上げ(不動産)とMANOMA(Hubなし対応)\n\n[* 製品開発]\n\t障害関連についてはymtk・topaz2で対応\n\t\tymtk育休中の対応検討して欲しいです\n\ttoB界隈\n\t\tMANOMA Hub\n\t\t\t3人が品川行く案件が直近\n\t\t集合玄関\n\t\t\tそこまで確度高くならず\n\t\t\tQBS工数･･･？\n\n[* デザインコミュニケーション]\n\tsirius\n\t\t9/2リリース前の残タスク\n\t\t\t画像作成（Qrio.me KV、バナー、OGP、リリース用）\n\t\t\t実装（本日中対応）\n\tCastle\n\t\tAI・スマート住宅EXPO（9/25〜9/27）主担当：高濱さん\n\t\t展示企画 相談役\n\t\t\tブース\n\t\t\t展示物\n\tQrio Lock Blog\n　\t主担当 ichikawaに変えられないかな〜\n　　\tSNS運用とセットで考えてほしい\n　　\t\tイニシャルフェーズは終わったよね[ymtk.icon]\n\t行動指針\n\t\t外部向けの記事 済\n\t\t制作物未着手\n\t9月から米澤さんデザインアシスタント？\n\t\t来週スキル確認\n\t\tトライアルでバナー作ってもらうかも\n\n[* CS推進]\n\t5日(木)からインターン1名join(週2くらい)\n\t米澤さんはデザインアシストメインで\n\t12月からPitCrew3席→1席へ減席\n[* 分析係]\n\tHubSpot運用開始\n\n[* その他課題など]\n チャンが開発本部の仕事をほぼできていない( 'ᾥ' )[hazimetyan.icon]\n \tやっているのは、セキュリティ部、情報システム部、管理部、あたりで8割占めている。\n\t米澤さんのマネジメントはCD室 or CS どちらメインでやる？？[m.suzuki.icon]\n\t\tCD室で[ymtk.icon]\n\tymtkの引き継ぎ資料を9月中に制作し、後半くらいから各所やります\n\t開発環境トラブルは1人で解決できるようにならねば[m.suzuki.icon]\n\n##室長会 #議事録\n\n# Dev MTG 2019/8/27\ncreated_at:Mon Jan 19 1970 12:14:42 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:14:47 GMT+0900 (日本標準時)\nDev MTG 2019/8/27\n[https://cosme-tantei.com/wp-content/uploads/2019/02/summer.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n 深澤 引き継ぎしてます\n \tアカウント、ドキュメントなど色々あり\n \t\tアカウントは山川さんへ共有済み Lastpass で共有済み\n \t引き継ぎ資料\n \t\thttps://docs.google.com/spreadsheets/d/1PRQckPPW6v_qnYyeunoyhQB_tDX1aMQ8K7585OEmdfg\n \t\t9月以降の開発体制(ドラフト版)[takeuchi.icon]\n   \thttps://docs.google.com/presentation/d/1fggbxxwYdjPmavr96qyaPEwJIA-uuDkQ0LdrAZRr_ks\n   \t竹内ポジションの引き継ぎも長期的に見て考えた方がよい。属人化しており募集もかけにくいため。\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  NASTA(マンション共通玄関 AL)\n  \tQrio社内で開発する方向で見積り中\n  \t\tソニー経営会議のネタ\n \t\t\t8月中に見積もり、9月に経営会議通す予定\n \t\t\t設計構想の準備\n \t\t\tリリース判定までのスケジュールを検討する\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\tekeyをAIHGWに内包してあけるパターンでやる方向になった\n \t\t\tAIGHWでBluetooth LE Scan、GATT Readなど追加中[takeuchi.icon]\n \t\t\tKingのアーキとか秘密鍵をどうやっているかをSNCに共有しました\n \t\t\t\tサーバー周りの状況を聞いておく[takeuchi.icon]\n \t\t[MANOMAまとめ(随時更新)]\n\n[** Joker (ymtk)]\n\tソニーUI操作性WGでXperia Earに聞いてきたメモ\n\t\t出入りをフックに通知する機能がある。GPSベースなので「自宅エリア」のような表現\n\t\t通知機能として天気や予定などは入れているが、出入りの際に結局刺さっているのは「いってらっしゃい」「おかえりなさい」「おつかれさま」等の単純機能\n\t\t出入り以外の通知で刺さっている機能は「3時です」などの時報\n\n[** Castle (ymtk、三上)]\n\t開発停止中。折を見てパッケージアップデートだけやってます[ymtk.icon]\n\tチャンネルに投稿されてるのはボットでしょうか? 不要なら消していいかもです。\n\t\tこれ自分がアプデ確認のために使っているので、育休とるときに止めます。[ymtk.icon]\n\tHubなしプランの相談受けてます[komai.icon]\n\t まだ相談ベース、何も決まってない\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\t全体スケジュール\n\t\t8/28(水): 1stリリース、富士物流向け(リモート解施錠、メール通知が必須)＆一般向け(合鍵、新規登録など)\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\tsirius-api (mikamix)\n\t\tadmin以下\n\t\t新規作成PRだん\n\t\t 変更\n\t\t 削除\n\tWebフロント(ymtk)[ymtk.icon]\n\t\tアプリケーション終わったらサイト構築やる。（s3 => Heroku)\n\t\t S3 -> Herokuなんでしょう? [mikamix.icon]\n\t\t 多少のよくあるシステムであれば、CMSとか使えばいいじゃない。乗っかったほうが色々楽。\n iOS (hiro)\n \t一通りSQA終わった\n \tSQA対応中\n \tリリースボタンを押すに向けた雑務対応\n \t\t8/28(水)にリリース\n Android [fukazawa.icon]\n \t残件：正式リリース\n \t\t8/28(水)に、hiroさんにボタンを押して貰う\n \t\tAndroidアプリにも、ついに人力審査が入るように[takeuchi.icon]\n \t\t\tGoogleに質問した人曰く、だいたい2日かかる(土日除く)\n \t\t\t審査通りました[h.yamaguchi.icon]\n[sirius-king api mtg 8/21]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa\n\t\tWWAマーク出た。西川さんと1月からやっていた戦いこれにて集結\n\t\t\thttps://www.amazon.co.jp/Qrio-Lock-キュリオロック-スマホで自宅カギを解施錠できるスマートロック-Q-SL2/dp/B07DJGX1FF/ref=sr_1_3?__mk_ja_JP=カタカナ&keywords=qrio+lock&qid=1566275271&s=gateway&sr=8-3\n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n and hostelさんにAPI提供する話が回ってきた(2019/7/9)\n \tドキュメント作って渡した\n change_settingsコマンド発行api作成頼まれた\n \tリモートでビーコンON/OFF設定を変えたい(Sirius)\n \t\t電池残量2倍になりやつですねこれ[ymtk.icon]\n \t設定値をAPIの引数にして、バイナリを作ってコマンド発行できるようにしたい\n \t8月中を目標にしたい\n \t2lockのコマンド失敗した。でも8月中には出せそう。\n \t本日に省電力モードのAPIをデプロイする\n master_key削除できる管理ツール作成頼まれた\n \t９月中には実証テストしたい\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n\n[* CU (竹内、hiro)]\n\t省電力モード\n\t\thttps://docs.google.com/presentation/d/1q0x1Ww1G6mXdzKpcqnoBHmcgCbPw6OQuROcZ6WK2n8s\n\t\tSQA開始済み、8月末リリース予定\n\t\t\tサーバー（GET /allの変更）は今日productionへ反映。\n\t\t\tアプリ修正&SQA\n\t\t\t告知（プレスリリース&限定ストア）などと合わせて、9月頭リリース予定[takeuchi.icon]\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n8/21 (水) FFです\n\tリリースしました\n残作業\n\t量産用のビルド、書き込みスクリプト（作成中）\n\t二次試作データ作成（100台）\n　個体データが正しくflashされたか、MD5で確認できる仕組みを追加\n\tハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\t8/28、再度モデルルームでの測定\n\t\t山川さんと竹内で行ってきます。作業方法はまた共有します。\n\tCoverity環境構築（進捗なし）\n\t\t大西さんにCoverityのライセンス更新を今やってもらっているところ。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない\n\t\t他はまだだが、対応は9月中でもよい\n\t\t\tもっとあとになるかも\n生産スケジュールが遅れる\n\n[* Guardian 製造・制作系 (ymtk)] \n 進捗なし\n ガイド発注時期検討中\n\n[* Qrio Lock お試し/レンタル(ymtk)]\n\t内製短期(R25)[ymtk.icon]\n\t\t500台配った。4秒に1台出た。\n\t\t負荷がかかるとログインセッション維持できなかったりしたので見直す。\n\t\t今週発送します。\n\t協業長期（レンティオ）\n\t\t上のモノが返ってきてから。10月。\n\t第2回お試しキャンペーン\n\t\t10月以降 with NewsPicksで検討中。ymtkがいるうちにアプリケーション準備（マスタ替えるだけ）\n\n[* Guardian セキュリティ(チャン)]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールを利用できる。\n \t  リスクアセスメント -> 点数をつけてデータを作成しているところ\n   \t リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117をもらったので読んだ上、最小化する\n   セキュリティ運用設計 -> ソニー内部で発信している脆弱性のメールが来ているから、もう終わりな気がする。\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (竹内、hiro)]\n進捗なしです。\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon]\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよい？\n \tGuardianのシリアルは2xxxxxxxとする予定（大西さんにも確認済み）\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n \t9月中対応を目標に進める。[takeuchi.icon]\n \t\tもう少しあとになるかも。\n\n[** 情報システム (チャン)]\n Lastpass導入\n \t結局ブラインドのままパスワードを共有できるのが、Lastpassしかなかった。Bitwarden、1password はブラインドで渡すことが不可能。\n 恐怖 McAfeeのインストールと手続き\n \tバックオフィス、CS、インターンのPCにインストールして数を稼いでいます。\n Twilioの会社情報の更新\n \t11.21までにTwillio本体が通産省に報告するらしい\n \t代理人の身分証明書でいいのかTwilioに確認中\n 弊社の監査について、セキュリティ関係の研修を受けていないと監査が通らないので、アドバイザをやってます。\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** その他相談ほか]\n\tr-tadaimaいつ止めるのか？qrio \n\t今更ですがAWSのアカウントエイリアス設定しませんか?\n\t\tymtkにお願いする\n\t\t確かにqrioincとかつけちゃっていいですね。2段階認証にみんなしてるので大丈夫。[ymtk.icon]\n\t\tAWS SNCアカウントを共有する→ LastPass\n\t来週からの会議体\n\t\t竹内さん、しばらくは基本電話会議で参加、必要なときは恵比寿に来る\n\n[** 健忘録]\n\tなし\n\n# sirius-king api mtg 8/28\ncreated_at:Mon Jan 19 1970 12:14:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:14:32 GMT+0900 (日本標準時)\nsirius-king api mtg 8/28\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 8/14]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\t8/19(月)→28(水)リリース予定だよ！\n\t\t9/2(月)に必要だった機能をここで全部含める。でかい機能としては合カギグループ、新規申し込みなど\n\nfukazawa[fukazawa.icon]\n\tありがとうざわさん[ymtk.icon]\n\tありがとうございました[h.yamaguchi.icon]\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\n\ntopaz2\n\n 細かい issue 対応\n \tサーバやらインフラやら色々\n SQA対応\n 仕様の問い合わせ対応\n レビュー依頼対応\n\nymtk[ymtk.icon]\n\t明日出すぞ！！！\n\tv: サーバとフロントをひたすらやってる\n\t\t合カギ条件界隈\n\t\t合カギ削除エラー界隈\n\t\tadminツールUI界隈\n\tv: リリース前確認\n\t\thttps://docs.google.com/spreadsheets/d/1Nbz5nWgyZHTYc67MXE9XVowLRw5L_0To2yS6D6FP36w/edit##gid=704359199\n\t\thttps://github.com/qrioinc/sirius-api/issues/140\n\to: ビジネス界隈\n\t\t毎週下記で定例進行中（マーケ、営業、運用周り）\n\t\t\thttps://docs.google.com/spreadsheets/d/1ToocDJ4UFMlMTXe0cjYzAvW4ECQu8eDn6cQttnnNO2M/edit?usp=drive_web&ouid=109170418868775192408\n\n[h.yamaguchi.icon]hiro\n\tiOS申請作業\n\tAndroid申請作業\n\t!: 28日の何時頃リリースするのか確認\n\t\t朝一でリリースする\n\t!: 25日くらいからAndroidアプリでも審査が始まったようです。今朝審査に出して現在審査中。リジェクトがなどがあった場合28日のリリースに間に合わない可能性があります。。\n\t\tコウキチさんに一報入れる。どうしようもない場合はiOSで[ymtk.icon]\n\n\n[mikamix.icon]\n admin/organizationsに関して\n  POST(新規登録)はPR済み、問題なさげ。あっても微調整程度だと思われる。\n  PATCH(更新)はすぐ出せます。一応POSTが問題ないのを確認してそれに合わせて出そうかなと。\n  DELETE(削除)は少しやっかいで、他のレコードも消さないといけない、かつ論理削除もありそう? (要確認)\n   間違えるとえらいことになるので慎重にやりたい\n   仕様等確認しながらやりたい\n   \t直近すぐには大丈夫なので1週間くらいかけて慎重にいきましょう[ymtk.icon]\n\n[narico.icon] narico\n\t今週は特になし\n\tWin対応など\n\n\n事業前提\n\t8/28(水)リリース目標\n\nその他\n\t来週からの会議体\n\t\t司会、来週から三上さんへパス\n\n##sirius #定例 #sirius-apis\n\n# ichikawa\ncreated_at:Mon Jan 19 1970 06:16:26 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:13:21 GMT+0900 (日本標準時)\nichikawa\n[https://gyazo.com/cc99a4492fe8e9c1fe70c80f1037335b]\n\n\nthis is ichikawa’s page\n\n##member\n# sirius-king api mtg 8/21\ncreated_at:Mon Jan 19 1970 12:04:32 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:06:01 GMT+0900 (日本標準時)\nsirius-king api mtg 8/21\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 8/14]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\t8/19(月)→28(水)リリース予定だよ！\n\t\t9/2(月)に必要だった機能をここで全部含める。でかい機能としては合カギグループ、新規申し込みなど\n\nfukazawa[fukazawa.icon]\n\tBCU Android\n\t\t正式リリース いつやる？\n\t\t\t8/28(水)に正式リリース\n\t全体スケジュール\n\t\t8/28の1stリリースは富士物流&一般向け\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n 自分以外のmanager削除api実装\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n　\tmanager - admin間で中間テーブルを設ける必要アリ(bcuのhub登録時にmanagerのidいっぱいあったらややこしいので)\n　webhook先がnot foundだった時にdisableにする機能作る\n\ntopaz2\n\n 細かい issue 対応\n SQA対応\n 仕様の問い合わせ対応\n レビュー依頼対応\n\nymtk[ymtk.icon]\n\tv: フロント\n\t\tapi繋ぎ込み\n\t\t\tグループへのメンバー追加/削除、メンバーへのグループ追加/削除、通知設定ON/OFF\n\t\t履歴コンポーネント内でのapi呼び出し最小化\n\t\thttpsリダイレクト\n\t\tログイン後認証エラーになりがちへの対処\n\t\tHub未設定エラー\n\t\tその他issue倒し（出し分け、不要vue削除他）\n\t\t\thttps://docs.google.com/spreadsheets/d/1tTip3WsAeZF6QNQDzmOy40RWMjXdEF6f9EPyzfrgaWw/edit##gid=1251687361\n\tv: サーバ\n\t\tプランapiおよびseed\n\t\tユーザー削除時メール通知\n\t\t配送先呼び出しapi\n\t\tその他、フロント実装時に見つけた小ネタ対処\n\to: SQA対応\n\to: カギカンサイト\n\t\tメールフォームのHubSpot化\n\t\t旧コンテンツ移動\n\to: ビジネス界隈\n\t\t毎週下記で定例進行中（マーケ、営業、運用周り）\n\t\t\thttps://docs.google.com/spreadsheets/d/1ToocDJ4UFMlMTXe0cjYzAvW4ECQu8eDn6cQttnnNO2M/edit?usp=drive_web&ouid=109170418868775192408\n\n[h.yamaguchi.icon]hiro\n o: ログイン時のエラーハンドリング\n 正式リリースは？\n \tリリースは8/28日\n\n[mikamix.icon]\nv: POST DELETE organization_user/group\n だん\no: PATCH /admin/organizations\n 500\n パラメータ、カラムの不一致\no: DELETE /admin/organizations\n 500\n\n[narico.icon] narico\n\t中島さん\n\t IE対応などを潰してもらってる\n\t吉本さん\n\t\tまだ動けなそう　週後半は動けそう\n\t成田\n\t\t合カギ受け取りのスマホUIで手こずる\n\t\t細かいUI修正\n\t\tIssue投げる\n\n事業前提\n\t8/28(水)リリース目標\n\nその他\n\t来週からの会議体\n\t\t司会、来週から三上さんへパス\n\n##sirius #定例 #sirius-apis\n\n# Dev MTG 2019/8/21\ncreated_at:Mon Jan 19 1970 12:04:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:04:42 GMT+0900 (日本標準時)\nDev MTG 2019/8/21\n[https://cosme-tantei.com/wp-content/uploads/2019/02/summer.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t正社員募集中\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n 深澤 引き継ぎしてます\n \tアカウント、ドキュメントなど色々あり\n \t\tアカウントは山川さんへ共有済み\n \t引き継ぎ資料\n \t\thttps://docs.google.com/spreadsheets/d/1PRQckPPW6v_qnYyeunoyhQB_tDX1aMQ8K7585OEmdfg\n \t\t9月以降の開発体制(ドラフト版)[takeuchi.icon]\n   \thttps://docs.google.com/presentation/d/1fggbxxwYdjPmavr96qyaPEwJIA-uuDkQ0LdrAZRr_ks\n   \t竹内ポジションの引き継ぎも長期的に見て考えた方がよい。属人化しており募集もかけにくいため。\n \t1password\n \t まもなく山川さんから展開される予定\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  \thttps://ja.wikipedia.org/wiki/ゲイリー・キルドール\n  \t キルドール不在でIBMが自宅を訪れた際、夫人はNDAに署名しなかった\n  NASTA(マンション共通玄関 AL)\n  \tQrio社内で開発する方向で見積り中\n  \t\tソニー経営会議のネタ\n \t\t\t8月中に見積もり、9月に経営会議通す予定\n \t\t\t設計構想の準備\n \t\t\tリリース判定までのスケジュールを検討する\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\tekeyをAIHGWに内包してあけるパターンでやる方向になった\n \t\t\t竹内さん、駒井さんを品川に派遣→開発サポート\n \t\t\tポケットWiFiを持っていくといい(SSHできない)\n \t\t\t\t1Fまで行かないと電波入りません[takeuchi.icon]\n \t\t\t社食は微妙\n \t\t[MANOMAまとめ(随時更新)]\n\n[** Joker (ymtk)]\n\tソニーUI操作性WGでXperia Earに聞いてきたメモ\n\t\t出入りをフックに通知する機能がある。GPSベースなので「自宅エリア」のような表現\n\t\t通知機能として天気や予定などは入れているが、出入りの際に結局刺さっているのは「いってらっしゃい」「おかえりなさい」「おつかれさま」等の単純機能\n\t\t出入り以外の通知で刺さっている機能は「3時です」などの時報\n\n[** Castle (ymtk、三上)]\n\t開発停止中。折を見てパッケージアップデートだけやってます[ymtk.icon]\n\tチャンネルに投稿されてるのはボットでしょうか? 不要なら消していいかもです。\n\t\tこれ自分がアプデ確認のために使っているので、育休とるときに止めます。[ymtk.icon]\n\tHubなしプランの相談受けてます[komai.icon]\n\t まだ相談ベース、何も決まってない\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\t全体スケジュール\n\t\t8/28(水): 1stリリース、富士物流向け(リモート解施錠、メール通知が必須)＆一般向け(合鍵、新規登録など)\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\tsirius-api (mikamix)\n\t\t認証漏れ対応中\n\t\tadmin以下を修正中\n\tWebフロント(ymtk)[ymtk.icon]\n\t\t引き続きめっちゃ実装してる。apiも書いてる。\n\t\tIE11を中島さんが倒してくださった。\n\t\tアプリケーション終わったらサイト構築やる。（s3 => Heroku)\n iOS (hiro)\n \t一通りSQA終わった\n \tSQA対応中\n \tリリースボタンを押すに向けた雑務対応中\n \t\t8/28(水)にリリース\n Android [fukazawa.icon]\n \t残件：正式リリース\n \t\t8/28(水)に、hiroさんにボタンを押して貰う\n[sirius-king api mtg 8/21]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa\n\t\tWWAマーク出た。西川さんと1月からやっていた戦いこれにて集結\n\t\t\thttps://www.amazon.co.jp/Qrio-Lock-キュリオロック-スマホで自宅カギを解施錠できるスマートロック-Q-SL2/dp/B07DJGX1FF/ref=sr_1_3?__mk_ja_JP=カタカナ&keywords=qrio+lock&qid=1566275271&s=gateway&sr=8-3\n\tClova\n\t\t仕様変更のメール来たから見る[komai.icon]\n\t\t\t既存機能に影響なさそう\n\n[* API (駒井)]\n and hostelさんにAPI提供する話が回ってきた(2019/7/9)\n \tドキュメント作って渡した\n change_settingsコマンド発行api作成頼まれた\n \tリモートでビーコンON/OFF設定を変えたい(Sirius)\n \t\t電池残量2倍になりやつですねこれ[ymtk.icon]\n \t設定値をAPIの引数にして、バイナリを作ってコマンド発行できるようにしたい\n \t8月中を目標にしたい\n master_key削除できる管理ツール作成頼まれた\n \t９月中には実証テストしたい\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n\n[* CU (竹内、hiro)]\n\t省電力モード\n\t\thttps://docs.google.com/presentation/d/1q0x1Ww1G6mXdzKpcqnoBHmcgCbPw6OQuROcZ6WK2n8s\n\t\tSQA開始済み、8月末リリース予定\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n8/21 (水) FFです[takeuchi.icon]\n実装\n\t改ざんされたバイナリ (Bootloader, Appなど) の起動を禁止する\n\t\tリスクを追記しました　https://qrioinc.slack.com/archives/C5E0ZMTKN/p1565165742135000\n　\tリスクアセスメントはまだ完了はしていない認識ですが、あっていますか？[takeuchi.icon]\n　iPerf（Wi-Fi電波測定用ツール）を一時試作単体で使えるようにしてほしいとのことだったので、対応した[takeuchi.icon]\n　個体データが正しくflashされたか、MD5で確認できる仕組みを追加\nハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\t\tそろそろやりたいです[takeuchi.icon]\nその他\n\t7/31、モデルルームで一次試作のWi-Fi電波飛び確認予定\n\t\t終了。電波の飛びが悪いポイントが何ヶ所かあり、ヘルツさんに確認依頼中\n\t来週水曜 8/28、再度モデルルームでの測定があります。\n\t\t山川さんと竹内で行ってきます。作業方法はまた共有します。\n\tCoverity環境構築もやりたい（進捗なし）\n\t\t今週やる[fukazawa.icon]\n\t\t\tビルド環境は構築した。[takeuchi.icon]\n\t\t\t大西さんにCoverityのライセンス更新を今やってもらっているところ。\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\t\t\tと思ったけど申請はしなきゃでした。ソニー価格の権利を取ったまで。\n\tCUでハブを登録する際、Q-H1/Q-H1Aでversion.jsonの参照先を変える対応が必要[takeuchi.icon]\n\t\tKing CU, Sirius BCU, Castle BCU いずれも iOS/Android 両方の対応が必要\n\t\tまだKing CU Androidしかやってない\n\t\t他はまだだが、対応は9月中でもよい\n\n[* Guardian 製造・制作系 (ymtk)] \n 進捗なし\n ガイド発注時期検討中\n\n[* Qrio Lock お試し/レンタル(ymtk)]\n\t内製短期(R25)[ymtk.icon]\n\t\t500台配った。4秒に1台出た。\n\t\t負荷がかかるとログインセッション維持できなかったりしたので見直す。\n\t\t今週発送します。\n\t協業長期（レンティオ）\n\t\t上のモノが返ってきてから。10月。\n\t第2回お試しキャンペーン\n\t\t10月以降 with NewsPicksで検討中。ymtkがいるうちにアプリケーション準備（マスタ替えるだけ）\n\n[* Guardian セキュリティ(チャン)] [* 進捗なし]\n リスクアセスメントの可視化ツールに、点数をつけて大西さんに提出する\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   \t資料もらった\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (竹内、hiro)]\n進捗なしです。FFにまにあわなかった[takeuchi.icon]\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon]\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよい？\n \tGuardianのシリアルは2xxxxxxxとする予定（大西さんにも確認済み）\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n \t9月中対応を目標に進める。[takeuchi.icon]\n\n[** 情報システム (チャン)] [* 進捗なし]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n Twilioの会社情報の更新\n \t8.26までに代表者(渡辺さん)の顔写真入の身分証明書を用意して出す\n \t11.21までにTwillio本体が通産省に報告するらしい\n \tどこに何を提出すればよいか確認中\n Bitwarden\n \tBitwarden では、ブラインドのままパスワードを共有できなかったので、1password で確認する。\n 1password\n \tブラインドのままパスワードを共有できるのであれば採用したい。すでに管理部で使っている\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n \t近くなったら聞く\n\n[** その他相談ほか]\n\tr-tadaimaいつ止めるのか？qrio \n\t今日、cs-to-techを全部棚卸した[fukazawa.icon]\n\t今更ですがAWSのアカウントエイリアス設定しませんか?\n\t\t確かにqrioincとかつけちゃっていいですね。2段階認証にみんなしてるので大丈夫。[ymtk.icon]\n\t\tAWS SNCアカウントを共有する→1password\n\t来週からの会議体\n\t\t司会は、山川さんへパス\n\t\t竹内さん、しばらくは基本電話会議で参加、必要なときは恵比寿に来る\n\n[** 健忘録]\n\tなし\n\n# 8/19 c-team 分析分科会\ncreated_at:Mon Jan 19 1970 12:03:18 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:03:19 GMT+0900 (日本標準時)\n8/19 c-team 分析分科会\n前回\n[19/7/22 c-team 分析分科会]\n\n[* アジェンダ]\n\tR25 満足度アンケート設計\n\t\t実際に使ってみてどうだった？を解像度高くやりたい\n\tメルマガの効果分析\n\t\t何を持って良しとするか\n\tカギカンサイトHubSpot実装\n\t\tcookieを喰わせる\n\t\t解約フォーム自動化\n\t\t\t理由を知りたい\n\t\t\t\t案件設計\n\t\t9月に整えていくイメージ\n\t\t\t外部向けお問い合わせフォームはHubspot \n\t\t\t内部フォームはFormrun to qrio_support@kagican.jp\n\t電池2倍率の把握\n\t\tどのくらいなの･･･？の計算方法。ハンズフリー解錠設定と含め\n\t差し込みメール\n\t\tSendgrid => kw氏に依頼\n\tR25稼働率\n\n\n##analytics\n\n# c-team定例 19/8/19\ncreated_at:Mon Jan 19 1970 12:03:08 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:03:18 GMT+0900 (日本標準時)\nc-team定例 19/8/19\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/zawa/knarita/ymtk/ichikawa/nakano\n\n欠席\ntakeuchi\n\n前回\n[c-team定例 19/8/14]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\t10分に1台売れる\n\n--- なんだか古い気がする[ymtk.icon]\n[* アジェンダ2]\n\tご意見\n\tR25\n\t\t4分に1回借りられる→購入率50%なら8分に1回売れる\n\t\tメルマガ\n\tGA\n\t各自\n\t\t営業\n\t\t\tお盆休み中\n\t\t\t一条工務店1000台一括予定\n\t\t\t9月の売り上げづくり\n\t\t\t\t買い換えCPN準備\n\t\t\t11月\n\t\t\t\t渋谷PARCO内Campfire、ガジェット中心の展示\n\t\t\t\t\tプロトタイプが並んでいるスペース\n\t\t\t\t\t無料で利用可能\n\t\t\t\t\t\tmakuakeとの関係性気になる[ymtk.icon]\n\t\t\t\t\tabeja手に取った人分析絡み\n\t\tマーケ\n\t\t\t電池2倍\n\t\t\t\tセール自体は乗り換え\n\t\t\t\t告知自体は･･･？\n\t\t\t\t\t商品ページの更新\n\t\t\t\t\t既存ユーザーにはメルマガ出したい\n\t\t\t\t\t案\n\t\t\t\t\t\t電池は本当に2ヶ月しか持たないのかコンテンツ\n\t\t\t\t\t\t1個買ったらもう1個タダで(抽選)\n\t\t\t\t\t\tハンズフリーがつかえない人に朗報\n\t\t\t\t\t\t\tハンズフリーを直して欲しいのでは･･･[ymtk.icon]\n\t\t\t\t\t\t誰がどんな恩恵を受けるのか\n\t\t\t\t\t\t\tKey勢は嬉しい\n\t\t\t\t\t\t\tハンズフリーを使わない人は電池が長持ち\n\t\t\t\t\t\t\tKeyの電池ももらえる\n\t\t\t\t\t\t\t逆に言えば、ハンズフリー使ってる人には電池をあげる\n\t\t\t\t\t\t\t\tblogから応募すればいいのでは･･･？\n\t\t\t\t\t\t\t\t物理的がイヤなら、アマギフで電池買える価格\n\t\t\t\t\t\t\t\tその代わりアンケートか、なにかしら得られるモノ。使ってる写真なのかなどを必須\n\t\t\t\t\t\t乗り換えCPNに電池2個つけるのはfix\n\t\t\t\t\tトレードオフではある\n\t\t\t\t\t\tハンズフリーは使えない\n\t\t\t\t\t\tオフィスだと特に嬉しいよね\n\t\t開発\n\t\t\t来週電池2倍になる\n\t\t\t\thttps://docs.google.com/presentation/d/1q0x1Ww1G6mXdzKpcqnoBHmcgCbPw6OQuROcZ6WK2n8s/edit##slide=id.g5e41c56caa_0_23\n\t\tCD\n\t\t\t乗り換えキャンペーン用記事\n\t\t\t\tSL2になって何が進化したんですか by zawa\n\t\t\tペパクラ\n\t\t\t\t21(水)から開始\n\t\t市川枠\n\t\t\tamazon施策 with CA、amazon\n\t\t\t\t商品詳細〜購入 1.1%\n\t\t\t\tオーガニック？広告経由？筋のいい動線を見つけてKPI設定\n\t\t\tインターン\n\t\t\t\tアクティブサポートに手が回りそうです\n\n---\n\n[** アジェンダ]\n\tCPN進捗\n\t https://docs.google.com/presentation/d/1qqDgM-yaxzJ-dd2e-01rRi79eIJ9zQcpxPbDmJX4D2c/edit?usp=sharing\n\tご意見BOX\n\t\thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tバッテリー界隈進捗\n\t\tCU\n\t\t\t今月中にリリース予定\n\t\t\tバッテリーが、4本で1年→4本で2年の2倍になる\n\t\tカギカン\n\t\t\t9月中の予定\n\t\t施策\n\t\t\tBlogでの説明\n\t\t\t他施策での電池配布など\n\t9月施策\n\t\t市川\n\t\t\tアフィリエイト、紹介記事の推進をやっていく\n\t\t\t今週バリューコマースとmtg\n\t\t\tamazon売り上げ対策\n\t\t\t\tレビュー改善 with CSkwkm\n\t\t\tCA\n\t\t\t\tレビューや質問に挙がっている内容での記事作成\n\t\t\t競合商品ページへの広告出しほか、Amazon内SEO\n\t\t\tamazonレビューへの返信\n\t\t買い換えCPN\n\t\t\t10月への落ち込みが予想できるので、9月に集中\n\t\tレンティオ\n\t\t\tホリエモン待ち(10月)\n\t\t\tプレスリリース出る予定\n\t\t\tKeyも対象になり得る\n\t\t\tQrioからの動線、リリースは検討\n\t\tペーパークラフト\n\t\t\tモノが届きました。社内準備待ち\n\t\t\tメールテンプレ、目標設定などの準備中。今週中メド\n\t\t\tモノの梱包は週明け with 経営本部アルバイトメンバー\n\t\t\t開始目標8/20-21\n\t\tメルマガ\n\t\t\tqrioに興味がある人からメアドを取る\n\t\t\t8月中にやる予定、8/26週になんとかします[ymtk.icon]\n\tその他\n\t\t竹内さんが10月まで品川に\n\t\t\t壮行会しましょう\n\t\t\t深澤さんの送別会もしましょう\n\tR25界隈\n\t\t1%くらいならカードの人もOKとする\n\n[** NEXT]\n\t9月施策進捗\n\tR25 送付周り状況確認\n\n---\n[*** 先週のNEXT]\n\t\n\n--\n[*** 先々週のNEXTで触きれていないもの]\n\tバッテリー界隈進捗\n\tCS神対応\n\t9月施策\n\t\tQ-SL1 買い換えキャンペーン\n\t\tNo.1 界隈\n\t\t友だち招待は間に合わないかな･･･\n\t住宅展示場ショールーム\n\t https://zenchin.smktg.jp/public/seminar/view/127\n\n--\n\n[*** アジェンダ]\n\tご意見BOX\n\t　https://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tGA\n\t\tサイト\n[https://gyazo.com/610106420ad20dd87847b4fe2ade3eab]\n\n \tセッション/ユーザー\n　　　4/8 有吉ゼミ               :5334/4659\n　　　5/7 おはよう日本       :6171/5247\n　　　7/29 しゃべくり007  :6155/[* 5604]\n　　　8/14  R25                     :4949/4109\n実は、「しゃべくり7」の時、時間別だと最大瞬間風速観測してました！\n※ 7/29 22:00→3452セッション　1日の半数以上が22時代に集中\n\n[https://gyazo.com/9ea1fe06f6c4b59f169721a45b8750cd]\n\n\n\t\tBlog\n[https://gyazo.com/bb842d11382a13231dca5f6e4b200656]\n\n\n\t施策共有\n\t\tレンティオ\n\t\t\t価格設定は決まっている。lock ¥1500、hub ¥500\n\t\t\t補修部品（両面テープなど）卸しオペレーションを決める\n\t\t\t初回中古品20個揃えばスタート\n\t\tR25 & お試しcpn\n\t\t\t価格決め\n\t\t\t\t15% off(¥21,114 税込)くらいがスコープ？「秒で買う」より安くなってしまうと問題ある\n\t\t\tアプリケーション関連\n\t\t\t\tカード審査OK\n\t\t\t\tアンケート実装したら終わり\n\t\tNo.1\n\t\t\t決着まだ。試算したらセサミを買っている人の2.5%がQrio Lockを買ってくれるかどうか\n\t\t\t\t母数is...? => 400\n\t\t\t\t実際は10%必要\n\t\t\tSEOアフィリエイト界隈、レビュー改善を並行して実施\n\t9月対策\n\t\t\tQ-SL1 買い換え => 10-11の方がいいんじゃないかな？\n\t\t\tメルマガからのシークレットセール\n\t\t\t（量販店への販売支援金界隈）\n\t\t\t展示場の人が買いやすくなるスキーム\n\t\t\t\t子供がいたらQrio Keyあげます\n\t\t\t全販路での2ロックCPN\n\t\t\t\t2人で1個買ってもよい前提条件\n\t\t\t\t見せ方検討したい\n\n[** 各種共有]\n\t販売\n\tマーケ\n\tデザイン\n\t\tペーパークラフト、8/20着。モノの請求動線を作って発送できる準備をする\n\t開発\n\t\tバッテリー2倍→カギカン2オープン前目安\n\t\t\thttps://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\tanalytics\n\t ポータル作成中\n\t 　https://sites.google.com/qrioinc.com/portal-home/ホーム\n\t 　両面テープ季節要因あるかも？\n\t 　UI:若手、75PM:公団(UR)、公社多めなので老人見守りストーリーなども？\n\n[** CS界隈]\n\tお試しキャンペーン\n\t\tqrio.me 以下のcpnフォーム、購入相談に飛ばす\n\n[** NEXT]\n\tしゃべくり販売数効果の確認\n\tR25前日確認\n\tその他共有界隈\n\t8/14にR25お試しcpn価格決め\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n# Q-SL1→Q-SL2進化ポイント\ncreated_at:Mon Jan 19 1970 12:00:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 12:00:40 GMT+0900 (日本標準時)\nQ-SL1→Q-SL2進化ポイント\n\n\tこの記事について\n\t\t現在Qrio Smart Lock(Q-SL1)をお使いで、新機種のQrio Lock(Q-SL2)へ買い替えを検討されているお客様への参考記事となります。\n\t\t基本的な機能はQ-SL1もQ-SL2もほぼ同等ですが、Q-SL2ではQ-SL1の様々な課題を改善しており、買い替え判断の一助にして頂ければ幸いです。\n\n\t主な進化ポイント\n\t\tスマホアプリの使い勝手が大幅に向上\n\t\t\tカギの開け締めが大きなボタンでワンタップ\n\t\t\t\t(Q-SL1とQ-SL2の比較画像)\n\t\t\t\tQ-SL1では、アプリの下側に小さな解錠ボタンと施錠ボタンが並んでいたことから、そもそもボタンが押しづらかったり、カギを開けたいのに誤って施錠ボタンを押してしまうことがありました。\n\t\t\t\tQ-SL2では、ロックの状態を判断できるようになり、アプリの中央に大きなボタンを配置するようにしたことで、これらの課題が改善されました。\n\t\t\tリモート操作の切り替えが不要\n\t\t\t\t(Q-SL1とQ-SL2の比較動画)\n\t\t\t\tQ-SL1では、Qrio Hubを設定していた場合に手動でリモート操作を行うかどうかを指定する必要があり、少々不便でした。\n\t\t\t\tQ-SL2では、リモート操作の制御を根本から見直し、ロックが近くにある場合はスマホのBluetoothでロックの操作を行い、ロックが近くにない場合はリモートでロックの操作を行うように改善されました。\n\t\t\t1ドア2ロックが同時に動く\n\t\t\t\t(Q-SL1とQ-SL2の比較動画)\n\t\t\t\tQ-SL1では、1ドア2ロックを設定していた場合に1台ずつの開け締めを行っていたため、2台の開け締めが終わるまでにかなりの時間がかかっていました。\n\t\t\t\tQ-SL2では、この機能の設計を根本から見直し、2台同時に開け締めできるように改善されました。\n\t\t\tスマホを機種変更しても、以前使用していたアカウントでログインすればすぐに利用できる\n\t\t\t\tQ-SL1では、セキュリティ上の理由で、スマホを機種変更した場合は以前使用していたアカウントでログインしてもロックを操作するためには再度オーナー登録や合カギ招待が必要となり、少々不便でした。\n\t\t\t\tQ-SL2では、この仕様を根本から見直し、Q-SL1と同等のセキュリティを維持しながらも、スマホを機種変更しても以前使用していたアカウントでログインすれば、すぐにロックを操作できるように改善されました。\n\n\t\tホテルのようなオートロックが実現\n\t\t\t(Q-SL1とQ-SL2の比較動画)\n\t\t\tQ-SL1では、オートロックがタイマー式のため、ドアを閉めてもすぐにカギが締まらなかったり、宅配便の受け取りに時間がかかってドアが開いた状態でカギが締まってしまったりということがありました。\n\t\t\tQ-SL2では、新たにマグネットセンサーを採用したことにより、ドアを閉めたちょうどいいタイミングでカギが締まるように改善されました。\n\t\t\tまた、ゴミ出しやちょっとした外出でオートロックを一時停止する機能もあり、こちらの記事で詳しく紹介しています。\n\t\t\t\thttps://blog.qrio.me/smartlock/autolock-pause/\n\n\t\tハンズフリー解錠の精度が大幅に向上\n\t\t\tQ-SL1では、ハンズフリー解錠に位置情報(GPS)のみを使用していたため、GPSの入り辛い建物や、天候の変化などで上手く動作しないことがありました。\n\t\t\tQ-SL2では、位置情報に加えて新たにビーコンを採用したことにより、位置情報とビーコンを上手く組み合わせることで精度が大幅に向上しました。\n\t\t\tハンズフリー解錠の仕組みについては、こちらの記事で詳しく紹介しています。\n\t\t\t\thttps://blog.qrio.me/smartlock/handsfree-system/\n\n# IoT - dev 室長会 19/8/16\ncreated_at:Mon Jan 19 1970 11:58:52 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:58:53 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/8/16\n前回：[IoT - dev 室長会 19/7/26]\n\n[** 全体共有・相談]\n\n[* 前回のNEXT]\n\ttime machine\n\t集中デー\n\t続Sendgrid\n\n[** 共有・相談ネタ]\n[* 全般]\n\tざーさん最後の1週間\n\t行動指針関連\n\t\tこの先の進め方気にしている\n 集中デーそもそも\n \tおいとかれている\n\tHR関連\n\t\tスキルマップをおさらいしたい\n\t\t\tスキルマップ書く[fukazawa.icon]\n\t\t\tチームとして、ロストテクノロジーの把握\n\t\t\t\tこれがないと、採用や業務委託の契約\n\ttoC\n\t\t9月に向けた積み上げ\n\ttoB\n\t\t竹内さん、駒井さん、ちゃんさん派遣\n\n[* 製品開発]\n\t来週から品川へドナドナされる開発メンバー (10/xx まで)\n \t 山川さん: 週1で品川 (何曜日かは未定)\n \t 駒井さん: 週3で品川 (何曜日かは未定)\n \t 竹内　　: 週5で品川\n\t深澤、8/22 (木) 最終出社日\n\t\t今後の窓口\n\t \ttoB案件: 山川さん、駒井さん、hiroさん\n\t \ttoC案件: ymtkさん、竹内さん\n\tパスワード管理ツールの展開を来週にお願いしますmm\n\t\t1passwordにする\n\tSiriusサービスリリース判定 8/16(金)\n\t\t1stリリースは8/26週予定\n\n[* デザインコミュニケーション]\n\tsirius\n\t\tメイン用撮影 済\n\t\t\tなんとか対応できてよかった\n\t\t\t\tすごい++[ymtk.icon]\n\t\t残タスク8/19〜\n\t\t\tにミギウデさんから実装巻き取り、webおよびqrio.me動線周り調整\n\t\t\tBCUガイド作成続き\n\t\t\t紙媒体の営業資料作る\n\t\t\tバナー類広告周りの作成\n\t\t\t\tサイト載せ替えのタスク確認しましょう。リンク切れとかもありうる[ymtk.icon]\n\n\t行動指針\n\t\t制作物に落とさねば\n\t\t外部発信記事作らねば（wantedlyや個人note）\n\n[* CS推進]\n\t来週〜再来週にPit-CrewへSiriusレクチャー予定\n\tお試しキャンペーンレポートについて\n\t\thttps://docs.google.com/presentation/d/1qqDgM-yaxzJ-dd2e-01rRi79eIJ9zQcpxPbDmJX4D2c/edit##slide=id.g5f977775b7_0_0\n\n[* その他課題など]\n\tちゃんさんへバトンタッチ\n\tそろそろymtkの引き継ぎを計画する\n\n##室長会 #議事録\n\n# c-team定例 19/8/14\ncreated_at:Mon Jan 19 1970 11:56:02 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:56:05 GMT+0900 (日本標準時)\nc-team定例 19/8/14\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/zawa/knarita/takeuchi/ymtk/ichikawa/nakano\n\n欠席\n-\n\n前回\n[c-team定例 19/8/5]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\n[** アジェンダ]\n\tCPN進捗\n\tご意見BOX\n\t\thttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tバッテリー界隈進捗\n\t\tCU\n\t\t\t今月中にリリース予定\n\t\t\tバッテリーが、4本で1年→4本で2年の2倍になる\n\t\tカギカン\n\t\t\t9月中の予定\n\t\t施策\n\t\t\tBlogでの説明\n\t\t\t他施策での電池配布など\n\t9月施策\n\t\t市川\n\t\t\tアフィリエイト、紹介記事の推進をやっていく\n\t\t\t今週バリューコマースとmtg\n\t\t\tamazon売り上げ対策\n\t\t\t\tレビュー改善 with CSkwkm\n\t\t\tCA\n\t\t\t\tレビューや質問に挙がっている内容での記事作成\n\t\t\t競合商品ページへの広告出しほか、Amazon内SEO\n\t\t\tamazonレビューへの返信\n\t\t買い換えCPN\n\t\t\t10月への落ち込みが予想できるので、9月に集中\n\t\tレンティオ\n\t\t\tホリエモン待ち(10月)\n\t\t\tプレスリリース出る予定\n\t\t\tKeyも対象になり得る\n\t\t\tQrioからの動線、リリースは検討\n\t\tペーパークラフト\n\t\t\tモノが届きました。社内準備待ち\n\t\t\tメールテンプレ、目標設定などの準備中。今週中メド\n\t\t\tモノの梱包は週明け with 経営本部アルバイトメンバー\n\t\t\t開始目標8/20-21\n\t\tメルマガ\n\t\t\tqrioに興味がある人からメアドを取る\n\t\t\t8月中にやる予定、8/26週になんとかします[ymtk.icon]\n\tその他\n\t\t竹内さんが10月まで品川に\n\t\t\t壮行会しましょう\n\t\t\t深澤さんの送別会もしましょう\n\tR25界隈\n\t\t1%くらいならカードの人もOKとする\n\n[** NEXT]\n\t9月施策進捗\n\tR25 送付周り状況確認\n\n---\n[*** 先週のNEXT]\n\t\n\n--\n[*** 先々週のNEXTで触きれていないもの]\n\tバッテリー界隈進捗\n\tCS神対応\n\t9月施策\n\t\tQ-SL1 買い換えキャンペーン\n\t\tNo.1 界隈\n\t\t友だち招待は間に合わないかな･･･\n\t住宅展示場ショールーム\n\t https://zenchin.smktg.jp/public/seminar/view/127\n\n--\n\n[*** アジェンダ]\n\tご意見BOX\n\t　https://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tGA\n\t\tサイト\n[https://gyazo.com/0ec99c7f79a4bad247920897326cd3c4]\n \tセッション/ユーザー\n　　　4/8 有吉ゼミ               :5334/4659\n　　　5/7 おはよう日本       :6171/5247\n　　　7/29 しゃべくり007  :6155/[* 5604]\n\n\t\tBlog\n[https://gyazo.com/bb842d11382a13231dca5f6e4b200656]\n\n\n\t施策共有\n\t\tレンティオ\n\t\t\t価格設定は決まっている。lock ¥1500、hub ¥500\n\t\t\t補修部品（両面テープなど）卸しオペレーションを決める\n\t\t\t初回中古品20個揃えばスタート\n\t\tR25 & お試しcpn\n\t\t\t価格決め\n\t\t\t\t15% off(¥21,114 税込)くらいがスコープ？「秒で買う」より安くなってしまうと問題ある\n\t\t\tアプリケーション関連\n\t\t\t\tカード審査OK\n\t\t\t\tアンケート実装したら終わり\n\t\tNo.1\n\t\t\t決着まだ。試算したらセサミを買っている人の2.5%がQrio Lockを買ってくれるかどうか\n\t\t\t\t母数is...? => 400\n\t\t\t\t実際は10%必要\n\t\t\tSEOアフィリエイト界隈、レビュー改善を並行して実施\n\t9月対策\n\t\t\tQ-SL1 買い換え => 10-11の方がいいんじゃないかな？\n\t\t\tメルマガからのシークレットセール\n\t\t\t（量販店への販売支援金界隈）\n\t\t\t展示場の人が買いやすくなるスキーム\n\t\t\t\t子供がいたらQrio Keyあげます\n\t\t\t全販路での2ロックCPN\n\t\t\t\t2人で1個買ってもよい前提条件\n\t\t\t\t見せ方検討したい\n\n[** 各種共有]\n\t販売\n\tマーケ\n\tデザイン\n\t\tペーパークラフト、8/20着。モノの請求動線を作って発送できる準備をする\n\t開発\n\t\tバッテリー2倍→カギカン2オープン前目安\n\t\t\thttps://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\tanalytics\n\t ポータル作成中\n\t 　https://sites.google.com/qrioinc.com/portal-home/ホーム\n\t 　両面テープ季節要因あるかも？\n\t 　UI:若手、75PM:公団(UR)、公社多めなので老人見守りストーリーなども？\n\n[** CS界隈]\n\tお試しキャンペーン\n\t\tqrio.me 以下のcpnフォーム、購入相談に飛ばす\n\n[** NEXT]\n\tしゃべくり販売数効果の確認\n\tR25前日確認\n\tその他共有界隈\n\t8/14にR25お試しcpn価格決め\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n# sirius-king api mtg 8/14\ncreated_at:Mon Jan 19 1970 11:55:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:55:57 GMT+0900 (日本標準時)\nsirius-king api mtg 8/14\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 8/6]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\t8/19リリース予定だよ！\n\nfukazawa[fukazawa.icon]\n\tBCU Android\n\t\tProductionでの動作確認OK\n\t\t残件\n\t\t\t正式リリース\n\t全体スケジュール\n\t\t8/19の1stリリースは富士物流向け\n\t\t\t必須機能：ロック一覧、リモート解施錠、メール通知(解施錠)\n\t\t\t8/7(水)より、Production環境でQA開始予定\n\t\t9/1の2ndリリースは一般向け\n\t\t\t詳細は以下を参照\n\t\t\t[Sirius 緊急対策会議 20190801]\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n　\tmanager - admin間で中間テーブルを設ける必要アリ(bcuのhub登録時にmanagerのidいっぱいあったらややこしいので)\n　webhook先がnot foundだった時にdisableにする機能作る\n\ntopaz2\n\t本番環境構築\n 解施錠ログメール通知\n \t設計\n \t実装\n\t \tking 側からmain lock idを送ってもらえるように調整\n \t動作確認\n 細かい issue 対応\n \torganizations.city 削除\n \t消費税の期間修正\n フロント実装サポート\n\nymtk[ymtk.icon](8/14 update)\n\tv: フロント\n\t\t解施錠の調整\n\t\t申し込みフローのv-model化\n\t\tお問い合わせフォーム\n\t\tcity削除\n\t\tその他issue倒し（出し分け、不要vue削除他）\n\t\t\t18迄にapiあるものはほぼやっつけられている想定\n\t\t\thttps://docs.google.com/spreadsheets/d/1tTip3WsAeZF6QNQDzmOy40RWMjXdEF6f9EPyzfrgaWw/edit##gid=1251687361\n\tv: サーバ\n\t\tパスワードリセットPR中\n\t\tロック、メンバーリストのソートPR中\n\to: その他小規模のフロント\n\t\t通知ON/OFF\n\to: その他小規模のapi\n\t\t税率取るとか、プランとるとか\n\to: ビジネス界隈\n\t\t毎週下記で定例進行中（マーケ、営業、運用周り）\n\t\t\thttps://docs.google.com/spreadsheets/d/1ToocDJ4UFMlMTXe0cjYzAvW4ECQu8eDn6cQttnnNO2M/edit?usp=drive_web&ouid=109170418868775192408\n\n[h.yamaguchi.icon]hiro\n v: 申請完了→承認されました！\n\n[mikamix.icon]\no: POST DELETE organization_user/group\n 追加でgroupの追加、削除のAPIを用意する\n  優先度は最高でよい\n  ゲストキーをみれば、招待acceptがわかる\n  招待だされてたら、何もしない\n   招待をもう一度だしたい場合は、一回はずしてもっかい入れる\n 招待と鍵を消す\n  鍵はあれば消す\n  招待は消しにいって、404だったらOK\no: DELETE /v1/organization_users\n 自殺禁止 <- だん\n しかしその他の停止処理も一緒にやります ##42\no: DELETE /v1/admin/organizations\n admin以下がQrioのCSだけ叩けるようになっていればよい\n  なんでもいいので何かやっておく? IP, passか、、、\n 500は個別でした\n!: セッション周りについてymtkさんとお話\n -> どこかで\n!: Sirius、organization周りについてymtkさんとお話\n -> どこかで\n\n[narico.icon] narico\n\t中島さん\n\t Issue を随時投げ潰してもらってる\n\t バリデーション関連はほぼ実装済み\n\t吉本さん\n\t\t今週中はまだ動けなそう\n\t成田\n\t\tSQAのIssueリストから依頼するものをgit Issueに立てる\n\t\tUI周りの修正など\n\t\tapiエラーは対応します[ymtk.icon]\n\t一緒に作業実装することは可能か打診してみる\n\t\tこちらの件、先週のタイミングで打診してみたものの作業開始して間もなかったので一旦作業続けてみて相談\n\t! 合カギグループ登録は8/19 リリースしない？\n\t\t外してリリースする事が可能なのか・・・？ロックやユーザーにも紐づいてる\n\t\tどのみち実装は続ける\n\t\t削るほうが大変なので、SQAの状況を確認しつつ、リリース日をずらせないか成田Kさんへ相談\n\t! 通知設定\n\t\tまだ未着手、画面はある、APIがまだない？\n\t\t\tAPI、まだブランチにある→もうある\n\n事業前提\n\t8/19リリース目標\n\n##sirius #定例 #sirius-api\n\n# Sirius Console Front TODO\ncreated_at:Mon Jan 19 1970 11:54:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:54:42 GMT+0900 (日本標準時)\nSirius Console Front TODO\n\n\n[** 大きめのもの]\n\t通知設定のON・OFF\n\t\tAPI待ち\n\tマネージャー編集\n\t\tAPIマージ待ち、マージして疎通確認する\n\tゲストキー招待メール飛ばないとか\n\n\n[** 未対応の項目について上から順にやるやら確認]\nhttps://docs.google.com/spreadsheets/d/1tTip3WsAeZF6QNQDzmOy40RWMjXdEF6f9EPyzfrgaWw/edit##gid=1251687361\n\n\n[** 依頼事項]\n\tセッションおかしい件見てもらう（中島さん）\n\tメニュー開いたときに他のエリアをクリックしたとき閉じる（中島さん）\n\t新規登録周りのバリデーション（中島さん）\n\t\t不安定な処理で書き換えられそうな部分があれば対応\n\tパスワードリセットの画面（成田）\n\t\tメアドいらない？\n\tゲストの合カギ受け取り（成田）\n\t\thttp://127.0.0.1:8083/accept-invitation/Fa74TJ4IcodpzIoz/\n\t\t上のキーは有効じゃないですが、テンプレは見えます。`/accept-invitation/:id/`\n\t\tスマホビューにする\n\n\n\n[*** 9/1 リリース]\n\t支払い履歴\n\t\tまだ何もない\n\tCSV\n\t\tマークアップまでは終わってる\n\n# Sirius 開発メモ(ymtk)\ncreated_at:Mon Jan 19 1970 11:38:52 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:48:06 GMT+0900 (日本標準時)\nSirius 開発メモ(ymtk)\n[* 初期登録界隈]\n\t組織登録時のメアドはRails.cacheから取得しているので、postman経由だとうまく倒せないことがある\n\t組織登録されたあとに審査を経てログインアカウントを登録するが、この時のメアドは先のメアドでよい\n\t\t分かりやすさで言うと、そのメアドを流し込んであげた方がわかりやすそうではある\n\n[* 登録時の判定]\n\torganizationにあるverify_codeは、最初のマネージャー(initial)を登録するときのURLに含まれる\n\tマネージャーが登録されるとDBから消える\n\t\tこれがあるのかないのかから、URLが有効か無効かを判定できる\n\t登録後にログイン画面に遷移するので、vuex等使ってよしなに入れてあげてもいい気はする\n\t\tそのままログインさせる手もある\n\n[* v-modelが動かない]\n\ttsの場合、不要でも`export default`以前に`@Component({})`を入れていないとダメなことがある\n\n[* テストの実行]\n\tdocker内で実行\ncode: bash\n docker-compose exec app sh -c \"rspec\"\n\n# Qrioが目指すベンチャー企業としてのチャレンジと、高品質な製品づくりの両立\ncreated_at:Mon Jan 19 1970 11:05:53 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:46:00 GMT+0900 (日本標準時)\nQrioが目指すベンチャー企業としてのチャレンジと、高品質な製品づくりの両立\n\n[* Qrio株式会社とは]\nまず、弊社のことを紹介させてください。\n\nキュリオといいます。\nソニーなの？と言われたりしますが、ソニーではなくグループ会社という位置付けです。\n2014年12月設立、従業員約20名の小さなベンチャー企業です。\n\n事業内容は、IoT製品の開発・製造・販売等及びその運営サービスの提供。\nIoTをこだわり続けるというよりは [/ 「インターネットとものづくりの力で世界をもっと便利に、楽しく」]をビジョンに、製品・サービス開発をしております。\n・\n・\n・\n[* 「世界をもっと便利に、楽しく」ってなによ]\nこれって抽象的に聞こえるかもしれません。\n『カギが自由になる生活』がテーマのQrio Lock開発検討開始から、この考え方をお伝えできたらと思います。\n\nQrioの設立は2014年12月、2015年8月には「Qrio Smart Lock（Q-SL1）」を発売しました。\nその後、ネットワーク経由でQrio Lockをリモート操作できるようにするデバイス「Qrio Hub」、\n大切なモノとスマートフォンをつなげる小さなアクセサリー「Qrio Smart Tag」などをリリースしながら、\nQrio Lock（Qrio Smart Lock次世代機）の検討が始まったのが、[* 2017年2月]でした。\n・\n・\n[* 開発検討]\n\n[* ＜フェーズ１：アイデア出し＞]\n2017年2月\nソニーの開発に関わる方々も一緒に、日常のカギにまつわるエピソードを社内で出し合うワークショップをしました。\n前機種を上回る操作性や改善はもちろんのこと、当たり前に使っているあらゆるカギについて感じていることを思い起こし、そもそもカギになにを求めているのか、どうなると嬉しいのかという話を喧々諤々と。近い未来がどうなっているとちょっと便利で楽しくなるのかをイメージすることが、新しい製品を生み出す上で重要なプロセスであると考えています。\n>ポイント「Q-SL1 磨その先へ」\n\n[* ＜フェーズ２：研究開発（ハードウェア）＞]\n2017年3月〜6月\nIoT製品なので、研究開発はまず時間のかかるハードウェアの検討から始めます。\nどこまで小型にできるのか、取り付けられるサムターンを増やせるかの調査など。部品選定から一般的なスマートフォンとのBLE通信をロックのモジュールで試すところまで幅広く検討する必要があり、これはソニーのモノづくりの知見が多分に生かされているところです。\n>ポイント「ハードウェアに影響のあるBLE」\n\n[* ＜フェーズ３：テストアプリ作り（ソフトウェア）＞]\n2017年7月〜2017年10月\nロックと通信するアプリを作ることが、なかなか一筋縄ではないかない。\nソニーのハードウェア担当の人たちと連携しながら、アプリを作り上げていく。\n実際にプログラムに落とし込んだ時のミスなどをハードウェアのエンジニアと一緒に確認することで素早く問題解決していった。\nHW、SWが一緒に開発することが大事。\n>ポイント「スマホとロックとの会話」\n\n[* ＜フェーズ4：キックオフ＞]\n2017年10月\nターゲットも開発要件も決まった状態で、全員の足並みを揃えてからのキックオフ。\nハード部分は先に走り始めないとリスクを取り除くのに時間がかかる\nチームの立ち上げ、役割の確認と分担からスタート\n\n[* ＜フェーズ5：アジャイル開発とフィールドテストによる改善サイクルをまわす＞]\n完成形ができるまで9ヶ月\n多くの人に使ってもらい、問題が起きればヒアリング、その度に改善をしていく\nアプリだけで改善できることもあれば、ロック本体の改善が必要なこともある\nビーコンの受信成功率を上げるための特別なFWを作成してもらい、それを使って測定したり\nApp、Server、Hub FW、Hub Server、SQA\n>ポイント「とにかく色んな人に使ってもらう」\n\n\nベンチャー企業ならではのスピード感\nスケジュールを動かさずして、プロジェクトが始まってから要件が変わっても対応\n ボタンは2つ→1つ\n HubとBluetoothとの切り替え手動→自動\n 1ドア2ロック問題→ボタン1つになったのでどう判断するのか、ロックの片方が電池残量減った場合は\n\n# api.kagican.jp SSL証明書セット memo\ncreated_at:Mon Jan 19 1970 11:46:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:46:00 GMT+0900 (日本標準時)\napi.kagican.jp SSL証明書セット memo\n証明書セットが正しいかを確認\nhttps://www.digicert.com/help/\n※中間証明書との紐づけがダメだと「Certificate Name matches api.kagican.jp」の部分で鎖が切れる\n\n対象の中間証明書\nhttps://www.geotrust.co.jp/resources/rapidssl/repository/intermediate_sha2.html\n\n# Dev MTG 2019/8/6\ncreated_at:Mon Jan 19 1970 11:44:18 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:44:47 GMT+0900 (日本標準時)\nDev MTG 2019/8/6\n[https://cosme-tantei.com/wp-content/uploads/2019/02/summer.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t正社員募集中\n\t\tWantedly+リクナビHRTech\n\t\t\tサーバー\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n 深澤 引き継ぎしてます\n \tアカウント、ドキュメントなど色々あり\n \t\tアカウントは山川さんへ共有済み\n \t引き継ぎ資料\n \t\thttps://docs.google.com/spreadsheets/d/1PRQckPPW6v_qnYyeunoyhQB_tDX1aMQ8K7585OEmdfg\n \t\t9月以降の開発体制(ドラフト版)[takeuchi.icon]\n   \thttps://docs.google.com/presentation/d/1fggbxxwYdjPmavr96qyaPEwJIA-uuDkQ0LdrAZRr_ks\n   \t竹内ポジションの引き継ぎも長期的に見て考えた方がよい。属人化しており募集もかけにくいため。\n \tbitwarden\n \t 共有できる\n \t  できる。ただしフォルダごとに一括での共有のみ。パスワードごと単体で共有することはできない。\n \t revokeできる\n \t  パスワードそのものを、ユーザー単体から奪うことはできない。権限のフォルダからユーザーをはずす、またはフォルダ内の特定のパスワードをはずすことで実現はできる。\n \t  権限フォルダからユーザーをはずした場合は、権限フォルダ内のすべてのパスワードを利用できなくなる。\n \t  権限フォルダから特定のパスワードをはずした場合は、その権限フォルダを共有されているユーザーすべてから、特定のパスワードが使えなくなる。\n \t read-only\n \t  できる。共有されたパスワードを編集できない。\n \t マスクして使える\n \t  不明\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  \tNDA周りで調整中\n  \thttps://ja.wikipedia.org/wiki/ゲイリー・キルドール\n  \t キルドール不在でIBMが自宅を訪れた際、夫人はNDAに署名しなかった\n  NASTA(マンション共通玄関)\n  \tQrio社内で開発する方向で見積り中\n  \t\tソニー経営会議のネタ\n \t\t\t8月に経営会議通す予定\n \t\t\t設計構想の準備\n \t\t\tリリース判定までのスケジュールを検討する\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\tekeyをAIHGWに内包してあけるパターンでやる方向になった\n \t\t\t竹内さん、駒井さんを品川に派遣→開発サポート\n \t\t\tポケットWiFiを持っていくといい(SSHできない)\n \t\t\t社食は微妙\n \t\t[MANOMAまとめ(随時更新)]\n\n[** Joker (ymtk)]\n\tymtk多忙中につき進捗無し\n\n[** Castle (ymtk、三上)]\n\tWebアプリ(三上さん)\n  三上   \n  \t更新なし\n  ymtk\n  \t今週は更新なし週。折を見てパッケージアップデートだけやってます。\n\t  \t[##Castle 未解決・対応中の項目管理]\n \t \t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み( ˘ω˘)\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\t全体スケジュール\n\t\t8/19: 1stリリース、富士物流向け(リモート解施錠、メール通知が必須)\n\t\t9/1:  2ndリリース、一般向け\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tauth0の本番環境作ったのでinviteする\n\t\t\tした\n\t\tread_logコマンド発行できるようにした\n\t\twebhookで送るログ情報の中にロック名入れる\n\tsirius-api (mikamix)\n\t\tIssue整理\n\t\tadmin関連の認証漏れ\n\t\tその他微実装、修正\n\tWebフロント(ymtk)[ymtk.icon]\n\t\tめっちゃ実装してる\n\t\t一部apiも書いてる\n iOS (hiro)\n \t一通りSQA終わった\n \tSQA対応中\n \t申請に向けた雑務対応中\n Android [fukazawa.icon]\n \tGoogle Playに上げた(内部β版)\n \t残件：Productionでの動作確認、正式リリース\n[sirius-king api mtg 8/6]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa\n\t\tUL回答待ち=>今日pushメール=>amazon政治力で押し込む\n\n[* API (駒井)]\n and hostelさんにAPI提供する話が回ってきた(2019/7/9)\n \tどんなことをしたかレクチャーする[fukazawa.icon]\n \t近々and hostel用APIドキュメント作成するために高濱さんとミーティングする予定なのでymtkさん同席お願いしたいです！\n change_settingsコマンド発行api作成頼まれた\n \tリモートでビーコンON/OFF設定を変えたい(Sirius)\n \t\t電池残量2倍になりやつですねこれ[ymtk.icon]\n \t設定値をAPIの引数にして、バイナリを作ってコマンド発行できるようにしたい\n \t8月中を目標にしたい\n master_key削除できる管理ツール作成頼まれた\n \t９月中には実証テストしたい\n \t削除できるアカウントを作成\n \t\tCSツールからログインさせる予定\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n\n[* CU (深澤、竹内)]\n\t省電力モード\n\t\t仕様検討中\n\t\thttps://docs.google.com/presentation/d/1q0x1Ww1G6mXdzKpcqnoBHmcgCbPw6OQuROcZ6WK2n8s\n\tAndroid\n\t\t強制ログアウトできない問題の修正版を今週リリース予定\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n実装\n\tFlash暗号化の再考\n　\tリスクアセスメント関連でいろいろ突っ込まれ、めんどうになってきたので暗号化してしまおう、となり、再考中\n\t\t「Secure Boot（= 改ざんされたBootloader/Appの起動を禁止する）」のみ行います\n\t\t「Flash暗号化」はやりません。理由は、工場生産の書き込み（後の起動確認）に時間がかかってしまうため\n\t\tBootloaderを更新できなくなりますが、Bootloaderを更新する機会はほぼないという前提です\nハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\t\t今日リスクアセスメントやります\n\t\t\t上述の「Secure Boot」対応を済ませてから、今週、もう一度やります。\nその他\n\t7/31、モデルルームで一次試作のWi-Fi電波飛び確認予定\n\t\t終了。電波の飛びが悪いポイントが何ヶ所かあり、ヘルツさんに確認依頼中\n\tCoverity環境構築もやりたい（進捗なし）\n\t\t今週やる[fukazawa.icon]\n\tWi-Fi/Bluetooth SIG認証\n\t\tSIG終わりました[ymtk.icon]\n\n[* Guardian 製造・制作系 (ymtk)] \n VOIDシール進行中（まゆしー）\n ガイド発注触れてないので後半には\n\n[* Qrio Lock お試し/レンタル(ymtk)]\n\t内製短期(R25)[ymtk.icon]\n\t\t500台配ります\n\t\tSQA進行中。8/14(水)リリース予定\n\t\t\thttps://r-king-app-staging.herokuapp.com\n\t\t機器購入、アンケート機能もできました\n\t\t適宜必要なツールも作ってます（配送メールとばすくん等）\n\t\tシリウスと似たような作りにしていて良かった！並行開発しやすい🧟‍♂️！！！！！(vue(ts) + express)\n\t協業長期（レンティオ）\n\t\t成田（こ）さんと進行中\n\n[* Guardian セキュリティ(チャン)] [* 進捗なし]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   \t資料もらった\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Guardian(Hub4M)を登録出来ないようにする対応中（進捗なし）[takeuchi.icon]\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよい？\n \tGuardianのシリアルは2xxxxxxxとする予定（大西さんにも確認済み）\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n\n[** 情報システム (チャン)] [* 進捗なし]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n Twilioの会社情報の更新\n \t8.26までに代表者(渡辺さん)の顔写真入の身分証明書を用意して出す\n \t11.21までにTwillio本体が通産省に報告するらしい\n \tどこに何を提出すればよいか確認中\n bitwarden\n \t今週中に確認\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tr-tadaimaいつ止めるのか？\n\n[** 健忘録]\n\tなし\n\n# Sirius 緊急対策会議 20190801\ncreated_at:Mon Jan 19 1970 11:37:02 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:44:32 GMT+0900 (日本標準時)\nSirius 緊急対策会議 20190801\n\n\tフロント実装状況\n\t\thttps://docs.google.com/spreadsheets/d/1NWGQWrqrvIekqmoS8KrAOPVlpjNMGpxx4DlECcoz5oQ/edit##gid=1588581813\n\t\t6月、7月作業のうち、「完了」になっていない項目についてボトルネックを明確にする(naricoさんへ依頼)\n\n\t利用規約\n\t\t先にURLだけ決める(明日中)　→ymtkさん\n\n\t本番環境\n\t\t来週中に立てる　→西川さん\n\t\tSQAの期間確認　→山田さん　→1日/OSで実施できそう\n\n\tリリース\n\t\t富士物流向け\n\t\t 8/19リリースが必須\n  \t必須機能は、リモート解施錠、解施錠メール通知\n  \tリモート解施錠\n  \t\tステータスAPI待ち(management-api)\n  \t解施錠メール通知\n  \t\tそもそもsirius-apiに機能あるか確認\n  \tmanagement-apiのラップAPIはymtkさんで巻取り\n  \t合鍵は8/19リリースに含めない方針で調整いただく(成田K)\n \t一般向け\n \t\t9/1リリースの調整可否\n \t\t見送り可能な機能の検討\n \t\t\tカード決済(9月中にできればOK)\n \t\t\tチュートリアル\n \t\t\tCSV一括登録\n \t\t\tカード情報\n \t\t\t支払履歴\n \t\t\t利用者リスト(名前でフィルタ)\n\n\t作戦\n\t\tnarico+業務委託チーム\n\t\t\tガワ、バリデーションを実装\n\t\tymtkチーム\n\t\t\tAPI繋ぎ込み\n\t\t\t富士物流に必要な機能を再優先で実装を進める\n\t\t\t来週前半には、富士物流に必要な機能のSQA開始できるとベスト\n\t\t\t\tリモート解施錠　→駒井さん\n\t\t\t\t解施錠メール通知　→西川さん\n\n# sirius-king api mtg 8/6\ncreated_at:Mon Jan 19 1970 11:44:18 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:44:27 GMT+0900 (日本標準時)\nsirius-king api mtg 8/6\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 7/23]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\t8/19リリース予定だよ！\n\nfukazawa[fukazawa.icon]\n\tBCU Android\n\t\tProductionのCI対応した\n\t\tGoogle Playに上げた(内部β版)\n\t\t残件\n\t\t\tProductionでの動作確認\n\t\t\t正式リリース\n\t全体スケジュール\n\t\t8/19の1stリリースは富士物流向け\n\t\t\t必須機能：ロック一覧、リモート解施錠、メール通知(解施錠)\n\t\t\t8/7(水)より、Production環境でQA開始予定\n\t\t9/1の2ndリリースは一般向け\n\t\t\t詳細は以下を参照\n\t\t\t[Sirius 緊急対策会議 20190801]\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n　read_logコマンド発行機能追加した\n　webhookにlock_nameも追加する\n　\tメインもサブも同じ名前だがそれでいいのか？\n　\ton_upsideで上側/下側を判断する\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n　\tmanager - admin間で中間テーブルを設ける必要アリ(bcuのhub登録時にmanagerのidいっぱいあったらややこしいので)\n　auth0の本番アカウント整備！\n　\t作ったのでinviteする\n　webhook先がnot foundだった時にdisableにする機能作る\n\ntopaz2\n 請求書決済 実装\n \t動作確認\n クロスモール連携メール送信\n \t動作確認\n (マネージャー／ゲスト)招待フロー\n\t\t招待、ゲストキーの削除（半分くらい）\n\t\tログの削除\n 解施錠ログメール通知\n \t設計\n \t実装\n\t \tking 側からロック名を送ってもらえるように調整中\n \t動作確認\n Auth0で初期マネージャー作れなくなった問題\n フロント実装サポート\n\nymtk[ymtk.icon]\n\tv: フロント開発\n\t\tリモート解施錠、履歴周りをざっとやりました。\n\t\tapiの確認とフロントメンバーへのブリッジも続けています\n\t\t\tapiの確認&質問する&ざっくり実装する係\n\to: 引き続きフロント開発\n\t\tグループ界隈だけ残っている認識。他はある程度通せる感じ\n\to: ビジネス界隈\n\t\t毎週下記で定例進行中（マーケ、営業、運用周り）\n\t\t\thttps://docs.google.com/spreadsheets/d/1ToocDJ4UFMlMTXe0cjYzAvW4ECQu8eDn6cQttnnNO2M/edit?usp=drive_web&ouid=109170418868775192408\n\n[h.yamaguchi.icon]hiro\n vo SQA対応\n v: アイコン組み込み\n v: 申請自動化\n v: 申請周り\n \tストアの情報入力 (タイトル、説明文、検索キーワード etc)\n \t申請用動画撮影\n \tスクショ撮影\n o: 本番用ビルド設定\n\n[mikamix.icon]\no: DELETE /v1/organization_users\n 自殺禁止\no: PATCH /v1/organization_users\n name, email, group_idは変更可能かどうか(現状descriptionだけ適用されている)\n 変更してよいので、追記\no: DELETE /v1/admin/organizations\n  現状organizationsが全部叩き放題になっていないか?\n  たぶん叩けてしまう\n  admin以下がQrioのCSだけ叩けるようになっていればよい\n   なんでもいいので何かやっておく? IP, passか、、、\n!: 他のイシューも整理しましょう\n 実装されてるものはdone\n 疑問点あればここに書きます\n!: セッション周りについてymtkさんとお話\n -> どこかで\n!: Sirius、organization周りについてymtkさんとお話\n -> どこかで\n\n[narico.icon] narico\n\t中島さん\n\t\tグループ登録周り\n\t\tバリデーション各所実装\n\t吉本さん\n\t\tいつ頃から再開できるか確認中\n\t\t支払い履歴、チュートリアル、SQA対応してもらう予定\n\t成田\n\t\t新規申し込み周りのマークアップ（吉本さん動けない分）\n\t\tAPI処理は触ってないので初期のまま。初期パスワード設定周りなど未実装\n\t\t\t8/19 リリースではないものの登録の口がないとか\n\t\t\tapiエラーは対応します[ymtk.icon]\n\t一緒に作業実装することは可能か打診してみる\n\t\tこちらの件、先週のタイミングで打診してみたものの作業開始して間もなかったので一旦作業続けてみて相談\n\t! 合カギグループ登録は8/19 リリースしない？\n\t\t外してリリースする事が可能なのか・・・？ロックやユーザーにも紐づいてる\n\t\tどのみち実装は続ける\n\t! 通知設定\n\t\tまだ未着手、画面はある、APIがまだない？\n\t\t\tAPI、まだブランチにある\n\t\t\tymtkやりますー[ymtk.icon]\n\n\n事業前提\n\t8/19リリース目標\n\n##sirius #定例 #sirius-api\n\n# c-team定例 19/8/5\ncreated_at:Mon Jan 19 1970 11:43:01 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:43:09 GMT+0900 (日本標準時)\nc-team定例 19/8/5\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/zawa/knarita/takeuchi/ymtk/ichikawa/nakano\n\n欠席\n-\n\n前回\n[c-team定例 19/7/29]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\n[*** 先週のNEXT]\n\t\n\n--\n[*** 先々週のNEXTで触きれていないもの]\n\tバッテリー界隈進捗\n\tCS神対応\n\t9月施策\n\t\tQ-SL1 買い換えキャンペーン\n\t\tNo.1 界隈\n\t\t友だち招待は間に合わないかな･･･\n\t住宅展示場ショールーム\n\t https://zenchin.smktg.jp/public/seminar/view/127\n\n--\n\n[*** アジェンダ]\n\tご意見BOX\n\t　https://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\tGA\n\t\tサイト\n[https://gyazo.com/0ec99c7f79a4bad247920897326cd3c4]\n \tセッション/ユーザー\n　　　4/8 有吉ゼミ               :5334/4659\n　　　5/7 おはよう日本       :6171/5247\n　　　7/29 しゃべくり007  :6155/[* 5604]\n\n\t\tBlog\n[https://gyazo.com/bb842d11382a13231dca5f6e4b200656]\n\n\n\t施策共有\n\t\tレンティオ\n\t\t\t価格設定は決まっている。lock ¥1500、hub ¥500\n\t\t\t補修部品（両面テープなど）卸しオペレーションを決める\n\t\t\t初回中古品20個揃えばスタート\n\t\tR25 & お試しcpn\n\t\t\t価格決め\n\t\t\t\t15% off(¥21,114 税込)くらいがスコープ？「秒で買う」より安くなってしまうと問題ある\n\t\t\tアプリケーション関連\n\t\t\t\tカード審査OK\n\t\t\t\tアンケート実装したら終わり\n\t\tNo.1\n\t\t\t決着まだ。試算したらセサミを買っている人の2.5%がQrio Lockを買ってくれるかどうか\n\t\t\t\t母数is...? => 400\n\t\t\t\t実際は10%必要\n\t\t\tSEOアフィリエイト界隈、レビュー改善を並行して実施\n\t9月対策\n\t\t\tQ-SL1 買い換え => 10-11の方がいいんじゃないかな？\n\t\t\tメルマガからのシークレットセール\n\t\t\t（量販店への販売支援金界隈）\n\t\t\t展示場の人が買いやすくなるスキーム\n\t\t\t\t子供がいたらQrio Keyあげます\n\t\t\t全販路での2ロックCPN\n\t\t\t\t2人で1個買ってもよい前提条件\n\t\t\t\t見せ方検討したい\n\n[** 各種共有]\n\t販売\n\tマーケ\n\tデザイン\n\t\tペーパークラフト、8/20着。モノの請求動線を作って発送できる準備をする\n\t開発\n\t\tバッテリー2倍→カギカン2オープン前目安\n\t\t\thttps://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\tanalytics\n\t ポータル作成中\n\t 　https://sites.google.com/qrioinc.com/portal-home/ホーム\n\t 　両面テープ季節要因あるかも？\n\t 　UI:若手、75PM:公団(UR)、公社多めなので老人見守りストーリーなども？\n\n[** CS界隈]\n\tお試しキャンペーン\n\t\tqrio.me 以下のcpnフォーム、購入相談に飛ばす\n\n[** NEXT]\n\tしゃべくり販売数効果の確認\n\tR25前日確認\n\tその他共有界隈\n\t8/14にR25お試しcpn価格決め\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n##toC #定例 #議事録\n\n# sirius-king api mtg 7/30\ncreated_at:Mon Jan 19 1970 11:34:08 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:43:08 GMT+0900 (日本標準時)\nsirius-king api mtg 7/30\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1330-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 7/23]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\t8/19リリース予定だよ！\n\nfukazawa[fukazawa.icon]\n\tBCU Android\n\t\t残件\n\t\t\tアイコン、利用規約、ストア　など\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tBCU関連\n\t\t進捗はこちら-> https://github.com/qrioinc/king-api/issues\n\t\t\tmanagement-apiの機能揃った\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n　\tmanager - admin間で中間テーブルを設ける必要アリ(bcuのhub登録時にmanagerのidいっぱいあったらややこしいので)\n　auth0の本番アカウント整備！\n　\t作ったのでinviteする\n　webhook先がnot foundだった時にdisableにする機能作る\n\ntopaz2\n 請求書決済 実装\n \t決済用CSVダウンロード\n \t\tstaging 環境待ち　調整中(来月中頃までかかりそう)\n \t\t\t現状イキで進めてくださいませ→NP stgもらいました[ymtk.icon]\n クロスモール連携メール送信\n \t本番環境しかないため ymtk さん確認待ち　調整中(まだ全然)\n \t\t現状イキで進めてくださいませ[ymtk.icon]\n (マネージャー／ゲスト)招待フロー\n \t動作確認\n \t\t正常系OK\n \t残件\n \t\tキーの削除、ログの削除\n 解施錠ログ　→ 実装完了\n \t設計\n \t実装\n フロント実装サポート\n\nymtk[ymtk.icon]\n\tv: 契約\n\t\tNP後払い審査待ち→審査完了。開発環境ももらいました\n\to: postman\n\t\t週次でNG項目進捗見てます。今日も見ます。\n\t\tapi経由解施錠後にlogがうまく作成されないので調査中\n\to: ビジネス界隈\n\t\t毎週下記で定例進行中（マーケ、営業、運用周り）\n\t\t\thttps://docs.google.com/spreadsheets/d/1ToocDJ4UFMlMTXe0cjYzAvW4ECQu8eDn6cQttnnNO2M/edit?usp=drive_web&ouid=109170418868775192408\n\n[h.yamaguchi.icon]hiro\n vo SQA対応\n o: 開発\n \t利用規約の遷移先の実装\n \tアイコン\n \t本番用ビルド設定\n o: 申請周り\n \tストアの情報入力 (タイトル、説明文、検索キーワード etc)\n\n[mikamix.icon]\no: DELETE /v1/admin/organizations\n 権限管理はどうやる?\n Punditでよい?\n 現状organizationsが全部叩き放題になっていないか?\no: GET /v1/organization_users\n idをパラメータで取得しているが不要?\no: DELETE /v1/organization_users\n idをパラメータで取得しているが不要?\no: PATCH /v1/organization_users\n id, name, email, group_idは変更可能かどうか\n 現状descriptionだけ適用されている\n!: セッション周りについてymtkさんとお話\n -> どこかで\n!: Sirius、organization周りについてymtkさんとお話\n -> どこかで\n\n[narico.icon] narico\n\t中島さん\n\t\t今、グループ登録周りを頑張ってもらってる\n\t\tバリデーション\n\t吉本さん\n\t\t8月上旬までは時間が取れなそう\n\t成田\n\t\tバリデーションの仕様（XDとIssue）\n\t\tフロントエンド対応\n\t\t\t先週くらいからPost / Patch 系の実装依頼\n\t\t\tバリデーション仕様を吉本さん中島さんと話したり\n\t\t\t8月分の作業見積り\n\t\t\t\t[ymtk.icon] [fukazawa.icon] に提出したものでOKとのこと\n\t吉本さん、中島さんとの業務委託契約の件\n\t\t終わってる？\n\t一緒に作業実装することは可能か打診してみる\n\t\t合カギグループ登録周りだけ\n\t\tメンバー　三上さん、西川さん、深澤さん\n\n\n\n事業前提\n\t8/19リリース目標\n\n##sirius #定例 #sirius-api\n\n# Dev MTG 2019/7/30\ncreated_at:Mon Jan 19 1970 11:34:08 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:37:21 GMT+0900 (日本標準時)\nDev MTG 2019/7/30\n[https://cosme-tantei.com/wp-content/uploads/2019/02/summer.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t正社員募集中\n\t\tWantedly+リクナビHRTech\n\t\t\tサーバー\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n 深澤 引き継ぎしてます\n \tアカウント、ドキュメントなど色々あり\n \t\tアカウントは山川さんへ共有済み\n \t引き継ぎ資料\n \t\thttps://docs.google.com/spreadsheets/d/1PRQckPPW6v_qnYyeunoyhQB_tDX1aMQ8K7585OEmdfg\n \t\t9月以降の開発体制(ドラフト版)[takeuchi.icon]\n   \thttps://docs.google.com/presentation/d/1fggbxxwYdjPmavr96qyaPEwJIA-uuDkQ0LdrAZRr_ks\n   \t竹内ポジションの引き継ぎも長期的に見て考えた方がよい。属人化しており募集もかけにくいため。\n \t1pass, lastpass, bitwarden\n \t 共有できる\n \t revokeできる\n \t read-only\n \t マスクして使える\n \t モバイル対応\n \t ブラウザ拡張機能で使える\n \t https://zakupika.com/archives/1531 bitwardenいいらしい\n \t lastpassは過去に流出事故があったので現状気になる\n \t bitwardenが人気らしい→みんなで入れてみる \n \t bitwordenは組織機能があった!!! 超大事\n \t \tいいんじゃないか。値段も一番安い。\n \t \t\tパスワードをマスクしたままシェアして使えるか？\n \t \t\t\t組織アカウントをつくって招待->シェアしてみる。\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  NASTA [* 進捗なし]\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\t\t先週、高橋さん＆山川さんで話に行った\n \t\t\t\tQrioの開発チームは作業無いかも\n \t\t\t\t集合玄関、もっと安くしろと言われた\n \t\t\t\tビジネスのボールはNASTA持ち、案件確度高い\n \t\t\t\t開発の座組は山川さんにてボール持ち\n \t\t\t\tHWの開発はQrio/Sony、開発費はNASTA持ち、HWの権利はQrioが持てる\n \t\t\t\t\t優先度はMANOMA>集合玄関\n \t\t\t\t\tNASTA返事がこない、Qrioで突っ走る可能性あり\n \t\tphase1ではQrio Keyのビーコンを読み取って開ける形になりそう\n \t\tいきなりphase3まで作るか検討中\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\tSNCから2つの提案あり\n \t\t\tAIHGW(a.k.a. Helios, MANOMA) の通信で、PubNubのような動きをするサーバーを作る。\n \t\t\t\tメッセージのやりとり、または翻訳をする\n \t\t\t\tPubNubを使わないのはなんでか。お高いから。\n \t\t\t\tSL2アプリに、BLE <-> Hub <-> AIHGW の切り替えが必要\n \t\t\t\t\tもうちょっと考えたらいらんかもしれないが、検討\n \t\t\t\t\tSL2アプリからMANOMAを叩くのは厳しそう\n \t\t\t\t\tMANOMAからAPI(ekey取得/ログ登録など)を叩くのが良さそう\n \t\t\t\t\t\tこのパターンではSL2アプリからMANOMAは見えない\n \t\t\tekeyをAIHGWに内包してあけるパターン\n \t\t\t\t工数少なそうだが、ログのアップロードなどで、データの正確性に不安がある\n \t\t[MANOMAまとめ(随時更新)]\n \t\tAIHGWにQrio Hub機能 or Qrio Key機能を入れたい\n \t\t\tHub FWの解施錠部分を切り出し済み[takeuchi.icon]\n \t\t\t\tパケットアップロードの仕組みはまだ入れていないので、入れる？\n \t\t\t\t\t参考程度にコードを渡すのはOK。read_logを発行するのは自分たちでやってもらう。時間があれば入れとく\n \t\t\t\t\tSDKやライブラリではなく、あくまで参考コードという位置付けが望ましい\n \t\t\t\t\tノークレームノーリターン\n\n \t集合玄関 [* 進捗なし]\n \t\t8月に経営会議通す予定\n \t\t設計構想の準備\n \t\tリリース判定までのスケジュールを検討する\n \tアプリのSDK化\n \t\t消失した(Pending)\n\n[** Joker (ymtk)]\n\t今日、モニタ周り楢原さんとsync\n\n[** Castle (ymtk、三上)]\n\tWebアプリ(三上さん)\n  三上   \n  \t更新なし\n  ymtk\n  \t今週は更新なし週\n\t  \t[##Castle 未解決・対応中の項目管理]\n \t \t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み( ˘ω˘)\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応 (komai)\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tauth0の本番環境作ったのでinviteする\n\tsirius-api (mikamix)\n\t\torganization関連 -> 仕様洗いだし、検討\n\t\t まだ\n\tWebフロントUIは要件詰めました。フロント担当調整完了?→完了しました[ymtk.icon]\n\t\t適宜フロントメンバーをフォローしています。ブランチの運用を結構整理中\n\t\t今月下旬からSQA開始予定\n\t\tそろそろSQA始めれそうか、成田さんへ確認する[fukazawa.icon]\n\t\tコミュニケーションコストがかかっている。外注の方に来てもらったほうがいいのでは？\n\t\t\tこのままいくとリリース予定日には間に合わない。\n iOS (hiro)\n \t一通りSQA終わった\n \tSQA対応中\n \t申請に向けた雑務対応中\n Android [fukazawa.icon]\n \tSQA完了\n \tあとはアイコン、利用規約、ストア周り\n[sirius-king api mtg 7/30]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa\n\t\tUL回答待ち\n\n[* API (駒井)]\n　招待周り、apiドキュメントの更新必要[ymtk.icon]\n 　塩漬け\n and hostelさんにAPI提供する話が回ってきた(2019/7/9)\n \tどんなことをしたかレクチャーする[fukazawa.icon]\n change_settingsコマンド発行api作成頼まれた\n \tリモートでビーコンON/OFF設定を変えたい(Sirius)\n \t設定値をAPIの引数にして、バイナリを作ってコマンド発行できるようにしたい\n \t8月中を目標にしたい\n master_key削除できる管理ツール作成頼まれた\n \tレンタルから戻ってきたロックを手元で初期化できるようにしたい(MANOMA)\n \t９月中には実証テストしたい\n \tQrioにこのシリアルは消せていいよっていうリストが送られてくるのでそれをうちのサーバー保存\n \t削除できるアカウントを作成\n \t権限付きホワイトリスト(XX社はYYのロックが初期化できるか管理するリスト)が必要そう\n \t\t初期化は業務委託先で実施するため\n \t\t9月中は難しそう\n \tバーコードリーダーは門外不出Qrioアプリを作成する案\n \tqrio lock販売先で返品リスト作成してもらってそのリストに沿ってうちが消すことになりそう\n \t\tリサイクルするロックを箱詰めする作業の人は、リスト作成作業に一切関わらない。\n \t\t返品の時点で、その会社にリストをつくってもらい、うちに直接送ってもらう。予定。\n\n[* CU (深澤、竹内)]\n\t動きなし\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n\t一次試作をヘルツさんから送ってもらいました。\n実装\n\tいくつかのバグ修正（QaaS山田さんに軽く動作確認してもらいました）\n\t工程検査モードの実装完了\n\tFWアップデートの仕組み検討\n\t\tシリアルNoで、version.jsonの参照先を判定するよう、アプリを改修する方向で進め中。\n\t\t今Androidやっています\nハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\n\t\t今日リスクアセスメントやります\nその他\n\t明日、モデルルームで一次試作のWi-Fi電波飛び確認予定\n\tCoverity環境構築もやりたい（進捗なし）\n\tWi-Fiルーター接続互換性評価\n\t\t完了。問題なし。\n\tWi-Fi/Bluetooth SIG認証\n\t\t進行中。あとは待つだけ。[ymtk.icon]\n\n[* Guardian 製造・制作系 (ymtk)] \n VOIDシール進行中（まゆしー）\n\n[* Qrio Lock お試し/レンタル(ymtk)]\n\t内製短期\n\t\tシステム正常系は開発完了。次は異常系やるがsirius-frontの実装とバランスとる。\n\t\t8/19週1000台(仮)リリース→500台になりましあ。\n\t\t住所&カード情報取ってcrossmall連動できるアプリケーションを月額ただいまの流用で開発中（主にパッケージ更新と不要な機能のそぎ落とし）\n\t協業長期（レンティオ）\n\t\t商談開始。料率と運用を決めていく\n\n[* Guardian セキュリティ(チャン)] [* 進捗なし]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   \t資料もらった\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Guardian(Hub4M)を登録出来ないようにする対応中（進捗なし）[takeuchi.icon]\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよい？\n \tGuardianのシリアルは2xxxxxxxとする予定（大西さんにも確認済み）\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n Q-SL1 iOS\n \tロック名／アカウント名／ゲストキー名に絵文字を設定するとアプリが死ぬ問題\n \t\t先週に修正版をリリース済み\n\n[** 情報システム (チャン)] [* 進捗なし]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n Twilioの会社情報の更新\n \t7/30までに代表者(渡辺さん)の顔写真入の身分証明書を用意して出す\n \t11.21まで\n \t連絡きた、集会来いと言われた\n \tどこに何を提出すればよいか確認中\n 1passwordの導入\n \tいいんじゃなかろうか\n \tOKTA、LastPassあたりが良さそう？\n \tすいません日本語たいおうしてないかも\n \tエンジニアもパスワード管理(シングルサインオン)ツール使いたいです＞＜\n\n[** QaaS(チャン)]\n 7/22でチャンさんが作業終了\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tr-tadaimaいつ止めるのか？\n\n[** 健忘録]\n\tハンズフリー解錠機能（実質電池容量アップ）on/offフラグ、シリウスで遠隔操作したい（全国設置したものを再度切り替えに行くのを避けたい）[ymtk.icon]\n\n# Castle 週定例 2019/7/16\ncreated_at:Mon Jan 19 1970 11:04:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:34:28 GMT+0900 (日本標準時)\nCastle 週定例 2019/7/16\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/6/11]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[h.yamaguchi.icon] [冬眠中]\nbcu-iOS\n\t作業なし\n\tアラートの開発待ち\n\t\tアラートの必要カラム、テーブルが判明次第、BCU用のAPIに反映させることができる\n\t\t\tアラートは終わったがbcuへの組み込みは待ち\n\n[ymtk.icon]\n\tv: 今週リリース予定\n\t\tファミリーキー生き死に\n\t GraphQLのフィルター[mikamix.icon]\n\tv: 機能追加分のガイド修正\n\to: Hub死活のconsole\n\n[hazimetyan.icon]\n o: コードは追う。\n \tコウキチから質問があったけれども答えられなかったので、適宜追わないといけないなと。\n \t空室時に、解錠する方法は電話鍵だけか?\n \t\t→ 違う。Webから解錠できる。\n !: いったん冬眠中。\n\n[mikamix.icon]\n o: Hubの死活\n  o: 結構死んでる\n  o: pubnubのpresenceを調査\n   設定できる項目が何なのか\n   設定方法\n  alexaの時は設定を変えている\n  ステージングのpubnubの設定イジります\n\n##Castle週定例 #Castle\n\n# castle-product定例 7/23\ncreated_at:Mon Jan 19 1970 11:04:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:34:28 GMT+0900 (日本標準時)\ncastle-product定例 7/23\n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n参加者\nryo / seki / jani / ymtk / kawakami  \n\n前回\n[castle-product定例 7/9]\n\n[* 事業]\n\tマンスリーマンションへのテレマ by maryo\n\t商談組んだ上で頂いた話をサービスサイトにFB\n\t\t伝わっていない部分の課題まわり\n\n[* 開発・デザイン]\n\t今週のリリース事項\n\t\tファミリーキー生成チェック\n\t\t\t利用者が使いはじめたのかどうかが分かります\n\t\tHub生存チェック（apiのみ）\n\t\t\t死んでいたらdbに記録\n\t\t他、ユーザビリティの改修など\n\t\t総合ガイドも最新版に更新済みです\n\t\t\thttps://docs.google.com/presentation/d/1bbf9FQuXsyHc43xZilmDZl_j8tKn0giSLJw9EDXzjVc/edit##slide=id.g5d0ed8a356_1_0\n\t\t\tアラート界隈は追って対応します（記載漏れ）\n\n[* CS]\n\t今週は特にありません\n\n[* 運用]\n\t特になし\n\n[* その他]\n\t本定例、toB定例に組み込んだ方が良い？\t[ymtk.icon]\n\t回線、電源、ALという壁があるから、これを回避して売り込めるかの、別アプローチを考えていったほうがよい\n\t\t回線と電源を弊社で負担してみたりして、導入できるかどうかを試してみるのもありではないか。\n\tSmart Lockがついていることで、入居者、ひいてはオーナーの幸福度があがることが価値となる。\n\t\t上記の問題を解決するか、別途圧倒的な価値を見つけて、それを売り込む\n\t\tSmart Lockを導入することで、空室率下がることが価値なので、月額350円+電気代を負担することを呑んでもらえるといいなあ。\n\t現状のアプローチでは、Castleのユーザーを目標どおり増やすのは難しいと感じている\n\t\tオーナーに直接売っていくアプローチも考えるのか\n\t\tこのまま管理会社向けに改善していって突破できるのか\n\t\tこれらに関して、別途議論する\n\n##castleプロダクト定例 #castle\n# castle-product定例 7/30\ncreated_at:Mon Jan 19 1970 11:34:20 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:34:27 GMT+0900 (日本標準時)\ncastle-product定例 7/30\n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n参加者\nryo / seki / jani / ymtk / kawakami  \n\n前回\n[castle-product定例 7/23]\n\n[* 事業]\n\t\n\n[* 開発・デザイン]\n\t新規開発は止めています\n\n[* CS]\n\t今週は特にありません\n\n[* 運用]\n\t特になし\n\n-- 前回 --\n[* その他]\n\t本定例、toB定例に組み込んだ方が良い？\t[ymtk.icon]\n\t回線、電源、ALという壁があるから、これを回避して売り込めるかの、別アプローチを考えていったほうがよい\n\t\t回線と電源を弊社で負担してみたりして、導入できるかどうかを試してみるのもありではないか。\n\tSmart Lockがついていることで、入居者、ひいてはオーナーの幸福度があがることが価値となる。\n\t\t上記の問題を解決するか、別途圧倒的な価値を見つけて、それを売り込む\n\t\tSmart Lockを導入することで、空室率下がることが価値なので、月額350円+電気代を負担することを呑んでもらえるといいなあ。\n\n\t現状のアプローチでは、Castleのユーザーを目標どおり増やすのは難しいと感じている\n\t\t管理会社ではなく、オーナーに直接販売するというアプローチで考えている\n\t\t\tコストを負担するのはオーナーなので、管理会社にアプローチするよりも、オーナーを説得するほうが筋が良さそう\n\t\t\tオーナーへ個別にアプローチするのは難しいので、管理会社経由で多くのオーナーさんに紹介してもらう機会を作りたい\n\t\tハブレス化が進んでいるので、それも視野に入れて提案をしてみる\n\t\t小額決済に対応するアプローチなども必要になってくると思われる\n\t\tオフラインで販売する場合も検討しているが、ログの初期化(Qrio Lockをまっさらな状態にする)が現状はできないので、難しい。\n\t\t\t例えば、Qrio Lockのアプリで、Bluetooth接続したQrio Lockの初期化をする機能があれば解決したりしないか?\n\t\t\t\tアプリで行うことを実現できるか、工数、実現性の検討をする必要がある。\n\t\t管理会社経由で訴求することと、オーナーに直接訴求することで売れるようになるかは、不明なのでわからない。\n\t\t\t戦略的に\n\t\t綿貫さん(だれだろう。どんな人?)にヒアリングする\n\n--\n[** 回線・電源なし時の想定ユーザーシナリオと価値]\nby [ymtk.icon]\ntgt / 不動産オーナー\n\t内見中はアプリのみで操作する\n\t[* 「アプリ内見でいいよ」が成立している前提]はmust\n\t\tHubがないので、操作＋電池状況もアプリ経由で情報取得\n\t\t緊急解錠、施錠はできない\n\t\tQrio Keyを受け渡すことになると、カギと同じ。むしろコストアップ\n\t入居したタイミングで、入居者が利用開始となる何かしらのフラグを立てるとファミリーキーを取得できる\n\t\tそのキー自体はアプリ間でやりとり\n\t\t取得すると入居前のロックのログは消える\n\t\t入居時にハブを刺し、退去時にハブを返す\n\t退去するときはオーナーのアプリ or Roomonから上記のカギを削除する\n\n[* 退去時ロックの初期化]\nwhy / 入居者が作っているオフラインキーがそのまま使えてしまうから\n\tplan1 / 直接ロックの前でBCU\n\tplan2 / ロックで（今はないけど）物理的スイッチを押して初期化\n\t\t内見の担当が実行できうる\n\tplan3 / 退去前に入居者が自らCUで初期化する\n\tplan4 / 退去前にオーナーがRoomonから遠隔でロックを初期化する\n\t\tハブがある状態。ただし、入居中に初期化されることになる\n\n[* そうなったときのRoomonの価値]\n\t入居・退去モードのあるロック\n\t\t大崎電気にあるパターン\n\tWebコンソールでの管理\n\t\t内見者向けに多くの合カギを発行できる\n\t\t多くの物件とロックの紐づけを管理できる\n\t\t入居者が利用しているかどうかは把握できる\n\t何かしらのapi利用権？\n\t\t物件別、業者別の内見回数管理を数えるとか。オーナーだと必要ないか。\n\n##castleプロダクト定例 #castle\n# sirius-king api mtg 7/23\ncreated_at:Mon Jan 19 1970 11:24:04 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:34:20 GMT+0900 (日本標準時)\nsirius-king api mtg 7/23\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1400-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 7/16]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\t特になし\n\nfukazawa[fukazawa.icon]\n\tBCU Android\n\t\tSQA走行完了\n\t\t残件\n\t\t\t不具合修正\n\t\t\tアイコン、リンク　など\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tBCU関連\n\t invitation削除、編集やる\n\t\t進捗はこちら-> https://github.com/qrioinc/king-api/issues\n\t\t\tWebhook実装完了、動作確認と仕様まとめ中\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\t\t履歴はプッシュ方式にするのが良さそう(kmi)\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n　\tmanager - admin間で中間テーブルを設ける必要アリ(bcuのhub登録時にmanagerのidいっぱいあったらややこしいので)\n　auth0の本番アカウント整備！\n\ntopaz2\n 請求書決済 実装\n \t決済用CSVダウンロード\n \t\tstaging 環境待ち　調整中(来月中頃までかかりそう)\n \t\t\t現状イキで進めてくださいませ[ymtk.icon]\n クロスモール連携メール送信\n \t本番環境しかないため ymtk さん確認待ち　調整中(まだ全然)\n \t\t現状イキで進めてくださいませ[ymtk.icon]\n (マネージャー／ゲスト)招待フロー\n \t動作確認\n \t\t正常系OK\n \t残件\n \t\tキーの削除、ログの削除\n 解施錠ログ　→king-apiが早く対応できれば今週いけそう\n \t設計\n \t実装\n フロント実装サポート\n\nymtk[ymtk.icon]\n\tv: 契約\n\t\tNP後払い審査待ち→審査完了。開発環境ももらいました\n\to: postmanを開発状況に合わせて最新化します→しました。\n\to: ビジネス界隈\n\t\t毎週下記で定例進行中（マーケ、営業、運用周り）\n\t\t\thttps://docs.google.com/spreadsheets/d/1ToocDJ4UFMlMTXe0cjYzAvW4ECQu8eDn6cQttnnNO2M/edit?usp=drive_web&ouid=109170418868775192408\n\to: サイト切り替え\n\t\tマーケ経由でミギウデさんに作業用リポジトリ渡してます\n\n[h.yamaguchi.icon]hiro\n v: ストアページ作成\n v: 申請作業の自動化\n vo SQA対応\n o: 開発\n \t利用規約の遷移先の実装\n \tアイコン\n \t本番用ビルド設定\n o: 申請周り\n \tストアの情報入力 (タイトル、説明文、検索キーワード etc)\n\t!: 明日(7/24)は有給を頂きます\n\n[mikamix.icon]\no: GET group_locks/index\n セッションさえ設定すれば問題なく動いてそうに見える\n organizationをセッションで設定するところを話した方がよい?\n セッションが設定されてない || 取得できていない\n Postmanからセッションを設定してレスポンスが取得できるのがゴール\n つまり、ログインしてからAPIを叩いてレスポンスを取得できればよい\n  groups.whole: true のgroupsがなくてエラーに\n  groups.whole is 何でしょう?\n\no: POST group_locks/locks\n POST groups/ にだいたいある <- これを見る(これで間に合うかもしれない)\n group_locks.guest_key_idは使用しない? -> たぶん使用しない\n groupsがtovを持てばよい気がする\n  groups has (1 || 0) tov でいけそう\n 1グループ1TOV\n  -> YES\n groupsにメンバー追加 || groupsにlockが追加 のタイミングで、招待を発行する\n  guest_keyをaccceptしたタイミングでguest_key_idがわかる\n  invitation発行 -> guestがsirius consoleからaccept -> king-apiにaccept -> king-apiからguest_keyもらって保存(ここが未実装)\n  https://docs.google.com/presentation/d/1z1t45MfxaSetzUCa0U-8My47QqAJEK_TFx3-Pf67ddE/edit##slide=id.g5c10cea84f_0_6\n\n!: Redisが入ってる\n セッション用?\n cookieでよいのでは?\n!: セッション周りについてymtkさんとお話\n!: Sirius、organization周りについてymtkさんとお話\n!: 一旦Postman周りを整理しませんか\n pre-request\n  認証が必要なものをディレクトリにまとめるとよいかも\n   だん\n  認証が継承されていなかった\n   やりましょう\n for-mockだけあればいい?\n  king-managementは使ってない?\n   使ってました\n\n事業前提\n\t8/19リリース目標\n\n##sirius #定例 #sirius-api\n\n# c-team定例 19/7/29\ncreated_at:Mon Jan 19 1970 11:31:43 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:33:02 GMT+0900 (日本標準時)\nc-team定例 19/7/29\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/zawa/knarita/takeuchi/ymtk/ichikawa/nakano\n\n欠席\n-\n\n前回\n[c-team定例 19/7/22]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\n[*** 先週のNEXT]\n\tお試しキャンペーン1000の進行\n\tバッテリー界隈進捗\n\tCS神対応\n\tメディア1本目\n\tしゃべくり準備\n\t9月施策\n\t\tQ-SL1 買い換えキャンペーンはやりそう\n\t\tNo.1 界隈\n\t\t友だち招待は間に合わないかな･･･\n\t住宅展示場ショールーム\n\t https://zenchin.smktg.jp/public/seminar/view/127\n\n[*** アジェンダ]\n[** 本日しゃべくり準備]\n\tサイト増強\n\tサイトblog動線追加\n\t\thttps://blog.qrio.me/\n[* 各自]\n\t中野さん\n\tまゆしー\n[* 8月9月積み上げ]\n\t増税前系の施策確認\n\t\tベースとして、各PFの増税前セールに乗る\n\t\t量販\n\t\t\tトップページバナー100万\n\t\t\t新宿イベント（仮）\n\t\t\t販売支援金的な何か / この辺が一番見えそうではある\n\t\tamazon\n\t\t\t自社 or SB施策\n\t\t自社\n\t\t\tQ-SL1 乗り換えcpn\n\t\t\t買い換えからの時期からするとちょっと早い\n\t\t\tビック5月顧客は有りうる。プライム7月は早い･･･\n\tレンティオ界隈\n\t\tLock・Hub 中古品見積もり提示済み\n\t\tレンタル費用想定\n\t\t\tLock / ¥1,500、Hub / ¥500\n\t\t\t補修部品と初期化についての運用はこれから\n\t\tレンティオ内サイト作成中･･･\n\t\t\t今すぐではないが、qrio.me からの動線は検討（cf. ルンバ）\n\tNo.1界隈\n\t\tお金と効果の確認中。出る時期としては、調査が1−2ヶ月→10月頃･･･？\n\t\t目星を付けているモノ\n\t\t\t売り上げ、シェア、販売台数など、数字で明らかなもの\n\t\t\t効果を見て、品質や満足度\n\t\t\t\tとはいえレビュー。SNSでもそこまで良くは言われてない「Qrio見たけどレビューがさ」\n\tWorks with alexa\n\t\tおそらく8月には出てくる予定。箱に載せるかどうかは？\n\tcvポイント用にメルマガ欲しい[ymtk.icon]\n\t\thttps://rikiyaishizaki.com/mailchimp/how-to-use-mailchimp-in-ishizaki-way##1-5_MailChimp\n\t\t\t購入意欲のある人\n\t\t\t内容自体はカギカンとも被る（スマートロック使い方など）\n\t\t\t\t毎月抽選で1名にロック当たる、とかでも\n\t\t\t\thtmlメールの知見もほしい\n\tNewsPicks施策界隈\n\t開発施策\n\t\thttps://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\t集中デー@逗子\n\t新宿施策界隈\n\n[* R25お試しCP]\n\tレンタルCPタスク一覧\n　　https://docs.google.com/spreadsheets/d/1yd0pDzoaWusMwaTrd2bIItaH-_ZJHZH3TI4ztkQMLp4/edit##gid=0\n[* Web分析 現状]\n\tご意見BOX定期パトロール\n\t\thttps://docs.google.com/spreadsheets/d/1XsNs7j6VKcvf6dGgJxbD_xwRmZKyNQkKo8DasivLNvQ/edit##gid=11165844\n\t\t機種名など入れてもらおう\n　\tご意見Boxをimportrangeしたやつ↓\nhttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\n\tGA 振返り\n\n\tQ-SL1登録数増加　→King発売前の水準へ\n[https://gyazo.com/8d1cfe2304b2b277070553dc9fb25872]\n\nnakano\n\t実演販売コパ・コーポレーション案件\n　　https://www.copa.co.jp\n　　メインクライアントはパナソニック、キーエンス\n　　販売士の派遣\n　  10万円(ジャンプ中澤、ボス水野、キングダム中野)\n 　 8万円　※レジェンド松下は派遣なし\n  動画作成\n　  50万円\n 　 +ロケ費(25万円)※恵比寿スタジオ完結なら0円\n 　 +出演料15万円(ジャンプ中澤、ボス水野、キングダム中野)\n 　 +出演料100万円(レジェンド松下)\n　  実績動画　https://www.copa.co.jp/studiocopa/\n  候補販売士\n 　 男性　https://www.copa.co.jp/profile/?sgen=%E7%94%B7%E6%80%A7\n 　 女性  https://www.copa.co.jp/profile/?sgen=%E5%A5%B3%E6%80%A7\n 　 商品を伺ったイメージとしては、\n　　  ラショーモン亀山\n 　　 https://www.copa.co.jp/profile/%E3%83%A9%E3%82%B7%E3%83%A7%E3%83%BC%E3%83%A2%E3%83%B3%E4%BA%80%E5%B1%B1/\n 　　 ブレーカー足立\n 　　 https://www.copa.co.jp/profile/%E3%83%96%E3%83%AC%E3%83%BC%E3%82%AB%E3%83%BC%E8%B6%B3%E7%AB%8B/\n　　　　などの爽やかな若い男性がイメージとして浮かびましたが、いかがでしょうか。(by.須之内様)\n\nmayuto\n\tペパクラ施策\n\t\t今後のスケジュール感\n\t　\t印刷GOから納品まで 3〜4週\n\t\t後納郵便について\n\t　\t手続きに2週間\n\t\t　条件：月50通以上の郵送\n\t\t　　Qrio月平均33通。ペパクラ20〜25通くらい捌ければ、条件満たせる\n\t　フォーム管理運用\n\t　　Hubspotを導入したリード管理\n　　　　Sirius用→　https://share.hsforms.com/1tsr6qstYSlugTqEnZf7ANQ3mbpo\n\tお試し1000台施策\n\t\tお盆明けまでには\n\t\tカード会社向け資料\n\t\t\thttps://docs.google.com/presentation/d/1gUsWeOJ-rXJJIVsTv1f-4Q5uCHGkFaKgqpjyEYRWzRs/edit##slide=id.p\n\tレンティオ施策\n\t\t購入率7割\n\t記事施策\n\t\tしゃべくりに間に合わせたいが･･･\n\t\t他社比較だけは出したい\n\n[** 各種共有]\n\t販売\n\t\t対目標\n\t\t1500→1200−1300\n\t\tamazon SB 1000入れて100out\n\t\t直販で数字を作っていく必要がある\n\tマーケ\n\t\t広告効果\n\t開発\n\t\tバッテリー2倍→カギカン2オープン前目安\n\t\t\thttps://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n[*** NEXT]\n\t\n\n##toC #定例 #議事録\n\n# R25お試しキャンペーンSQA資料\ncreated_at:Mon Jan 19 1970 11:28:32 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:32:41 GMT+0900 (日本標準時)\nR25お試しキャンペーンSQA資料\n[https://gyazo.com/fb1254c15f95a5404a72cefe9e56e27b]\n[** キャンペーン概要]\n\t8/19週から開始。上限500台\n\t[19/7/22 お試し1000案件]\n\n[* 仕様確認]\n\tymtkに聞いてください\n\n[** アプリケーション]\nurl\nhttps://r-king-app-staging.herokuapp.com/\n\ngithub\nhttps://github.com/qrioinc/r-king-app\n\nテストカード\nhttps://pay.jp/docs/testcard\n通常は「4242424242424242」の利用でOK\n\n開発完了\n次週中頃の予定\n\n[** 主な状態、挙動]\n\t購入ステータス\n\t\twait / 発送待ち（最初はこれ）\n\t\tshipped / 発送済み（発送後に手動で切り替え。QAツール検討します）\n\t\tordered / 購入済み（購入後）\n\t\tcancel / キャンセル（何らかの理由で発送しなかった場合）\n\t\treturned / 返却済み（返却受付後に手動で切り替え\u001f）\n\tログイン\n\t\tハッシュなしの`/login`については表示不可\n\tマイページ\n\t\tログインが必要。セッションが切れた場合は400エラー\n\t\t発送済みのタイミングのみ購入可能\n\t\t購入にはカードのcvcが必要（これから実装）\n\tサンクスメール\n\t\t登録時\n\t\t\t登録完了&ログインURL付きのメールが飛ぶ\n\t\t購入時\n\t\t\t購入完了についてのメールが飛ぶ\n\tその他\n\t\t応募期間終了したら登録フォームを閉じる（期間外表示。実装これから）\n\t\t返却期間終了して一定期間経過したらマイページも閉じる（実装これから）\n\n[** アプリケーションの機能]\n[* 月額ただいまとの違い]\n\tホーム画面\n\t\t存在無し\n\t色選択\n\t\tサムターン種類の選択へ変更\n\tアンケート\n\t\t購入フローの中に選択式アンケート項目を含む\n\tカード決済\n\t\t初回の決済発生、月額登録はなし\n\t\t顧客情報の登録のみあり。1ヶ月後にpayjpの管理画面から直接売り上げ作成する\n\tログイン・マイページ\n\t\t画面上でのログイン動線はなし（サンクスメール上のハッシュつきURLのみ。メアド入れればOK）\n\t\tパスワード再発行と請求一覧はなし\n\t\t借りているモノ一覧表示あり（ロックとサムターンホルダー）\n\t\t購入ボタンあり\n\t\t\tボタンを押す→カードcvc入れる→カード決済が走る→サンクスメール飛ぶ（ものは既に渡しているので、クロスモールは関係なし）\n\tメール全般\n\t\t登録サンクスメール\n\t\t購入サンクスメール\n\n[* その他]\n\tログイン方法についてはちゃんさんにレビュー受け済み\n\n##toC\n\n# lightsail SSL letsencrypt対応\ncreated_at:Mon Jan 19 1970 11:28:49 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:28:49 GMT+0900 (日本標準時)\nlightsail SSL letsencrypt対応\nhttps://blog.qrio.me/ を設定したのでログを残す[ymtk.icon](19/7/26)\n\n[* 手順]\n1. letsencryptをクローンしてくる\ncode: bash\n git clone https://github.com/letsencrypt/letsencrypt\n\n2. 初回証明書を作る\ncode: bash\n ./letsencrypt/letsencrypt-auto certonly --webroot -w /opt/bitnami/apps/wordpress/htdocs/ -d blog.qrio.me\n\n3. 証明書をapachの参照先へコピーする\ncode: bash\n sudo cp /etc/letsencrypt/live/blog.qrio.me/fullchain.pem /opt/bitnami/apache2/conf/server.crt\n sudo cp /etc/letsencrypt/live/blog.qrio.me/privkey.pem /opt/bitnami/apache2/conf/server.key\n\n4. 再起動して有効化\ncode: bash \n sudo /opt/bitnami/ctlscript.sh restart apache\n\n5. 更新用スクリプトを作る\n\trootにある`update_ssh.sh`がそれです\n\n6. cronで設定する\n\t今の設定値は`0 5 1 * * $HOME/ssl_update.sh >> $HOME/ssl_update.log`\n\tcrontab -l で状況分かります\n\n[* 参考]\nhttps://blog.miminoinu.net/archives/270/\nhttps://eng-entrance.com/linux-command-crontab##-ecron\n\n# IoT - dev 室長会 19/7/26\ncreated_at:Mon Jan 19 1970 11:08:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:28:39 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/7/26\n前回：[IoT - dev 室長会 19/7/5]\n\n[** 全体共有・相談]\n\n[* 前回のNEXT]\n\t集中デーの使い方についてFB\n\t\t使ってない･･･[ymtk.icon]\n\tSirius立ちあげ界隈の状況整理\n\n[** 共有・相談ネタ]\n[* 全般]\n\tボード\n\t\t短期的に各種プレイヤーとして立ち上げる、事例作る。tk、ymtkで率先してやる。決める。\n\t\tこれやって→前例ない情報量足りない分からない→進まず1ヶ月みたいなのが4月から各所で→リーンにやれと言われても、の解決\n\tzawaさん引き継ぎ関連\n\t\t粛々と進行中\n\t行動指針関連\n\t\t1on1\n \t\t行動指針とセットで。\n 集中デーそもそも\n \tできることの範囲は狭い\n \t新しい機能の設計、構想\n \tc-team的には目の前のR25詰めきる\n \t\t分業価値、相談価値\n \t\t来週月曜に提起\n\tHR関連\n\t\tゆりさんからHR以外の案件を引き剥がして注力\n\t\tロストテクノロジー危ない\n\ttoC\n\t\tR25 & Sirius ともに8月中旬\n\t\tSirius HubSpot本気出すCRM\n\ttoB\n\t\tMANOMA メンバー品川派遣\n\n[* 製品開発]\n\tSirius\n\t\tBCUほぼ終わった\n\t\tWeb Console、見積に不手際あり\n\t\t\t加速させるためにnaricoさん相談中\n\t\t\tリリース判定(8/9(金))の調整　\n\tGuardian\n\t\t1次試作品きました\n\t最終出社 8/22(木)\n\n[* デザインコミュニケーション]\n\tJoker\n\t\t魅力品質の手段（ディスプレイ搭載）定まらず！\n\t\t\tQrio内で意見をまとめる必要あり\n\tKing\n\t\tペーパークラフト製版、印刷へ\n\t\tBlog\n\t\t\twordpress 設定 ymtkさんありがとうございます\n\t\t\t\t7/29のしゃべくり放送前には公開できる見込み\n\t\t\t\t合わせて、qrio.me/smartlock/にも記事導線貼るで良いですよね？\n\t\t\t雑にスズキが運用方針固めて良いか？\n   \tマーケチームはあんま認識してなさそうです。\n    \tあとで、こうしたい！とか言っても受付んぞ\n   \t今後届けたいコンテンツの切口は？\n    \tスマートロック以外の製品は届けるのか？\n    \tサービス（カギカンやRoomon）のコンテンツは届けるのか？\n    \tqrio.meとの住み分けは？\n\tGurdian\n\t\tVOIDシール　座組み整理後、制作着手\n\t\tユニットラベル\n\t\t\t版下データ入手、制作へ\n\tSirius\n\t\t9/1リリースに向け、Webや冊子等の制作物進行中\n\t組織（行動指針）\n\t\tFIXし、Googleスライド制作、翌週の締会で展開する\n\t\t合わせてwantedlyも調整中\n\t簡易撮影セットの購入検討\n \t情報発信の取り組みが顕著→写真や映像の必要性\n \t\t撮影機会が増えていて、先々考えても何かと必要かも\n \t　\t写真の良し悪しでコンテンツや製品イメージに影響出る\n \tレンタル、外部委託と照らし合わせ、検討\n\n\n\n[* CS推進]\n\tsendgrid 怪しい→Group unscribedに入るべきものがGlobal unscribedに入ってるものがある疑惑\n\t　調査しますが、ちょっと時間かかりそう。\n\tアルバイト更新面談→来週米澤さん\n\t今後のアルバイトCS体制検討中→SNC委託含め、費用感・やれることを精査中\n\n\n[** NEXT]\n\ttime machine\n\t集中デー\n\t続Sendgrid\n\n##室長会 #議事録\n\n# Dev MTG 2019/7/23\ncreated_at:Mon Jan 19 1970 11:24:04 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:25:49 GMT+0900 (日本標準時)\nDev MTG 2019/7/23\n[https://storage.tenki.jp/storage/static-images/suppl/article/image/1/13/130/13021/1/large.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t正社員募集中\n\t\tWantedly+リクナビHRTech\n\t\t\tサーバー\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n 深澤 引き継ぎ始めます\n \tアカウント、ドキュメントなど色々あり\n \t\tアカウントは山川さんへ共有済み\n \tCI用にGitHubの共通アカウントを作りたい\n \t\t深澤のアカウントを使ってしまっているため\n \t1pass, lastpass, bitwarden\n \t 共有できる\n \t revokeできる\n \t read-only\n \t マスクして使える\n \t モバイル対応\n \t ブラウザ拡張機能で使える\n \t https://zakupika.com/archives/1531 bitwardenいいらしい\n \t lastpassは過去に流出事故があったので現状気になる\n \t bitwardenが人気らしい→みんなで入れてみる \n \t bitwordenは組織機能があった!!! 超大事\n \t \n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  NASTA [* 進捗なし]\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\t\t先週、高橋さん＆山川さんで話に行った\n \t\t\t\tQrioの開発チームは作業無いかも\n \t\t\t\t集合玄関、もっと安くしろと言われた\n \t\t\t\tビジネスのボールはNASTA持ち、案件確度高い\n \t\t\t\t開発の座組は山川さんにてボール持ち\n \t\t\t\tHWの開発はQrio/Sony、開発費はNASTA持ち、HWの権利はQrioが持てる\n \t\t\t\t\t優先度はMANOMA>集合玄関\n \t\t\t\t\tNASTA返事がこない、Qrioで突っ走る可能性あり\n \t\tphase1ではQrio Keyのビーコンを読み取って開ける形になりそう\n \t\tいきなりphase3まで作るか検討中\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\tSNCから2つの提案あり\n \t\t\tAIHGW(a.k.a. Helios, MANOMA) の通信で、PubNubのような動きをするサーバーを作る。\n \t\t\t\tメッセージのやりとり、または翻訳をする\n \t\t\t\tPubNubを使わないのはなんでか。お高いから。\n \t\t\t\tSL2アプリに、BLE <-> Hub <-> AIHGW の切り替えが必要\n \t\t\t\t\tもうちょっと考えたらいらんかもしれないが、検討\n \t\t\t\t\tSL2アプリからMANOMAを叩くのは厳しそう\n \t\t\t\t\tMANOMAからAPI(ekey取得/ログ登録など)を叩くのが良さそう\n \t\t\t\t\t\tこのパターンではSL2アプリからMANOMAは見えない\n \t\t\tekeyをAIHGWに内包してあけるパターン\n \t\t\t\t工数少なそうだが、ログのアップロードなどで、データの正確性に不安がある\n \t\t[MANOMAまとめ(随時更新)]\n \t\tAIHGWにQrio Hub機能 or Qrio Key機能を入れたい\n \t\t\tHub FWの解施錠部分を切り出し済み[takeuchi.icon]\n \t\t\t\tパケットアップロードの仕組みはまだ入れていないので、入れる？\n \t\t\t\t\t参考程度にコードを渡すのはOK。read_logを発行するのは自分たちでやってもらう。時間があれば入れとく\n \t\t\t\t\tSDKやライブラリではなく、あくまで参考コードという位置付けが望ましい\n \t\t\t\t\tノークレームノーリターン\n\n \t集合玄関 [* 進捗なし]\n \t\t8月に経営会議通す予定\n \t\t設計構想の準備\n \t\tリリース判定までのスケジュールを検討する\n \tアプリのSDK化\n \t\t消失した(Pending)\n\n[** Joker (ymtk)]\n\t今日、モニタ周り楢原さんとsync\n\n[** Castle (ymtk、三上)]\n\tWebアプリ(三上さん)\n  三上\n  \tpresence\n  \tなんか死んでるの多い　50/63ぐらい死んでる\n   \t本当に死んでたぽい\n  ymtk\n  \t社内でpresence試しているけど正常に動いている\n  \t今週はパッケージ更新した分だけリリース。機能追加なし\n\t  \t[##Castle 未解決・対応中の項目管理]\n \t \t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み( ˘ω˘)\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応 (komai)\n\t　削除系、足りない更新系が増えたのでその実装\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tauth0の本番環境作る\n\tsirius-api (mikamix)\n\t\tpostman権限がない -> この後にymtkさんと調整\n\t\tgroup_lock関連 -> 仕様洗いだし、実装入ります\n\t\torganization関連 -> 仕様洗いだし、検討\n\t\t会議体を改めてもよいのでは?\n\tWebフロントUIは要件詰めました。フロント担当調整完了?→完了しました[ymtk.icon]\n\t\t適宜フロントメンバーをフォローしています。ブランチの運用を結構整理中\n\t\t今月下旬からSQA開始予定\n\t\tそろそろSQA始めれそうか、成田さんへ確認する[fukazawa.icon]\n iOS (hiro)\n \t一通りSQA終わった\n \tSQA対応中\n \t申請に向けた雑務対応中\n Android [fukazawa.icon]\n \tSQA走行完了\n \t不具合対応など、細かい残件を対応中\n[sirius-king api mtg 7/23]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa\n\t\tamazonと話しておおよそクリア\n  可動動画撮ってULに送付する。amazon側にも事業OKで進めてもらう\n  alexaに対し過去に作った特定アカウント(development@とか)だとハブや電池の疎通チェックが行われないので、UL向けに検証用アカウントを新規発行する\n\n[* API (駒井)]\n　招待周り、apiドキュメントの更新必要[ymtk.icon]\n 　塩漬け\n and hostelさんにAPI提供する話が回ってきた(2019/7/9)\n \tどんなことをしたかレクチャーする[fukazawa.icon]\n change_settingsコマンド発行api作成頼まれた\n \tリモートでビーコンON/OFF設定を変えたい(Sirius)\n \t設定値をAPIの引数にして、バイナリを作ってコマンド発行できるようにしたい\n \t8月中を目標にしたい\n master_key削除できる管理ツール作成頼まれた\n \tレンタルから戻ってきたロックを手元で初期化できるようにしたい(MANOMA)\n \t９月中には実証テストしたい\n \tQrioにこのシリアルは消せていいよっていうリストが送られてくるのでそれをうちのサーバー保存\n \t削除できるアカウントを作成\n \t権限付きホワイトリスト(XX社はYYのロックが初期化できるか管理するリスト)が必要そう\n \t\t初期化は業務委託先で実施するため\n \t\t9月中は難しそう\n \tバーコードリーダーは門外不出Qrioアプリを作成する案\n\n[* CU (深澤、竹内)]\n\tiOS版\n\t\tApple Watch Series 2でアプリが使えない問題[fukazawa.icon]\n\t\t\twatchOS 5.3 beta4で改善を確認したため、一旦待ち\n\t\t\twatchOS 5.3がリリースされ、改善を確認\n\n[* Hub (King) (竹内)]\n（進捗なし）\n・Codeshipの権限を追加したい\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n長岡のヘルツに行ってきて、一次試作の組み立てを確認。あといろいろ認識合わせしました。\n実装\n\tリファクタ\n\t一次試作用の個体データを作成、ヘルツさんに共有済み\n\t\t無事ヘルツさんでも動作したそうで、本日発送してもらえるとのことです。\n\t工程検査の実装に着手\n\tFWアップデートの仕組みを考え中\n\t\tシリアルNoで、version.jsonの参照先を判定するよう、アプリを改修する方向で進めます。\n\t\t今後、シリアルNoで判定すべきデバイスが増えてきて困ったら、別の方法を考えますが、そうなることは多分ないです。\n\t\thttps://github.com/qrioinc/guardian-esp32/issues/27\nハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\nその他\n\tCoverity環境構築もやりたい（進捗なし）\n\tWi-Fiルーター接続互換性評価\n\t\tQrioにあるルーター3台で、QaaS山田さんに動作確認してもらいました。問題なし[takeuchi.icon]\n\t\tメッシュWi-Fiのルーターも購入したので、追加で確認してもらう予定\n\tWi-Fi/Bluetooth SIG認証\n\t\t進行中。あとは待つだけ。[ymtk.icon]\n\n[* Guardian 製造・制作系 (ymtk)] \n VOIDシール進行中（まゆしー）\n\n[* Qrio Lock お試し/レンタル(ymtk)]\n\t内製短期\n\t\t8/19週1000台(仮)リリース。\n\t\t住所&カード情報取ってcrossmall連動できるアプリケーションを月額ただいまの流用で開発中（主にパッケージ更新と不要な機能のそぎ落とし）\n\t協業長期（レンティオ）\n\t\t商談開始。料率と運用を決めていく\n\n[* Guardian セキュリティ(チャン)] [* 進捗なし]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   \t資料もらった\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Guardian(Hub4M)を登録出来ないようにする対応中（進捗なし）[takeuchi.icon]\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよい？\n \tGuardianのシリアルは2xxxxxxxとする予定（大西さんにも確認済み）\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n Q-SL1 Android\n \t最近のAndroid Wear端末でアプリがインストールされない問題\n \t\t7/22に修正版をリリース済み\n Q-SL1 iOS\n \tロック名／アカウント名／ゲストキー名に絵文字を設定するとアプリが死ぬ問題\n \t\t修正完了、SQA完了、Apple審査待ち\n\n[** 情報システム (チャン)] [* 進捗なし]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n Twilioの会社情報の更新\n \t7/30までに代表者(渡辺さん)の顔写真入の身分証明書を用意して出す\n \t11.21まで\n \t連絡きた、集会来いと言われた\n \tどこに何を提出すればよいか確認中\n 1passwordの導入\n \tいいんじゃなかろうか\n \tOKTA、LastPassあたりが良さそう？\n \tすいません日本語たいおうしてないかも\n \tエンジニアもパスワード管理(シングルサインオン)ツール使いたいです＞＜\n\n[** QaaS(チャン)]\n 7/22でチャンさんが作業終了\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tr-tadaimaいつ止めるのか？\n\n[** 健忘録]\n\tハンズフリー解錠機能（実質電池容量アップ）on/offフラグ、シリウスで遠隔操作したい（全国設置したものを再度切り替えに行くのを避けたい）[ymtk.icon]\n\n# sirius-king api mtg 7/16\ncreated_at:Mon Jan 19 1970 11:14:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:23:34 GMT+0900 (日本標準時)\nsirius-king api mtg 7/16\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1400-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 7/9]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\t特になし\n\nfukazawa[fukazawa.icon]\n\tBCU Android\n\t\tSQA実施中\n\t\t残件\n\t\t\tエラーハンドリング\n\t\t\tアイコン、リンク　など\n\tアプリ名は「カギカン」で決定\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tBCU関連\n\t 招待のAPI作成完了\n\t 履歴のpush作る\n\t\t進捗はこちら-> https://github.com/qrioinc/king-api/issues\n\t\t\tWebhook実装完了、動作確認と仕様まとめ中\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\t\t履歴はプッシュ方式にするのが良さそう(kmi)\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n　\tmanager - admin間で中間テーブルを設ける必要アリ(bcuのhub登録時にmanagerのidいっぱいあったらややこしいので)\n\ntopaz2\n 請求書決済 実装\n \t決済用CSVダウンロード\n \t\tstaging 環境待ち　調整中(来月中頃までかかりそう)\n \t\t\t現状イキで進めてくださいませ[ymtk.icon]\n クロスモール連携メール送信\n \t本番環境しかないため ymtk さん確認待ち　調整中(まだ全然)\n \t\t現状イキで進めてくださいませ[ymtk.icon]\n 招待フロー実装\n \tFE/BE\n \t招待を受け取る手前までできた\n フロント実装サポート\n\nymtk[ymtk.icon]\n\tv: 契約\n\t\tNP後払い審査待ち\n\tv: 適宜フロントメンバーのフォロー\n\t\t要望取りまとめ。idあって名前取れないところとか。\n\to: postmanを開発状況に合わせて最新化します\n\to: ビジネス界隈\n\t\t毎週下記で定例進行中（マーケ、営業、運用周り）\n\t\t\thttps://docs.google.com/spreadsheets/d/1ToocDJ4UFMlMTXe0cjYzAvW4ECQu8eDn6cQttnnNO2M/edit?usp=drive_web&ouid=109170418868775192408\n\t!: 消費税切り替え10月\n\n[h.yamaguchi.icon]hiro\n v: 環境構築方法などをREADMEに記載\n vo: QA対応 \n\to: 申請周りの作業\n\to: WebView周りのリンク対応\n\to: アイコン\n\t\t8/10までに作ってもらえるように依頼した[h.yamaguchi.icon]\n\tアプリ名：カギカン\n\tプラポリ：いつもの\n\t利用規約：作成中(7末くらいまで)\n\tヘルプ  + ハブが見つからない時：川上さん確認\n\tロックを初期化するときに解施錠履歴が消えるので、その警告をする？\n\t\tking-apiとsirius-apiは別のため、sirius-api側のログを残そうと思えば残せる\n\t\t考える[ymtk.icon]\n\t\tymtkさんの現在のスクショ共有\n\t本番のエンドポイントを西川さんへ確認\n\t\t7月下旬(20日くらい)までに作ってもらえるように西川さんに依頼[h.yamaguchi.icon]\n\n[mikamix.icon]\no: GET group_locks/index\n セッションさえ設定すれば問題なく動いてそうに見える\n organizationをセッションで設定するところを話した方がよい?\no: POST group_locks/locks\n どう動くのが正解? king-apiにPOST? DB上には何を保存する?\n guest_key_idは使用しない?\n groupsがtovを持てばよい気がする\n 1グループ1tov?\n!: 一旦Postman周りを整理しませんか?\n\t整理しますｍｍ[fukazawa.icon]\n http || https\n ディレクトリ\n pre-request\n  認証が必要なものをディレクトリにまとめるとよいです\n 権限ががが\n!: urlをrestfulにしませんか?\n!: sessionはなぜ?\n\n\tその他\n\t\t同じゲスト2回目以降の合カギ配布の省略\n\t\t\t合カギグループへのゲスト追加の他に、ロック追加時のルートも考慮する必要がある\n\t\t\t\tCUの場合はロック追加のたびにメール飛ぶ\n\t\t\tそもそも1stリリースで必要か\n\t\t\t一旦、メール送るで運用上問題ないはず\n\t\t\t\t1stでは見送り\n\n事業前提\n\t8/19リリース目標\n\n##sirius #定例 #sirius-api\n\n# 19/7/22 お試し1000案件\ncreated_at:Mon Jan 19 1970 11:23:02 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:23:05 GMT+0900 (日本標準時)\n19/7/22 お試し1000案件\n[** 役割確認]\nシステム&CS&PM：ymtk\nUX：まゆし\nマーケ/企画/オペレーション：原田さん・いっちー\n営業調整：こうきちさん\n規約・リーガル：竹端さん\n物流：ゆりさん\n\n[* 概要]\n\tカード会社向け資料\n\t\thttps://docs.google.com/presentation/u/1/d/1gUsWeOJ-rXJJIVsTv1f-4Q5uCHGkFaKgqpjyEYRWzRs/edit?usp=drive_web&ouid=109170418868775192408\n\n[* スケジュール]\n\tネックになりそうだけど、目標8/19週\n\t\tアプリケーション\n\t\t\tカード情報と送付先をとってくるくん\n\t\tサムターンホルダー\n\t\t\t100個くらいしかない\n\t\t\t全プレはムリ\n\t\tロジテムさん\n\t\t\tお盆開けないと動けない\n\t\t\tキャパシティ\n\t\t\t1000台分のシリアルの確認\n\t\t\t\tそもそも大変では･･･\n\n[* 役割別確認]\n\tシステム&CS&PM：ymtk\n\t\tアプリ書く（2週間くらいで書いてQA）\n\t\tCS繋ぐ\n\t\t全般見る\n\tUX：まゆし\n\t\t全体バランス、ユーザー体験上の不具合を対処\n\tマーケ/企画/オペレーション：原田さん・いっちー\n\t\t概要下記\n\t\t\thttps://drive.google.com/drive/u/1/folders/1YGb59LqCZ4eJLJCKNELeBKjOlpju_XYO\n\t\tロジテム運用系、やれる・やれない with ゆりさん\n\t\t直リンク貼り場所界隈\n\t\tカギカン2との折り合い\n\t\t利用規約の調整\n\t営業調整：こうきちさん\n\t\t量販店などへの施策共有\n\t\tレンティオさんとのsync\n\t\t価格調整予定\n\t規約・リーガル：竹端さん\n\t\tお試しキャンペーンをやる上でのリスクヘッジ\n\t物流：ゆりさん\n\t\tロジテムさんの調整\n\t\tcrossmallの店舗設置、在庫登録\n\n##marketing\n\n# 19/7/22 c-team 分析分科会\ncreated_at:Mon Jan 19 1970 11:02:50 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:23:01 GMT+0900 (日本標準時)\n19/7/22 c-team 分析分科会\n前回\n[19/7/8 マーケ施策と分析について]\n\n[* 目的]\n\t売り上げの前の部分で、その施策がうまくいってるのかどうかを判断できる指標を定める\n\t\t施策ごとの改善が分かるようになる。売り上げだけだと時事影響もあるので判断できない\n\n横断\n\tSiriusのお問い合わせフォーム / Hubspot\n\t\t今週テレビ会議\n\t\t現状稼働is...?salesforceへの流し込み必要･･･？\n\t\t先方にはなし聞いた上で、コウキチさんと原田さん入れて運用確認\n\tGoogle Analytics カスタムユーザー\n\t\tペパクラ向け\n\t\t\t投稿ボタン押して発火 or doneページ見て発火\n\t\t\tカスタムユーザーの行動 vs 全体\n\t\t\t\tどのくらいリピート？\n\t\t\t\t閲覧時間\n\t\t\t\tamazon click\n\tキャッシュバック\n\t\t効果分析どうやるか\n\t\t定常からの上振れとして、申し込み150台レベルだと･･･\n\t\t\tクーポンを見てきた vs 来てからクーポンを探した\n\t\t\t単純にROI\n\t\t\t\tはねたねー、ではなかったとして、それに100万使っていたらマズいよね\n\t\t\t\tこれ何かしら定性的にアンケートしてましたっけ･･･？\n\t\t\t価格抑止のメリットあった？\n\tメディア（記事施策）\n\t\t続けていくべきかどうかの判断軸\n\t\t見た人が買うか、の有効性\n\t\t\tベースとしてはPV（そもそも）\n\t\t\t記事内からのamazon click動線は必須\n\t\t\t\tor Qrio Store\n\t\tSEO\n\t\t\tQrio Lockのことを複数の切り口で調べたときに記事が出てくるか\n\t\t\tqrio.me のアクセス底上げに繋がっているか\n\t\t\t\tqrio.meからではなく、オーガニック検索数\n\t\t\t曜日特徴\n\tお試しCPN・レンティオ\n\t\t初回の申し込み捌けスピード(hourly)\n\t\t購入率\n\t\t\tレンティオは7割、Qrioとしては3割目指したい\n\t\t盗難率、帰ってこない率\n\t\t\tレンティオは0.2%、QrioとしてはMAX2件くらい\n\t\tフォームCVR\n\t\t取得情報精査\n\t\t\tなかのさんお願いします\n\n-----前回\n[* お試しCPN]\n\t施策指標\n\t\t応募ページPV\n\t\t応募ページCVR\n\t\t\tフォームCVR（途中離脱is？）\n\t\tアンケート界隈\n\t\t\t応募時と、返却時の2回\n\t\t\tNPSに近い指標\n\t\t\t定性的なペインの拾い上げ\n\t\tHubSpot使いましょう\n\t\t\t45/50 再訪するよね、など\n\t\t\tうまく取れなそうであればカスタムユーザー仕込んでおく\n\n[** NEXT]\n\t\n\n\n\n##analytics\n\n# 19/7/8 マーケ施策と分析について\ncreated_at:Mon Jan 19 1970 11:22:58 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:22:58 GMT+0900 (日本標準時)\n19/7/8 マーケ施策と分析について\n前回\n[19/7/1 マーケ施策と分析について]\n\n[* 目的]\n\t売り上げの前の部分で、その施策がうまくいってるのかどうかを判断できる指標を定める\n\t\t施策ごとの改善が分かるようになる。売り上げだけだと時事影響もあるので判断できない\n\n横断\n\tSiriusのお問い合わせフォーム / Hubspot\n\t\tテンプレート使えた方がCPN展開できるので良さそう\n\tGoogle Analytics カスタムユーザー\n\t\tキャンペーン参加・不参加\n\t\t購入した・してない\n\t\tHubスポットで「お問い合わせした、してない」軸だと同様なことができる\n\n[* お試しCPN]\n\t施策指標\n\t\t応募ページPV\n\t\t応募ページCVR\n\t\t\tフォームCVR（途中離脱is？）\n\t\tアンケート界隈\n\t\t\t応募時と、返却時の2回\n\t\t\tNPSに近い指標\n\t\t\t定性的なペインの拾い上げ\n\t\tHubSpot使いましょう\n\t\t\t45/50 再訪するよね、など\n\t\t\tうまく取れなそうであればカスタムユーザー仕込んでおく\n\n[* 友だち招待]\n\tお試しCPN終わってから\n\n[** NEXT]\n\tHubSpot 今のカギカンでの稼働確認する\n\t\t中野さんお待ちしてます\n\n\n\n##analytics\n\n# c-team定例 19/7/22\ncreated_at:Mon Jan 19 1970 11:22:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:22:58 GMT+0900 (日本標準時)\nc-team定例 19/7/22\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/zawa/knarita/takeuchi/ymtk/ichikawa/nakano\n\n欠席\n-\n\n前回\n[c-team定例 19/7/16]\n\n[*** ミッション]\n　セルイン月2000台をピンポイントに出せる販路の確保\n\tセルイン月2500台を達成できる施策の発明\n\n[*** アジェンダ]\n[* Web分析 現状]\n\tご意見BOX定期パトロール\n\t\thttps://docs.google.com/spreadsheets/d/1XsNs7j6VKcvf6dGgJxbD_xwRmZKyNQkKo8DasivLNvQ/edit##gid=11165844\n\t\t機種名など入れてもらおう\n\n[https://gyazo.com/c8e1a7727713409a350175c56b78d577][https://gyazo.com/8ac82f0643e664592d819bb602d5fe6e]\n　\tご意見Boxをimportrangeしたやつ↓\nhttps://docs.google.com/spreadsheets/d/1SoXf0G9eWIzzNhxOhr9oig2p5E5QsJ33VFPR_KZ6tjM/edit?usp=sharing\n\n\tGA 振返り\n[https://gyazo.com/3618c90780f4c8498b31401690d28646]\n\tQ-SL1登録数増加　→King発売前の水準へ\n[https://gyazo.com/8d1cfe2304b2b277070553dc9fb25872]\n\nmayuto\n\tペパクラ施策\n\t\t今後のスケジュール感\n\t　\t印刷GOから納品まで 3〜4週\n\t\t後納郵便について\n\t　\t手続きに2週間\n\t\t　条件：月50通以上の郵送\n\t\t　　Qrio月平均33通。ペパクラ20〜25通くらい捌ければ、条件満たせる\n\t　フォーム管理運用\n\t　　Hubspotを導入したリード管理\n　　　　Sirius用→　https://share.hsforms.com/1tsr6qstYSlugTqEnZf7ANQ3mbpo\n\tお試し1000台施策\n\t\tお盆明けまでには\n\t\tカード会社向け資料\n\t\t\thttps://docs.google.com/presentation/d/1gUsWeOJ-rXJJIVsTv1f-4Q5uCHGkFaKgqpjyEYRWzRs/edit##slide=id.p\n\tレンティオ施策\n\t\t購入率7割\n\t記事施策\n\t\tしゃべくりに間に合わせたいが･･･\n\t\t他社比較だけは出したい\n\n[** 各種共有]\n\t販売\n\t\t対目標\n\t\t1500→1200−1300\n\t\tamazon SB 1000入れて100out\n\t\t直販で数字を作っていく必要がある\n\tマーケ\n\t\t広告効果\n\t開発\n\t\tバッテリー2倍→カギカン2オープン前目安\n\t\t\thttps://docs.google.com/spreadsheets/d/1U2oIuCYeGLWqGNuMfrqxfmmrXzhmKlaxum8BKE2Rft8/edit##gid=0\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n[*** NEXT]\n\tお試しキャンペーン1000の進行\n\tバッテリー界隈進捗\n\tCS神対応\n\tメディア1本目\n\tしゃべくり準備\n\t9月施策\n\t\tQ-SL1 買い換えキャンペーンはやりそう\n\t\tNo.1 界隈\n\t\t友だち招待は間に合わないかな･･･\n\t住宅展示場ショールーム\n\n##toC #定例 #議事録\n\n# Hub4M Assy立会い 7/19\ncreated_at:Mon Jan 19 1970 11:18:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:18:39 GMT+0900 (日本標準時)\nHub4M Assy立会い 7/19\n\n---\n### マスターデータ\n\n#### 内容\n・シリアルNo\n・UUID\n・KeySeed 1\n・KeySeed 2 (予備)\n\nMACアドレスは準備しない。Espressifがモジュールに組み込んだものを使用するため。\n\n#### KeySeedの暗号化\nKeySeedは暗号化する。書き込み時、USBケーブルの間をKeySeedが平文で流れるのを防ぐため。\n復号鍵はBootloaderに埋め込む。\n・この鍵は、CIでビルド時に環境変数から入れる。\n起動時、Bootloaderに埋め込んだ鍵を用いて復号する。\n\n#### 作成、管理\nQrioが作成、管理する。\n暗号化、暗号鍵の管理もQrio。\n\n#### 個体データの書き込み\n以下が必要。\n・個体データの入ったバイナリファイル（Qrio準備）\n・書き込みスクリプト（Qrio準備）\n・PC（Qrio準備）\n・バーコードリーダー（Qrio準備）\n\n準備すべきセット数は、Qrioの希望する生産ペースにより異なる。\n\nバーコードを読むためのツールはすでに存在する。\n\n\n\n#### 受け渡し方法\nQrioが諸々を暗号化して、ヘルツさんに手渡しする。\n復号鍵は別途共有する。\n\n---\n### FWの書き込み\n\n書き込むデータ\n- Bootloader\n- Partition\n- FW(App)\n- 個体データ(KeySeedのみ暗号化されているが、それはそのまま書き込んでOK)\n\nこれら自体は、暗号化されていない。そのままで書き込む。\nヘルツさんにお渡しする際は、これらのバイナリは暗号化された状態である。\nヘルツさんのほうで復号化してもらい、書き込んでもらう。\n\nQrioが暗号化された書き込みデータ一式を、直接ヘルツさんに手渡しする。\n\n個体データは、一度書き込んだものが再び書き込まれないように、仕組みを検討する。たとえば、書き込んだ個体データのファイルは、リネームするなど。\n- 現状は、大元からコピーしたファイルを書き込んで、書き込み後、それをnull埋め（消去）している。大元をコピーすれば、また書き込むことができてしまう。\n- 電源の瞬断などで書き込みに失敗することが、ごく稀にある。なのでその時にやり直せる仕組みであるとよい。\n- 現状、大元のデータは、暗号化された状態でPCに保存されており、バーコードリーダーアプリで都度復号化している。これについては大西さんに確認する。そこまでする必要があるかどうか。\n- 書き込み後、Verifyする。OKだったら次に進む。\n  - QrioKeyは、暗号化した個体データがPCに入っていて、\n  - PCにログインするには、椛沢さんと関さんの2人だけにしてもらっている\n  - 人の出入りがわからないので、より厳しくした、というのが理由か。\n    - 協力工場の様子もわからないので、厳しくしたいのでは。\n      - では、誰がPCにログインできるのか？\n        - 場所とWorkerは協力工場だが、管理はヘルツさんが全面的に行う。管理者はまだ決まっていない。椛沢さんか関さんか、それとも他の人か。決まったら連絡する。二次試作の前に決める。\n  - トータルで考えて検討する\n    - 工場の管理体制は二次試作の前には話はできる。暗号化の話もあるので、早めに決めるべし。お盆明けくらいに話ができそう。それを踏まえて、暗号化するかどうかも決める。\n\n---\n### 工程検査\n\n#### 検査内容\nQrioで実装いたします。Q-H1の時は、LED/ボタン動作確認、Wi-Fi接続確認、BLE接続確認、でした。\n\n#### プロセス\n組み立て完了後、治具は使えない。そのため次のプロセスで確認する。\n\n- 途中まで組み立てる\n- 蓋を閉じる前に、FWだけ焼く\n- 工程検査する\n- 合格したものだけ、個体データを焼く\n\nQrio Key と並行して作業することになるが、無線環境的に大丈夫か？\n・問題ないと思われる。\n\nルーター（市販のもの）も、ヘルツさん + NT電子さん+ 予備 の3台、Qrioが用意する。\n検査に使用するロックも、ヘルツさん + NT電子さんの分が必要。\n\n作業が並行する場合、たとえば3つのハブが1台のロックに接続しにいくことになる。これについては検討する。タイミングがかぶると接続に失敗するので。たとえばconnectに成功したらすぐdisconnectする、など。\n\n組み立て前、組み立て後にそれぞれWi-Fi・BLEの接続確認を行うが、そこで（特にBLEの）接続が重複する可能性がある。接続の確認には、あまり時間がかからないようにしたい。そのため、検査の実装を工夫する。つくってみて5台くらい並べて試してみて、どれくらい時間がかかりそうか。わかったらヘルツさんに共有する。\n\nヘルツさんとNT電子さんで使用するロックは別のデバイスになるので、FWに埋め込むBDAとか、検査時の接続も工夫して実装する。\n\n検査に使用するルーターは市販のものだが、SSID・パスワードはFWに直書きしておく。壊れた場合も、SSID・パスワードを直書きしたものにしてもらえれば、接続可能。\n\n### 管理責任者\n今回も、椛沢さん、関さん。\n\nNT電子の管理体制は二次試作の前（お盆明けぐらい）に決める（椛沢さん）\n→それをもって、どこまで暗号化するか決める\n\n---\n### 一時試作機\n10台くらいまでなら準備できる\nQrioで必要な台数がわかれば、それも含めSNCに送ってくれる\nQrioは5台必要。ソニーも5台でOK\n7/24着で発送してくれる\n\nそれに書き込むFW + 15台分の個体データを、来週月曜中にヘルツさんにお渡しする。\nstgで使えるロックを今日渡す。\nstgのDBに、15台分の個体データを追加して、stgで使用できるようにする。\n\n工程検査モードの入り方をそろそろ決めたい\n\n---\n### その他\nセットの数は、Qrioの希望する生産ペースに合わせて変動する。\nQrioがセット数を決める。\n\n\n#### スケジュール\n8/2 手順書Fix\n8/9 PC,バーコードリーダーをヘルツさんに渡す\n8/21 FW FFリリース（日程はこれでよいが、FWはできれば早めにお渡しする）\n9/4 PC FFリリース\n9/10 Betaリリース\n9/20 二次試作　納入\n\n\n\n\n# Dev MTG 2019/7/16\ncreated_at:Mon Jan 19 1970 11:14:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:14:19 GMT+0900 (日本標準時)\nDev MTG 2019/7/16\n[https://storage.tenki.jp/storage/static-images/suppl/article/image/1/13/130/13021/1/large.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t正社員募集中\n\t\tWantedly+リクナビHRTech\n\t\t\tサーバー\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n 深澤 引き継ぎ始めます\n \tアカウント、パスワード、ドキュメントなど色々あり\n \t1pass, lastpass, bitwarden\n \t 共有できる\n \t revokeできる\n \t read-only\n \t マスクして使える\n \t モバイル対応\n \t ブラウザ拡張機能で使える\n \t https://zakupika.com/archives/1531 bitwardenいいらしい\n \t lastpassは過去に流出事故があったので現状気になる\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO [* 進行なし]\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  NASTA [* 進捗なし]\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\t\t先週、高橋さん＆山川さんで話に行った\n \t\t\t\tQrioの開発チームは作業無いかも\n \t\t\t\t集合玄関、もっと安くしろと言われた\n \t\t\t\tビジネスのボールはNASTA持ち、案件確度高い\n \t\t\t\t開発の座組は山川さんにてボール持ち\n \t\t\t\tHWの開発はQrio/Sony、開発費はNASTA持ち、HWの権利はQrioが持てる\n \t\tphase1ではQrio Keyのビーコンを読み取って開ける形になりそう\n \t\tいきなりphase3まで作るか検討中\n \tコクヨ [* 進行なし]\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\tSNCから2つの提案あり\n \t\t\tAIHGW(a.k.a. Helios, MANOMA) の通信で、PubNubのような動きをするサーバーを作る。\n \t\t\t\tメッセージのやりとり、または翻訳をする\n \t\t\t\tPubNubを使わないのはなんでか。お高いから。\n \t\t\t\tSL2アプリに、BLE <-> Hub <-> AIHGW の切り替えが必要\n \t\t\t\t\tもうちょっと考えたらいらんかもしれないが、検討\n \t\t\t\t\tSL2アプリからMANOMAを叩くのは厳しそう\n \t\t\t\t\tMANOMAからAPI(ekey取得/ログ登録など)を叩くのが良さそう\n \t\t\t\t\t\tこのパターンではSL2アプリからMANOMAは見えない\n \t\t\tekeyをAIHGWに内包してあけるパターン\n \t\t\t\t工数少なそうだが、ログのアップロードなどで、データの正確性に不安がある\n \t\t[MANOMAまとめ(随時更新)]\n \t\tAIHGWにQrio Hub機能 or Qrio Key機能を入れたい\n \t\t\tHub FWの解施錠部分の切り出し中[takeuchi.icon]\n \t\t\t\tCentralモードの、以下を切り出しました。\n \t\t\t\t\tPubNubのJSONパーサー\n \t\t\t\t\tED25519のライブラリ\n \t\t\t\t\tロックコマンドシーケンス、コマンド生成\n \t\t\t\t\tコマンドレスポンス用APIのURL生成\n \t\t\t\tWi-Fi/BLE部分はI/Fだけ切りました。タイムアウトなども外から調整できるようにしました。\n \t集合玄関 [* 進捗なし]\n \t\t8月に経営会議通す予定\n \t\t設計構想の準備\n \t\tリリース判定までのスケジュールを検討する\n \tアプリのSDK化\n \t\tOYOに向けて出せるかもしれないので、検討している\n \t\tプロトコル公開のほうがラクじゃないか\n \t\t既に社内で使用しているライブラリを外部公開するだけならよいのでは?\n \t\t カスタマイズはしない\n \t\t消失した(Pending)\n\n[** Joker (ymtk、深澤、竹内)]\n\t動きなし\n\t販売開始は2021年？渡辺さんより、2020年中に縮めたいとの話あり\n\n[** Castle (ymtk、三上)]\n\tWebアプリ(三上さん)\n  三上\n  \tpresence\n  \t GraphQLのフィルター完了\n  \t なんか死んでるの多い　50/63ぐらい死んでる\n  \t パラメータ調査、調整\n  ymtk\n  \t今週はリリースなし週。\n\t  \t[##Castle 未解決・対応中の項目管理]\n \t \t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み( ˘ω˘)\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応 (komai)\n\t　ログpushする機能作った\n\t　削除系、足りない更新系が増えたのでその実装\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\tsirius-api (mikamix)\n\t\t[Sirius-console向けapi整理]\n\t\tgroup関連やっていく -> おわってた\n\t\tpostmanまわり\n\t\tいろいろやる\n\tWebフロントUIは要件詰めました。フロント担当調整完了?→完了しました[ymtk.icon]\n\t\t適宜フロントメンバーをフォローしています。ブランチの運用を結構整理中\n\t\t今月下旬からSQA開始予定\n iOS (hiro)\n \t一通りSQA終わった\n \tSQA対応中\n \t申請に向けた雑務対応中\n Android [fukazawa.icon]\n \tSQA実施中\n \tエラーハンドリングなど、細かい残件を対応中\n[sirius-king api mtg 7/16]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa\n  amazonに結果解釈確認中。目黒行ってきます。[ymtk.icon]\n\n[* API (駒井)]\n　招待周り、apiドキュメントの更新必要[ymtk.icon]\n 　塩漬け\n and hostelさんにAPI提供する話が回ってきた(2019/7/9)\n \tどんなことをしたかレクチャーする[fukazawa.icon]\n\n[* CU (深澤、竹内)]\n\tiOS版\n\t\tApple Watch Series 2でアプリが使えない問題[fukazawa.icon]\n\t\t\twatchOS 5.3 beta4で改善を確認したため、一旦待ち\n\n[* Hub (King) (竹内)]\n（進捗なし）\n・Codeshipの権限を追加したい\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n実装\n\tMANOMA用切り出し\nハブの接続をHTTPS -> HTTPにしたい（進捗なし）\n\t詳細は[Dev MTG 2019/7/9]を参照。リスクアセスメントやってからにする。\nPubNub → GCPへの移行検討\n\t現在、アクティブなハブは約10000台。\n\t移行すると、$3000/月（= 1台当たり$0.3/月） → $0.22/月に。\n\t内訳: https://github.com/qrioinc/guardian-esp32/issues/25##issuecomment-511672499\n\t\t移行開発必要な対象→King（サーバ、アプリ、ハブ）、Castle（Hub生死判定）、Alexa（Hub生死判定）あたり\nその他\n\t工場検査について、具体的な作業内容や誰が作業するのかなど、大西さんと話をしてまとめる（今日）\n\t\t話しました。ヘルツさんにも情報共有中。\n\tCoverity環境構築もやりたい（進捗なし）\n\tWi-Fiルーター接続互換性評価（進捗なし）\n\t\t委託はせずQrioでやる\n\t\tルーターも自前+QaaSさんで準備。回線はworking spaceなどどっかで借りる\n\t\t\tQaaSさんのルーターは3種類しかなかった。\n\t\t\tQrio内にあるもの＋購入検討\n\t\t検証は、FWも含めた形で9/2(月)から実施する\n\tWi-Fi/Bluetooth SIG認証\n\t\t進行中。あとは待つだけ。[ymtk.icon]\n\n[* Guardian 製造・制作系 (ymtk)] \n Wi-Fiモジュールの電波飛びfix。\n 一次試作完成（メカ）\n\n[* Guardian セキュリティ(チャン)] [* 進捗なし]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   \t資料もらった\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon]\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android(stgに反映済み)/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよい？\n \tGuardianのシリアルは2xxxxxxxとする予定（大西さんにも確認済み）\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n Q-SL1 Android\n \t最近のAndroid Wear端末でアプリがインストールされない問題\n \t\t調査中　今週中に見る\n\n[** 情報システム (チャン)] [* 進捗なし]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n Twilioの会社情報の更新\n \t7/30までに代表者(渡辺さん)の顔写真入の身分証明書を用意して出す\n \t11.21まで\n \t連絡きた、集会来いと言われた\n \tどこに何を提出すればよいか確認中\n 1passwordの導入\n \tいいんじゃなかろうか\n \tOKTA、LastPassあたりが良さそう？\n \tすいません日本語たいおうしてないかも\n \tエンジニアもパスワード管理(シングルサインオン)ツール使いたいです＞＜\n\n[** QaaS(チャン)]\n 7月中旬でチャンさんが交代\n フオンさん来ました\n\n[** CSへのテクニカルサポート(チャン)] [* 進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tr-tadaimaいつ止めるのか？\n\n[** 健忘録]\n\tNode.js デザインパターン会社で買いました[ymtk.icon]\n\n# c-team定例 19/7/16\ncreated_at:Mon Jan 19 1970 11:14:02 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:14:11 GMT+0900 (日本標準時)\nc-team定例 19/7/16\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/zawa/knarita/takeuchi/ymtk/ichikawa/\n\n欠席\nnakano\n\n前回\n[c-team定例 19/7/08]\n\n[*** アジェンダ]\n\tお試しキャンペーン詳細\n\t\t販売に繋がる部分の確認\n\ttk案件\n\t\t[https://gyazo.com/9d83267fa43c562bf0c375a469ca90e1]\n\t施策検討\n\t\t雑談\n\t\t\tテラスハウス\n\t\t\tアルタ前\n\n[** 各種共有]\n\tプライムデー\n\t\tQ-SL1 売れ筋1位。増税前刈り取りキャンペーンしましょう。\n\tお試しとペパクラとの違い\n\t\tそもそもの価値が分からない vs つけば買う\n\n[** 施策カレンダー]\n[https://gyazo.com/15b117f4ccab46034b4b1325e7148474]\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n[*** NEXT]\n\txxx\n\n--- // 以下前回\n[*** アジェンダ]\n[* Web分析 現状]\n\tご意見BOX定期パトロール\n\t\thttps://docs.google.com/spreadsheets/d/1XsNs7j6VKcvf6dGgJxbD_xwRmZKyNQkKo8DasivLNvQ/edit##gid=11165844\n\tGA 振返り\n[https://gyazo.com/352324b94f6ccb6bfff71b71a0455a78]\n\n\tSB C&S ざっと共有\nhttps://docs.google.com/presentation/d/1cDM_82OBoxgpmc1MBTfVxjjEl7NBvTVC1RxNHDz3aW0/edit?usp=sharing\n\n[* 「限界利益と損益分岐点について」 by.竹端さん]\n\t15分で分かる限界利益\n\n[* 宿題]\n[* ①訴求内容]\n\t\tおもしろバズコンテンツ×1人1案\n \tすぐ売れるセールストーク×1人1案\n \t nakano   https://docs.google.com/presentation/d/1mUDLpmVvS2wEiUP5kt1JgkaVD3qKDXuNXpJ5Oudtj0c/edit?usp=sharing\n[* ②具体的施策]\n\t\t①が終わり余力があれば\n\nマユトさんの恐怖訴求について\nhttps://www.notion.so/de914fb26c504819b19eb076e87fafca\n\n→ 意識換え施策とする。\n\tスマートロックを欲しくなる、興味を持ってくれるためのきっかけ\n\t\t何のコンテンツを届けるのか？\n\t\t\tQrio Lockが他と違うところ → やってる\n\t\t\t\t対、競合\n\t\t\tスマートロックってなにが嬉しいの？ → これから更に\n\t\t\t\t対、他の手段\n\t\t\t\tお試しCPNとセットで出したいね\n\nちなみに、YKK APのスマートドア\n比較的満足度の高い記事ばかり引っかかる\nhttps://www.ykkap.co.jp/company/japanese/news/2013/20130610.html\n\t¥189,000〜\n\t\t上記は、あくまで電気錠のみの最安価格\n\t\tさらに要望によって以下の追加費用かかる\n\t\t\tカギの費用\n\t\t\tドア自体の費用（20万前後）\n\t\t\t10年点検（有料）\n\t\t\t\t建材エクステリアとして40万乗っかっても、感覚麻痺して買うかもね\n\t\tこれと比較したら、Qrio Lockは当然安い\n\n\n[*** 施策一覧の確認]\n\tお試しCPN\n\t友だち紹介\n\ttk案件\n[https://gyazo.com/9d83267fa43c562bf0c375a469ca90e1]\n\n[** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n[* 認知施策]\n\t実演販売\n\t\t認知最大○\n\t\t\tやるなら認知→興味に比重おいた方が良い\n\t\t実売最大△\n\t\t\t凄腕雇っても1日5〜10台\n\tコンテンツマーケなどのバズ狙い\n\t\tsesameなどの競合対応\n\t\t習慣を変える何か\n\t\t\t【ex】電動歯ブラシと歯ブラシの違い\n\tSB売り場づくり（スマートホーム ）展開中\n\t\tロックも入ってるので、スマートホーム 関連製品の認知獲得はできそう\n\t\t東新宿、新宿南口側のヤマダ電機\n\t懸賞サイト\n\t\t懸賞という軸で、リードを獲得することができる\n\t\t大手（試供品関係）→費用対効果は高いと言われている\n\t\t\t40〜50代の女性多そう\n\n認知→興味の施策はROI証明が若干むずいので、\n購入につなぐシナリオで考えるべきでは？\n\n\t瞬間的（30分くらい）に売れるトークを我々が持っていないといけない\n\t\t①見せられる状態を作る\n\t\t\tどのタイミングどんなイメージ訴求で行くか緻密に設計する\n\t\t\t\tただし、Qrioがメインで伝えたい根幹はベースに置いとくべき\n\t\t②チャネルや施策などはそこから考える\n\tすぐ売るなら恐怖訴求（リスクの提示）が一番しっくりくる by kokichi\n\t\t【ex】電動歯ブラシなら20〜30代の6割は歯周病\n\t\t【ex】AGAはそもそも脱毛止めないと、育毛治療しても意味がない！\n\n\tスマートロックでいう恐怖訴求（リスク）は？\n\t\tカギの紛失年間6000件（仮）\n\t\t\tカギシリンダーごと変えるのに3万\n\t\tカギを施錠しててもピッキングしたら15分で解錠できちゃうよ\n\tかつ、直近不法侵入などの被害受けた著名人に言わせると共感を生む\n\t\t高須院長\n\tIoT製品界隈の会社同士で褒めるコンテンツ\n\t\tスマートロック業界同士でで褒めるのはリスクと限界がある\n\t\tA社がB社を褒める→B社がC社を褒める→C社がA社を褒める\n\t\t\t最終的に自社製品を薦めている\n\n##toC #定例 #議事録\n\n# Dev MTG 2019/7/9\ncreated_at:Mon Jan 19 1970 11:03:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:10:26 GMT+0900 (日本標準時)\nDev MTG 2019/7/9\n[https://storage.tenki.jp/storage/static-images/suppl/article/image/1/13/130/13021/1/large.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t正社員募集中\n\t\tWantedly+リクナビHRTech\n\t\t\tサーバー\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO 進行なし\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  NASTA\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\t\t先週、高橋さん＆山川さんで話に行った\n \t\t\t\tQrioの開発チームは作業無いかも\n \t\t\t\t集合玄関、もっと安くしろと言われた\n \t\t\t\tビジネスのボールはNASTA持ち、案件確度高い\n \t\t\t\t開発の座組は山川さんにてボール持ち\n \t\t\t\tHWの開発はQrio/Sony、開発費はNASTA持ち、HWの権利はQrioが持てる\n \t\tphase1ではQrio Keyのビーコンを読み取って開ける形になりそう\n \t\tいきなりphase3まで作るか検討中\n \tコクヨ 進行なし\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\t[MANOMAまとめ(随時更新)]\n \t\tSTBにQrio Hub機能 or Qrio Key機能を入れたい\n \t\t\tロックたくさん売れるようになる\n \t\t\tSTB側の開発はSNC\n \t\t\tHub FWの解施錠部分の切り出し中[takeuchi.icon]\n \t\t\t\tCentralモードの、以下を切り出しています。もうすぐ終わります\n \t\t\t\t\tPubNubのJSONパーサー\n \t\t\t\t\tED25519のライブラリ\n \t\t\t\t\tロックコマンドシーケンス、コマンド生成\n \t\t\t\t\tコマンドレスポンス用APIのURL生成\n \t\t\t\tWi-Fi/BLE部分はI/Fだけ切りました。タイムアウトなども外から調整できるようにしました。\n \t集合玄関\n \t\t8月に経営会議通す予定\n \t\t設計構想の準備\n \t\tリリース判定までのスケジュールを検討する(明日)\n \tアプリのSDK化\n \t\tOYOに向けて出せるかもしれないので、検討している\n \t\tプロトコル公開のほうがラクじゃないか\n \t\t既に社内で使用しているライブラリを外部公開するだけならよいのでは?\n \t\t カスタマイズはしない\n\n[** Joker (ymtk、深澤、竹内)]\n\t動きなし\n\t販売開始は2021年？渡辺さんより、2020年中に縮めたいとの話あり\n\n[** Castle (三上、hiro)]\n\tWebアプリ(三上さん)\n  三上\n  \tpresence\n  \t GraphQLのフィルター完了\n  ymtk\n  \t今週はリリースあり週。\n  \t\tHubエラーの収集api（viewはまだ）\n  \t\t入居後ファミリーキーが作られているのかの表示\n  \t\tその他パッケージアップデートに関わる修正\n\t  \t\t[##Castle 未解決・対応中の項目管理]\n \t \t\t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み( ˘ω˘)\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応\n\t　ログpushする機能作る\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\tsirius-api\n\t\t[Sirius-console向けapi整理]\n\t\tgroup関連やっていく\n\t\t名前変える?\n\tWebフロントUIは要件詰めました。フロント担当調整完了?\n\t\t成田さんとは契約完了\n\t\tフロント2名はNDA→契約締結中\n\t\t今月下旬からSQA開始予定\n iOS\n \t一通りSQA終わった\n \tSQA対応中\n \t申請に向けた雑務対応中\n Android[fukazawa.icon]\n \t正常系は一通り動いた\n \tエラーハンドリング、FWアップデートなど、細かい残件を対応中\n \tSQA始まった\n[sirius-king api mtg 7/2]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa（進行なし）\n  今月中に時間つくって進めます。今はCマーケ施策優先\n\n[* API (駒井)]\n　招待周り、apiドキュメントの更新必要[ymtk.icon]\n 　塩漬け\n and hostelさんにAPI提供する話が回ってきた(2019/7/9)\n \tどんなことをしたかレクチャーする[fukazawa.icon]\n\n[* OYO界隈(ymtk)]\n（前回までのシステムアーキ関連の話は [Dev MTG 2019/5/28] を参照）[takeuchi.icon]\n\n[* CU (深澤、竹内)]\n\tiOS版\n\t\tApple Watch Series 2でアプリが使えない問題[fukazawa.icon]\n\t\t\twatchOS 5.3 beta4で改善を確認したため、一旦待ち\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\n実装\n\t報知仕様をymtkさんと決めて、実装もだいたい終わった\n\t接続失敗時のリトライ調整とか、細かい部分の修正中\nハブの接続がちょっと遅い？\n\tHTTPS -> HTTPにすると早くなる\n\tking-apiを修正したい。詳細: https://github.com/qrioinc/king-api/issues/566\n\t市場の現行ハブにも影響あり。HTTPでも動作はする（むしろ早くなり、安定する）\n\tGuardianのFWで、HTTPSを使わないような実装をすることもできる\n\t\tAPI側での対応は問題なし\n\t\tソニーのセキュリティアセスメントをパスできるかどうか\n\t\t\t秘匿な情報を扱っていないことが証明できれば、ソニーのセキュリティガイドラインをパスできるかも\n\t\t\t正しいサーバーであることの確認\n\t\t\t\t仕組み上、ユーザーが直接URLを改ざんすることはできない\n\t\t\t\tDNSを乗っ取られて向き先を変えられる可能性もあるが、そのネットワークに入る必要がある\n\t\tHTTPSを止めることのメリット\n\t\t\tルート証明書の更新対応が不要になる\nその他\n\t工場検査について、具体的な作業内容や誰が作業するのかなど、大西さんと話をしてまとめる（今日）\n\tCoverity環境構築もそろそろ、と思っているのですが、WindowsPCは購入済みですか？　チャンさん\n\t\t買わない方針になった\n\t\tMac miniでよしなに実施\n\tWi-Fiルーター接続互換性評価（今週進捗なし）\n\t\t委託はせずQrioでやる\n\t\tルーターも自前+QaaSさんで準備。回線はworking spaceなどどっかで借りる\n\t\t検証は、FWも含めた形で9/2(月)から実施する\n\t\t\t今週〜来週SQAが空いているので、やってもらえませんかね。。[takeuchi.icon]\n\tWi-Fi/Bluetooth SIG認証\n\t\tソニーグループ内でやると安い、手続き中(ymtk)\n\n[* Guardian 製造・制作系 (ymtk)] \n 取説についていくつか疑問点が出てきたので相談。判型も変形からA4へ戻す\n 報知について竹内さんに企画相談済み\n\n[* Guardian セキュリティ(チャン)] [進捗なし]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   \t資料もらった\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Guardian(Hub4M)を登録出来ないようにする対応中[takeuchi.icon]\n \t対象アプリ\n \t\tQ-SL1 Android/iOS\n \t\tQ-TK1 Android/iOS\n \t\tカギカン1 Android ←間もなく終了なので対応不要でよい？\n \tGuardianのシリアルは2xxxxxxxとする予定（大西さんにも確認済み）\n \tGuardian非対応のアプリはシリアルで弾く(2000000<=serial_id<9000000を登録不可とする)\n Q-SL1 Android\n \t最近のAndroid Wear端末でアプリがインストールされない問題\n \t\t調査中\n\n[** 情報システム (チャン)] [進捗なし]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n Twilioの会社情報の更新\n \t11.21まで\n \t連絡きた、集会来いと言われた\n \tどこに何を提出すればよいか確認中\n 1passwordの導入\n \tいいんじゃなかろうか\n \tOKTA、LastPassあたりが良さそう？\n \tすいません日本語たいおうしてないかも\n \tエンジニアもパスワード管理(シングルサインオン)ツール使いたいです＞＜\n\n[** QaaS(チャン)]\n 7月中旬でチャンさんが交代\n\t\tフオンさん、明日に山川さんと顔合わせ\n\n[** CSへのテクニカルサポート(チャン)] [進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tr-tadaimaいつ止めるのか？\n\n[** 健忘録]\n\tymtk開発系引き継ぎ[ymtk.icon]\n\t\t8-9月でやる予定。10月はほぼbiz遊軍やHRまわりをやるを想定\n\n# Sirius 全体dev mtg 19/7/12\ncreated_at:Mon Jan 19 1970 11:08:18 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:08:33 GMT+0900 (日本標準時)\nSirius 全体dev mtg 19/7/12\n[https://gyazo.com/4a5067a6f9dcc71ddee2fa192ffbf6ff]\n\n[** 進め方]\n定例とch\n\t毎週金 1500-1530\n\t`##sirius-dev`\n\tPM: zawa\n\n[*** 状況]\n[* 今週]\n\ntopaz2\n 請求書決済 実装\n \t決済用CSVダウンロード\n \t\tstaging 環境待ち　調整中(来月中頃までかかりそう)\n \t\t\t現状イキで進めてくださいませ[ymtk.icon]\n クロスモール連携メール送信\n \t本番環境しかないため ymtk さん確認待ち　調整中(まだ全然)\n \t\t現状イキで進めてくださいませ[ymtk.icon]\n 利用者招待フロー実装\n \tFE/BE\n マネージャー招待フロー実装\n \tFE/BE\n フロント実装サポート\n\nzawa[fukazawa.icon]\n\tBCU Android\n\t\t不具合対応中　来週中に終わりそう\n\t\t\tUI+エラー表示\n\t\t\tハブ\n\t\t\t1ドア2ロック　など\n\tConsole\n\t\tFrontの2名に追加のロック1台を貸出済\n\tSQA\n\t\tBCU iOS: 走行完了、不具合対応中\n\t\tBCU Android: 走行中、不具合対応中\n\t\tConsole: 7月下旬開始予定\n\nnarico [narico.icon]\n\t-v XDデザイン修正\n\t-vo フロントやり取り\n\t\t進捗確認など\n\t\thttps://docs.google.com/spreadsheets/d/1mo-Xc81SOERe8UEUHlT8sX4RvQ5mglDENxG-ZNHJwpQ/edit##gid=537700958\n\t\t見積りベースの資料に進捗を反映している\n\t\t\t後ほど展開\n\t\t-o 業務委託契約書の件\n\t\t\t6末時点とかのPDFを出力してそれに基づいた契約にする\n\t\t\t二人に確認中　→　確認取れました。\n\t-o 支払い履歴やってなかったので作る\n\t-o 合鍵の招待ログイン画面、完了画面、XD作っとく\n\t\thttps://xd.adobe.com/view/c18f95ed-170a-4b62-6114-08e7a4c62429-b7be/screen/9f5b29ed-0cd3-47b8-bc57-0c11dc757e91/-keyshare-signin-\n\t\tQrio Lock っぽい方が良い？\n\tSQA\n\t\t下旬に開始できるように進めている\n\tAPIどこ向いてるのか確認する\n\t\tPostman向いてるようだったらstg向けてもらった方が良い\n\nkmi[komai.icon]\n https://github.com/qrioinc/king-api/issues\n logのwebhook機能実装\n \t設計中\n \t来週にはPOSTまで作成予定\n \thttps://qrioinc.slack.com/archives/CE92MUPDY/p1559284179004200\n \t上記urlのログをwebhookでpostする\n \t\t今日中にStaging目標\n 本番auth0の整備\n\nhiro[h.yamaguchi.icon]\n\tv: ロックを初期化するときに解施錠履歴が消えるので、その警告をする？\n\t\t[ymtk.icon]さんに文言を共有してもらって実装した\n\t\tAndroid側にも伝達済み\n vo: QA対応 \n\tvo: 申請周りの作業\n\tvo: WebView周りのリンク対応\n\t\tプラポリ：https://qrio.me/privacy?i=appView\n \t利用規約：作成中(7末くらいまで)\n \tヘルプ :  https://help.kagican.jp/\n \tヘルプ  + ハブが見つからない時 川上さんに依頼済み\n\tvo: アイコン\n\t\t8/10までに作ってもらえるように依頼した\n\tvo: 本番のエンドポイントを西川さんへ確認\n\t\t7月下旬(20日くらい)までに作ってもらえるように西川さんに依頼\n\t!: bcuのアクセストークンの有効期限を決める\n\t\tauth0の有効期限とsiriusサーバーのセッションの有効期限がある認識\n\t\tauth0の有効期限を一ヶ月にしてsiriusサーバーの方は二ヶ月くらいにするのはどうだろう。auth0の方を短くしておけばアプリはそちらのハンドリングしかしなくて良いのでラクです[h.yamaguchi.icon]\n\t\t\tOK\n\t!: アクセストークン失効時のアラートの文言を決める\n\t\t現在: `利用期間外になりました。\\n管理者に利用期間を確認し、ログイン画面から再度ログインをお願いします。`(castleそのまま)\n\t\t\tSiriusで期限を管理者が設定する概念はないので、こちらでいかがでしょう。[ymtk.icon]\n\t\t\t\t`セッションの有効期限が切れました。お手数ですが、ログイン画面より再度ログインをお願いします。`\n\t\t\t\tちなみに、アカウント削除されてもセッションは維持されて、中身に何も出てこないだけですよね確か。期限切れたらログインできなくなる。\n\nymtk [ymtk.icon]\n\tv: ビジネス系進行中。代理店とのコミュニケーションも開始\n\t\t初月無料\n\t\t¥7,980/台、1ドア2ロックの場合は別価格\n\t\t消費税の扱い注意\n\tv: サイトはミギウデさんと修正する予定\n\to: フロント契約の契約書確定\n\t!: 本番環境そろそろ作りますか？auth0も。\n\t\tconsoleのDNS設定だけ先んじてやりました。証明書も取ってます。\n\t\t\tapp.kagican.jp (まだアプリケーションありません)\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tWebアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\n[** その他気になること]\n\tカギの招待周り[ymtk.icon]\n\t\thttps://docs.google.com/presentation/d/1z1t45MfxaSetzUCa0U-8My47QqAJEK_TFx3-Pf67ddE\n\t合カギ招待周りのつなぎこみ [narico.icon]\n\t\tAuth0に招待するの結構リスクでは\n\t\tログイン画面とか必要な画面はこちらで作る\n\t\t\tルーティングはなんでも良さげ\n\t\t繋ぎこみはBCUとか絡みが複雑なので社内でやった方が良いんでは（誰がというのはわかる\n\t合カギ招待、西川さんにて仮組み開始\n\t\t画面は来週中にできそう[narico.icon]\n\t\t画面できた\n\tBCU Hub FWアップデート\n\t\tCastle BCUではファミリーキーを配るためCUでアップデートできるが、Sirius BCUではゲストキーを配るためCUではアップデートできないため、BCUへの機能追加が必要かも\n\t\t(API経由で)Webから実施可能なため、実装不要[ymtk.icon]\n\t本番環境を7/20頃に何卒お願いしますmm[fukazawa.icon]\n\n# Castle 未解決・対応中の項目管理 / released\ncreated_at:Mon Jan 19 1970 10:35:11 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:08:26 GMT+0900 (日本標準時)\nCastle 未解決・対応中の項目管理 / released\nリリース前\n[Castle 未解決・対応中の項目管理]\n\n[*** 7/10追加機能（リリース済み）]\n 合カギを受け取ったリストが一覧で表示されてくる　→7/8 Dev修正確認済み[yamada.icon]\n　　要望：1件もない場合に利用中の合カギはありませんと表示してほしいNo269　→7/8 Dev修正確認済み[yamada.icon]\n　空室時と入居時の画面だし分け　→7/10 Dev修正確認済み[yamada.icon]\n　　空室中　\n　　　カギ発行タブ　→電話カギ発行の表示のみ\n　　　空室・入居モード切り替えタブ　→入居モードの切り替えが表示していることを確認（空室の切り替えは非表示になっています）\n　　　空室から入居モードに切り替えが行えることを確認\n　　入居中\n　　　カギ発行タブ　→合カギ発行の表示のみ\n　　　空室・入居モード切り替えタブ　→空室の切り替えが表示していることを確認（入居の切り替えは非表示になっています）\n　　　合カギ作成を行い、合カギの一覧が作成順で表示されていることを確認\n　　　入居中から空室に切り替えが行えることを確認 \n\n[*** 6/26追加機能（リリース済み）]\n■グループ、ユーザー、建物・部屋登録削除関連\n　要望：グループ登録とユーザー登録の恵比寿令子(ebisu@example.com)が重複しているので、新宿慶吾（shinjyuku@example)としてほしい。\n　\tこれsjisもあるのでなかなかのやつでしたね[ymtk.icon]\n　\t6/21 対応しました[ymtk.icon]　→修正確認済み[yamada.icon]\n　要望：グループの新規登録画面で、親グループを作ることは出来ません。子グループを作っています。という注釈をいれてほしい。No244\n　\t　6/20 対応しました[ymtk.icon]　→修正確認済み[yamada.icon]\n　要望：アカウント紐づけの画面で、スマートロック、ハブのいずれか、またはその両方の機器が未設定の部屋\n　　　「スマートロック」→「ロック」と表示して統一したい。No243\n　　　\t6/20 対応しました[ymtk.icon]　→修正確認済み[yamada.icon]\n　要望：部屋削除が行えるようにしたい　No245\n　　　空室中であれば削除できる。とか機器が登録されていなければ削除できる。など\n　　　\t空室中mustですね。ロックやカギの初期化も必要（実質、部屋リセットの処理も入る）。[ymtk.icon]\n　　　\t\t6/24 対応しました[ymtk.icon]　→修正確認済み[yamada.icon]\n 要望：部屋リストに部屋が1件もない場合、「部屋が登録されていません。」とテキストを表示してほしい　No264\n \t6/25 対応しました[ymtk.icon]　　→修正確認済み[yamada.icon]\n\n■親子権限関連\n　子グループの建物リストを親グループからも参照できるようにしたい。No172 / 山田さん要望\n　\t6/20 対応しました[ymtk.icon]　→修正確認済み[yamada.icon]\n　\t\thttps://github.com/qrioinc/castle-api/pull/261\n　建物グループの変更で、変更する→キャンセルボタンを押すと、変更が実行されてしまう。　No254\n　\t6/19 対応しました[ymtk.icon]　→修正確認済み[yamada.icon]\n　\t\thttps://github.com/qrioinc/castle-console/pull/406\n　子グループの建物で、親グループのユーザーが子グループの電話カギを発行したときに操作履歴のユーザー名がハイフン（－）表示になっている。No258\n　\t6/21 対応しました[ymtk.icon]　→修正確認済み[yamada.icon]\n　子グループマネージャーで作成した建物を親グループに移行した後に操作履歴を表示すると建物名が消えています　No262\n　\t6/24 対応しました\thttps://github.com/qrioinc/castle-console/pull/433　→修正確認済み[yamada.icon]\n　子グループの建物で設置アプリアカウントを親権限が作成して履歴を表示すると空白になっている　No251\n　　　設置アプリアカウントの表示権限とreqUser →修正確認済み[yamada.icon]\n\n■マイページ関連\n　要望：企業ごとに同じメールアドレスを登録できるようにしたい。起票している件になります。\n　\t6/19 企業が別ならメアドは別でも許される対応が入ります。（ログイン対応と合わせて反映済み）[ymtk.icon]　→修正確認済み[yamada.icon]\n ユーザーIDを「かな入力」で編集すると、ログイン時にエラーになってしまう。 No260\n \t6/24 倒しました[ymtk.icon]　→修正確認済み[yamada.icon]\n \t\thttps://github.com/qrioinc/castle-console/compare/hotfix/isse260?expand=1\n　ログインIDの編集で、11文字以上の変更が行えない。No256\n　\t6/20 10が正なので修正しました。[ymtk.icon]　→修正確認済み[yamada.icon]\n マイページから自分のアカウントのパスワードリセットを行うとundefinedと表示されてしまう。No255\n \t該当アカウントをお知らせください。オペレーターでも行ける設定にはなっています。[ymtk.icon]\n   6/20 修正しました[ymtk.icon] →修正確認済み[yamada.icon]\n  \thttps://github.com/qrioinc/castle-console/pull/411\n　子グループで建物・部屋を作成してから部屋を削除し、別の子グループへ移行すると移行前のグループに建物が表示されたままになっている。No266　→修正確認済み[yamada.icon]\n\n■アラート関連\n　アラート（1ドア2ロックのサブロック以外）の通知\n アラートが両方あって、先に電池なしを解決しようとしたときに削除するボタンが利かない。No263\n \t6/24 修正しました[ymtk.icon]　→修正確認済み[yamada.icon]\n \t\thttps://github.com/qrioinc/castle-console/pull/434\n　アラートがある状態で機器初期化を行うとアラートが削除できずCastleから初期化されていない　No265\n　\t6/25 masterにマージ済みです[ymtk.icon]　→修正確認済み[yamada.icon]\n\n■その他\n　要望：アカウント紐づけタブにある「※ 事前に「ホーム画面」>「設置アプリアカウント管理」から…」の「設置アプリアカウント管理」リンクを押下したときに、新しいブラウザタブで画面が開かれるのですが、同じブラウザのタブ内で遷移してほしい。No234\n　\t6/20 既に対応済みです[ymtk.icon]　→修正確認済み[yamada.icon]\n\n[*** 6/12 追加機能（リリース済み）]\n　IE11から建物・グループ・ユーザー登録でUTF-8のファイルをアップロードできない。SJISに変更してアップロードが可能になっている。No249\n　\t6/7 ブラウザ見てファイルだし分けるつもり。有効なファイルは山田さんより。[ymtk.icon]\n　\t\t6/11 倒しました[ymtk.icon]　→6/12 修正確認済み[yamada.icon]\n　\t\t\thttps://github.com/qrioinc/castle-console/pull/393/files\n Roomonのトップページにある検索ボックスから建物c-1を検索して建物から部屋を選択することが出来ない。No247\n \t6/6 対応しました[ymtk.icon]　→6/6 修正確認済み[yamada.icon]\n \t\thttps://github.com/qrioinc/castle-console/pull/388\n　操作履歴に日付とユーザー名は表示されていて、 操作内容が空白になっている履歴がある　No248\n　　電話カギの発行履歴で名前がないときに電話カギ(名前なし)と修正　→6/6 修正確認済み[yamada.icon]\n　要望：コードで検索するのが開発中面倒くさくてしょうがない\n　\t名前検索くらい入れたい[ymtk.icon]\n　\t\t6/6 かっとなって入れました[ymtk.icon]　→6/7 修正確認済み[yamada.icon]\n\n[*** 6/5 追加機能（リリース済み）]\n\t電話カギで解施錠履歴を残したい\n\t\tこれに紐付き、カギへ名前を付けられるようにする\n\t\t\t5/30 master反映済みです[ymtk.icon]\n\t電話カギの一覧がほしい&電話カギを消したい\n\t\t発行済みのものを確認し、必要に応じて削除したい（渡したけどすぐ取り上げたい、など）\n\t\t\t5/30 master反映済みです[ymtk.icon]\n\t設置アプリアカウントと建物との紐付けで必要なクリック数が多い\n\t\t5/31 ショートカット動線を追加[ymtk.icon]\n\t\t\thttps://github.com/qrioinc/castle-console/pull/372\n\tグループのリモート許可切り替え\n\t\t6/1 対応しました[ymtk.icon]\n\t\t\thttps://github.com/qrioinc/castle-console/pull/375\n　グループ編集（名前・権限・リモート許可）\n　\t6/2 対応しました。なお、親子の変更はしません。[ymtk.icon]\n　\t\thttps://github.com/qrioinc/castle-console/pull/379\n　設置アプリアカウントの削除\n　\t6/2 対応しました[ymtk.icon]\n　\t\thttps://github.com/qrioinc/castle-console/pull/382\n　ユーザー削除\n　\t履歴と一緒に対応（削除されたらリンクしない）\n　\t\t6/3 対応しました[ymtk.icon]\n　\t\t\thttps://github.com/qrioinc/castle-console/pull/386\n\t電話カギで解施錠履歴を残したい\n　　要望：電話カギ発行時にユーザー名を登録して、操作履歴にユーザー名を表示して欲しい。No218\n　　　電話カギ作成時にユーザー名を作成する→一覧に表示する→解施錠したら履歴にユーザー名を表示する\n　　\t対応中です[ymtk.icon]→5/30 確認済み[yamada.icon]\n　入居中の時、解錠を行うとリモート操作前の確認アラートの枠が黒くなってる（5/22以前までは赤でした）No217→5/30 確認済み[yamada.icon]\n　電話カギ印刷用紙のQrio Roomonの表示が中央から左寄りに変わってしまっている。5/22以降 CSSフレームワークのアップデート影響　No220→5/31 電話カギのみ対応済み[yamada.icon]\n　入居中のカギ印刷用紙のQrio Lockの表示が中央から左寄りに変わってしまっている。 No232→5/31 修正確認済み[yamada.icon]\n　設置アカウントシート印刷用紙のQrio Roomonの表示が中央から左寄りに変わってしまっている。No233→5/31 修正確認済み[yamada.icon]\n 古い電話カギを削除する時に、最後に作った電話カギが削除されてしまう。No228→5/31 修正確認済み[yamada.icon]\n　パスワードリセット時に、確認ダイアログ表示が出てくるようにしてほしいNo183\n　\t5/31 かっとなって対応しました[ymtk.icon]→5/31 確認済み[yamada.icon]\n　グループリストから遷移した画面のパンくずリストの名称をグループ詳細としてほしい No206\n　\t5/31 対応しました。[ymtk.icon]→5/31 確認済み[yamada.icon]\n　リモート解施錠で権限なしの時、この部屋は入居中です。入居中の部屋をリモート操作するには親グループによる許可が必要です。と記載されている（許可する編集する機能が無いため今は出来ない）No153\n　\t5/31 許可についての記載を外しました。[ymtk.icon]→5/31 確認済み[yamada.icon]\n　\t\t6/1 リモート切り替えをできるようにしたので、記載を戻しました[ymtk.icon]　→6/3 元に戻っていることを確認済み[yamada.icon]\n　ユーザーを作成するボタンが連打できてしまう No204\n　\t5/31 対応しました。[ymtk.icon]→5/31 確認済み[yamada.icon]\n　親オペと子オペのユーザーで部屋詳細の編集タブで編集するところまで行えてしまう。No200\n 　編集すると、GraphQL error: 入力値が正しくありません と表示されてくる\n　　入居・空室モード切り替えは権限がありません。と表示しているので合わせてほしい。\n　　\t6/2 権限なし表示にしました[ymtk.icon]　→6/3 修正されていることを確認[yamada.icon]\n　要望：部屋を追加するとき、既に同じマンションがあった場合に、操作履歴に「建物「恵比寿マンション」を作成しました。」と表示しないようにしてほしい。No213\n　\tこれは一癖ありますねー[ymtk.icon]→6/1 倒しました[ymtk.icon]\n　\t\tconsole（関連対応）\n\t　\t\thttps://github.com/qrioinc/castle-console/pull/376　→6/3 修正されていることを確認[yamada.icon]\n　グループ編集（名前・権限・リモート許可）\n　\t6/2 対応しました。なお、親子の変更はしません。[ymtk.icon]\n　\t\thttps://github.com/qrioinc/castle-console/pull/379　　→6/3 修正されていることを確認[yamada.icon]\n　要望：アカウント紐付けタブの名称を[* アカウント紐づけ]として表記を揃えて欲しい。No235\n　　6/3 倒しました[ymtk.icon]→6/3 修正されていることを確認[yamada.icon]\n　要望：設置する部屋タブで部屋が1件もないときの文言表記を[* アカウント紐づけ]として表記をそろえて欲しい　No237\n　\t6/3 倒しました[ymtk.icon]→6/3 修正されていることを確認[yamada.icon]\n　Mac+Safariで設置アプリアカウントを作成時に、日付の変更が行えなくなってしまった。　5/31以降に出来なくなった可能性有。No240\n　\t6/3 対応しました[ymtk.icon]　→6/3 修正されていることを確認[yamada.icon]\n　文言修正　UIテキストはやった[narico.icon]\n　　 リモート解施錠を行って、成功したときに送信しましたと表示されているが成功しました。の方が分かりやすいNo168\n　　 \t=> 成功の場合は「成功しました」　\n　　 　\t→5/7修正されていたことを確認\n　　 \t=> 失敗の場合は「通信に失敗しました」　に修正しました [narico.icon]\n　　　　　施錠の時：通信に失敗しました。GraphQL error: [* 送信]に失敗しました (1000002)\n     解錠の時：通信に失敗しました。GraphQL error: [* 送信]に失敗しました (2000002)\n     \t5/13 GrahQL側の対応します[ymtk.icon]\n     \t\t6/3 エラーメッセージ修正しました[ymtk.icon]\n     \t\t\tapi\n     \t\t\t\thttps://github.com/qrioinc/castle-api/pull/245\n     \t\t\tconsole\n     \t\t\t\thttps://github.com/qrioinc/castle-console/compare/feature/issue168?expand=1\n     \t　解錠しました。/　施錠しました。 [yamada.icon]\n     \t　施錠に失敗しました。GraphQL error: 施錠に失敗しました (1000002)　[yamada.icon]\n     \t　解錠に失敗しました。GraphQL error: 解錠に失敗しました (2000002)　[yamada.icon]\n　要望：部屋リストタブで、どの部屋にロックとハブが登録されているかを可視化したい　No238\n　\t6/4 対応しました[ymtk.icon]　→6/4 アカウント紐づけの画面に表示[yamada.icon]\n　\t\thttps://github.com/qrioinc/castle-console/pull/385\n　ユーザー削除機能 →6/4 修正されていることを確認[yamada.icon]\n　設置アプリアカウント削除機能　No48 →6/4 修正されていることを確認[yamada.icon]\n\t設置アプリアカウントと建物との紐付けで必要なクリック数が多い\n\t\t5/31 ショートカット動線を追加[ymtk.icon]　→6/1 修正されていることを確認[yamada.icon]\n　メールアドレスがないユーザーを削除することができないNo190　→一旦削除ボタンはなくなった\n　　6/3 リンクを出さないように対処済みです[ymtk.icon]　→6/5 修正確認済み[yamada.icon]\n　ユーザー削除したときの操作履歴にあるユーザー名のリンクを開くと、ユーザー詳細の画面に何も表示されていなかったです。（こちらは仕様かも）No181→一旦削除項目は無くなった\n　\t6/3 リンクを出さないように対処済みです[ymtk.icon]　→6/5 修正確認済み[yamada.icon]\n\n■[* ヘルプ関連の修正]\n IE でPDFを保存すると0kb になってしまい、保存したPDFがエラーで開けないNo161 [narico.icon]\n  \t解決方法1：\n   \tInternetExplorer のメニューバー「ツール」→「インターネットオプション」をクリック\n   \t「セキュリティ」→「保護モードを有効にする」のチェックをはずしてください。\n    InternetExplorer を一度終了して、もう一度起動してください。\n   その他の確認事項：\n\t\t\t\tAdobe Reader がインストールされているか確認してください。 \n   \tInternet Explorer の Adobe Reader アドオンが有効になっている事を確認してください\n   \t\tInternetExplorerの「ツール」⇒「アドオンの管理」をクリック\n   \t\t「表示」を「現在読み込まれているアドオン」から「すべてのアドオン」に変更する。 \n\t\t\t\t\t「Adobe PDF Reader」の状態が「無効」になっている場合は、Adobe PDF Reader をクリック\n\t\t\t\t\t「アドオンの管理」画面の右下に表示される「有効にする」をクリックする。\n\t\t6/2 下記ヘルプを追加[ymtk.icon]　→6/3 追加されていることを確認[yamada.icon]\n\t\t\thttps://help.roomon.jp/article/61-internet-explorer-pdf\n\t「BCUアカウントのQR発行」について、ヘルプ動線をつける\n\t\t6/2 ヘルプ動線を追加[ymtk.icon]　https://help.roomon.jp/article/17-article　→6/3 追加されていることを確認[yamada.icon]\n　ヘルプのプルダウン表示で、Sort Last UpatedとSort by Defaultが日本語表記になっていない　No221\n　\t6/3 修正しました\t[ymtk.icon]　→6/3 修正されていることを確認[yamada.icon]\n　ヘルプ　https://help.roomon.jp/article/45-roomon  はユーザー削除機能が無いため削除できないです。No224\n　　5/29 対応しました [ymtk.icon]→5/31 まだリンクが残っているようです。[yamada.icon]\n　　6/3 再び閉じました[ymtk.icon]　→6/3 修正されていることを確認[yamada.icon]\n　問い合わせフォーム　https://form.run/@roomon-support　でRoomon 会社IDの説明文に誤字がある（お分かりになり場合は記載ください。と記載されている）No223\n　\t5/29 対応しました [ymtk.icon]　→5/29 修正確認済み[yamada.icon]本番もOK\n　ヘルプ　https://help.roomon.jp/article/21-roomon　はiOSは使用できるので記載を修正して欲しいです。No225\n　　5/29 対応しました [ymtk.icon] →5/29 修正確認済み[yamada.icon]本番もOK\n　ヘルプ　https://help.roomon.jp/article/31-article　でQRコードと記載されている　No227\n  　\t5/29 対応しました [ymtk.icon]　→\"事前に発行されたQRコードが必要です。\" がまだ残っていました[yamada.icon]\n  　\t\t5/31 失礼しました。倒しました。[ymtk.icon]→5/31 確認済み[yamada.icon]\n\n[*** 5/24 修正（リリース済み）]\n　要望：セットアップガイドの機器設置アプリの対応OSにiOSも入れて欲しい No212→まゆしさんに確認を依頼しました。[yamada.icon]\n　　https://docs.roomon.jp/roomon_lock_setup_guide.pdf\n\n[*** 5/22 追加機能（リリース済み）] \n　個別ユーザー登録　フォームから新規登録\n　\t5/13 対応中→対応しました[ymtk.icon]\n パンくずリストに表示する画面名が統一されていないように見えるNo68\n    「建物・部屋の管理」「設置アプリアカウント管理」\n     ⇒ タブ名の「建物リスト」「設置アカウントリスト」がパンくずリストに表示されている[yamada.icon]\n     \t5/11 対応しました[ymtk.icon] \n     \t https://github.com/qrioinc/castle-console/pull/356\n     \t　 5/14 修正確認済み[yamada.icon]\n　部屋リストタブにて部屋の並び順が昇順になっていない　途中からバラバラになっている　(設置する部屋タブ内の表示は3/29に直した）No185\n　\t4/29 対応検討。揃えられるが「数字」と割り切れるかどうか[ymtk.icon]\n　\t\thttps://github.com/qrioinc/castle-api/pull/224\n　\t\t設置アプリアカウント詳細の設置する部屋タブで部屋のリストの並び順を直してもらった経緯があるので、こちらを参考にしていただけると良いかもしれないです。[yamada.icon]\n　\t\t\t5/11 PRレビュー中→対応しました[ymtk.icon]\n　\t\t\t　5/14 修正確認済み[yamada.icon]\n 有効期限切れになってから設置する部屋タブのテストマンションリンクを開くとプルダウンに空白になって、紐付けができてしまうNo197\n  \t5/11 紐付けられないように対応。masterマージ済みです[ymtk.icon]\n  \t\thttps://github.com/qrioinc/castle-console/pull/355\n  \t\t　5/14 修正確認済み[yamada.icon]]　設置する部屋タブ内に有効期限切れのため、機器を設置できません　と表示\n　CSVのサンプルファイルを本番用にQrioらしい正規な名前にしてほしいNo152\n 　\t5/11 ゆるくしました[ymtk.icon]\n 　\t\thttps://github.com/qrioinc/castle-console/pull/358\n 　\t\t　5/14 修正確認済み[yamada.icon]\n　ユーザー登録が完了した後、グループリストに遷移してしまう　ユーザーリストに遷移が良いNo106\n　\t5/11 対応しました[ymtk.icon]\n　\t\thttps://github.com/qrioinc/castle-console/pull/359\n　\t\t　5/14 修正確認済み[yamada.icon]\n　グループ管理でユーザーリストタブを開くと、パンくず表示にグループ所属ユーザーが作られていますが、こちらは同じタブ内にあるので不要かと思います。No111\n　\t5/11 対応しました[ymtk.icon]\n　\t\thttps://github.com/qrioinc/castle-console/pull/360\n　\t\t　5/14 修正確認済み[yamada.icon]\n　設置アカウントを発行した後設置する部屋タブを開くとエラーになる問題\n　　5/20 修正確認済み[yamada.icon]\n　設置アプリアカウントの有効期限切れと表示している文言を有効期間外としてほしい　No207\n　\t5/20 正しく有効期限切れのみフラグを付けました。有効前のモノには付けていません[ymtk.icon]\n　\t　5/20 修正確認済み[yamada.icon]\n　有効期間前の設置アプリアカウントで、設置する部屋のタブが有効期限切れになっている　No208\n　　有効期限前に設置する部屋を確認することができない。\n　　\tサーバから有効か無効かのフラグを取ってきているので、これの生成に問題がありそう[ymtk.icon]\n　　\tapiでのexpiredフラグが有効期限内にあるかないかだけ。まだ有効期限前だよ、が分かるように変更する。[ymtk.icon]\n　　\t\t5/20 master反映しました[ymtk.icon]\n　　\t\t　5/20 修正確認済み[yamada.icon]\n\n[*** 5/8 追加機能（リリース済み）] \n　　部屋名編集　→5/7 実装済\n\t\tパスワードリセットの履歴が重複表示されるのを対応\n\t　　→　パスワードリセットを行った時に操作履歴に2つ表示されている。No189\n 　\t4/29 対応してmasterに入れました[ymtk.icon]\n 　\t\thttps://github.com/qrioinc/castle-console/pull/347\n 　\t\t→5/7修正されていたことを確認　★本番もOK\n\t\t設置アプリアカウント作成時に、名前を入力するだけで登録に遷移しないように対応\n\t　　設置アカウント名を日本語で入力してEnterキーを押下したときにも作成ボタンが反応しているNo195\n　　　\t直せるかわかんないけど見てみる[narico.icon]\n　　　　\t4/29 対応してmasterに入れました[ymtk.icon]\n　\t　　　\thttps://github.com/qrioinc/castle-console/pull/343\n　\t\t　　　　→5/7 修正されていたことを確認★本番もOK\n　\t不要なpdfを削除\n\t\t設定アプリアカウントリストの表示を降順に変更し、作成日時を表示\n   　設置アプリアカウントリストの並び順が登録した順になっていない　No131\n　   \t4/29 対応してmasterに入れました[ymtk.icon]\n　   \t\thttps://github.com/qrioinc/castle-api/pull/222\n　   \t\t→5/7修正されていたことを確認 ★本番もOK\n　　設置アプリアカウントでBの部屋を選択した後、自分の部屋に戻るとBの部屋が自分のリストに表示されるNo193\n 　\t4/30 対応してmasterに入れました[ymtk.icon]\n 　 \t\thttps://github.com/qrioinc/castle-console/pull/348\n  　\t\t→5/7修正されていたことを確認 ★本番もOK\n テストマンションで部屋名を別の部屋の名前と同じ名前で保存することができてしまう。No198[yamada.icon]\n 　対応済み(GraphQL error: 既に存在する部屋名です。入力内容をご確認ください。のエラー) ★本番もOK\n 編集で保存を行って閉じた後、再度編集を開くと、保存後の画面が表示されてきてしまう。No199[yamada.icon]\n 　最初に開いたときはキャンセル/保存になっている。　\n 　再度開くと閉じる/保存になっていて、保存しました。と表示されている\n 　　対応済み (初期化するように修正） ★本番もOK\n\n[*** 4/24 追加機能（リリース済み）]\n\tシステムエラーの画面にログインボタンが追加\n 文言修正\n  　空室モードに設定しました / 入居モードに変更しました →統一してほしいNo171\n　　 \t=> 「切り替えました」に統一しました [narico.icon]\n　　 設置アプリアカウント「ｘｘｘ」のログインQRを生成しました →QRを二次元バーコードにしてほしい No173　　 　\t  => 「ログイン用二次元バーコード」に修正しました[narico.icon]\n　　 電話カギの発行した画面で印刷するボタンが「このページを印刷する」と表示されている 他の個所は「印刷する」No160\n   \t=> 「印刷する」に統一しました [narico.icon]\n\n[*** 4/17 追加機能（リリース済み）]\n　パスワードリセット追加\n　設置アカウント名編集\n　ユーザー削除　※削除後の再登録も行える→ボタンがないことを確認する\n　操作履歴のページジング　※右上の操作履歴は50件、部屋詳細の操作履歴は10件\n　ヘルプを開いたときに別タブで表示するようにしてほしいNo120\n　グループ詳細からユーザー登録タブを開いたときにユーザーリストタブも強調されて表示しているNo105\n　パスワードリセットしたときのファイルがExcelで開くと文字化けしている\n　サンプルファイルをダウンロードしたときのファイルをExcelで開くと文字化けしている\n　オペレーター権限のユーザーを作成するときに、 メールアドレスを空白にすると登録できないNo188\n　操作履歴が12ページ以上になったとき、最後のページのボタン表示が下に落ちてしまう。No187\n\n##castle\n\n# スマートロックって電池が切れたらどうするの？Qrio Lockの電池切れを防ぐ仕組みと高度な電池残量検出\ncreated_at:Mon Jan 19 1970 11:05:53 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:05:53 GMT+0900 (日本標準時)\nスマートロックって電池が切れたらどうするの？Qrio Lockの電池切れを防ぐ仕組みと高度な電池残量検出\n\n#### Qrio Lockの電池ってなんか特殊？\nQrio Lockは「CR123A」という規格の電池を採用しています。\nCR123Aは、一般的にはカメラ用電池と言われていて、コンビニでも取り扱われています。\n単三、単四電池よりは特殊な電池ですが、多くの店舗で販売されており、購入しやすい電池だと言えます。\nこの特殊な電池を採用した一番の理由は大きさにあります。\nCR123Aは、単三電池よりも小さい上に、倍の電圧の3.0Vを出力できるため、2本だけQrio Lockを動作させることができます。\n単三電池で利用しようとすると、4本も必要になり、CR123Aを2本と比べるとだいぶ大きくなってしまいます。\nQrio Lockの、予備電池を搭載しつつ、コンパクトな設計を実現できているのは、CR123Aのおかげでもあります。\n\n#### 意外と難しい電池残量の検出\n電池の残量検出は、電池が消耗すると電圧が低下するという特性を利用して判定しています。\n電池は、新品のときは高い電圧で出力されます。電池が消耗していくと徐々に電圧は低下していき、最終的に電圧がなくなって使えなくなるという仕組みになっています。\nこの電圧が下がっていく特性から、電池の消耗している度合いを検知しているのですが、CR123Aはリチウム電池という系統であるため、寿命のギリギリまで、安定した電圧が出力されてしまっています。\n良くないような書き方をしましたが、使用できなくなるギリギリまで高い電圧を保ってくれるので、この特性はとても優秀だと思います。\nですが、この優秀な特性が電池の消耗度合いを検出するのに不利な点があります。\n寿命の直前で電圧が急降下してしまうため、電圧の低下を検出できたときには、すでにQrio Lockを動作させられないこともあります。\nこれを回避するために、予備電池を搭載できるようになっています。\n\n#### 予備電池を搭載できるメリット\nQrio Lockでは、サイドAとBの二系統に電池を搭載できます。\n電池を一系統にしていても、電池切れの警告にしたがって電池を交換していればトラブルなく運用できるのですが、そうもいかない場合もあります。\n先に説明したとおり、リチウム電池の特性で、「出かける前は動いていたのに、帰ってきたら動かなくなっていた!」といったこともありえます。\n二系統に電池をセットしておけば、どちらか一方でも電池がなくなっても、もう一方の電池に切り替わって使いつづけることができます。\n帰宅して、ドアの前に着いたときには電池がなくなったとしても、予備で動作してくれて、少しのストレスをも感じずに利用することができます。\n\n#### まとめ\nQrio Lockは特殊な電池を使ってはいますが、省スペースや予備電池を搭載を実現しています。\n突然の電池切れや、取り付けられるドアを増やす工夫を、電池選びの視点でも考えています。\n特殊とはいいつつもコンビニでも取り扱われており、入手は難しくない電池なので、ご安心ください。\n# 20190710_Joker\ncreated_at:Mon Jan 19 1970 11:05:24 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:05:27 GMT+0900 (日本標準時)\n20190710_Joker\n\nPioneer様\n\tパネル\n正方形は2種\n裏がガラスと金属で違う\n縦横4分割は構造上難しい\n→縦に設置、横に設置で表示は変えられるが、タッチの位置は変更できない\n\nタッチパネルを別に載せると価格は上がる\nパーツ別になると壊れやすくはなる\n\n\t電池持ち\n→表参照\nCR-123A、1日5分\n点灯率最大30％くらいでやりたいことできるのでは？\n\n\tコスト試算\n月5000台のとき、650円／台\n＋開発費300万\nタッチパネル別の場合1,000〜1,100円／台\n\n\t試作\nお天気マークのデザイン送ってみればデモ機で再現してくれる\nどんな見栄えか確認可能\nこれどうなんだろう？レベルで共有OK\n\n\tQrioスケジュール\n7〜9月　一旦機能もりもりにしてみる\n9月中　企画を決める\nリリースは2020年秋、年末商戦に間に合わせたい\n\n##Joker  #来客 #議事録\n\n# Castle 週定例 2019/7/9\ncreated_at:Mon Jan 19 1970 10:54:03 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:04:12 GMT+0900 (日本標準時)\nCastle 週定例 2019/7/9\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/6/11]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[h.yamaguchi.icon] [冬眠中]\nbcu-iOS\n\t作業なし\n\tアラートの開発待ち\n\t\tアラートの必要カラム、テーブルが判明次第、BCU用のAPIに反映させることができる\n\t\t\tアラートは終わったがbcuへの組み込みは待ち\n\n[ymtk.icon]\n\tv: 今週リリース予定\n\t\tファミリーキー生き死に\n\t GraphQLのフィルター[mikamix.icon]\n\tv: 機能追加分のガイド修正\n\to: Hub死活のconsole\n\n[hazimetyan.icon]\n o: コードは追う。\n \tコウキチから質問があったけれども答えられなかったので、適宜追わないといけないなと。\n \t空室時に、解錠する方法は電話鍵だけか?\n \t\t→ 違う。Webから解錠できる。\n !: いったん冬眠中。\n\n[mikamix.icon]\n o: Hubの死活\n  o: GraphQLに項目追加\n   Hubに追加\n   room -> hub\n   o: 死んでる一覧が欲しい\n    フィルターを作成\n\nCastleのユーザー\n エイブルじゃなくなった\n ファミリーネットジャパンが売ってる\n あんまり売れてないので若干塩漬け気味(sirius優先)\n\n\n##Castle週定例 #Castle\n\n# castle-product定例 7/2\ncreated_at:Mon Jan 19 1970 10:33:57 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:04:12 GMT+0900 (日本標準時)\ncastle-product定例 7/2\n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n参加者\nryo / seki / ymtk / kawakami  \n\n前回\n[castle-product定例 6/4]\n\n[* 事業]\n\t小口案件\n\t\tmaryoさん1件進行中。7中くらいに工事（Qrio取り付け）\n\t\t\t本来工事委託したい日本PCサービスとの契約周りがまだ時間かかっているため\n\t\t\t1フロア22部屋（シェアハウス）\n\t\t8月にFNJ案件、3x~4x部屋。学生寮。（今はQ-SL1導入中）\n\t評価中案件\n\t\t使い倒して頂いた結果をフィードバック待ち\n\t\t\t300台・10.5万円→350円/部屋、の価格感に厳しさを感じている\n\n[* 開発・デザイン]\n\t先週のリリース\n\t\t建物名での検索\n\t\t電話カギの名前を履歴に表示\n\t\tリモート許可の編集\n\t\tIE対応\n\t今週のリリース\n\t\t今週はありません\n\t直近開発中\n\t\t建物所属グループ移動\n\t\t\tグループ変更すると電話カギも削除されます。\n\t\tアラート\n\t\t\tサーバはある。コンソールがこれから。\n\tサンプルデータの件\n\t\t現状はメールアドレスユニーク。\n\t\t\t渋谷と新宿で使いたい、と言うような利用シーン\n\t\tメアドを持っている人のグループ移動\n\t\t\t今は削除の上、追加登録。生やしてもいい\n\t\t\t権限としてはマネージャーのみ、自分のことはできない\n\t\t\t\tユーザー削除と同じ。\n\n[* CS]\n\t今週は特にありません\n\n[* 運用]\n\t特になし\n\n[* その他]\n\t本定例、toB定例に組み込んだ方が良い？\t[ymtk.icon]\n\n##castleプロダクト定例 #castle\n# sirius-king api mtg 7/9\ncreated_at:Mon Jan 19 1970 11:03:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:04:12 GMT+0900 (日本標準時)\nsirius-king api mtg 7/9\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1400-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 7/2]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\t特になし\n\nfukazawa[fukazawa.icon]\n\tBCU Android\n\t\t正常系は一通り動くようになった\n\t\tSQA開始済\n\t\t残件\n\t\t\tエラーハンドリング\n\t\t\tFWアップデート周り\n\t\t\tアイコン、リンク　など\n\tアプリ名は「カギカン」で決定\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tBCU関連\n\t 招待のAPI作成完了\n\t 履歴のpush作る\n\t\t進捗はこちら-> https://github.com/qrioinc/king-api/issues\n\t\t\t通知先をWebHookに登録するところまでできた\n\t\t\t明日目処\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\t\t履歴はプッシュ方式にするのが良さそう(kmi)\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n　\tmanager - admin間で中間テーブルを設ける必要アリ(bcuのhub登録時にmanagerのidいっぱいあったらややこしいので)\n\ntopaz2\n 請求書決済 実装\n \t決済用CSVダウンロード\n \t\tstaging 環境待ち　調整中(来月中頃までかかりそう)\n \t\t\t現状イキで進めてくださいませ[ymtk.icon]\n クロスモール連携メール送信\n \t本番環境しかないため ymtk さん確認待ち　調整中(まだ全然)\n \t\t現状イキで進めてくださいませ[ymtk.icon]\n 招待フロー実装\n \tFE/BE\n \t招待を受け取る手前までできた\n フロント実装サポート\n\nymtk[ymtk.icon]\n\tv: 契約\n\t\tNP後払い、payjp進行中。書類は出しました。\n\tv: crossmall\n\t\tユリさんに依頼して店舗作っています\n\t\tメアドは確保してcrossmallに登録済み（order@kagican.jp）\n\to: ビジネス界隈\n\t\tオープンでの申し込み開始は9月、カギカン1の受付停止はお盆前の想定\n\t\tクローズは半年後で広報の想定\n\t\t色々この辺\n\t\t\thttps://docs.google.com/spreadsheets/d/1ToocDJ4UFMlMTXe0cjYzAvW4ECQu8eDn6cQttnnNO2M/edit?usp=drive_web&ouid=109170418868775192408\n\t!: 消費税切り替え10月\n\n[h.yamaguchi.icon]hiro\n v: 環境構築方法などをREADMEに記載\n vo: QA対応 \n\to: 申請周りの作業\n\to: WebView周りのリンク対応\n\to: アイコン\n\t\t8/10までに作ってもらえるように依頼した[h.yamaguchi.icon]\n\tアプリ名：カギカン\n\tプラポリ：いつもの\n\t利用規約：作成中(7末くらいまで)\n\tヘルプ  + ハブが見つからない時：川上さん確認\n\tロックを初期化するときに解施錠履歴が消えるので、その警告をする？\n\t\tking-apiとsirius-apiは別のため、sirius-api側のログを残そうと思えば残せる\n\t\t考える[ymtk.icon]\n\t\tymtkさんの現在のスクショ共有\n\t本番のエンドポイントを西川さんへ確認\n\t\t7月下旬(20日くらい)までに作ってもらえるように西川さんに依頼[h.yamaguchi.icon]\n\n[mikamix.icon]\no: GET /v1/groups\n レスポンスに項目が足りない\n  成田さんに聞く\n  それがPostmanと合ってるか確認\no: GET /v1/groups/search\n レスポンスに項目が足りない\n  いったんPostmanを正として実装\n\n\tその他\n\t\t同じゲスト2回目以降の合カギ配布の省略\n\t\t\t合カギグループへのゲスト追加の他に、ロック追加時のルートも考慮する必要がある\n\t\t\t\tCUの場合はロック追加のたびにメール飛ぶ\n\t\t\tそもそも1stリリースで必要か\n\t\t\t一旦、メール送るで運用上問題ないはず\n\t\t\t\t1stでは見送り\n\n事業前提\n\t8/19リリース目標\n\n##sirius #定例 #sirius-api\n\n# castle-product定例 7/9\ncreated_at:Mon Jan 19 1970 11:04:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:04:12 GMT+0900 (日本標準時)\ncastle-product定例 7/9\n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n参加者\nryo / seki / jani / ymtk / kawakami  \n\n前回\n[castle-product定例 7/2]\n\n[* 事業]\n\tマンスリーマンションへのテレマ by maryo\n\t商談組んだ上で頂いた話をサービスサイトにFB\n\t\t伝わっていない部分の課題まわり\n\n[* 開発・デザイン]\n\t今週のリリース事項\n\t\tファミリーキー生成チェック\n\t\t\t利用者が使いはじめたのかどうかが分かります\n\t\tHub生存チェック（apiのみ）\n\t\t\t死んでいたらdbに記録\n\t\t他、ユーザビリティの改修など\n\t\t総合ガイドも最新版に更新済みです\n\t\t\thttps://docs.google.com/presentation/d/1bbf9FQuXsyHc43xZilmDZl_j8tKn0giSLJw9EDXzjVc/edit##slide=id.g5d0ed8a356_1_0\n\t\t\tアラート界隈は追って対応します（記載漏れ）\n\n[* CS]\n\t今週は特にありません\n\n[* 運用]\n\t特になし\n\n[* その他]\n\t本定例、toB定例に組み込んだ方が良い？\t[ymtk.icon]\n\t回線、電源、ALという壁があるから、これを回避して売り込めるかの、別アプローチを考えていったほうがよい\n\t\t回線と電源を弊社で負担してみたりして、導入できるかどうかを試してみるのもありではないか。\n\tSmart Lockがついていることで、入居者、ひいてはオーナーの幸福度があがることが価値となる。\n\t\t上記の問題を解決するか、別途圧倒的な価値を見つけて、それを売り込む\n\t\tSmart Lockを導入することで、空室率下がることが価値なので、月額350円+電気代を負担することを呑んでもらえるといいなあ。\n\t現状のアプローチでは、Castleのユーザーを目標どおり増やすのは難しいと感じている\n\t\tオーナーに直接売っていくアプローチも考えるのか\n\t\tこのまま管理会社向けに改善していって突破できるのか\n\t\tこれらに関して、別途議論する\n\n##castleプロダクト定例 #castle\n# c-team定例 19/7/08\ncreated_at:Mon Jan 19 1970 11:02:31 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 11:02:49 GMT+0900 (日本標準時)\nc-team定例 19/7/08\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/nakano/zawa/knarita/takeuchi/\n\n欠席\nymtk/ichikawa/\n\n前回\n[c-team定例 19/7/01]\n\n[*** アジェンダ]\n[* Web分析 現状]\n\tご意見BOX定期パトロール\n\t\thttps://docs.google.com/spreadsheets/d/1XsNs7j6VKcvf6dGgJxbD_xwRmZKyNQkKo8DasivLNvQ/edit##gid=11165844\n\tGA 振返り\n[https://gyazo.com/352324b94f6ccb6bfff71b71a0455a78]\n\n\tSB C&S ざっと共有\nhttps://docs.google.com/presentation/d/1cDM_82OBoxgpmc1MBTfVxjjEl7NBvTVC1RxNHDz3aW0/edit?usp=sharing\n\n[* 「限界利益と損益分岐点について」 by.竹端さん]\n\t15分で分かる限界利益\n\n[* 宿題]\n[* ①訴求内容]\n\t\tおもしろバズコンテンツ×1人1案\n \tすぐ売れるセールストーク×1人1案\n \t nakano   https://docs.google.com/presentation/d/1mUDLpmVvS2wEiUP5kt1JgkaVD3qKDXuNXpJ5Oudtj0c/edit?usp=sharing\n[* ②具体的施策]\n\t\t①が終わり余力があれば\n\nマユトさんの恐怖訴求について\nhttps://www.notion.so/de914fb26c504819b19eb076e87fafca\n\n→ 意識換え施策とする。\n\tスマートロックを欲しくなる、興味を持ってくれるためのきっかけ\n\t\t何のコンテンツを届けるのか？\n\t\t\tQrio Lockが他と違うところ → やってる\n\t\t\t\t対、競合\n\t\t\tスマートロックってなにが嬉しいの？ → これから更に\n\t\t\t\t対、他の手段\n\t\t\t\tお試しCPNとセットで出したいね\n\n[*** 施策一覧の確認]\n\tお試しCPN\n\t友だち紹介\n\ttk案件\n[https://gyazo.com/9d83267fa43c562bf0c375a469ca90e1]\n\n[** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n\n[*** NEXT]\n\n---　以下前回の話\n[*** アジェンダ]\n[* Web分析 現状]\nhttps://docs.google.com/presentation/d/1ha4R53RcxTm95EDUxg6pAogEdWM-ZzUeVCJboKgolJo/edit?usp=sharing\nこれを踏まえqrio.me/smartlock/に流入したユーザが次に見てるページ超ざっくり見た\n新規\n[https://gyazo.com/9bfadeb5f398a237cbea1bf12da95ed4]\n\nリピーター\n[https://gyazo.com/0bb1829e3fcc92130961753fbc528924]\n\n\t取付方法は？取付られんの？のあたりを気にしてる傾向がある\n\t\tただし、新規の8割以上は直帰してる\n　\t取付動画とペパクラをうまく連携させるべきか？\n\n[* キャンペーン 現状]\n\t\tキャッシュバックCPN状況 / 原田さん\n\t\t\t前回定例時点で応募2件\n\t\t\t6/27（木）で16件\n\t\t\t販売　週200〜300\n\t\t\t店頭スイングポップやリーフ5000\n\t\t\t\t店員見てない？1000〜2000\n\t\t\t\t店頭展開100件\n\t\t\t\t本当の消費者は3000前後\n\t\t\t6/20〜6/30 pdfダウンロード（閲覧） 約50\n\t\t\t6/20〜6/30 amazonリンク596件\n\t\t量販販売状況\n\t\t\t夏季商戦きまだ動いてない\n\t\tお試しキャンペーン 9〜11月の施策の1つとしてやる\n\t\t\t最適な実現方法を検討中\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n[* 認知施策]\n\t実演販売\n\t\t認知最大○\n\t\t\tやるなら認知→興味に比重おいた方が良い\n\t\t実売最大△\n\t\t\t凄腕雇っても1日5〜10台\n\tコンテンツマーケなどのバズ狙い\n\t\tsesameなどの競合対応\n\t\t習慣を変える何か\n\t\t\t【ex】電動歯ブラシと歯ブラシの違い\n\tSB売り場づくり（スマートホーム ）展開中\n\t\tロックも入ってるので、スマートホーム 関連製品の認知獲得はできそう\n\t\t東新宿、新宿南口側のヤマダ電機\n\t懸賞サイト\n\t\t懸賞という軸で、リードを獲得することができる\n\t\t大手（試供品関係）→費用対効果は高いと言われている\n\t\t\t40〜50代の女性多そう\n\n認知→興味の施策はROI証明が若干むずいので、\n購入につなぐシナリオで考えるべきでは？\n\n\t瞬間的（30分くらい）に売れるトークを我々が持っていないといけない\n\t\t①見せられる状態を作る\n\t\t\tどのタイミングどんなイメージ訴求で行くか緻密に設計する\n\t\t\t\tただし、Qrioがメインで伝えたい根幹はベースに置いとくべき\n\t\t②チャネルや施策などはそこから考える\n\tすぐ売るなら恐怖訴求（リスクの提示）が一番しっくりくる by kokichi\n\t\t【ex】電動歯ブラシなら20〜30代の6割は歯周病\n\t\t【ex】AGAはそもそも脱毛止めないと、育毛治療しても意味がない！\n\n\tスマートロックでいう恐怖訴求（リスク）は？\n\t\tカギの紛失年間6000件（仮）\n\t\t\tカギシリンダーごと変えるのに3万\n\t\tカギを施錠しててもピッキングしたら15分で解錠できちゃうよ\n\tかつ、直近不法侵入などの被害受けた著名人に言わせると共感を生む\n\t\t高須院長\n\tIoT製品界隈の会社同士で褒めるコンテンツ\n\t\tスマートロック業界同士でで褒めるのはリスクと限界がある\n\t\tA社がB社を褒める→B社がC社を褒める→C社がA社を褒める\n\t\t\t最終的に自社製品を薦めている\n\n[*** NEXT]\n次回定例までに\n\t①訴求内容\n\t\tおもしろバズコンテンツ×1人1案\n \tすぐ売れるセールストーク×1人1案\n\t②具体的施策\n\t\t①が終わり余力があれば\n\n##toC #定例 #議事録\n\n# お試しCPN memo\ncreated_at:Mon Jan 19 1970 10:58:13 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:58:30 GMT+0900 (日本標準時)\nお試しCPN memo\n[** 目的]\n\tお試しニーズの把握\n\t\tサブで、アンケート内容の吟味\n\t\t\t設置に不安なのか、生活に対するインパクトなのか、ハンズフリーが使えるのか、etc...\n\t\tペパクラは先着応募\n\n[** 検討事項]\n[* 定量KPI]\n\tプレスリリースおよびqrio.me PV底上げ数\n\tアンケート回答率\n\t\t申し込みには回答を必須とする\n\t\tドア写真ももらう\n\n[* 定性]\n\tSNS投稿数\n\t検索数\n\tsesame、bitkeyに行きそうな人は振り向いてくれたのか（アンケート確認）\n\n[* 次に繋げること]\n\t利用者からの意見を受けたコンテンツの拡充、発信\n\t第二次モニターキャンペーン\n\n[* 買い取り]\n\t原則NG\n\t\t「中古品なので保証できない」の体\n\t\tモニターキャンペーンに近い\n\t\t買うなら何かしらの優遇があってもいいが･･･\n\t\t\tギフト券？\n\t\t\t\tamazonだと量販に叱られがち\n---\n\n[* 広報・集客]\n\tプレスリリース\n\n[* 業務]\n\t申し込み受付と発送\n\t\t申し込みハードルどこまで付けるか\n\t\t\t先着なので送付先（電話込）の入力は必須\n\t\t\t規定数を過ぎたらフォームは閉じる\n\t\t\t\t先着より抽選の方が実は楽？（先着だと不人気だった場合にバレる･･･）\n\t\tクロスモールへの登録\n\t\t\tロジテムさんとの事前確認\n\tキャンペーン規約\n\t\t保証内容\n\t\t返却\n\t\t先着に漏れた場合の個人情報破棄\n\t機器\n\t\t機器の確保\n\t\t\t中古可だが、備品は揃える\n\t\t\tキャンペーン用であることを伝えるA4ビラ1枚入れる\n\t\t\tシリアルは事務局で控える\n\t\t\t\t使用状況見るよ\n\t\t\tサムターンホルダーも必要な場合がある\n\t\tリファービッシュ\n\n[* 開発・デザイン]\n\t応募サイト（フォーム）の設置\n\t\tシステム化しなくてもよしなに入れる手はある\n\tqrio.me からの動線\n\t\tお知らせに出す\n\t\tバナー\n\n[* CS]\n\tコスト上、電話窓口は厳しい\n\tルートが分かるよう、専用でフォームを置くなど。\n\n[* 関係者調整]\n\t量販店\n\n\n[* 参考]\n「30日以内返品OK！お試しキャンペーン」詳細について\nhttps://safie.link/blog/entries/thanks-10k-detail/\n\n懸賞のコツ 話題の新商品を無料で試せる「商品モニター」とは\nhttps://kensho-everyday.com/archives/621\n\n商品モニター募集・無料サンプル・試供品の情報・口コミが満載！\nhttps://monipla.jp/list_item/upper_category-CJ0005/\n\nマクロミルをクビになりました(>_<)お買い物モニター終了\nhttp://msch24.com/dismiss/\n\n商品モニター（ホームユーステスト）とは\nhttps://member.insight.rakuten.co.jp/explanation/survey_type/hut/\n\nNinja モニター\nhttps://www.kawasaki-plaza.net/campaign/ninjazx10rse/\n\n# Sirius 全体dev mtg 19/7/5\ncreated_at:Mon Jan 19 1970 10:58:10 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:58:28 GMT+0900 (日本標準時)\nSirius 全体dev mtg 19/7/5\n[https://gyazo.com/4a5067a6f9dcc71ddee2fa192ffbf6ff]\n\n[** 進め方]\n定例とch\n\t毎週金 1500-1530\n\t`##sirius-dev`\n\tPM: zawa\n\n[*** 状況]\n[* 今週]\n\ntopaz2\n\tAPI 実装\n\t\tPOST /groups\n\t\tPATCH /groups\n\t\tPOST /groups/attach_organization_users\n\t DELETE /groups/detach_organization_users\n FE 実装サポート\n\nzawa[fukazawa.icon]\n\tBCU Android\n\t\t検収完了\n\t\t動作確認OK\n\t\t\tログイン\n\t\t\tロック登録\n\t\t\tロック登録解除\n\t\t\tロック一覧\n\t\t\tロック解施錠位置設定\n\t\t\tオートロック設定\n\t\t実装中\n\t\t\tハブ\n\t\t\t1ドア2ロック　など\n\tConsole\n\t\tFrontの2名にロック+ハブを貸出済\n\t\t開発アカウントの設定完了済\n\tSQA\n\t\tBCU iOS: 開始済\n\t\tBCU Android: 7月中旬開始予定\n\t\tConsole: 7月下旬開始予定\n\nnarico [narico.icon]\n\t-v XDデザイン修正\n\t-v フロントやり取り\n\t\t進捗確認など\n\t\thttps://docs.google.com/spreadsheets/d/1mo-Xc81SOERe8UEUHlT8sX4RvQ5mglDENxG-ZNHJwpQ/edit##gid=537700958\n\t-o 支払い履歴やってなかったので作る\n\t-o フロント側との調整\n\t-o 合鍵の招待ログイン画面、完了画面、XD作っとく\n\t-o 業務委託契約書の件\n\t\t山口さん用意してもらう予定\n\t\t6末時点とかのPDFを出力してそれに基づいた契約にする\n\n\nkmi[komai.icon]\n https://github.com/qrioinc/king-api/issues\n 合鍵仕様おおまかに決まったので取り組む\n  完了\n logのwebhook機能実装\n \t設計中\n \t来週にはPOSTまで作成予定\n\nhiro[h.yamaguchi.icon]\n\tv: サブロック登録\n\tv: ハブ登録\n\tv: エラー周り\n\tv: ライセンス情報表示\n vo: QA対応\n\to: 申請周りの作業\n\to: WebView周り\n\nymtk [ymtk.icon]\n\to: カギカンのHeroku載せ替え\n\t\thttps://sirius-site-staging.herokuapp.com/\n\t\tuser: u、password: p\n\t\tリポジトリ\n\t\t\thttps://github.com/qrioinc/sirius-site\n\to: 開発以外の業務進めてます（規約とかカギカン1の移行とか）\n\t\t環境警察とgzip配信辺りはPR出しました\n\t!: フロント契約の契約書展開のしかたを相談したいです。書類はあります。\n\t\t特定タイミングの見積もりpdfに基づいて、と言う費用とします。口座も確認します。\n\t\tお二人に請求書展開、締めるタイミング7末と8末？\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tWebアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\n[** その他気になること]\n\tカギの招待周り[ymtk.icon]\n\t\thttps://docs.google.com/presentation/d/1z1t45MfxaSetzUCa0U-8My47QqAJEK_TFx3-Pf67ddE\n\t合カギ招待周りのつなぎこみ [narico.icon]\n\t\tAuth0に招待するの結構リスクでは\n\t\tログイン画面とか必要な画面はこちらで作る\n\t\t\tルーティングはなんでも良さげ\n\t\t繋ぎこみはBCUとか絡みが複雑なので社内でやった方が良いんでは（誰がというのはわかる\n\t合カギ招待、西川さんにて仮組み開始\n\t\t画面は来週中にできそう[narico.icon]\n\tBCU Hub FWアップデート\n\t\tCastle BCUではファミリーキーを配るためCUでアップデートできるが、Sirius BCUではゲストキーを配るためCUではアップデートできないため、BCUへの機能追加が必要かも\n\t\t(API経由で)Webから実施可能なため、実装不要[ymtk.icon]\n\n# IoT - dev 室長会 19/7/5\ncreated_at:Mon Jan 19 1970 10:57:13 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:58:24 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/7/5\n前回：[IoT - dev 室長会 19/6/21]\n\n[** 全体共有・相談]\n\t経営会議共有\n\t\tHW室\n\ttoC / toB 界隈、KPIまわり\n\tjoker\n\tリソース\n\t月1の開発他集中デーについて\n\t\t溜めている改修案件、エイヤで作りきりたいモノなど、一気に倒したいものに充てる日\n\t\t定常でやれるようなものでなくて良い\n\t\t\t1日だとむしろやれることが狭まる気もする\n\t\t\t「よくわからん」投資ではなく、借金の返済やも･･･？\n\t\t\t逗子ntg的なもので、1日で何かしらのアウトプットを出す場。\n\t\t\t「開発」によるものではなく「会社に向けた案件」くらい？c-teamで1日逗子とか。\n\tマーケ界隈\n\t\thttps://docs.google.com/presentation/d/1WTgEG8WPkVhtkzT8W1xrVsjd8SiuagnXinsDi3UgqlU/edit\n\n[* 前回のNEXT]\n\tSirisについては早急に場を持ちたい\n\t\tインサイトセールス、運用周り mtgセットお願いしたく => 中野さん\n   運用周りコウキチくんと共有&インサイトセール部隊案高橋さんへ打診→そもそも広告でリード10倍は無理、却下\n   アウトバウンド部隊を営業でやる。とはいえ、営業・CS間での無駄も多い＋ユーザー分析不十分なのでCMS+MA等、仕組みで効率化出来るように検証中←イマココ\n\tリソース界隈再検討 with まゆしー\n\t\t意識の話（当たり前じゃないよね）、相談タイミング、「よかれと」に依存しすぎだと続かない\n\t\t新たなロールを引き受けることへの恐れ、どうしてだろう？\n\t\t\t[* 毎回助けられてるからいいや、になることの破滅]\n\t\tなりさんの持っていた運用全般の引き継ぎ先\n\t\t\tこれは外部リソース前提で。\n\t\tキャンペーンの振り返り => まゆとさん\n\n[** 共有・相談ネタ]\n[* 製品開発]\n\tGuardian (Hub 4M)\n\t\t問題なし\n\tCastle\n\t\t落ち着いたはず\n\tSirius\n\t\t全体\n\t\t\t体制は整ってきたが、8/19(月)リリースに向けて予断は許さない状況(主にConsole)\n\t\tBCU\n\t\t\tiOS: 必要実装はほぼ完了\n\t\t\tAndroid: 検収完了、8/19(月)リリースは問題無い見込\n\t\tAPI\n\t\t\t以下の座組で実装中\n\t\t\t\t(king-api) Management API: 駒井さん\n\t\t\t\t(sirius-api) BCU/決済API: 西川さん\n\t\t\t\t(sirius-api) Console API: 三上さん\n\t\tConsole\n\t\t\tnaricoさん+2名で実装中\n\t\t\t2名へ機材(ロック+ハブ)を貸出済\n\t\tSQA\n\t\t\tBCU iOS: 開始済\n\t\t\tBCU Android: 今月中旬より開始予定\n\t\t\tConsole: 今月下旬より開始予定\n\tその他\n\t\tQ-SL1 Android 64ビット対応完了\n\n[* デザインコミュニケーション]\nJoker\n\t\t魅力品質にあたる大方針 社長りん議通していただきました by ymtk\n\t\t\t開けないスマートロック（仮称）\n\t\t\t\tそのまま外出したら、致命的な損害を受けるので1度ストップさせる\n\t\t\t\t【ex】スマホ忘れたまま外出→ライフライン崩れる\n\t\t\t\t【ex】火を付けっ放しで外出→自宅が火事になる\n\t\t\t\t【ex】子供が知らぬ間に外出→締め出し、または誘拐などのリスク\n\t\t　　\t具体的ユースケース、仕様、実現方法はこれから\n\t\t\t他社IoT製品連携 + コンシェルジュ機能（外出直前に知りたい情報予知する）は付加価値として追求する\n\tSirius\n　\tWebページ更新箇所洗い出し\n\tGuradian\n\t\t個装箱\n\t\t\t印刷表記残タスク 使用周波数マークのみ\n\t\t\t\t大西さんベンダーへ確認中\n\t\t　RG ymtkさんから山縣印刷さんへ頭出し\n\t\t　VOIDシールいつやろう\n\tKingペーパークラフト\n\t\t最終試作に向け、手順制作中\n\t　\t想像以上に時間取られてる\n\t組織（行動指針）\n\t\t進捗97%くらい\n\t　\t\t残り3%がなかなか遠い\n\t\tTKさんフィードバックで微調整中\n\n【リソースの話があったので】\n以前参加した勉強会の資料\nhttps://magazine.redesigner.jp/post/business-designers-meetup?fbclid=IwAR0B9GZK9mW7YcoX3tZFhMDt8IpIi1_C3DjyzaoVbaGEsSUrW1Q-2L1pYrg\n\n[https://gyazo.com/083d73ce26207478283c9ed7670ae857]\n\n[https://gyazo.com/8e03fe62274d098da769972c453d3ec0]\n\n\t私はここでいう「起」「承」の人間\n\t\t自分で企画したものは「転」「結」までやる or 仕組みを残すようにしてる。\n\t多方面からスポットで相談いただくものは8割「転」が決議した、「結」のみの相談。\n\t\tうちの規模なら「転」+「結」は一緒にやる方が良い。\n\n\n[* CS推進]\n\tアルバイトの青山さんが6月末で急遽退職\n\t　現状Roomonの問い合わせがないのでダメージは少ないが、Siriusに向けて補充検討\n\t8月以降ドタバタが予想されることもあり、中野→来週〜、川上さん→4週目に夏休み取得予定\n\t\tメール周り実装準備[ymtk.icon]\n\n[** NEXT]\n\t集中デーの使い方についてFB\n\tSirius立ちあげ界隈の状況整理\n\n##室長会 #議事録\n\n# 7/5 Guardian 工場生産&報知界隈\ncreated_at:Mon Jan 19 1970 10:57:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:58:15 GMT+0900 (日本標準時)\n7/5 Guardian 工場生産&報知界隈\n[* 工程検査]\n\t工程検査モードへの切り替え方法\n\t\t既存の、ボタン押しながら起動だとユーザー混乱ある（モードに入ると設定できない）\n\t工程検査の進め方\n\t\t検査マニュアル\n\t\t\t特殊精機さんの時にどうしている？\n\t\t\t\thttps://drive.google.com/drive/u/1/folders/1luj08uDU-dVU2H_DrB2jiXzgq4zIS4Bq\n\t\tWindows PC(Win10)とバーコードリーダー\n\t\t\thttps://drive.google.com/file/d/0B1SfuzkOFphXZUo3YS1zcHJULVZLUzYtU3Q3eVF5YVh3Ri0w/view?usp=sharing\n\t\t\t\t前回はこれ2台 + モニタ1台\n\t\t\t\t\thttp://jp.ext.hp.com/desktops/business/prodesk_400_g4_sfc/\n\t\t\tリーダーは流用していただく？\n\n[* 報知]\n\tパターンを整理した\n\t\thttps://docs.google.com/spreadsheets/d/1IxvclcBMoZW779sf0oNPmXA7hVIFjHMoMGaAywD8ZGc/edit##gid=0\n\n[* 参考]\n\tbacklog Q-H1界隈\n\n##guardian #hub\n\n# 7/3 Sirius console MTG\ncreated_at:Mon Jan 19 1970 10:55:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:55:33 GMT+0900 (日本標準時)\n7/3 Sirius console MTG \n\tSlackに中島さんから貼ってもらった件\n\t\tlogin、locks、groups\n\t\tAPI関連の要望や質問は Issue 上にコメントしてもらえればおk\n\t\t\thttps://github.com/qrioinc/sirius-api/issues\n\n\t全体の進捗\n\t\t完了 or 着手で記載お願いします\n\t\t\thttps://docs.google.com/spreadsheets/d/1mo-Xc81SOERe8UEUHlT8sX4RvQ5mglDENxG-ZNHJwpQ/edit##gid=537700958\n\t\tSQAも上記ドキュメントを参照して完了している部分から着手してもらう\n\n\tSQAについて\n\t\tBCUから進めている\n\t\tConsole についてもマークアップ完了している部分については単純なUIチェックだったらできるが、API繋いで動作チェックは7月後半とかになる\n\t\t今は中島さんに用意してもらったAPIを叩いている\n\t\t\thttp://sirius.webstg.com/api/v2/groups/\n\t\t\thttp://sirius.webstg.com/api/v2/locks/\n\n\tBCUは今週貸し出しまでいける\n\t\t実機を中島さん吉本さんに郵送します\n\n\n\n# 19/7/1 マーケ施策と分析について\ncreated_at:Mon Jan 19 1970 10:52:41 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:55:17 GMT+0900 (日本標準時)\n19/7/1 マーケ施策と分析について\n[* 目的]\n\t売り上げの前の部分で、その施策がうまくいってるのかどうかを判断できる指標を定める\n\t\t施策ごとの改善が分かるようになる。売り上げだけだと時事影響もあるので判断できない\n\n[* 課題]\n\t主体的に分析を主導するロールがない\n\t施策を打ったあとの評価軸が売り上げしかない\n\t次の施策を行うときに、前の何がうまくいっていて、と言った議論は特にない\n\n[* でどうする？]\n\t施策を打つ時点での仮説と説明責任を明確にする\n\t\tこの施策は何が良かったら成功しているんでしたっけ？\n\t\t\t売り上げは分かるけど、終わるまで分からない\n\t\t\tこれだと、認知系の施策は一切できないことになる\n\tQrioとしては何を見てOKとするんだっけ？の判断軸を揃えたい\n\t\tymtkと中野さんとの間でフォーマット化しましょう\n\t\t\t何の数字を取るの\n\t\t\tどうやって取るの\n\t\t\t有意差をどう語るのか\n\n[* 工数的な話]\n\tとは言え専任じゃない\n\tGA\n\t\tレポートフォーマット作れるので、URL変えれば流用できる\n\t\t最低限の運用マニュアル作る\n\tFMTづくり\n\t\tやるしかない案件･･･\n\t\t\t仮フォーマット決め\n\t\t\t現状マーケ施策のphase1-2は一旦頑張って出します[ymtk.icon]\n\n[* 施策パターン]\n\tバナー界隈\n\tキャンペーン\n\t\tCB\n\t\t友だち紹介\n\t\tお試し利用\n\t記事広告\n\t展示会\n\t量販店販売員へのインセン\n\n[* 現状認識合わせに必要そう]\n\tペライチで定点観測できるもの\n\t\tQrio me Webアクセス\n\t\t販売数\n\n[** NEXT]\n\t友招、お試し利用の効果測定軸[nakano.icon]\n\tCBの効果分析レポート[ymtk.icon\n\n##analytics\n\n# Dev MTG 2019/7/2\ncreated_at:Mon Jan 19 1970 10:53:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:54:18 GMT+0900 (日本標準時)\nDev MTG 2019/7/2\n[https://storage.tenki.jp/storage/static-images/suppl/article/image/1/13/130/13021/1/large.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t正社員募集中\n\t\tWantedly+リクナビHRTech\n\t\t\tサーバー\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n\n[*** 各PJ]\n[** 他社連携（チャン、hiro）]\n\t検討中案件\n  OYO 進行なし\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  NASTA\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\t\t先週、高橋さん＆山川さんで話に行った\n \t\t\t\tQrioの開発チームは作業無いかも\n \t\t\t\t集合玄関、もっと安くしろと言われた\n \t\t\t\tビジネスのボールはNASTA持ち、案件確度高い\n \t\t\t\t開発の座組は山川さんにてボール持ち\n \t\t\t\tHWの開発はQrio/Sony、開発費はNASTA持ち、HWの権利はQrioが持てる\n \t\tphase1ではQrio Keyのビーコンを読み取って開ける形になりそう\n \t\tいきなりphase3まで作るか検討中\n \tコクヨ 進行なし\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\t[MANOMAまとめ(随時更新)]\n \t\tSTBにQrio Hub機能 or Qrio Key機能を入れたい\n \t\t\tロックたくさん売れるようになる\n \t\t\tSTB側の開発はSNC\n \t\t\tHub FWの解施錠部分の切り出し中[takeuchi.icon]\n \t集合玄関\n \t\t8月に経営会議通す予定\n \t\t設計構想の準備\n \t\tリリース判定までのスケジュールを検討する(明日)\n \tアプリのSDK化\n \t\tOYOに向けて出せるかもしれないので、検討している\n \t\tプロトコル公開のほうがラクじゃないか\n \t\t既に社内で使用しているライブラリを外部公開するだけならよいのでは?\n \t\t カスタマイズはしない\n\n[** Joker (ymtk、深澤、竹内)]\n\tロックにディスプレイをつけるかもしれず、そのUXを検討中[takeuchi.icon]\n\t\t「玄関まわりの最適化」を目指している。たぶん。「忘れ物などあれば玄関で通知してくれる」など\n\t\tスマホを玄関のドアに貼り付ければ検証できます\n\t\t今週渡辺さんに一次sync予定[ymtk.icon]\n\t\t\tsync終了。10月の企画抗争に向けてハード実現性の検討とUX解像度を上げていく\n\n[** Castle (三上、hiro)]\n\tWebアプリ(三上さん)\n  三上\n  \tpresence\n  \t GraphQLのフィルターを実装予定\n  ymtk\n  \t今週はリリースなし週。\n  \t\t[##Castle 未解決・対応中の項目管理]\n  \t\t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応\n\t　ログpushする機能作る\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\tsirius-api\n\t\t[Sirius-console向けapi整理]\n\t\tgroup関連やっていく\n\t\t名前変える?\n\tWebフロントUIは要件詰めました。フロント担当調整完了?\n\t\t成田さんとは契約完了\n\t\tフロント2名はNDA→契約締結中\n iOS\n \tsiriusで必要なUIはだいたい全部終わった\n \tロック一覧・登録・削除・オートロック・解施錠位置調整は終了\n \t残り作業\n \t\tハブ (動作確認中)\n \t\tサブロック (完了)\n \t\tパスワード再発行\n \t\tエラー周り\n \tSQA始まった\n Android[fukazawa.icon]\n \tキャッチアップ中\n \tロック設置、ロック一覧あたりをやってみる\n[sirius-king api mtg 7/2]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa（進行なし）\n  審査進行中→2項目落ちた[ymtk.icon]\n  \t確認進めたいがこちらに割いている時間余裕なし\n  この挙動、CUに入れてもいいのかも･･･（リモートの時、Hubかロックが死んでいたらエラー表示）\n   \t時間ができたらやる[fukazawa.icon]\n   \t急ぎではないです\n\n[* API (駒井)]\n　招待周り、apiドキュメントの更新必要[ymtk.icon]\n 　塩漬け\n\n[* OYO界隈(ymtk)]\n（前回までのシステムアーキ関連の話は [Dev MTG 2019/5/20] を参照）[takeuchi.icon]\n\n[* CU (深澤、竹内)]\n\tiOS版\n\t\tApple Watch Series 2でアプリが使えないらしいので調査する[fukazawa.icon]\n\t\t\twatchOS 5.3 beta4で改善を確認したため、一旦待ち\n\n[* Hub (King) (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\nESP32で粛々と実装中\n\tリファクタ、lintツール導入、など\n\tマスターデータ生成＆書き込みのスクリプト作成\n工場でのFW書き込み速度が遅いかも\n\t現状の最速の設定で、速度は充分とのこと（ヘルツさんより）\nその他\n\tWi-Fiルーター接続互換性評価（今週進捗なし）\n\t\t委託はせずQrioでやる\n\t\tルーターも自前+QaaSさんで準備。回線はworking spaceなどどっかで借りる\n\t\t検証は、FWも含めた形で9/2(月)から実施する\n\tWi-Fi/Bluetooth SIG認証\n\t\tソニーグループ内でやると安い、手続き中(ymtk)\n\n[* Guardian 製造・制作系 (ymtk)] 進捗なし\n 楢原さんから取説チェックポイントをもらったのでスプレッドシートで要件まとめていきます\n 箱の一次デザインは7月。内部的なデザインはマユトさんが組んでくれました[ymtk.icon]\n 今週中に報知やっつけます→やるやる詐欺だった[ymtk.icon]\n\n[* Guardian セキュリティ(チャン)] [進捗なし]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   \t資料もらった\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Q-SL1 Android版、64ビット対応\n \t64ビット版のMQ LibraryをSGMOへ依頼中\n \t7/2に出てきた、SQA中\n Q-SL1 iOS版、Swift5対応＋特定のロックがオーナー登録できない不具合\n \t6/28に正式リリース済み\n Q-ST1 Android版、クラッシュ頻発問題\n \t6/28に正式リリース済み\n\n[** 情報システム (チャン)] [進捗なし]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n Twilioの会社情報の更新\n \t11.21まで\n \t連絡きた、集会来いと言われた\n \tどこに何を提出すればよいか確認中\n 1passwordの導入\n \tいいんじゃなかろうか\n \tOKTA、LastPassあたりが良さそう？\n \tすいません日本語たいおうしてないかも\n \tエンジニアもパスワード管理(シングルサインオン)ツール使いたいです＞＜\n\n[** QaaS(チャン)]\n 7月中旬でチャンさんが交代\n\t\t交代要員の紹介はまだ\n\n[** CSへのテクニカルサポート(チャン)] [進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tr-tadaimaいつ止めるのか？\n\n[** 健忘録]\n\tなし\n\n# sirius-king api mtg 7/2\ncreated_at:Mon Jan 19 1970 10:53:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:54:05 GMT+0900 (日本標準時)\nsirius-king api mtg 7/2\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1400-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 6/25]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\t深澤、BCU Androidを引き取りました\n\nfukazawa[fukazawa.icon]\n\tsirius-api 仕様\n\t\t[Sirius-console向けapi整理]\n\t\t\tレビューOK\n\tBCU Android\n\t\tキャッチアップ中\n\t\tロック設置、ロック一覧あたりをやってみる\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tBCU関連\n\t 招待のAPI作成完了\n\t 履歴のpush作る\n\t\t進捗はこちら-> https://github.com/qrioinc/king-api/issues\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\t\t履歴はプッシュ方式にするのが良さそう(kmi)\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n　\tmanager - admin間で中間テーブルを設ける必要アリ(bcuのhub登録時にmanagerのidいっぱいあったらややこしいので)\n\ntopaz2\n 請求書決済 実装\n \t決済用CSVダウンロード\n \t\tstaging 環境待ち　調整中(来月中頃までかかりそう)\n \t\t\t現状イキで進めてくださいませ[ymtk.icon]\n クロスモール連携メール送信\n \t本番環境しかないため ymtk さん確認待ち　調整中(まだ全然)\n \t\t現状イキで進めてくださいませ[ymtk.icon]\n API 実装\n \t合鍵グループ\n BCU実装サポート、バグ修正\n \tロック更新\n \tハブ登録\n \tハブアップデート\n\nymtk[ymtk.icon]\n\tv: 契約\n\t\tNP後払い、payjp進行中。書類は出しました。\n\tv: 適宜フロント課題打ち返し(tsまわり、Herokuデプロイ)\n\to: crossmall\n\t\tメアド作る＋店舗作る\n\n[h.yamaguchi.icon]hiro\n残り作業\n\tv: サブロック\n\tvo: ハブ (動作確認中)\n\to: パスワード再発行\n\to: エラー周り\n\tテスト書くかどうかは要相談(状況次第)\n\n[mikamix.icon]\nv: GET locks/{uuid} にgroupを含める\no: GET /v1/groups\n レスポンスに項目が足りない\n  成田さんに聞く\n  それがPostmanと合ってるか確認\no: GET /v1/groups/search\n レスポンスに項目が足りない\n  いったんPostmanを正として実装\n\n\tその他\n\t\t同じゲスト2回目以降の合カギ配布の省略\n\t\t\t合カギグループへのゲスト追加の他に、ロック追加時のルートも考慮する必要がある\n\t\t\t\tCUの場合はロック追加のたびにメール飛ぶ\n\t\t\tそもそも1stリリースで必要か\n\t\t\t一旦、メール送るで運用上問題ないはず\n\t\t\t\t1stでは見送り\n\n事業前提\n\t8/19リリース目標\n\n##sirius #定例 #sirius-api\n\n# Castle 週定例 2019/7/2\ncreated_at:Mon Jan 19 1970 10:43:57 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:54:03 GMT+0900 (日本標準時)\nCastle 週定例 2019/7/2\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/6/11]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[h.yamaguchi.icon] [冬眠中]\nbcu-iOS\n\t作業なし\n\tアラートの開発待ち\n\t\tアラートの必要カラム、テーブルが判明次第、BCU用のAPIに反映させることができる\n\t\t\tアラートは終わったがbcuへの組み込みは待ち\n\n[ymtk.icon]\n\tv: 次週リリース予定の対応\n\t\t!: マーケ企画ロール優先していて、特に開発してないです\n\to: Hub生き死にとファミリーキーの生き死にを対応する予定\n\t GraphQLのフィルター待ち\n\to: 機能追加分のガイド修正\n\n[hazimetyan.icon]\n o: コードは追う。\n \tコウキチから質問があったけれども答えられなかったので、適宜追わないといけないなと。\n \t空室時に、解錠する方法は電話鍵だけか?\n \t\t→ 違う。Webから解錠できる。\n !: いったん冬眠中。\n\n[mikamix.icon]\n o: Hubの死活\n  o: GraphQLに項目追加\n   Hubに追加\n   room -> hub\n   o: 死んでる一覧が欲しい\n    フィルターを作成\n\nCastleのユーザー\n エイブルじゃなくなった\n ファミリーネットジャパンが売ってる\n あんまり売れてないので若干塩漬け気味(sirius優先)\n\n\n##Castle週定例 #Castle\n\n# sirius-king api mtg 6/25\ncreated_at:Mon Jan 19 1970 10:43:46 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:52:55 GMT+0900 (日本標準時)\nsirius-king api mtg 6/25\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1400-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 6/18]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro/mikamix\n\n[** 諸々確認メモ]\n\tさとうさんは今週まで\n\t\t来週以降のBCU Androidは深澤が引き取り\n\nfukazawa[fukazawa.icon]\n\tsirius-api 仕様\n\t\t[Sirius-console向けapi整理]\n\t\t\t今日レビューします\n\t\t\tGET/DELETE系から実装進める\n\t\t\t\tLocks→Groups→Group Locksの順番\n\t\t\tPOST/PATCH系はまだ\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tBCU関連\n\t sl1のhubをlatestにするapi作成中\n\t その後、招待系のAPIを着手予定\n\t\t進捗はこちら-> https://github.com/qrioinc/king-api/issues\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\t\t履歴はプッシュ方式にするのが良さそう(kmi)\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n　\tmanager - admin間で中間テーブルを設ける必要アリ(bcuのhub登録時にmanagerのidいっぱいあったらややこしいので)\n\ntopaz2\n 請求書決済 実装\n \t決済用CSVダウンロード\n \t\tstaging 環境待ち　調整中(来月中頃までかかりそう)\n \t\t\t現状イキで進めてくださいませ[ymtk.icon]\n クロスモール連携メール送信\n \t本番環境しかないため ymtk さん確認待ち　調整中(まだ全然)\n \t\t現状イキで進めてくださいませ[ymtk.icon]\n BCU実装サポート\n\nymtk[ymtk.icon]\n\tv: apiドキュメント（要望含め）書きました\n\t\t[Sirius-console向けapi整理]\n\t\tpostman便利（数ヶ月ぶり2回目）\n\to: 契約\n\t\tNP後払い、payjpすすめてます\n\to: crossmall\n\t\tメアド作る＋店舗作る\n\n[h.yamaguchi.icon]hiro\n\tv: ロック登録\n\tv: ロック削除\n\tv: ロック一覧\n\tv: ロックの更新\n\tv: オートロック設定\n\tv: 解施錠位置の設定\n\to: ハブ登録\n\to: ハブアップデート\n\to: サブロック登録\n\to: CIの設定\n\n[mikamix.icon]\no: consoleのタグが果ってあるやつ\no: GET locks/{uuid} にgroupを含める\n\n\n事業前提\n\t8/19リリース目標\n\n##sirius #定例 #sirius-api\n\n# Qrio Lock 記事施策\ncreated_at:Mon Jan 19 1970 10:52:47 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:52:47 GMT+0900 (日本標準時)\nQrio Lock 記事施策\n[* 記事リスト]\n\thttps://docs.google.com/spreadsheets/d/174Zj0kqb25KaQtxjTXD1tXS3sxI3ucJ5sndYYrmbjrI/edit##gid=0\n\n[* TODO]\n\tblogテーマ選定\n\t記事執筆者展開\n\t説明会\n\t記事公開と効果測定\n\t\t流入、時間、他何か出す\n\n# c-team定例 19/7/01\ncreated_at:Mon Jan 19 1970 10:52:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:52:41 GMT+0900 (日本標準時)\nc-team定例 19/7/01\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/nakano/zawa/knarita/takeuchi/\n\n欠席\nymtk/ichikawa/\n\n前回\n[c-team定例 19/6/24]\n\n[*** アジェンダ]\n[* Web分析 現状]\nhttps://docs.google.com/presentation/d/1ha4R53RcxTm95EDUxg6pAogEdWM-ZzUeVCJboKgolJo/edit?usp=sharing\nこれを踏まえqrio.me/smartlock/に流入したユーザが次に見てるページ超ざっくり見た\n新規\n[https://gyazo.com/9bfadeb5f398a237cbea1bf12da95ed4]\n\nリピーター\n[https://gyazo.com/0bb1829e3fcc92130961753fbc528924]\n\n\t取付方法は？取付られんの？のあたりを気にしてる傾向がある\n\t\tただし、新規の8割以上は直帰してる\n　\t取付動画とペパクラをうまく連携させるべきか？\n\n[* キャンペーン 現状]\n\t\tキャッシュバックCPN状況 / 原田さん\n\t\t\t前回定例時点で応募2件\n\t\t\t6/27（木）で16件\n\t\t\t販売　週200〜300\n\t\t\t店頭スイングポップやリーフ5000\n\t\t\t\t店員見てない？1000〜2000\n\t\t\t\t店頭展開100件\n\t\t\t\t本当の消費者は3000前後\n\t\t\t6/20〜6/30 pdfダウンロード（閲覧） 約50\n\t\t\t6/20〜6/30 amazonリンク596件\n\t\t量販販売状況\n\t\t\t夏季商戦きまだ動いてない\n\t\tお試しキャンペーン 9〜11月の施策の1つとしてやる\n\t\t\t最適な実現方法を検討中\n\n[*** 施策一覧の確認]\n\t\t現状対応中の施策は教えてください\n　\t認知施策の実行まで決める\n\n[*** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n※施策を着手されてるあればご記入ください\n\n\tCS 関口さんからいただいた率直な見解\nhttps://docs.google.com/document/d/1MD6o0vp1vmuN8Gk_C-JWp7QP22tE5mKXwxt1qHzM_WQ/edit\n\t\t認知、興味フェーズで理解を得なければならない\n\t　\t小暮さんLPやってた気がするが、その後どーなった？\n\n[* 認知施策]\n\t実演販売\n\t\t認知最大○\n\t\t\tやるなら認知→興味に比重おいた方が良い\n\t\t実売最大△\n\t\t\t凄腕雇っても1日5〜10台\n\tコンテンツマーケなどのバズ狙い\n\t\tsesameなどの競合対応\n\t\t習慣を変える何か\n\t\t\t【ex】電動歯ブラシと歯ブラシの違い\n\tSB売り場づくり（スマートホーム ）展開中\n\t\tロックも入ってるので、スマートホーム 関連製品の認知獲得はできそう\n\t\t東新宿、新宿南口側のヤマダ電機\n\t懸賞サイト\n\t\t懸賞という軸で、リードを獲得することができる\n\t\t大手（試供品関係）→費用対効果は高いと言われている\n\t\t\t40〜50代の女性多そう\n\n認知→興味の施策はROI証明が若干むずいので、\n購入につなぐシナリオで考えるべきでは？\n\n\t瞬間的（30分くらい）に売れるトークを我々が持っていないといけない\n\t\t①見せられる状態を作る\n\t\t\tどのタイミングどんなイメージ訴求で行くか緻密に設計する\n\t\t\t\tただし、Qrioがメインで伝えたい根幹はベースに置いとくべき\n\t\t②チャネルや施策などはそこから考える\n\tすぐ売るなら恐怖訴求（リスクの提示）が一番しっくりくる by kokichi\n\t\t【ex】電動歯ブラシなら20〜30代の6割は歯周病\n\t\t【ex】AGAはそもそも脱毛止めないと、育毛治療しても意味がない！\n\n\tスマートロックでいう恐怖訴求（リスク）は？\n\t\tカギの紛失年間6000件（仮）\n\t\t\tカギシリンダーごと変えるのに3万\n\t\tカギを施錠しててもピッキングしたら15分で解錠できちゃうよ\n\tかつ、直近不法侵入などの被害受けた著名人に言わせると共感を生む\n\t\t高須院長\n\tIoT製品界隈の会社同士で褒めるコンテンツ\n\t\tスマートロック業界同士でで褒めるのはリスクと限界がある\n\t\tA社がB社を褒める→B社がC社を褒める→C社がA社を褒める\n\t\t\t最終的に自社製品を薦めている\n\n[*** NEXT]\n次回定例までに\n\t①訴求内容\n\t\tおもしろバズコンテンツ×1人1案\n \tすぐ売れるセールストーク×1人1案\n\t②具体的施策\n\t\t①が終わり余力があれば\n\n##toC #定例 #議事録\n\n# Castle プロダクトバックログ past\ncreated_at:Mon Jan 19 1970 10:10:42 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:48:33 GMT+0900 (日本標準時)\nCastle プロダクトバックログ past\n既にリリース済みの物を置いていく場所。\n\n[* 前回]\n[*** v19.06.26]\n\t実装中\n\t\t建物・部屋の権限移動[ymtk.icon]\n\t\t\t権限移動後の履歴も対応必要\n\t\t\t現状\n\t\t\t\t部屋の権限を変える→建物権限は変えない\n\t\t\t\t\t建物を操作できない→アプリ設定権限を付ける動線がクリックできない。\n\t\t\t\t\t\t本来はこれも権限を付けられる必要がある。そうなると部屋経由？\n\t\t\t\t\t\tそれとも、おとなしく建物変えるときに部屋もまるっと、の方が分かりやすい？\n\t\t\t\t\t権限を変えると、対象の部屋について元のアプリアカウント設定も消す必要がある。ページ自体エラーしてしまう。\n\t\t\t\t\t\tなおさら別の機能として切り出した方が良さそう。子→親の時は、実質入居モードへの切り替えと同じ\n\t\t\t\t\t\t\t電話カギ殺す\n\t\t\t\t\t\t\tアプリアカウント殺す\n\t\t\t\t\t\t定例で仕様相談する。\n\t\t\t\t\t\t\t建物を変えれば部屋も全て変わるようにする\n\t\t\t\t\t\t\t電話カギ・設置アプリアカウントへの紐付きはリセット\n\t\t建物の履歴一覧\n\t\t\t建物に関わる操作が全て出てくる\n\t\t建物の名前編集\n\t\t\tそのまま\n\t\t部屋の削除\n\t\t\t空室かつ機器が設定されていなければ削除可能\n\t\tアラート\n\t\t\t電池切れ、オートロックエラーの場合に表示\n\t\t子グループの建物リストを親から確認できる\n\t\tログインID変更\n\t\tパスワード自己変更\n\t\tアカウントのルール変更\n   会社が異なれば同じメアド、同じログインIDを利用可能\n\n[*** v19.06.12]\n\t実装済み\n\t\tgzip配信[ymtk.icon]\n\t\t名前で建物を検索[ymtk.icon]\n\t実装中\n\t\tファミリーキー招待24h対応[ymtk.icon]\n\n[*** v19.06.04]\n\t実装済\n\t\t電話カギへの名前追加・一覧表示・履歴表示 [ymtk.icon]\n\t\tアラートquery[mikamix.icon]\n　\tパスワードリセット時に、確認ダイアログ表示が出てくるようにしてほしいNo183\n　\tリモート解施錠で権限なしの時、この部屋は入居中です。入居中の部屋をリモート操作するには親グループによる許可が必要です。と記載されている（許可する編集する機能が無いため今は出来ない）No153\n  ユーザーを作成するボタンが連打できてしまう No204\n  グループリストから遷移した画面のパンくずリストの名称をグループ詳細としてほしい No206\n  リモート解施錠で権限なしの時、この部屋は入居中です。入居中の部屋をリモート操作するには親グループによる許可が必要です。と記載されている（許可する編集する機能が無いため今は出来ない）No153\n \t設置アプリアカウントと建物との紐付けで必要なクリック数が多い対応[ymtk.icon]\n \tapiのエンドポイント階層変更[mikamix.icon]\n \t入居・空室モード切り替えは権限がありません。と表示しているので合わせる No.200 [ymtk.icon]\n \t「BCUアカウントのQR発行」について、ヘルプ動線をつける[ymtk.icon]\n \tグループのリモート操作許可切り替え[ymtk.icon]\n  グループの名前変更[ymtk.icon]\n  設置アカウント削除[ymtk.icon]\n\t\tユーザー削除[ymtk.icon]\n\t実装中\n\t\tなし\n\n\n[*** v19.05.21]\n\t実装済み\n\t\tアラートテーブル＆オートロックエラー[mikamix.icon]\n \tユーザー単体登録(c/a)[ymtk.icon]\n \t建物内部屋の並び順修正(c)[ymtk.icon]\n \tサンプルcsvの記載変更(c)[ymtk.icon]\n \tその他小fix(c/a)\n \t設置アプリアカウントの有効期限切れ関連(c/a)[ymtk.icon]\n 実装中\n \tiOS版 BCU[h.yamaguchi.icon]（仮）\n 実装前\n \tなし\n\n##castle #プロダクトバックログ\n\n# Sirius 全体dev mtg 19/6/28\ncreated_at:Mon Jan 19 1970 10:48:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:48:23 GMT+0900 (日本標準時)\nSirius 全体dev mtg 19/6/28\n[https://gyazo.com/4a5067a6f9dcc71ddee2fa192ffbf6ff]\n\n[** 進め方]\n定例とch\n\t毎週金 1500-1530\n\t`##sirius-dev`\n\tPM: zawa\n\n[*** 状況]\n[* 今週]\n\ntopaz2\n\tsirius-api-staging 環境\n\t\tDB リプレース\n\tAPI 実装\n\t\tPOST /groups\n\t\tBCU サポート\n\nzawa\n\t動きなし\n\n\nnarico [narico.icon]\n\t-v XDデザイン修正\n\t-v フロントやり取り\n\t-v 工数再見積り\n\t\t中島さん、吉本さんとはよしなにやってもらう部分含め話つけてあります\n\t\tQrio側の予算的なところ相談したい\n\t-o 支払い履歴やってなかったので作る\n\t-o フロント側との調整\n\n\nkmi[komai.icon]\n https://github.com/qrioinc/king-api/issues\n BCUでいうとsl1hubのアップデートを来週やる\n  完了\n 合鍵仕様おおまかに決まったので取り組む\n\nhiro[h.yamaguchi.icon]\nwebApiの繋ぎこみ作業\n\tv: CI環境構築\n\tvo: サブロック登録\n\to: ハブ登録\n\to: パスワード再発行\n\ntomohiko[tsato.icon]\n -v 成果物引き渡し\n \tログイン済みだったら、ロック一覧、未ログインだったらログイン画面\n\t ログアウト処理\n\t ロック登録\n\t デザインが反映されているか確認\n\t Castleのコードは消せたら消しておく\n\t https://qrioinc.slack.com/archives/CCAQPCXPG/p1561644516024100 にタスクごとにメモ残しました\n\t-o 検収に関する問い合わせや瑕疵の対応\n\t-! MTGは本日で最後となります。どうもありがとうございました。\n\t\tありがとうございました[h.yamaguchi.icon]\n\nymtk [ymtk.icon]\n\tv: フロント環境構築フォロー&readme作成\n\to: 適宜使えるapiを拾ってapiテストページ作成\n\t\tget系は揃っているけどpost系がまだ。何かしらを更新したい\n\t主務toCチームなのでいろいろ離れていくかも？業務周りはやります\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tWebアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\n[** その他気になること]\n\tカギの招待周りが作り方これからだと聞いてます[ymtk.icon]\n\t\t駒井さん、ymtkさんが案を持ってる\n\t\t来週話す\n\t合カギ招待周りのつなぎこみ [narico.icon]\n\t\tAuth0に招待するの結構リスクでは\n\t\tログイン画面とか必要な画面はこちらで作る\n\t\t\tルーティングはなんでも良さげ\n\t\t繋ぎこみはBCUとか絡みが複雑なので社内でやった方が良いんでは（誰がというのはわかる\n\tカギカンの仕様が売上状況を知りたい\n\t\t別の場で話す[fukazawa.icon]\n\t同じゲスト2回目以降のゲストキー配布の省略\n\t\tそもそも1stリリースで必要か\n\t\t一旦、メール送るで運用上問題ないはず\n\t\tymtkさんへ相談[fukazawa.icon]\n\n# 6.27 toB定例：B向け販売にあたってのちょっとしたこと２つ\ncreated_at:Mon Jan 19 1970 10:42:51 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:47:07 GMT+0900 (日本標準時)\n6.27 toB定例：B向け販売にあたってのちょっとしたこと２つ\n１．メーカー保証１年間の壁\n\t\t殊にQrio Roomonの場合ここに用いるQrio Lock, Qrio Hub は住宅設備として捉えられる\n\t\t\t電化製品系住宅設備（エアコンなど）の耐用年数は通常3～5年程度が一般的\n\t\t\t\t更に数年程度の延長保証が付帯されることも多い\n\t\tこれに対し、「メーカー保証1年」は驚かれることが多い\n\t\t\tIoT商材として、一般電化製品と同等の保証（3～5年）は厳しい\n\t\t不動産業界の常識を変えるか？我々が対応するか？\n\t\tQrioとして取りうる手段\n\t\t\t設計耐用年数は7年（錠前と同レベル）だから安心と説得\n\t\t\t\tこれまでの故障率提示で安心させる\n\t\t\t延長保証を提供\n\t\t\t\tQrioのリスクで独自延長保証\n\t\t\t\t保証会社の延長保証サービスを利用\n\t\t\t\t\t[- 月額費用が商品価格の10%が目安（2,300円／月）]\n\t\t\t\t\t保険商品としての延長保証を活用（三井住友海上と商談中）\n\n\t\t【Update】お客様が欲しているのは何か？\n\t\t\t単なる延長保証で満足するのか？\n\t\t\tそもそも長年使用しても壊れない堅牢性？\n\t\t\tそれによって提供すべき内容が変わってくる\n\t\t\t\tKingは10万回程度のテストを回した実績もあるはず\n\t\t\t\t\t[* Action]：楢原さんに確認する\n\t\t\t\t[* Action]：多田さんへMFLの状況を確認する\n\n２．価格も評価もアマゾン基準\n\t\t価格\n\t\t\t見積提示にあたって、社内基準に基づいた見積額提示が前提だが、客先はアマゾンでの売価（もしくは価格コムの最低価格）を参照し、その価格との比較で割引率を算定することが常\n\t\t\t\t実売実績の乏しい謎sellerなどのゲリラ価格を基準とされることも\n\t\t\tゲリラ価格はさておき、アマゾンが価格コム上の実勢価格を基準価格として捉えられるので、実勢価格下落はB市場での販売にも影響が大きい\n\t\tレビュー\n\t\t\t客先担当者およびEnd B（Castleだとオーナーさん）はほぼ全員がアマゾンのレビューを参照し、これを事実として捉える傾向が強い\n\t\t\tTwitterやその他メディアからの情報取得は見られず、アマゾンのレビューが正義の傾向\n\t\t\t\tQrioはみんな落ちるって言うけど、本当に大丈夫なの？\n\t\t\t\t\t脱脂や貼付方法などを説明しても、理屈ではなく両面テープ取り付けが受け入れられにくい状況\n\t\t\t\tハンズフリー開かない\n\t\t\t\t\tDozeモードやGPS精度設定を説明するも、「とは言え」的な反応\n\t\t\tC向け市場、特にアマゾンでのレビュー／評価がB向けに与える影響も大きい\n\t\t\t\t→実はレビュー改善はB向けでも重要\n\n##toB\n\n# 開発部 toB 案出し\ncreated_at:Mon Jan 19 1970 10:42:39 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:47:05 GMT+0900 (日本標準時)\n開発部 toB 案出し\n6.24 [保留]\n ソニールールで業務を行うことが、現状では効率が悪いので困ってる。\n \t会社のサイズに対して、ルールの想定している規模が大きいためマッチしないことが多い。\n \t\tルール適用をそのままにすると、運用コスト、実働が増えてしまうため、ルールをかいつまんで、コストダウンをめざす。\n \t\t\t→ [[コスト圧縮することで損失を軽減して、利益に転換する。]]\n\t\t\t\t具体的にどんなルールがあるんすかね? → 参考出します。[hazimetyan.icon]\n\n サービスのリリースに対して、今後、CSの体制が追いつけないとボトルネックになるため、それを避けていく施策必要\n \tお客様に対応できる品質が保っていかないと損失がでると考えている。プロダクト自体の品質も影響大だが。\n \t\t損失に対して、スケールアップするための施策を検討する。\n \t\t\t→ [[予測される損失を軽減することで、利益に転換する。]]\n \t\t\t本来的には問い合わせそのものを減らすということが大事なのでは?\n \t\t\tBとCを分けたりとかすることで、コントロールしやすくなったりするか?\n \t\t\t\t→ 体制変更によって、改良策を検討しています。\n \t\t\t\t\tSirius/kagican/manoma あたりを名古屋から移管する方向で、内部の強化にあたってみる\n \t\t\t\t\tSNC/Sony のCSに統合することも視野に入れてみては。(横田さんに聞いてみては)\n\n\tコードの品質を保てていない。実装者依存になってしまっている。\n\t\t技術的負債があることによって、サービス運用中に発生する問題にすばやく対応できなくて、サービス品質を落とす可能性がある。\n\t\t\t品質を上げることは良いが、無限に上げるわけではなく、コストとリスクを天秤にかけて、品質担保にリソースを回す。\n \t\t\t→ [[予測される損失を軽減することで、利益に転換する。]]\n \t\t\t\t新規の開発がはじまった段階で、見積もりの中にコードの品質担保の工数を項目を追加して可視化する。(現実的な範囲で)\n \t\t\t\tコードの設計思想をドキュメント化を強化することで、後から参加するメンバーのコスト下げることができる。(プレイヤーのスキルが高くなくても、参加しやすい状態を準備する)\n \t\t\t\t品質の定量化は考えてみる\n \t\t\t\tドキュメント化の文化を進めていけば、toBに対して開示できる資料にもつながるので、文化として育てていったほうが良い。\n\n\t現状の体制で、HubのFWを理解しているメンバーがいない\n\t\t新しいプロダクトに着手するにあたって、現状の製品を、どのようにして改修することができるかを判断できるメンバーがいないため、改修や、新FWの作成に対してのコストの妥当性が測れない。\n \t\t→ [[予測される損失を軽減することで、利益に転換する。]]\n\n出た課題\n この世にはいろんな鍵のツマミがあるが全てに使えるロックを作るにはどうすればいいのだろうか\n MANOMA案件は売り方を変える案がなくなったのでMANOMAからロックを直接操作しなければいけない(10月まで)\n castleのLPが説明不足感ある\n  電話カギ、操作履歴、物理カギ不要、入居者のメリット提示、consoleからの遠隔操作、鍵を一括消去できる機能があることについてLP内で推すべき\n NASTAが描いている集合限界突破装置にQrio側が必要な機能をのっけるとNASTAが想定している開発費用を超えるため折り合いがつかなそう\n ロックを売るというよりはロックを使った事業を作らなくてはならない\n 駒井としてはIT重説なんかの仕組み調べて大変か否か軽く考察するのがいいんじゃないか\n\n\n##toB #toB開発部\n\n# MANOMAまとめ(随時更新)\ncreated_at:Mon Jan 19 1970 10:37:03 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:46:58 GMT+0900 (日本標準時)\nMANOMAまとめ(随時更新)\n1st step\n[- まずは売り方を変えてlockの販売を増やす]\n[- 現状案だとhubとセットで売るにあたってhubの利益がマイナスになってしまう]\n 2nd stepからじゃなきゃ対応されなくなりました\n\n2nd step\n Hubを介さないで通信できる仕組みを作ることによってマイナス部分を無くす\n hubあるいはfobのFWの知識が絶対に必要\n　 今は竹内さん、深澤さんにアドバイスを求めるしかないがちゃんさんや駒井がそこを負担できるようになればよし\n\ncode: 竹内さんと話し合って考えた策\n 今後toBで「うちのデバイスにQrio Hubの機能を入れたい！」というお話が出てくると思われます。\n そこで今のハブから、モジュール依存部分を切り出して、別個で管理したいと考えています。\n \n FWのソフト設計の他、工場で書き込む個体情報など、いくつか懸念事項があります。\n まだ具体的な話が進んでいるわけではありませんが（もうすぐMANOMAの件があります）、設計およびI/Fの検討は始められると思うので、始めようと思います。\n \n ちょうどH4M (guardian) のリファクタにとりかかる段階なので、上記のようなかたちを目指します。\n \n SDK化の方向性です。多分、単発の関数の塊ができあがるかと。。\n \n  - モジュール依存部分（BLE, Wi-Fi, OS, Storageなど）は、I/Fを設け、実装は向こうにやってもらえるかたちにする。\n    - いくつかモジュールを触ってきたので、勘所はだいたいわかります。\n  - 不確定要素となる部分（たとえば接続性など）は極力、こちらが担保しなくて済むかたちをとる。\n    - こちらが提供するのは、すべてUnitTestが容易に書けるものだけ、のイメージです。\n  - 個体情報や署名/検証鍵の管理は、こちらではしない。鍵生成の仕組みだけ提供する。\n    - key_seedは向こう管理にして、鍵ペアも向こうに作らせる。うちは向こうから公開鍵だけもらう。\n  - c99。なるべくコンパイラにも依存しないようにします。｀｀｀\n\n##toB\n\n# Dev MTG 2019/6/25\ncreated_at:Mon Jan 19 1970 10:43:46 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:44:07 GMT+0900 (日本標準時)\nDev MTG 2019/6/25\n[https://storage.tenki.jp/storage/static-images/suppl/article/image/1/13/130/13021/1/large.jpg]\n\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t正社員募集中\n\t\tWantedly+リクナビHRTech\n\t\t\tサーバー\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n\n[*** 各PJ]\n[** 他社連携（ymtk、深澤）]\n\t検討中案件\n  OYO 進行なし\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  NASTA[ymtk.icon]\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\t\t今週、高橋さん＆山川さんで話に行く\n \t\t\t\tQrioの開発チームは作業無いかも\n \t\t\t\t集合玄関、もっと安くしろと言われた\n \t\t\t\tビジネスのボールはNASTA持ち、案件確度高い\n \t\t\t\t開発の座組は山川さんにてボール持ち\n \t\t\t\tHWの開発はQrio/Sony、開発費はNASTA持ち、HWの権利はQrioが持てる\n \t\tphase1ではQrio Keyのビーコンを読み取って開ける形になりそう\n \t\tいきなりphase3まで作るか検討中\n \tコクヨ 進行なし\n \t\t駅の作業BOX案件。全国400BOXくらい\n \tMANOMA\n \t\t[MANOMAまとめ(随時更新)]\n \t\tSTBにQrio Hub機能 or Qrio Key機能を入れたい\n \t\t\tロックたくさん売れるようになる\n \t\t\tSTB側の開発はSNC\n\n[** Joker (ymtk、深澤、竹内)]\n\tロックにディスプレイをつけるかもしれず、そのUXを検討中[takeuchi.icon]\n\t\t「玄関まわりの最適化」を目指している。たぶん。「忘れ物などあれば玄関で通知してくれる」など\n\t\tスマホを玄関のドアに貼り付ければ検証できます\n\t\t今週渡辺さんに一次sync予定[ymtk.icon]\n\n[** Castle (三上、hiro)]\n\tWebアプリ(三上さん)\n  三上\n  \tpresence\n  \t 取得したUUIDに差異 -> 解決\n  ymtk\n  \t今週はリリース週。\n  \t\t新規\n  \t\t\t建物のグループ移行\n  \t\t\tアラート表示・解決済み操作\n  \t\t\t自分のログインID変更\n  \t\t\t部屋削除と履歴\n  \t\t[##Castle 未解決・対応中の項目管理]\n  \t\t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tsl1hubを最新にするapi作成中\n\t\t\t今週中にできる見込み\n\tsirius-api\n\t\t今日API仕様をレビューしました[fukazawa.icon]\n\t\t[Sirius-console向けapi整理]\n\tWebフロントUIは要件詰めました。フロント担当調整完了？\n\t\t成田さんとは契約完了\n\t\tフロント2名はNDA→見積りまで\n iOS\n \tsiriusで必要なUIはだいたい全部終わった\n \tロック一覧・登録・削除・オートロック・解施錠位置調整は終了\n \t残り作業\n \t\tハブ\n \t\tサブロック\n Android\n \t来週から深澤が引き取る\n[sirius-king api mtg 6/25]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa（進行なし）\n  審査進行中[ymtk.icon]\n  \t1ドア2ロックでうまく解施錠状態取れない（解錠はできる）問い合わせが週換算0.5件くらい来る\n  この挙動、CUに入れてもいいのかも･･･（リモートの時、Hubかロックが死んでいたらエラー表示）\n   \t時間ができたらやる[fukazawa.icon]\n   \t急ぎではないです\n\n[* API (駒井)]\n　招待周り、apiドキュメントの更新必要[ymtk.icon]\n 　塩漬け\n lockに紐付いているfamily_keyを出すapi作成\n\n[* OYO界隈(ymtk)]\n（前回までのシステムアーキ関連の話は [Dev MTG 2019/5/20] を参照）[takeuchi.icon]\n\n[* CU (深澤、竹内)]\n\tiOS版\n\t\tApple Watch Series 2でアプリが使えないらしいので調査する[fukazawa.icon]\n\t\t\t再現したが、調査難航中(デバッグ実行だと動作するが、通常実行だと起動時に落ちる)\n\n[* King Hub (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n（進捗なし）\n\n[* Guardian (竹内)]\nESP32で粛々と実装中\n\tリファクタ、lintツール導入、など。細かい部分を修正中\n工場でのFW書き込み速度が遅いかも\n\tヘルツさんとやり取り中。ボーレート設定など見直し中だが、結局ヘルツさんに聞かないとわからない\nその他\n\tWi-Fiルーター接続互換性評価\n\t\t委託はせずQrioでやる\n\t\tルーターも自前+QaaSさんで準備。回線はworking spaceなどどっかで借りる\n\t\t検証は、FWも含めた形で9/2(月)から実施する\n\tWi-Fi/Bluetooth SIG認証\n\t\tソニーグループ内でやると安い、手続き中(ymtk)\n\n[* Guardian 製造・制作系 (ymtk)] 進捗なし\n 楢原さんから取説チェックポイントをもらったのでスプレッドシートで要件まとめていきます\n 箱の一次デザインは7月。内部的なデザインはマユトさんが組んでくれました[ymtk.icon]\n 今週中に報知やっつけます→やるやる詐欺だった[ymtk.icon]\n\n[* Guardian セキュリティ(チャン)] [進捗なし]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Q-SL1 Android版、64ビット対応\n \t64ビット版のMQ LibraryをSGMOへ依頼中\n \t6/27に受領予定\n Q-SL1 iOS版、Swift5対応＋特定のロックがオーナー登録できない不具合\n \t対応完了、SQA中\n Q-ST1 Android版、クラッシュ頻発問題\n \t修正完了、SQA中\n\n[** 情報システム (チャン)]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n 社内DNS設定。AkamaiのETP導入\n  ようやく対応しました。\n  インターネットがおかしいとか、遅い、見れないページがあるとかあれば連絡ください。\n Twilioの会社情報の更新\n \t11.21まで\n \t連絡きた、集会来いと言われた\n \tどこに何を提出すればよいか確認中\n 1passwordの導入\n \tいいんじゃなかろうか\n \tOKTA、LastPassあたりが良さそう？\n \tすいません日本語たいおうしてないかも\n \tエンジニアもパスワード管理(シングルサインオン)ツール使いたいです＞＜\n\n[** QaaS(チャン)]\n 来月？からチャンさんが交代予定\n \t公認の紹介まだ、7月一杯居てくれるかも\n\n[** CSへのテクニカルサポート(チャン)]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tr-tadaimaいつ止めるのか？\n\n[** 健忘録]\n\tpostman、ドキュメント機能分かってきた[ymtk.icon]\n\t\thttps://documenter.getpostman.com/view/4577134/S1a1b9H3?version=latest##a6a36341-1485-49eb-923b-d5d88ee970ce\n\n# Sirius-console向けapi整理\ncreated_at:Mon Jan 19 1970 10:39:58 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:43:57 GMT+0900 (日本標準時)\nSirius-console向けapi整理\n[** swaggerにあるapi]\n[* sirius（仕様検討用）]\nhttps://documenter.getpostman.com/view/4577134/S1a1b9H3\n ymtkが動作確認できなかったもの(500エラー、nullなどには`NG`記載\n レスポンスに`DR`記載されているものはymtkからの仕様提案\n\n[** まだ動いていなそうなので提案したい]\n\t合カギグループ検索\n\tロック取得\n\tロック一覧取得\n\t組織ユーザー検索\n\t組織ユーザーのグループ登録\n\t\tユーザー編集に混ぜるか要相談\n\t提案仕様\n\t\thttps://documenter.getpostman.com/view/4577134/S1a1b9H3?version=latest##a6a36341-1485-49eb-923b-d5d88ee970ce\n\n[** まだなさそうなので提案したい]\n\t解施錠履歴の取得\n\t組織ユーザー一覧\n\t合カギグループ一覧\n\t提案仕様\n\t\thttps://documenter.getpostman.com/view/4577134/S1a1b9H3?version=latest##d069dc46-1ce6-4fb2-ab3a-036d5bd35841\n\n\n[* management-api]\nhttps://documenter.getpostman.com/view/4577134/S1a1b9H5\n\tking-apiのmanagement拡張\n\n\n# Castle 週定例 2019/6/25\ncreated_at:Mon Jan 19 1970 10:33:57 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:43:57 GMT+0900 (日本標準時)\nCastle 週定例 2019/6/25\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/6/11]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[h.yamaguchi.icon]\nbcu-iOS\n\t作業なし\n\tアラートの開発待ち\n\t\tアラートの必要カラム、テーブルが判明次第、BCU用のAPIに反映させることができる\n\t\t\tアラートは終わったがbcuへの組み込みは待ち\n\n[ymtk.icon]\n\tv: 今週リリース予定の対応\n\t\t新規\n\t\t\t建物のグループ移行\n\t\t\tアラート表示・解決済み操作\n\t\t\t\tリリース時にking側の環境変数忘れないように\n\t\t\t自分のログインID変更\n\t\t\t\tちゃんさんのユニーク対応受けて処理\n\t\t\t\t10桁乱数じゃなくてOK。カンパニー＋IDでユニーク見る\n\t\t\t部屋削除と履歴\n\t\t動作変更\n\t\t\tロック削除前のアラート削除\n\to: hubのpresenceが来たらビュー対応\n\to: 発行済みファミリーキーあるのないの表示\n\t\t入居者が使いはじめたのどうなの判定。管理会社が知りたい、知った上でサポートしたい要望\n\to: 引き継ぎ資料作ります\n\n[hazimetyan.icon]\n v: usersテーブルのlogin_id/email を、campany_id を含んだマルチキーに変更をした。\n !: castle に工数、まだ割けてない。優先度低めで動いています。\n\n[mikamix.icon]\n o: エンドポイント(app, log, web, status)をディレクトリに分けたい\n  これできました\n  o: 中身もっかい見てみます(この分類でよいか最終チェック)\n  o: specが各ディレクトリの中にあるのは自然?\n   testディレクトリもある\n   何のテストかわからなくなるのが嫌なのでそのまま\n   全体的に見てみよう\n o: バッテリー残量低下のテスト\n  jestのキャッチアップ\n  ロジックが入ってるので\n  どっかのディレクトリにいれる\n o: Hubの死活\n  o: GraphQLに項目追加\n   Hubに追加\n   room -> hub\n   o: 死んでる一覧が欲しい\n    フィルターを作成\n  PubNubのpresence使用\n  数が少ない(20台)ので一台ずつチェック\n   量が増えたら全部一度にチェック\n  v: カラムの追加(is_alive)\n  v: バッチ処理の追加\n  !: presenceで取れるUUIDが合ってない? (確認中)\n   ハイフンの扱い? エンディアン?\n\n##Castle週定例 #Castle\n\n# B案件\ncreated_at:Mon Jan 19 1970 10:23:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:42:41 GMT+0900 (日本標準時)\nB案件\n CSのためのKPI取る\n MANOMA\n  lockはadvanceプランにしかついてこないがadvanceはtoo muchすぎて売れてない\n コストコ\n  新規開発案件ではなさそう\n NASTA\n  Qrioキー経由で宅配ボックスを開ける案が出てる\n  集合住宅のオートロック解施錠を一緒にやろうとしてる\n OYO\n  基盤売ってくれ案件\n　 日本のOYOはうちのサービスも含めて使いたい\n 野村不動産投資顧問\n　 roomon系\n\n##toB\n\n# c-team定例 19/6/24\ncreated_at:Mon Jan 19 1970 10:42:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:42:39 GMT+0900 (日本標準時)\nc-team定例 19/6/24\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/nakano/zawa/knarita/ichikawa/takeuchi/ymtk\n\n[** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n\n前回\n[c-team定例 19/6/17]\n\n[*** 事業目標]\n\t年間売り上げ12億の達成\n  法人・不動産抜くと8億（うちMANOMA1.2億）\n  2019 / 12億、2020 / 24億、2021 / 48億\n [*** 10分に1台売りましょう]\n\n[** アジェンダ]\n\tQrio Site KPI / 中野さん\n\t\thttps://docs.google.com/presentation/d/1ha4R53RcxTm95EDUxg6pAogEdWM-ZzUeVCJboKgolJo/edit?usp=sharing\n\t\t\tQrio Site PV的にはいまの2.5倍必要\n\t10分に1台メモ / ymtk\n\t\thttps://docs.google.com/presentation/d/1AuU_5uWV-N6S2gNkT0WgINIZzGy9epUmvsp0cxGFROE/edit##slide=id.p\n\t\t\tAISASのAI頑張る必要ある\n\t手売り界隈 / 原田さん・成田さん\n\t\t分析もやりつつ･･･\n\t\t\tいま手売りが一番売れるんじゃないか疑惑\n\t\t\t\t5000台/30日=166台/日\n\t\t\t\t広告よりも･･･？\n\t\t\t\t\tプロ販売員という話\n\t\t\t\t\thttps://www.copa.co.jp/profile/　話聞いてみるとか\n\t\t\tタグの時\n\t\t\t\t1時間1個売るのも結構大変でした\n\t\t\t場所を使わずにやる方法（初期投資抑えても）\n\t\t\t\t有楽町ビックの1Fの回線販売員（ヒトコミュニケーション）にインセンティブ渡して依頼するとか。\n\t\t\t\t移動車で売ってみる。\n\t\t\t\t\n\tいっちーNo.1案件 / 市川さん\n\t\tスマートロックいいな、と思っている人対象。競合対策。\n\t\t\tもう入ってきた人を取られない\n\t\t\tキズナさん\n\t\t\t\takerunのマークも担当している\n\t\t\t\t[https://gyazo.com/b605ce2357ed9f17cd4ca272e5bc9563]\n\t\t\t\t\t賞味期限は2年ほど\n\t\t\t\t\t1個80万以上\n\t\t\t\t\t\t高いのでは･･･\n\t\t\t\t\t\tPR times出稿付き\n\t\t\t\t\tGD賞\n\t\t\t\t\t\t[https://gyazo.com/0579cd3531d0c221b9824519d34c6f93]\n\tjoker状況 / mayuto, zawa\n\t\tハードのサイズはSesame mini並\n\t\t外出直前の価値検討中\n\t\t\t交通遅延、スマホ忘れなど\n\tキャンペーン施策[takeuchi.icon]\n\t\thttps://docs.google.com/spreadsheets/d/1Ps7OvU8f8baL1x5RPxOHPOWSHJ99unYa7Evi-hnnt8Y/edit##gid=0\n\t\thttps://docs.google.com/presentation/d/10mPbE9jt8qqkTlr_FCISYmrTDZQNhC5L1VTKcIalI78/edit?usp=sharing\n\t施策シート\n\t\thttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815\n\tその他共有\n\t\t現状のCBキャンペーン効果数値気になってます[ymtk.icon]\n\t\t\tこれ次第で友だち紹介CPの可能性も見える\n\t\t\t\t（あとでメモよろしくお願いします）\n\t\t\t\tSBセレクション5台は微妙\n\t\t\t\t\tSB大好きなユーザーしかいない\n\t\t\t\t\t元々そこまで効果見込めない\n\t\t\t\tY! 28台はよい\n\t\t\t\t\tまだ何もしてないのにこの数字（バナーだけ）\n\t\t\t\t\tこれからメルマガが控えている。普段の14倍。\n\t\t\t\t\tモール系強い可能性。データは2日遅れ。何でなのかは深掘りしていく\n\t\t\t\tCB状況\n\t\t\t\t\t応募2件\n\n[* NEXT]\n\t施策一覧の確認\n\t\t現状対応中の施策は教えてください\n\t認知施策の実行まで決める\n\n##toC #定例 #議事録\n\n# 20190624_joker議事録\ncreated_at:Mon Jan 19 1970 10:42:28 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:42:35 GMT+0900 (日本標準時)\n20190624_joker議事録\n■宿題\n前回MTGした内容「面倒くさい」の\n①重度：重い、頻度：多い　に相当する具体的シーン\n②「①」を未然に防ぐ方法\n③「②」で解決することで得られる価値\n\n[* 宿題を実生活のストーリーに沿って話してみる]\n■深澤\n□天気の確認\n外出直前に今日の天気を教えてもらう\n画面や音声など\n画面：天気アイコンのみ\n\n◎議論\n\t傘は、いるorいらないだけでいいのでは？傘マークの点灯\n\t上着がいるか知りたいので気温も知りたいが、気温は人によって感じ方が違うので数値で表示したほうがよさそう\n→傘＆気温が知りたいという複数情報だと音声だと長時間かかる\n→玄関滞在時間はそこまで長くないため、複数情報を一瞬で認識するのに適している手段を探す\n\n□交通情報\n\t電車遅延の事実だけ知らせてあとはスマホで調べてもらう\n　電車の遅延を知らせる場合、5分以内の遅延は無視したほうがよさそう\n\n■市川\n\tゴミの捨てる日がきまっているマンションは、忘れると数日間ゴミと生活することになる（夏きびしい）\n\n◎議論\n\t当日出発前に玄関で知らせて間に合うのか？ゴミまとめるのに時間かかるから前日に知りたくない？前日アラートと直前両方いるのでは？\n→まとめてあるのに出し忘れパターンもあるし、祝日前であれば意地でもまとめて出したい\n\n■まゆと\n\tスマートフォンを持ち忘れて、靴履いてる最中に気づく\n→財布、Suica、連絡手段がすべてなくなる\n\n[* 音声だとどうなるか？]\nアプリ通知、スマフォ持ち忘れてる場合は音楽が鳴る、とか\n\n出来事によって伝える方法を変えるのはどうなのか？\n音声、通知音、画面\n→複数の情報つたえるときは？\n\n\n# Sirius 全体dev mtg 19/6/21\ncreated_at:Mon Jan 19 1970 10:38:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:38:28 GMT+0900 (日本標準時)\nSirius 全体dev mtg 19/6/21\n[https://gyazo.com/4a5067a6f9dcc71ddee2fa192ffbf6ff]\n\n[** 進め方]\n定例とch\n\t毎週金 1500-1530\n\t`##sirius-dev`\n\tPM: zawa\n\n[*** 状況]\n[* 今週]\n\ntopaz2\n\t請求書決済\n\t\t実装\n\t\t\t組織登録改修、決済実行用CSVダウンロード\n\t\t\t\tAPI\n\t\t\t\tsirius-conosle\n\t\t\t\tsirius-admin-conosle\n\t\t\tStagingで決裁系の機能が使えるようになるのが7月以降になりそう\n\t\t\tNP架け払いも7月以降になりそう\n\tAPI 実装\n\t\tBCU サポート\n\nzawa\n\t合カギ仕様まとめました\n\t\thttps://docs.google.com/presentation/d/1z1t45MfxaSetzUCa0U-8My47QqAJEK_TFx3-Pf67ddE\n\tAPIの状況\n\t\tsirius-apiにIssue立てました\n\t\thttps://github.com/qrioinc/sirius-api/issues\n\t\t\tDoneになっているAPIは動作するが、まだデータがない\n\t\t\t既存のCUのデータを使って動作確認できる？\n\t\t\tがんばればデータ追加できるが、がんばる余裕がなさそう\n\t\t\t\tViewにサンプルJSONが書かれているが、それを参考に進めてしまってよいか心配\n\t\t\t\tクライアントとしてはJSONの仕様が確定していれば実装がすすめられるが、JSONの設計がまだできていない部分がある\n\t\t\t\tymtkさんと相談する(深澤)\n\t\tAPIドキュメントについて [narico.icon]\n\t\t\tJSON結果だけでも分かると助かる\n\n\n\nnarico [narico.icon]\n\t-v XDデザイン修正\n\t-v フロントやり取り\n\t-v 工数再見積り\n\t\t中島さん、吉本さんとはよしなにやってもらう部分含め話つけてあります\n\t\tQrio側の予算的なところ相談したい\n\t-o 支払い履歴やってなかったので作る\n\t-o フロント側との調整\n\n\nkmi[komai.icon]\n\tissueの546, 544, 539, 541終わらせた\n \thttps://github.com/qrioinc/king-api/issues\n BCUでいうとsl1hubのアップデートを来週やる\n 合鍵仕様おおまかに決まったので取り組む\n\nhiro[h.yamaguchi.icon]\nwebApiの繋ぎこみ作業\n\tv: ロック登録\n\tov: ロック一覧\n\to: ロックの削除\nこちらレスポンスなどは[tsato.icon]さんにも共有します[h.yamaguchi.icon]\n\ntomohiko[tsato.icon]\n -v CI環境 (Bitrise, CrashlyticsBeta)\n -vo WebAPIを使ってログイン\n \t先週までにやるつもりでしたが時間が足りず完了しませんでした。本日中に完了させる予定です。\n -! ６月末までの予定なので、どこまでやるかそろそろ認識合わせたいです。今日時点で完了しているAPIまでは繋ぎこむとか。\n \t７月も少しは作業できますが、フルタイムで他の仕事する+その案件の勉強の時間が必要なのであまり時間は取れません。\n \t同じ場所で作業した方がスムーズであれば、来週１日くらいはそちらに伺えますので、検討してください。どの曜日が良いとかは今のところないですが、金曜日以外がいいかもです。\n -o 成果物引き渡し\n \t-o ログイン済みだったら、ロック一覧、未ログインだったらログイン画面\n\t -o ログアウト処理\n\t -o ロック登録\n\t -o デザインが反映されているか確認\n\t -o Castleのコードは消せたら消しておく\n\nymtk [ymtk.icon]\n\tv: フロント環境構築フォロー&readme作成\n\to: 適宜使えるapiを拾ってapiテストページ作成\n\t\tget系は揃っているけどpost系がまだ。何かしらを更新したい\n\t主務toCチームなのでいろいろ離れていくかも？業務周りはやります\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tWebアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\n[** その他気になること]\n\tカギの招待周りが作り方これからだと聞いてます[ymtk.icon]\n\t\t駒井さん、ymtkさんが案を持ってる\n\t\t来週話す\n\t合カギ招待周りのつなぎこみ [narico.icon]\n\t\tAuth0に招待するの結構リスクでは\n\t\tログイン画面とか必要な画面はこちらで作る\n\t\t\tルーティングはなんでも良さげ\n\t\t繋ぎこみはBCUとか絡みが複雑なので社内でやった方が良いんでは（誰がというのはわかる\n\tカギカンの仕様が売上状況を知りたい\n\t\t別の場で話す[fukazawa.icon]\n\n# IoT - dev 室長会 19/6/21\ncreated_at:Mon Jan 19 1970 10:38:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:38:15 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/6/21\n前回：[IoT - dev 室長会 19/6/7]\n\n[** 全体共有・相談]\n\ttoC / toB 界隈、KPIまわり\n\tリソースの凸凹と優先度再配分、アウトソース検討\n\t\tキャスタービズ etc...\n\n[** 共有・相談ネタ]\n[* 製品開発]\n\n\tGuardian (Hub 4M)\n\t\t順調\n\t\tWi-Fi接続性検証はQrio内で実施する\n\n\tCastle\n\t\t今月中に落ち着くのか確認させてくださいmm → ymtkさん\n\t\t\t昨日1日でアラートつくって、あと部屋と建物の削除を今日明日で倒すので多分落ち着きます[ymtk.icon]\n\t\t\tあとは週次のnpmアップデートくらいしか多分ないです。\n\n\tSirius\n\t\tBCU Android\n\t\t\tAPIの遅延に伴い、3/10程度の完成状況で引き取ることになりそう\n\t\tAPI\n\t\t\t来週から三上さんにヘルプ入ってもらう\n\t\t\t\t確認：Issueへのレスポンス例の記載状況\n\t\t\t\t\tあーはいやります。scrapboxにて[ymtk.icon]\n\t\t\t\t\t来週火曜日までにお願いしますmm\n\t\tConsole\n\t\t\tnaricoさん+2名で実装中\n\t\t\t\t作業は既に開始しているようだが、昨日見積もりが出てきた\n\t\t\t\t確認：契約状況\n\t\t\t\t\t今日話して決めましょう[ymtk.icon]\n\n\tJoker\n\t\t[m.suzuki.icon]任せました＞＜\n\t\t\t写真あります[ymtk.icon]\n\n\tKing\n\t\t粛々と改善中\n\t\t\tApple Watch Series 2で使えない件を調査予定\n\n\tManoma\n\t\tSTBにQrio Hub or Qrio Keyの機能を組み込みたい\n\t\t\tそれぞれのPros/Consを出してみる\n\t\t\t\tHubがいいと思いますよ。履歴吸えますし(通知に影響)[ymtk.icon]\n\n\tその他\n\t\tQ-ST1 Android版が異常にクラッシュしている\n\t\t\t原因特定済み。来週に修正版をリリース予定\n\n[* デザインコミュニケーション]\n\tJoker\n\t\t魅力品質にあたる価値の大方針は大枠決定\n\t\t\t錠前の価値を超える要素→UX要求の追求を急ぎます\n\t\t\t\t他社IoT製品連携 + コンシェルジュ機能（外出直前に知りたい情報予知する）\n\t\t\t\t\t手段としてハードにディスプレイを搭載するかも\n\t\t\t7月に正式にりん議\n\t\t\t\t今日シーサイドでimiyaさんとsync、次週火曜に再度楢原さんとsync[ymtk.icon]\n\tSirius\n　\t開発進捗はfukazawaさん共有通り\n　\t7月中旬頃から、Webページ等の更新 念頭に入れとく\n\tGuradian\n\t\t個装箱\n\t\t\tTKさんフィードバック\n\t\t\t\t機能訴求部分OK\n\t\t\t\t対応機種部分OK\n\t　\t\t商標「Qrioは、Qrio株式会社の登録商標です。」でok\n\t　\t\tVOIDシール ダサい\n\t　\t\t営業（関さん+鴻吉さん）に確認済み\n\t　次はRG？\n\t　\tずっと触ってなかったのでそろそろすね。報知も自分で止めてた[ymtk.icon]\n\tKing\n\t\tブランドブック アップデート 完了\n\t\tペーパークラフト\n\t\t\t1次試作\n\t\t\t\t2名に検証協力→先方へフィードバック\n\t\t\t\t自身でも検証、自宅（GOAL製）で取付不可、内見先で取付不可\n\t\t\t\t\t特に開閉時の本体干渉が把握できるのはありがたい\n\tCastle\n\t\tWebコンテンツ更新の要件設計をmaryoさんがボール持ってる（らしい）\n\t\t\tどこかのタイミングで依頼あるかも\n\t組織（行動指針）\n\t\t進捗90%くらいで 本日3次提案\n\t\t\tQrioの由来から筋道を立てた\n  \t\t社名由来→存在定義→行動指針の大テーマ→行動指針\n  \t展開イメージ\n  \t\t内向け：文化と既存社員への定着\n  \t\t外向け： 採用媒体や求職者への展開\n  \t最終的に社長へ りん議\n\n[* CS推進]\n　返答12h目標\n　\tメンバー共有＆目標推進。今11h程度なので、これを維持したい\n　\tアンケートの回答結果、11hくらいだと「大変満足」、12h「満足」、12h超えると「不満」\n　問い合わせフォーム改善\t\n　\tSite改善と一緒するのが現実的っぽいので、いっちーフォローしようかと思います\n　\t\tこれ結構長引いてしまってますけどどの辺詰まってます？リソース？[ymtk.icon]\n　Siriusサポート体制構築\n　　ちょっと進んでないので川上さんサポートします\n　　\tインサイト部隊の件、コウキチさんなどどの程度までsyncできてます？→できてそう[ymtk.icon]\n　　\t\tinput時期、手離れetc\n　　\t運用設計もやらなきゃいかん･･･[ymtk.icon]\n　　\t\t審査、発送、返品返却\n\n[** NEXT]\n\tSirisについては早急に場を持ちたい\n\t\tインサイトセールス、運用周り mtgセットお願いしたく => 中野さん\n\tリソース界隈再検討 with まゆしー\n\t\t意識の話（当たり前じゃないよね）、相談タイミング、「よかれと」に依存しすぎだと続かない\n\t\t新たなロールを引き受けることへの恐れ、どうしてだろう？\n\t\t\t[* 毎回助けられてるからいいや、になることの破滅]\n\t\tなりさんの持っていた運用全般の引き継ぎ先\n\t\t\tこれは外部リソース前提で。\n\t\tキャンペーンの振り返り => まゆとさん\n\n\n##室長会 #議事録\n\n# 20190619_joker\ncreated_at:Mon Jan 19 1970 10:35:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:38:08 GMT+0900 (日本標準時)\n20190619_joker\n山口、まゆと、深澤、竹内、市川\n\n[* 楢原さんからのFB共有]\nディスプレイで外出直前に情報知れるといいね！は、やや手段が先行している状態。\n画面ありきで考えるのではなく、出かける際にどういう形で通知して貰うのが最適なのかを先に考えてみましょう。\n\n理想体験↔機能↔実現方法\n\n機能\n　外部API機能\n　コンシェルジュ機能\n\n外部API連携\n\tシーン\n  外出時\n  帰宅時\n　考えられること\n　　電気のONOFF\n→なぜやりたいのか？\n　めんどくさい\n　消し忘れ\n\nめんどくさいとは？\n\t重度\n\t頻度\n→がまんできるかできないか\n\n[* スマートロックの解施錠＋おうちイライラあるある？]\n\n外出直前に知れる価値とは？\n\t忘れ物をして戻りたくない→戻るのがストレス\n\t電気の消し忘れなど、同居人が依頼したことをできない、を防ぐ→ケンカの原因が減る\n\t電車止まってたらわかる、駅まで行って戻らなくていい→スケジュールの最適化、時間のロスがなくなる（事前に知れば最善の選択できる）\n[* →時間の活用最適化]\n\nコンシェルジュ\n　シーン\n　　外出直前＋不在時（機能になる）\n\n[https://gyazo.com/18b90f9770928d0e86de7793f0f335dc]\n\n\n[* 宿題 6/24(月)]\n「面倒くさい」の\n①重度：重い、頻度：多い　に相当する具体的シーン\n②「①」を未然に防ぐ方法\n③「②」で解決することで得られる価値\n\n[takeuchi.icon]\n1. また小物金属捨てるん忘れた次2週間後やん\n2. 外出前、靴を履く前に玄関で知らせてもらう\n\t頻度が高いので、慣れてしまわないよう、画面より音声のほうがいい？\n3. ごみが部屋にたまらない\n\nスマホや財布は毎日持っていくものなので、毎日通知するだけだとやがて慣れてしまうかも\n\t逆に毎日通知して、スマホ持ってなかったら通知が聞こえない、とか\n\n\n\n# Castle / 建物&部屋 削除light 仕様(19/06/21時点)\ncreated_at:Mon Jan 19 1970 10:38:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:38:08 GMT+0900 (日本標準時)\nCastle / 建物&部屋 削除light 仕様(19/06/21時点)\n[* 前提や目的]\n\t間違って作った建物と部屋は削除したい\n\t利用していた部屋の削除は今回では触れない\n\t\tロックの解除状況などいろいろある。無理矢理やるのかとか。\n\n[* 実装]\n\t削除はマネージャーの権限\n\t建物が紐付いていない建物は削除できる\n\t機器が紐付いていない && 空室モードの建物は削除できる\n\t\tアプリアカウントは全て紐付きを解除する\n\n##Castle #仕様 \n\n# Castle / アラート表示仕様(19/06/20時点)\ncreated_at:Mon Jan 19 1970 10:36:42 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:36:42 GMT+0900 (日本標準時)\nCastle / アラート表示仕様(19/06/20時点)\n[* 前提]\n\tapi経由でアラートの振ってくるパターンは2種類\n\t\t自分の所属グループに関わる全て\n\t\t部屋に関わる全て\n\n[* 実装]\n\tアラートを振り分けて表示用のデータを作る\n\t\tv-ifとv-forを一緒に使ってはいけない(by 公式）\n\t\t\thttps://jp.vuejs.org/v2/style-guide/##v-for-と一緒に-v-if-を使うのを避ける-必須\n\t\t必要なデータ\n\t\t\tオートロックエラー\n\t\t\t電池不足（ＷＰ）\n\t\t\t\tcode: obj\n\t\t\t\t [{\n\t\t\t\t \n\t\t\t\t ]\n\t\t\t電池ない（ＥＰ）\n\n[* その他]\n\t入居中かどうかは最初はやらない\ncode: type\n // アラートの種類\n enum AlertType {\n   AUTOLOCK_FAIL = 0,\n   BATTERY_WARNING_A = 1,\n   BATTERY_WARNING_B = 2,\n   BATTERY_EMPTY_A = 3,\n   BATTERY_EMPTY_B = 4,\n }\n\n\n##Castle #仕様 \n\n# Joker Pioneer様 OLEDご紹介 6/19\ncreated_at:Mon Jan 19 1970 10:35:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:35:14 GMT+0900 (日本標準時)\nJoker Pioneer様 OLEDご紹介 6/19\nOLED 特徴\n自発光で視野角依存なし\n小さい文字でも可読性担保\n小さいサイズはOLEDの得意分野\n\n\n質問\n\t視認性（玄関暗いときも大丈夫か）\n\t消費電力\n\t形状\n\tタッチパネルの場合のコスト感、操作感\n\t強度\n\t焼き付き状況どうですか\n\t表現力どうですか\n\t縦横向き変わった際にインターフェースの向きも変えられるのか\n\t防水性能（？）\nーーーー\n 視認性\n 　照明切ってブラインド密閉しても結構良く見える\n 　ユーザ自身が明度調整することも可能\n\n\t消費電力\n\t　1度パイオニアさんシミュレーション\n　　　1日5分の点灯で、一番明るい状態\n\n\t形状\n\t　ラウンド（湾曲）もかのう\n\n　タッチパネルの場合のコスト感、操作感\n　\tタッチパネルは当然高い\n　\t操作領域を画面4分割で分けている\n\n 焼き付き\npassiveとactive があり、passive\n焼き付く。昔は数千時間、でも今は向上して数万時間。気になるレベルではない。\nSONYに幾度と仕入れてる（港田、wena等）が、焼きついたとの報告、事例はない\n\n\t強度\nガラスだが簡単には割れない\n後ろが金属なので割れても飛散しない\n割れても使えるか？については配線が分断されると使えない\n大きいほうが割れやすい\n　ただし、保証は持てない\n\n\t事例\n自転車関連の機器（屋外）\nパチンコ台\n\n\t表現力\n\t　カラー\n\t　　コスト高い\n\t　　用途もすごく限られる（全体で1割程度じゃないか）\n 　16階調で濃淡を表現可能（深みが増す）\n\n\t縦横向き変わった際のインターフェース\n\t　向きを感知するセンサーを1つ入れれば実現可能\n\t\tタテヨコ比の変化が激しい長方形は厳しそう\n\n# Castle / 新ログイン仕様(19/06/19時点)\ncreated_at:Mon Jan 19 1970 10:35:08 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:35:08 GMT+0900 (日本標準時)\nCastle / 新ログイン仕様(19/06/19時点)\n[* 前提]\n\t1コーポレート & 1メアド||1アカウントユニークにしたい\n\t\t現状だとそうなっておらず、例えばQrio担当者が複数の会社をサポートするアカウントを持っていたとして、全てのメアドやアカウントが異なることになる\n\n[* 実装]\n\tログインの際にコーポレートIDとログインIDで認証する\n\tメアド、アカウントのユニークを外す\n\n[* 追加でやりたい]\n\t今のログインIDロジックから脱却する\n\t\tユニーク性はユーザーIDがUUIDであり、こちらで保たれている。\n\t\t単純に自分が使っていても面倒くさいと思っているので、アカウントは半角英数の範囲で自由に決められるようにする\n\t\t\tその後にPW変更も入れる\n\n##Castle #仕様 \n\n# Castle / 権限移行仕様(19/06/17時点)\ncreated_at:Mon Jan 19 1970 10:32:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:35:08 GMT+0900 (日本標準時)\nCastle / 権限移行仕様(19/06/17時点)\n[* 前提]\n\t建物、部屋についての管理権限を変更したい\n\t\t管理権限とは？\n\t\t\t情報\n\t\t\t\t各種状態の表示\n\t\t\t\t名前編集\n\t\t\t\t部屋追加・削除\n\t\t\t\t対象に関わる履歴表示\n\t\t\t外部利用\n\t\t\t\t電話カギ発行・削除\n\t\t\t\t設定アプリアカウント発行・削除\n\n[* 今一度検討必要な事項]\n\t建物と部屋の管理組織が異なる状況がどれだけ求められているのか。[* そこまでニーズが高くなければであれば統一したい]\n\t\t建物は新宿、部屋は渋谷\n\t\t\tそもそも多い話なのか。これが統一されるだけで仕様としてもシンプルかつ安全になる\n\t\t\t\t権限変更は建物のみ、部屋はそれに属する、など。\n\t\t分けるpros\n\t\t\t対象の事象に柔軟に対応できる\n\t\t分けるcons\n\t\t\t開発規模が大きく、考慮漏れの可能性は高まる\n\t\t\t部屋一覧を出すとき、管理できる部屋とできない部屋が混在する\n\t\t\t仮に部屋が50個ある場合、50個についていちいち権限移動する必要がある。建物依存であれば1回ですむ。\n\t\t\t\t結局直感的ではなく使いづらいのではなかろうか。\n\t権限移動条件など\n[- \t\t[* 空室モード]であること]\n[- \t\t\t入室中にカギが消されるなどは避けたい]\n\t\t\t\tいや、これは入室モードでもできないとダメ。普通にありうる。\n\t\t移動した時点で下記が行われる（実質、空室→入居の処理と近い）\n\t\t\t電話カギの削除\n\t\t\t設定アプリアカウントの削除\n\n##Castle #仕様 \n\n# joker 本開発に向けてmemo\ncreated_at:Mon Jan 19 1970 10:34:18 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:34:20 GMT+0900 (日本標準時)\njoker 本開発に向けてmemo\n\t解施錠の追求はKingでやりきった感がある\n\t\t解施錠以外の付加価値で攻める方針は良い(楢原)\n\tロックに画面\n\t\t画面ありきで考えるのではなく、出かける際にどういう形で通知して貰うのが最適なのかを先に考えるべき(楢原)\n\t\t\t画面ではなく音声でも良いのでは？\n\t\t\t音声は女性に抵抗がありそう(周囲にプライベートな情報が聞こえてしまう)\n\t\t\t何が最適かを再度深掘りする\n\t\t\t\t体験価値を考える上で\n    \t外出直前に情報を知りたい理由は何か？\n    \t外出直前に情報を知れる価値は何か？\t\n    \t体験が設計できたら、何ちゃって動画を制作して、理想体験のイメージ確認すると良い(楢原)\n\t\tOLEDは焼き付く\n\t\t\t自家発光のため、同じ画面を表示したままだと焼き付き、かなり苦労したことがある(楢原)\n\t生体認証\n\t\t現状あるものはどれも成りすましが簡単にできてしまうため、セキュリティ的に厳しい(楢原)\n\t\tソニー白井さんのところにある電気バカ食いの認証装置を使えば成りすましは防げるが、現実的ではない\n\t\t以前展開した指紋認証のデモ動画は、体験を確認するためのなんちゃって動画(楢原)\n\t\tハンズフリーが完璧に動作すれば、生体認証の必要性は下がりそう\n\teSIM\n\t\t聞き忘れました(T_T)\n\n\tJoker側のデザインカンプ欲しい\n\n# Dev MTG 2019/6/18\ncreated_at:Mon Jan 19 1970 10:33:43 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:34:10 GMT+0900 (日本標準時)\nDev MTG 2019/6/18\n[https://tripnote.imgix.net/post/article/30/2999-d2TWfYPNJuBgCehwMP3J_src.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t正社員募集中\n\t\tWantedly+リクナビHRTech\n\t\t\tサーバー\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n\n[*** 各PJ]\n[** 他社連携（ymtk、深澤）]\n\t検討中案件\n  OYO 進行なし\n  \tモジュールをOYOからもらって幸田で組み立てるスキームで検討中\n  NASTA[ymtk.icon] 進行なし\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\t\t今週、高橋さん＆山川さんで話に行く\n \t\tphase1ではQrio Keyのビーコンを読み取って開ける形になりそう\n \tコクヨ 進行なし\n \t\t駅の作業BOX案件。全国400BOXくらい\n\n[** Joker (ymtk、深澤、竹内)]\n\tLong MTGで方針決まった\n\t\thttps://www.notion.so/joker-planning-0d47a3752b6b47a4a6205ac4a2a4692e\n\n[** Castle (三上、hiro)]\n\tWebアプリ(三上さん)\n  三上\n  \t電池残量低下のアラートがマージされた\n  \t コンソールの実装待ち\n  \tpresence機能どうするか\n  \t 生きてるのを一括でとれる\n  \t Hubの台数が少ない? ので一個ずつとるでもアリ\n  \t 台数に依存 -> 現在20台しかない(来月に5、60に増える)\n  \t 一旦はcastleにあるやつを確認する\n  \t 今週中にPR出そう\n  ymtk\n  \t今週はリリースなし週。\n  \t\t[##Castle 未解決・対応中の項目管理]\n  \t\t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応\n\t\tapi-docはswagger\n\t\tBCUとの繋ぎ込みは6月から\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\t\tinitialize_keyについてvalidationうまくいかなかったら三上さんに相談 → 解決\n\tsirius-api\n\t\tZenHubで進捗管理はじめました\n\tWebフロントUIは要件詰めました。フロント担当調整完了？\n\t\t成田さんとは契約完了\n\t\tフロント2名はNDAまで\n iOS\n \tsiriusで必要なUIはだいたい全部終わった\n \tログインAPI\n \tロック一覧・登録・削除実装中\n[sirius-king api mtg 6/18]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa（進行なし）\n  審査進行中[ymtk.icon]\n  \t1ドア2ロックでうまく解施錠状態取れない（解錠はできる）問い合わせが週換算0.5件くらい来る\n  この挙動、CUに入れてもいいのかも･･･（リモートの時、Hubかロックが死んでいたらエラー表示）\n   \t時間ができたらやる[fukazawa.icon]\n   \t急ぎではないです\n\n[* API (駒井)]\n　招待周り、apiドキュメントの更新必要[ymtk.icon]\n 　塩漬け\n\n[* OYO界隈(ymtk)]\n（前回までのシステムアーキ関連の話は [Dev MTG 2019/5/20] を参照）[takeuchi.icon]\n\n[* CU (深澤、竹内)]\n\t粛々と改善中\n\t\tAndroid版\n\t\t\tv1.2.14でビーコン検知のライブラリをアップデートしたが、クラッシュが頻発したため、v1.2.16でロールバックした[fukazawa.icon]\n\t\tiOS版\n\t\t\tApple Watch Series 2でアプリが使えないらしいので調査する[fukazawa.icon]\n\n[* Hub (竹内)]\n（進捗なし）\n\tハブの通信量の内訳を調査[takeuchi.icon]\n\t\tuplink: 4.1 MB/月 + downlink: 3.4 MB/月 = 7.5 MB/月\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n\tLTEのモジュールも正体が判明。BLEモジュールはLock/Fobで使っているものと同じNordic社製のもの。\n\n[* Guardian (竹内)]\nESP32で粛々と実装中\n\tGPIO周り (LED, ボタン) の実装。評価ボードで正常に動作した[takeuchi.icon]\n\t機密性保持のため、Flash暗号化、書き込み制限などを適用すべきか確認中\n\t\tハブがロックコマンドに署名するための秘密鍵が漏洩した場合のリスクを、もう少ししっかり洗い出すこと\n\t\t ちゃんさんに資料ブラッシュアップしてもらっている途中\nその他\n\tWi-Fiルーター接続互換性評価を委託 (Allion)\n\t\t大西さん経由で見積もり依頼中[takeuchi.icon]\n\t\t料金によっては、Qrioが自前でルーター買って確認したほうが安いかも\n\tWi-Fi/Bluetooth SIG認証\n\t\tソニーグループ内でやると安い、手続き中(ymtk)\n\n[* Guardian 製造・制作系 (ymtk)] 進捗なし\n 楢原さんから取説チェックポイントをもらったのでスプレッドシートで要件まとめていきます\n 箱の一次デザインは7月。内部的なデザインはマユトさんが組んでくれました[ymtk.icon]\n 今週中に報知やっつけます→やるやる詐欺だった[ymtk.icon]\n\n[* Guardian セキュリティ(チャン)] [進捗なし]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Q-SL1 Android版、64ビット版のMQ LibraryをSGMOへ依頼中[fukazawa.icon]\n iOS版もろもろ、Swift5対応します[fukazawa.icon]\n\n[** 情報システム (チャン)]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n 社内DNS設定。AkamaiのETP導入\n  ようやく対応しました。\n  インターネットがおかしいとか、遅い、見れないページがあるとかあれば連絡ください。\n Twilioの会社情報の更新\n \t11.21までなんだが、まだ連絡こない。大丈夫なんかな。\n 1passwordの導入\n \tいいんじゃなかろうか\n \tOKTA、LastPassあたりが良さそう？\n \tすいません日本語たいおうしてないかも\n \tエンジニアもパスワード管理(シングルサインオン)ツール使いたいです＞＜\n\n[** QaaS(チャン)]\n 来月？からチャンさんが交代予定\n\n[** CSへのテクニカルサポート(チャン)]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tHerokuからredisのメンテメール来てましたので確認と対処お願いします(前回SL1でトラブった)[ymtk.icon]\n\t\t すべて完了\n\t\tr-tadaimaいつ止めるのか？\n\n[** 健忘録]\n\tなし\n\n# Castle Docs\ncreated_at:Mon Jan 19 1970 08:43:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:33:57 GMT+0900 (日本標準時)\nCastle Docs\nCastle (Qrio Roomon) に関連する知見を集約・整理するページ\n\n\n[** サーバー]\n\n[** Webアプリ]\n\n[** BCUアプリ]\n\n[** GraphQL]\n\t-> [CastleにおけるGraphQL]\n\n[** 権限管理]\n\n\n# castle-product定例 6/18\ncreated_at:Mon Jan 19 1970 10:33:52 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:33:56 GMT+0900 (日本標準時)\ncastle-product定例 6/18\n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n参加者\nryo / seki / ymtk / kawakami  \n\n前回\n[castle-product定例 6/4]\n\n[* 事業]\n\t小口案件\n\t\tmaryoさん1件進行中。7中くらいに工事（Qrio取り付け）\n\t\t\t本来工事委託したい日本PCサービスとの契約周りがまだ時間かかっているため\n\t\t\t1フロア22部屋（シェアハウス）\n\t\t8月にFNJ案件、3x~4x部屋。学生寮。（今はQ-SL1導入中）\n\t評価中案件\n\t\t使い倒して頂いた結果をフィードバック待ち\n\t\t\t300台・10.5万円→350円/部屋、の価格感に厳しさを感じている\n\n[* 開発・デザイン]\n\t先週のリリース\n\t\t建物名での検索\n\t\t電話カギの名前を履歴に表示\n\t\tリモート許可の編集\n\t\tIE対応\n\t今週のリリース\n\t\t今週はありません\n\t直近開発中\n\t\t建物所属グループ移動\n\t\t\tグループ変更すると電話カギも削除されます。\n\t\tアラート\n\t\t\tサーバはある。コンソールがこれから。\n\tサンプルデータの件\n\t\t現状はメールアドレスユニーク。\n\t\t\t渋谷と新宿で使いたい、と言うような利用シーン\n\t\tメアドを持っている人のグループ移動\n\t\t\t今は削除の上、追加登録。生やしてもいい\n\t\t\t権限としてはマネージャーのみ、自分のことはできない\n\t\t\t\tユーザー削除と同じ。\n\n[* CS]\n\t今週は特にありません\n\n[* 運用]\n\t特になし\n\n[* その他]\n\t本定例、toB定例に組み込んだ方が良い？\t[ymtk.icon]\n\n# sirius-king api mtg 6/18\ncreated_at:Mon Jan 19 1970 10:33:43 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:33:54 GMT+0900 (日本標準時)\nsirius-king api mtg 6/18\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1400-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 6/11]\n\n[* 参加者]\nymtk/kmi/topaz2/hiro\n\n[** 諸々確認メモ]\n\tとくになし\n\nfukazawa[fukazawa.icon]\n\tsirius-api Issue立てました\n\t\tsirius-api、king-api(management api)の進捗管理はZenHubでお願いします\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tAdminコンソール用のロック一覧\n\t\tカギカンのサポートツール内にリンクはあるが用途がよくわからない\n\t \t旧カギカンは市販のロックを使ってはいけなかったから確認ようにあったとのこと。作らない。\n\t招待のフロー（決める必要がある）\n\t\tユーザーidを特定してからの紐付け方法\n\tBCU関連\n \tinitialize_keyの中身をちょっと変更。これで登録できるか試してほしい。\n\t\t進捗はこちら-> https://github.com/qrioinc/king-api/issues\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\t\t今週金曜日ぐらいに話したい → 話した。https://qrioinc.slack.com/archives/CE92MUPDY/p1560495653088600\n\t\t\t金曜になりさんに相談。たぶんエイヤで作ります。[ymtk.icon]\n\t\t履歴はプッシュ方式にするのが良さそう(kmi)\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n　\tとりあえずv1では必要ない。\n\ntopaz2\n staging だとロック登録できない問題\n \t登録できるようになった\n 請求書決済 実装\n\nymtk[ymtk.icon]\n\tv: 特に動きなしです。折を見てapiサンプル実装作ります（post界隈）\n\tv: あと契約\n\n[h.yamaguchi.icon]hiro\n\tv: ログインAPI\n\tv: ロック一覧UI\n\tv: ロック設定UI\n\tvo: ロック登録\n\tvo: ロック削除\n\tvo: ロック一覧\n\n次回（金曜）\n\tさとうさんとmtg\n\n事業前提\n\t8月には何卒\n\n[* 懸念 ]\n\tフロントエンドの着手時期。api6月上旬〜中旬くらい？\n\n\n\n##sirius #定例 #sirius-api\n\n# Castle 週定例 2019/6/18\ncreated_at:Mon Jan 19 1970 10:33:52 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:33:54 GMT+0900 (日本標準時)\nCastle 週定例 2019/6/18\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/6/11]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[h.yamaguchi.icon]\nbcu-iOS\n\t作業なし\n\tアラートの開発待ち\n\t\tアラートの必要カラム、テーブルが判明次第、BCU用のAPIに反映させることができる\n\n[ymtk.icon]\n\tv: 今週リリース予定の対応\n \t今週はありません。siriusやってました。\n v: 建物のグループ移行作ってます。担当変更に対応するため。\n \t単純化のため、建物を移行したら部屋も同じグループにするようにします\n \t\t[Castle / 権限移行仕様(19/06/17時点)]\n \t対応中のブランチはこちら。残りはほぼテストのみ。\n\t \thttps://github.com/qrioinc/castle-api/pull/256\n\t!: アラートいつからconsoleに繋ごうかな話\n\t\t既にkingからcastleへアラートが飛んでくるようになるのに必要な条件is...?\n\t\t\tcastleに関わる環境変数を変えればOK。king-api-stgにはもうある\n\t\t\talertにroom生やして使う\n\n[hazimetyan.icon]\n !: users テーブルのemailのUnique制約をはずして、email + company_id にするべきでは\n \tCSVのexample は、CSV登録時にはじくようにする\n \t複数カンパニーに、同一のメールアドレスで登録することができないのだが、どうするか。\n \t\tメールアドレスで、複数のカンパニーにログインすることができないので、ログインID(10桁乱数)でログインしてもらう\n \t\tログイン時にメールアドレスは使えないが、どちらにせよ email から email + company_id の制約に変更する\n\n[mikamix.icon]\n v: バッテリー残量低下\n  o: PRだしました (hiroさんのコメントに対応)\n  o: ymtkさんのコメントにも対応?\n o: エンドポイント(app, log, web, status)をディレクトリに分けたい\n  これできました\n  o: 中身もっかい見てみます(この分類でよいか最終チェック)\n  o: specが各ディレクトリの中にあるのは自然?\n   testディレクトリもある\n   何のテストかわからなくなるのが嫌なのでそのまま\n   全体的に見てみよう\n o: バッテリー残量低下のテスト\n  jestのキャッチアップ\n  ロジックが入ってるので\n  どっかのディレクトリにいれる\n o: Hubの死活\n  明日、内見行くのに死んでるのが嫌だ\n  ページを見た時に死んでるのがわかればいい\n  リアルタイムは無理?\n  一定周期でチェックしてアラートを上げる?\n  死んでるHubテーブル(一定周期で死んでたらインサート、復活したらデリート)\n\n##Castle #定例\n# c-team定例 19/6/17\ncreated_at:Mon Jan 19 1970 10:32:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:32:35 GMT+0900 (日本標準時)\nc-team定例 19/6/17\n[https://gyazo.com/1ab0fb282a30a835fa43b09002dcf02e]\n\n\tslack ch\n\t\t`##c-team`\n参加者\nmayuto/harada/nakano/zawa/knarita/ichikawa/takeuchi/ymtk\n\n[** 施策シート]\nhttps://docs.google.com/spreadsheets/d/1UUnwfq7l3emSuMfgYz8NTDfG5emICFoHcoWbXpS8ZZg/edit##gid=1155736815]\n\n\n[*** 事業目標]\n\t年間売り上げ12億の達成\n  法人・不動産抜くと8億（うちMANOMA1.2億）\n  2019 / 12億、2020 / 24億、2021 / 48億\n---\n[* 売り上げ換算]\n年間8億って月6500万円規模ですよね\nLockで見ると、9月まで2000台(2.4億・2万円)\n→10月から5000台(6億・2万円)のペース\n→実際は卸値を考えると1.5万円程度。\n\n実際はLock 1.4万(6掛け)→年間4.6万台、アタッチレート40%\n→7.9億くらいのペース。\n\n現状は、2400+1300 => 3700。残り4.2万台超。\n今は2000/月のペース。\n\nまず見るところとしては、月2倍のペースにするにはどうすればいいか？\nそのための施策を積み上げていく。\n\n今のペースは2000/月=>66.7台/日\n10分に1台売れてます、と言えれば良い。\n今は20分に1台売れている。\n\n上がっている要素は具体的に？と言うとまだ。\n5月についてはセサミ miniのamazonリリースの気配。\n\n開発界隈、レビュー改善\n→どの程度数字に効くのかは今見えにくい。\nこの辺りの傾向について基準値などある？\n→これで何が良くなるのか、を具体化してみる。\n\tセサミへの流出が防げる？\n\tスマートロック全体のイメージアップ？\n\t\tNo.1 ブランドとして\n\t\t\tお墨付きについては既にいっちーが検討中。\n\t\t\t使えるフラグは全部使って箔を付ける\n\nハンズフリーのレビューの話\n\tレビュー改善としても、特にどれに対して？というのはある\n\t他のメリットの押し出しで解決するのか、そのものの改善で解決するのか\n\tプロモーションも交えて進めていかないと解決できない\n\n\n[** チーム前提]\n\ttoC領域を伸ばす上での戦略戦術を推し進めるチーム\n  「作業者としてのアサイン」ではない。やること、方針を決めることを求められる。\n  今持っているロールはあくまでその領域に詳しいかどうかまで。自分のロールにかかわらず意見し、立案し、推進していくことを求める\n\t施策優先度順にアサインし、週次で状況を追っていく\n\t毎月、何かしらの成果が出ているか（失敗からの振り返り、方向変換の材料含め）\n\tプロジェクトの進め方も開発していく\n\n[** 施策]\n\tコントローラブルであり、施策の方向性についての善し悪しをある程度評価できるものを中心に考える\n  やった方がいいけど評価は分からない、と言ったものに投資をしすぎない。やらないわけではなく、上限は設定する。アンコントローラブルなものもこれに近い。\n  ex. 月1日に改善デーを設置し、ここで上記に入る改修施策をまとめてやる\n- 目の前施策ばかりをやらない。\n  まあある。\n[https://gyazo.com/5fd1e0da5d22a62f7ca6ea1312d9f3b3]\n[https://gyazo.com/03898bdcd2d55e1964802f5100463718]\n\n[** 直近おそらく]\n\t週次定例会の設置\n  共有より解決策の議論\n\t障壁が障壁なのかを確認\n  おそらく月曜の経営（リーダー）会議で進めている案件。\n  12億にたどり着かない要因があるとすればそれは各自何だと思っているか\n  「工数が確保できない」も対象。採用以外にアウトソースや、止めることも考える\n\t売り上げに対し「[* もうやればいいし、手が足りないだけ]」への対処\n  特にマーケあたりがそうではないかと思っている\n\t年間施策出し\n  仕込みが必要な大型の施策も入れていく\n   前提となる、方向性の善し悪しを判断できる施策もセット\n   大きくtoCを伸ばせる状態に対する仮説は？\n  既存の施策についてもタイムラインに載せる。想定効果 x 想定工数も入れる\n \t毎月施策を打っていて、先に進んでいるのかを振り返る。やったほうがいいが売り上げ向上に対しては未知数なことばかりに工数を使っていないか。\n\t測定方法の定義\n  施策を横で判断できるための目線あわせとツール合わせ\n  ツールを使えてない部分があるとしたらすぐに対処\n\tOKRの設定\n  ストレッチゴールをどう設定していくか。\n  ユーザー/売り上げ/体制&効率(外部リソースの活用含め)\n  [https://gyazo.com/d91d9c4383a211b90a678c4ec70740f3]\n[https://gyazo.com/244bb81bbef7c5c8d7404fc74ed2c03c]\n[https://gyazo.com/8a8d861003e81f6584a875a3abd14cee]\n\nhttps://gb-jp.com/topics/knowledge/3110\ncode: ref\n 1期目の課題（Chance）\n ①OKR3つは、やはり多い。チーム分けしているとは言え、重複しているメンバーもおり、全体でKR9つを追うのは厳しかった\n ②月曜日のチェックインと対になる、金曜日の「Winセッション」というイベントを導入\n 「今週はこれを達成しました！」イェーイ！ パチパチパチ的な雰囲気を推奨されているが、この空気感がGBにはあまりフィットしない気が……\n OKR導入前からやっていた「YKD」という、その週のGoodとChanceを全員で共有するイベントに戻した\n ③KRがほぼ10/10（ほぼ達成不可）となってしまい、残り1ヶ月ぐらいで達成不可が濃厚になってくると、メンバーのテンションが下がってきた\n （目的の1つ「モチベーション」が下がってしまうことに……）\n\n[** NEXT]\n\t手持ち施策の書き出し（今これをやっているよ）\n\t\tこれをどう伸ばしていけるか、より効果を出せるかの議論の元\n\t\t今どんな施策があるのかをまずは理解する、そこからどう絡んでいくかを検討する\n\tなぜ2倍にならないんだろう、の書き出し\n\t\tsesame入れても2倍にならない、となると認知と理解そのもの\n\t\t\tペパクラはCVさせるための購買促進ツール。検討から購買へ。\n\t\tbitkeyの動向\n\t\t\tスマートロックに対する信頼毀損\n\t\t\tQrioは違いますよ？のアウトプット\n\t\taugustが入ってくる時期\n\t招待cpnの検討\n\t\tソーシャルインセンティブ\n\t\t\tNPS8点は「紹介するほどでもない」。だが最頻値。この人を動かしたい\n\t\t知ってる人が説明してくれる状態。ハッシュタグばらまき\n\t\tほか、これやってないけどやってみては、施策の書き出し\n\t動線の視覚化、概念の共有\n\t\t知ってから購買する前の流れの認識共通化、どこに今人が溜まっていて、どの工程を動かすのが良いのか\n\t\t施策については「前(is 母集団)」が圧倒的に足りてない気はする。\n\t\t「前」は何万人必要なのか？\n\t\tGA定点観測からのレポートメールあたりは当たり前に。\n\t\t因果付け\n\n\n##toC #定例 #議事録\n\n# Sirius 全体dev mtg 19/6/14\ncreated_at:Mon Jan 19 1970 10:28:10 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:28:12 GMT+0900 (日本標準時)\nSirius 全体dev mtg 19/6/14\n[https://gyazo.com/4a5067a6f9dcc71ddee2fa192ffbf6ff]\n\n[** 進め方]\n定例とch\n\t毎週金 1500-1530\n\t`##sirius-dev`\n\tPM: zawa\n\n[*** 状況]\n[* 今週]\n\ntopaz2\n\t請求書決済\n\t\t設計\n\t\t\t消費税対応\n\t\t\tプランの柔軟性拡張\n\t\t実装\n\tAPI 実装\n\t\tロック一覧\n\t ロック削除\n\t ロック編集\n\t ハブ登録\n\nzawa\n\tシステム構成図書きました\n\t\thttps://docs.google.com/presentation/d/1U9JLy1rzqKIjx5F_KQWxQA1RG5hi26ec3CdtNfTTVk0\n\t\tSiriusBCUだとAuth0のManagementAPIを叩く必要がある？？後で確認させてください[tsato.icon]\n\tAPIの状況整理中\n\t\t特に残件が気になる\n\nnarico [narico.icon]\n\t-v XDでデザイン落とし込み\n\t\t全画面一旦作り終わった\n\t\thttps://xd.adobe.com/spec/339b8583-1b6f-47a1-5bd2-95ad88e138ee-45aa/\n\t解施錠履歴の件\n\t\tymtkさん、topazさんと話す\n\t\thttps://xd.adobe.com/view/c18f95ed-170a-4b62-6114-08e7a4c62429-b7be/screen/04e494d3-b2a9-4fa6-8a72-6ed60d839204/-locks-lock-id-log-\n\tフロントの二人\n\t\tローカル環境作ってもらった\n\t\t中身キャッチアップしてもらいつつ基礎コーディング始められるかなと言ったところ\n\n\nkmi[komai.icon]\n\tissueの540, 545, 546, 551終わらせた\n \thttps://github.com/qrioinc/king-api/issues\n\nhiro[h.yamaguchi.icon]\nwebApiの繋ぎこみ作業\n\tv: ログイン完了\n\tv: イニシャライズキー取得完了\n\tvo: ロック登録\n\to: ロック一覧\n\to: ロックの削除\n\ntomohiko[tsato.icon]\n -v UI周りほぼできた\n  -v ログイン、パスワードリセット、ロック登録部分のUI実装\n -o WebAPIを使ってログイン\n -o CI環境 (Bitrise, CrashlyticsBeta)\n -! ロック一覧画面のドロワーから遷移する、ヘルプとかのURLわかったら教えてください  to ひろさん [tsato.icon]\n \t承知です[h.yamaguchi.icon]\n\nymtk [ymtk.icon]\n\tv: フロント環境構築フォロー&readme作成\n\to: 適宜使えるapiを拾ってapiテストページ作成\n\t\tget系は揃っているけどpost系がまだ。何かしらを更新したい\n\t主務toCチームなのでいろいろ離れていくかも？業務周りはやります\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tWebアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\n[** その他気になること]\n\tカギの招待周りが作り方これからだと聞いてます[ymtk.icon]\n\t\t駒井さん、ymtkさんが案を持ってる\n\t\t来週話す\n\tロック登録が解除されると解施錠履歴とか見れなくなるけどどうする？[narico.icon]\n\t\t解施錠ログはsirius-apiにも持つことになったので、sirius-console上は見ようと思えば見れる状態になる予定です。\n  BCUに注意書き出すなら「CUからは見れなくなるよ。見たけりゃconsoleから見てね。」みたいな文言になる気がします。\n\t\t管理画面からは見れなくて良い\n\t\tsirius-apiからログを物理削除するかは検討→ymtkさん\t\n\t\t\t原則大丈夫だとは思っていて、ただ盗みやら何やらと言う時に警察に出すとかそういう話を気にしている[ymtk.icon]\n\n# Dev MTG 2019/6/11\ncreated_at:Mon Jan 19 1970 10:23:40 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:23:55 GMT+0900 (日本標準時)\nDev MTG 2019/6/11\n[https://tripnote.imgix.net/post/article/30/2999-d2TWfYPNJuBgCehwMP3J_src.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\tWantedlyで正社員募集中\n\t\tサーバー\n\t2019年度の優先順位\n\t\thttps://docs.google.com/spreadsheets/d/1inrorhlko8m-jQQG0SKxpvYefI88obFRSdwsrJW-H-E\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n 開発室エグゼクティブサマリー\n \tエグゼクティブサマリーとは：事業計画書の冒頭に計画の概要や重要な論点などを整理しまとめたもの。事業計画概要\n \t開発室としての中長期計画をペラ1〜2枚でまとめ中[fukazawa.icon]\n OSS\n \t今週までにQrioが使っているOSSをまとめて提出する\n \t\t提出して無事クリアです[ymtk.icon]\n\n\n[*** 各PJ]\n[** 他社連携（ymtk、深澤）]\n\t検討中案件\n  OYO\n  \tモジュールをOYOからもらって幸田で組み立てるスキームになりそう\n  NASTA[ymtk.icon] 進行なし\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\tphase1ではQrio Keyのビーコンを読み取って開ける形になりそう\n \tコクヨ 進行なし\n \t\t駅の作業BOX案件。全国400BOXくらい\n\n[** Joker (ymtk、深澤、竹内)]\n\t企画を確定させるため、6/13(木)にLong MTG予定\n\t\t画面付、全裸解錠、ハブネタを深掘り中[fukazawa.icon]\n\n[** Castle (三上、hiro)]\n\tWebアプリ(三上さん)\n  三上\n  \t電池残量低下のアラート終了 -> PRのフィードバック対応中\n  \tpresence機能どうするか\n  ymtk\n  \t今週は臨時リリースあり週。\n  \t\t\t今週のリリース\n    \t\tファミリーキー招待半年対応\n    \t\tコンテンツgzip配信対応\n    \t\t名前で検索対応\n    \t\tIE向けcsv対応\n  \t\t[##Castle 未解決・対応中の項目管理]\n  \t\t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み\n ユーザーどのぐらいいるのか気になる[fukazawa.icon][h.yamaguchi.icon]\n 不動産業界講座を開く？\n 宅建10月にあるので、受けたい人はぜひ\n[Castle 週定例 2019/5/21]\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応\n\t\tapi-docはswagger\n\t\tBCUとの繋ぎ込みは6月から\n\t\t必要な機能issue立ててもらった。有り難し https://github.com/qrioinc/king-api/issues\n\tWebフロントUIは要件詰めました。フロント担当調整完了？\n\t\t成田さん、業務委託メンバーと契約完了？\n\tSirius BCUはUIあるので5/20(月)から着手。iOS→androidの順\n\t\t粛々と進めている\n\t\t\tAPI少し遅延気味？西川さんへ確認\n  リリース時期8月を想定\n  両方作る必要があるのか、見直してみてよいかも\n  \tAndroidのほうが安い＝業務で使っている人が多いのでは？\n iOS\n \tsiriusで必要なUIはだいたい全部終わった\n \tログインAPIを繋ぎこみ中\n[sirius-king api mtg 5/14]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa（進行なし）\n  審査進行中[ymtk.icon]\n  この挙動、CUに入れてもいいのかも･･･（リモートの時、Hubかロックが死んでいたらエラー表示）\n   \t時間ができたらやる[fukazawa.icon]\n   \t急ぎではないです\n\n[* API (駒井)]\n\tstagingでredisのupdateが入った。深澤さん竹内さん協力ありがとうございます。\n　\tproductionは2019 06/12 3:00 AM予定\n　\t問題が起きたとしても、できることはあまりない\n　\tメンテナンス終了まで祈る\n　招待周り、apiドキュメントの更新必要[ymtk.icon]\n\n[* OYO界隈(ymtk)]\n（前回までのシステムアーキ関連の話は [Dev MTG 2019/5/20] を参照）[takeuchi.icon]\n\n[* CU (深澤、竹内)]\n\t粛々と改善中\n\t\tAndroid版\n\t\t\tスプラッシュ画像が潰れたり解施錠画面に枠線が表示される不具合を修正[fukazawa.icon]\n\t\t\tアプリを起動するたびにハンズフリー設定情報が上がってしまう不具合を修正[takeuchi.icon]\n\t\t\t\t修正が完全でなかったので、近々出し直し予定です。修正自体はstgにあがっています[takeuchi.icon]\n\t\t\tv1.2.15として本日リリース\n\n[* Hub (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n\tメールでやりとり中。\n\tあちらから返信がないままになっているので、あとでプッシュします\n\t\tまだ返信なしです。すみません先週プッシュするの忘れており、先ほどしました[takeuchi.icon]\n\t\t\t先ほどお返事ありました。LTEのモジュールも正体が判明。BLEモジュールはLock/Fobで使っているものと同じNordic社製のものです。\n\n[* Guardian (竹内)]\nESP32で粛々と実装中\n\tPeripheralの実装がほぼ完了\n\t\tハブのWi-Fi設定、登録ができるようになった\n\tOTAアップデートのフィジビリ、実装がほぼ完了\n\t\t署名付きOTAバイナリをAWS S3に置き、httpで取ってきてアップデート＆起動に成功\n\t機密性保持のため、Flash暗号化、書き込み制限などを適用すべきか確認中\n\t\t先週大西さんも交えてMTGした\n\t\t宿題が1点。ハブがロックコマンドに署名するための秘密鍵が漏洩した場合のリスクを、もう少ししっかり洗い出すこと\n\t\tそれ以外は、（暗号化や書き込み制限を適用しなくても）問題ない、ということは説明できそう\nその他\n\tヘルツさんから評価ボード8枚が届く\n\t\t若干トラブったものの、8枚とも無事FWの書き込みに成功\n\tWi-Fiルーター接続互換性評価を委託 (Allion)\n\t\tルーターリスト作成中。6月中旬までに作っておく\n\t\tymtkさんに作っていただいたリストとAllion所持のリストを突き合わせました[takeuchi.icon]\n\t\t\t最新機種やルーター子機などが一部存在しなかったりしたので、代替できそうなものは代替しました。\n\tWi-Fi/Bluetooth SIG認証\n\t\t完了、の認識でよいですか？[takeuchi.icon]\n\t\t\tあとでymtkさんに確認する　急ぎではない\n\n[* Guardian 製造・制作系 (ymtk)]\n 楢原さんから取説チェックポイントをもらったのでスプレッドシートで要件まとめていきます\n 箱の一次デザインは7月。内部的なデザインはマユトさんが組んでくれました[ymtk.icon]\n 今週中に報知やっつけます→やるやる詐欺だった[ymtk.icon]\n\n[* Guardian セキュリティ(チャン)] [進捗なし]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n なし[fukazawa.icon]\n\n[** 情報システム (チャン)]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n 社内DNS設定。AkamaiのETP導入\n  気が向いたらやる。とてもめんどう -> ほんとにそろそろやる。毎月お金払ってるし。\n 電気通信番号関係の制度改正を読んだ\n \t簡単にいうと、いままでは番号を取っている大元のひとたちが、総務大臣に番号の使用計画を報告すればよかったんだが、卸先の業者も、総務大臣へ同様の報告をしなければいけなくなった、っていうことみたい。\n \tなので、Twillioも実体把握をして報告しなければならなくなったので、我々は必要な情報の提出を迫られているということになります。\n \tもう制度は5.22から施行されていて、報告、申請は施行から6ヶ月以内なので、11.21までにTwilioは申請しなければならない状態。\n \tそろそろTwilio様は、下々の我々へ書類を要求していただかないと間に合わないんじゃないかなあ。\n 1passwordの導入\n \tいいんじゃなかろうか\n \tOKTA、LastPassあたりが良さそう？\n \tすいません日本語たいおうしてないかも\n \tエンジニアもパスワード管理(シングルサインオン)ツール使いたいです＞＜\n\n[** QaaS(チャン)] [進捗なし]\n 6月1.5人月、7月2人月で発注済み\n\n[** CSへのテクニカルサポート(チャン)]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n\t\tFormrunの使用はなし。EmailのRawDataを送れないため、Maildealerとの連携ができない。\n\t\tGoogle Formを検討したが、画像のアップロードがGoogle Drive へアップすることになることと、Googleのログインが必要になるので使えない\n\t\tフォームだけ別ページ作るのどうですか?\n\t\t フォームのSaaSがベスト\n\t\t できないなら別ドメインでwebflowとか? squarespaceとか?\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tHerokuの権限管理変えました。ユーザー管理、支払い管理など強めなモノはymtk/zawa/hajimetyan[ymtk.icon]\n\t\tコーポレートサイト、wpのapiとnuxtで落ち着けられるような気がしている（優先度的には全然まだ触らない）[ymtk.icon]\n\t\t やる時に言ってください [mikamix.icon]\n\t\tHerokuからredisのメンテメール来てましたので確認と対処お願いします(前回SL1でトラブった)[ymtk.icon]\n\t\t mikamiとkomaiで対応します\n\t\t めっちゃ来てる7件ぐらい\n\t\t かつそれぞれタイミング違う\n\t\t premium, privateなら大丈夫? -> ほんとか?\n\t\t offline for only a few minutes\n\t\t 自分でやることもできる or 予約というか範囲していできる\n\t\t sl2-api-stagingで確認 (時間とダウンタイム発生するか)\n\t\t 用途も違うので何気に、、、\n\t\t  sl2-api-staging\n\t\t   update済み\n\t\t  sl2-api-production -> リモート操作\n\t\t 　 2019 6/12 3:00 AM\n\t\t  qb-auth-production -> これ何に使ってるっけ?\n\t\t  \tこれSOMC向け通知ですね。まるさん作[ymtk.icon]\n\t\t  \tupdate済み\n\t\t  smarttag-server-production\n\t\t   update済み\n\t\t  simely-production\n\t\t  \tおそらくパスワードリセットとログインセッション･･･？[ymtk.icon]\n\t\t  \tupdate済み\n\t\t  ke-hi-production\n\t\t   2019 6/12 3:30 AM\n\t\t  r-tadaima\n\t\t  \tパスワードリセットの一次キー保存用[ymtk.icon]\n\t\t  \t2019 6/13 6:30 AM\n\t\t 夜やるで問題なさげ\n\t\t  stagingだけ明日確認\n\t\t  ダウンタイムなければ問題なし\n\t\t  ダウンタイムあれば、全部どこかの深夜に設定する\n\t\t  sl2-apiとqb-authだけymtkさんに告知していただく\n\t\t  \tSOMC槇本さん、CSの両方に展開\n\t\t r-tadaimaいつ止めるのか？\n\n[** 健忘録]\n\tなし\n\n# sirius-king api mtg 6/11\ncreated_at:Mon Jan 19 1970 10:23:45 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:23:50 GMT+0900 (日本標準時)\nsirius-king api mtg 6/11\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1400-1430\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 5/21]\n\n[* 参加者]\nymtl/kmi/topaz2/hiro\n\n[** 諸々確認メモ]\n\tとくになし\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tAdminコンソール用のロック一覧\n\t\tカギカンのサポートツール内にリンクはあるが用途がよくわからない\n\t\tserial_noだけ出してるのでどうしても必要ならsirius-apiのDBにできれば持ってほしい\n\t招待のフロー（決める必要がある）\n\t\tユーザーidを特定してからの紐付け方法\n\tBCU関連\n\t\tログイン OK\n\t\tロック登録 OK\n\t\tInitialize Key作成 OK\n\t\t進捗はこちら-> https://github.com/qrioinc/king-api/issues\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\t\t今週金曜日ぐらいに話したい\n\t\t履歴はプッシュ方式にするのが良さそう(kmi)\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n\n\tSirius上からはユーザーの作成／削除は行わない\n\t\tking-api(management api)からユーザー一覧を取得する必要はある\n\ntopaz2\n ログインAPI デフォルト組織対応\n 決済フロー調査、設計　\n management api issue 作成\n\nymtk[ymtk.icon]\n\t引き続きなりさんのXDレビュー中。\n\t環境テスト実装やっていきます。\n\n[h.yamaguchi.icon]hiro\n\tv: 足りてないWEBAPIを洗い出してissueに追加した\n\tvo: ログインAPI繋ぎこみ\n\n次回（金曜）\n\tさとうさんとmtg\n\n事業前提\n\t8月には何卒\n\n[* 懸念 ]\n\tフロントエンドの着手時期。api6月上旬〜中旬くらい？\n\n\n\n##sirius #定例 #sirius-api\n\n# Castle 週定例 2019/6/11\ncreated_at:Mon Jan 19 1970 10:13:44 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:23:48 GMT+0900 (日本標準時)\nCastle 週定例 2019/6/11\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/6/4]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[h.yamaguchi.icon]\nbcu-iOS\n\t作業なし\n\tアラートの開発待ち\n\t\tアラートの必要カラム、テーブルが判明次第、BCU用のAPIに反映させることができる\n\n[ymtk.icon]\n\tv: 今週リリース予定の対応（ファミリーキー都合で臨時）\n \tファミリーキー招待半年対応\n \t\tking-apiはリリース済み\n \tコンテンツgzip配信対応\n \t\tいろいろ表示遅かったので入れました\n \t名前で検索対応\n \tIE向けcsv対応（まだ終わってないので後で）\n \t\t元となるサンプルcsvを変えてしまえば良いので、コンソールだけでsjisのcsv出し分けてやります\n \t\t\tレインズはIE専用です[mikamix.icon]\n \t\t\t対応ブラウザの基準は、レインズ参考でいいかと思います。\n\n[hazimetyan.icon] [進捗なし]\n v: castle api/console の本番反映\n v: なにもしていない\n o: castle api / console のコード確認\n o: 水曜日にcastle api/console の本番反映\n o: 何かIssue 1個はやっつける\n\n[mikamix.icon]\n v: バッテリー残量低下\n  o: PRだしました (hiroさんのコメントに対応)\n  o: ymtkさんのコメントにも対応?\n o: エンドポイント(app, log, web, status)をディレクトリに分けたい\n  これできました\n  o: 中身もっかい見てみます(この分類でよいか最終チェック)\n  o: specが各ディレクトリの中にあるのは自然?\n   testディレクトリもある\n   何のテストかわからなくなるのが嫌なのでそのまま\n   全体的に見てみよう\n o: バッテリー残量低下のテスト\n  jestのキャッチアップ\n  ロジックが入ってるので\n  どっかのディレクトリにいれる\n o: Hubの死活\n  明日、内見行くのに死んでるのが嫌だ\n  ページを見た時に死んでるのがわかればいい\n  リアルタイムは無理?\n  一定周期でチェックしてアラートを上げる?\n  死んでるHubテーブル(一定周期で死んでたらインサート、復活したらデリート)\n\n##Castle #定例\n# Sirius 全体dev mtg 19/6/7\ncreated_at:Mon Jan 19 1970 10:18:06 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:18:13 GMT+0900 (日本標準時)\nSirius 全体dev mtg 19/6/7\n[https://gyazo.com/4a5067a6f9dcc71ddee2fa192ffbf6ff]\n\n[** 進め方]\n定例とch\n\t毎週金 1500-1530\n\t`##sirius-dev`\n\tPM: zawa\n\n[*** 状況]\n[* 今週]\n\ntopaz2\n\t環境構築\n\t\trspec 導入\n\t\tresponse フォーマット定義ライブラリ調査、導入 （swagger 用）\n\tBCU 実装サポート（ひろさん）\n\t\tログイン\n\t\tロック登録\n\t\tinitialize_key \n\nzawa\n\tよくわかっていない部分がありそうなので、システム構成図書きます\n\nnarico [narico.icon]\n\t-v XDでデザイン落とし込み\n\t\t（パーツ全般・ロックリスト・表示系・登録系）\n\t\thttps://xd.adobe.com/view/c18f95ed-170a-4b62-6114-08e7a4c62429-b7be/\n\t-v 吉本さん中島さんと見積り相談\n\t\t分担難しそう、Qrio(ymtk)で分担内容揉む\n\t\t\tあんまり細かくコンポーネント分けると各自やりにくいかもですね[ymtk.icon]\n\t\t\t画面単位で分担しても同じコンポーネント使ってる画面でどっちがコンポーネント起こすかーみたいな感じになってくるのかなと\n\t-o XDでデザイン落とし込み\n\t\t（ユーザーリスト・合カギリストなどのリスト系、モーダル）\n\t\t中間レビューする\n\t-! 初期申し込みは今のままでも良いような気がしている\n\t-! 来週フロントさん二人呼んでいい感じだろうか？\n\t\tぜひお願いします(ymtk)→セッティングする(narico)\n\t\t\tQrioはymtkさん、topazさんが参加\n\t\tNDAだけ先に締結する\n\t-! asanaのタスクまだ落とし込んでない\n 座組み全体図\n\t [https://gyazo.com/86c0708b89916de52aeafb98c3116109]\n\n\nkmi[komai.icon]\n\tmanagerとuserの関係について見直し中\n\t\tこのあと話す\n\t\tv1でログイン時に組織id判別する処理を入れないのでサーバーもそれを想定する必要なし\n\t\t不整合が起こりそうならv2きる\n\nhiro[h.yamaguchi.icon]\nwebApiの繋ぎこみ作業\n\tv: sirius用のAPIClient作成\n\tv: ログイン (auth0部分のみ)\n\tv: イニシャライズキー取得 (リクエスト、レスポンス部分のみ)\n\tv: ロック登録 (リクエスト、レスポンス部分のみ)\n\ntomohiko[tsato.icon]\n -v ロック一覧画面デザイン適用、ドロワー部分実装\n -v 色適用\n  色変わる可能性もあるとのこと\n -vo ログイン周りのUI\n -o ロック登録部分のUI実装\n\nymtk[ymtk.icon]\n\tv:NP解決しました。\n\to:コウキチさんとカギカン1のクローズタイミングと、カギカン1のペインについて進めていきます\n\t\t「カギカン1、かゆいところに手が届いてない感じがあるので、そういうのも出していきたい」 by コウキチさん（電池ない→電池要求フォームに飛ばすとかやってない）\n\to:フロント向けのテスト実装をcastleの合間見て作っていきます\n\t\tapi通信(axiosの更新・削除)系\n\t\tvuexまわり\n\t\tテスト周り(jestとか)\n\t!: CSチームがカギカン電話営業体制構築回りを検討中\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\t乗り換えのご案内方法→まだ進められていない\n\t\t要相談。電話やメールする？受け身でいる？\n\t\tWeb何か掲載するか？\n\t特定のタイミングから、カギカン1の登録動線を落とす→まだ進められていない\n\t\t他、プラン変更周り（ロック増やすのはダメ、キーパッド欲しいのもダメ）\n\n[** その他気になること]\n\tログイン→このあと話す\n[https://gyazo.com/dc556b608ae9c888affaed9ace435bb5]\n\n\n\n# IoT - dev 室長会 19/6/7\ncreated_at:Mon Jan 19 1970 10:17:56 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:18:05 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/6/7\n前回：[IoT - dev 室長会 19/5/31]\n\n[** 全体共有・相談]\n\t採用界隈\n\t\t開発室はking-apiを引き取れるシニアなサーバエンジニア(Rails + リーダータスク)を採用しにいく構想\n\t体制変更\n\t\ttoC / toB\n\t\t\t週次定例と施策打ち\n\t\t\ttoCとしてはOKRで進めてみる予定。まずは売り上げに繋げる短期＆中期施策を回せる状態に持って行く\n\t\t組織\n\t商流・マーケ\n\t\t5月は計画50%程度、amazon価格変更とSesami mini amazonリリースなど影響\n\t\t6月からキャッシュバックキャンペーンを前にマーケ施策拡大\n\t検討中大きめBiz案件の共有\n\t\tMANOMA\n\t\t\tHub\n\t\tNURO\n\t\t\tHub\n\t\tOYO(WW)\n\t\t\tメカ\n\t\tOYO LIFE(JP)\n\t\t\tbitkeyとroomon比較中\n\t\t賃貸・不在内覧\n\t\t各案件の確度、開始／リリース時期、Qrioの開発規模が知りたいです[fukazawa.icon]\n\tiOS / iPad OS\n\t\t大西さんより相談あり。Lock動くかな案件\n\t\tβ1早すぎる\n\tandroid 64bit問題\n\t\t8月までに対応しないと死ぬ。SL-1、カギカン1\n\t\t\tソニー(大西さん)に依頼する必要ある\n\n[** 共有・相談ネタ]\n[* 製品開発]\n\tGurdian\n\t\t粛々と実装中\n\t\t評価ボードの配線ミスが発覚し返送中\n\tKing\n\t\t粛々と改善中(主にCS案件)\n\tSirius\n\t\t粛々と開発中\n\tJoker\n\t\t来週Long MTG\n\tその他\n\t\tPW管理ツールを早く導入したい\n\t\t\tQrioの代表Apple IDでトラブりかけたため\n\t\t\t\tしましょう。ゆりさんに話してください。\n\t\t\t\tQrio 代表スマホ電話番号も欲しいです（SMS求められることある＋QR 二段階認証アプリ必要になる)\n\t\tesa.io閉じる\n\t\t\t共有アカウントを1個作り、今後はread-only運用とする\n\t\tQ-SL1/カギカン Android\n\t\t\t8/1までに64ビット対応しないとしぬ\n\n[* デザインコミュニケーション]\n\tSirius\n　\tymtk + 西川さん：narico +フロントエンド×2名 顔合わせ\n　　\t稼働時期これから調整？\n\tJoker\n\t\t企画を1つにまとめきる覚悟で来週ロングMTGします\n\t\t\t価値、製品特徴、製品カテゴリ、話題性、認知イメージ、勝ち筋 等\n\tGuradian\n\t\t来週、個装箱試作抜型品 1次耐久試験実施\n\t\t個装箱表記 未確定\n\t　\tQrioは、ソニー株式会社の登録商標です。...\n\t　\t© 2018 Qrio, Inc. Maide in Japan\n\tKing\n\t\tブランドブック アップデート中\n\t\t\t販促物を外部に委託する機会が増え始め、訴求やトンマナにバラツキが出る懸念\n\t\t\t\tブランドブックを常時配布できる体制にし、いつでも外部に一貫した指示ができる状態にし、バラツキ軽減\n\t\tペーパークラフト\n\t\t\tベースパーツの1次試作とフィードバック\n\t\t\t\t完成近づいてきたら、バイトさんなどに検証の協力いただきたい\n\t組織\n\t\t行動指針 来週に1次提案\n\t　　トップダウンで一方的に決めるものじゃ無いので、都度社員の意見を聞きながら制作中\n\n控えているもの\n\tCastle\n\t\t紙媒体のサービス紹介資料（カギカン見開きA3の計4ページ程度）\n\t\t9月展示予定の AI・スマート住宅 展示ブースの各種制作 等\n\t\t\tメイン画面の画像も何卒･･･！[ymtk.icon]\n\n[* CS推進]\n\t問い合わせフォーム周り手をつけたい→いっちー&川上さんに共有→ちゃんさんに依頼済→対応中\n  この辺、遅すぎるので自分の手を空けたい\n 採用進めたい\n  Sirius→インサイドセールス部隊をCS主導で作った方が確実に成果出せるよファクト洗い出し中\n ハンズフリーの同時帰宅で開いちゃう問題&オートロックの時間帯指定→すません、まだ集計中です\n\n##室長会 #議事録\n\n# 6/5 Sirius 打ち合わせ\ncreated_at:Mon Jan 19 1970 10:15:13 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:15:41 GMT+0900 (日本標準時)\n6/5 Sirius 打ち合わせ\n参加者：吉本、中島、山口（隆）、西川、成田\n\n[*** 打ち合わせ内容]\n\tスマートロックの説明\n\tカギカンの説明\n\tSiriusの説明\n\t今後の流れ\n\t\tNDA締結（本日お渡し）=> 捺印の上一部ご返送お願いします。\n\t\tリポジトリ共有、Slack招待します\n\t見積り・分担について\n\n[*** APIの状況]\n\t取得先や何の値をどう投げれば良いのか？\n\t\t参照先：https://sirius-api-staging.herokuapp.com/swagger/\n\t新規登録〜審査完了はAPIが出来ている\n\t6月着手予定しているロック管理・合カギグループ、利用者管理はまだできていない\n\t環境構築、共通部分のマークアップ、ルーティング整備、レイアウト振り分け、などから着手していただく\n\t\tデザインも全部終わってないが下記参照\n\n[*** デザイン状況]\n\tデザインレビュー中\n\t\t来週から共通部分などのマークアップに取りかかれるようにXD上でのFIX急ぐ\n\t仕様書と比較すると外観が変わっている部分も多いが表示要素、導線などの変更は変えていない（つもり）\n\tMAX表示数などは適宜決める\n\t大口顧客と従来顧客でユースケースがマッチしない部分があったりする\n\n[*** 実装環境メモ]\n\t取得・表示系のサンプル\n\t\t/pages/ApiTester.vue （ローカル環境のサイドバーのAPI testで見れるやつ）\n\t\tAPIがないので帰ってこないが\n\tポスト系の実装サンプル\n\t\tymtkさん依頼\n\tデータの型あんまちゃんとやってない\n\t\tいややってあるところもある　/src/types/ あたりを参照\n\t\tほんとはちゃんとしたいが、捨て置けるところは any でも。。。\n\tBCU（設置アプリ）iOSのステージング環境で使えるようになったらお二人にもステージングアプリDLしてもらって、Staging デバイスもお貸しして開発進めやすくなる\n\t\tstg BCUを試せる時期確認します\n\t\t先にDBにお二人のSiriusアカウントを作ってもらいダミーデータなどで進めることも検討\n\t\t\tymtkさん西川さんで相談\n\n[*** 稼働日数]\n\tお二人とも半々くらい\n\t中島さんは6月中旬？から国外で朝晩逆　ﾀﾞﾝｹｼｪｰﾝ！！\n\n[*** 見積り・分担について]\n\t7月末リリース分までの機能・画面開発費を再見積り\n\t\t開発内部見てもらう\n\t\t今の想定工数にはXDのデザイン反映の工数は入れていないため、そこも含めていただけると・・・\n\tお二人間での分け方は協議の上、それぞれからQrioにご請求いただく。\n\n[*** 質問/その他]\n\t最初に登録したマネージャー（オーナーみたいな）人が存在する？設置アプリの使用やロック、合カギグループの設定はマネージャーなら全員できるか？\n\t\t特にマネージャーの中で権限の階層や分類はない\n\t\tマネージャーとして登録していれば全員できる（と思う）\n\tバリデーション実装仕様は？\n\t\tフロントでblur時にチェックするところ\n\t\t\tケースによるが判断基準としては形式チェックなどのAPIを参照しなくても間違いだと判定が得られるもの\n\t\t\t\trequire\n\t\t\t\temail(形式チェック)\n\t\t\t\turl(形式チェック)\n\t\t\t\tpassword(形式チェック)\n\t\t\t\tnum(桁数)\n\t\t\t\tまた、こういったONにしているのにメールアドレスが1件も入力されていない。など\n\t\t\t\t\t[https://gyazo.com/c51cb96337062f21ebd7c6b807bbb1d7]\n\t\tAPI側でチェックするところ\n\t\t\temail（重複チェック）\n\t\t\tあとなに・・・\n\n\n[*** 用語]\n\tカギカン・・・SL-1で運用している今のカギカン http://kagican.jp\n\tSirius・・・SL-2に乗せかえるプロジェクト（サービスブランドとしてはカギカンのまま）\n\tKing・・・SL-2本体の事\n\tKing-API・・・大元のAPI（雑）\n\tSirius-API・・・雑なイメージですがSirius-APIからKing-APIを参照している\n Castle・・・[Qrio Roomon https://qrio.me/smartlock/roomon/] の事。Siriusのベース環境になっている\n\n\n\n# Dev MTG 2019/6/4\ncreated_at:Mon Jan 19 1970 10:13:31 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:13:51 GMT+0900 (日本標準時)\nDev MTG 2019/6/4\n[https://tripnote.imgix.net/post/article/30/2999-d2TWfYPNJuBgCehwMP3J_src.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\tWantedlyで正社員募集中\n\t\t優先度はサーバー＝フロント＞アプリ\n\t2019年度の優先順位\n\t\thttps://docs.google.com/spreadsheets/d/1inrorhlko8m-jQQG0SKxpvYefI88obFRSdwsrJW-H-E\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 新体制\n \t6月に発足、6〜9月に移行期間、9月末に移行完了\n \thttps://docs.google.com/presentation/d/1O7CfRGn0k-TbVCzac3V9OeTb0owyoVr8BHWq99MBjlE\n 開発室エグゼクティブサマリー\n \tエグゼクティブサマリーとは：事業計画書の冒頭に計画の概要や重要な論点などを整理しまとめたもの。事業計画概要\n \t開発室としての中長期計画をペラ1〜2枚でまとめ中[fukazawa.icon]\n OSS\n \t今週までにQrioが使っているOSSをまとめて提出する\n \t\tハードはソニーにてまとめ中\n \t\tサーバーはymtkさんにてまとめ完了\n \t\tアプリは今週中にまとめる[fukazawa.icon]\n\n[*** 各PJ]\n[** 他社連携（ymtk、深澤）]\n\tそもそもこれはAvisではなかったため、Avis→他社連携に変更\n\t検討中案件\n  OYO\n  \t6/5(水)にmtg\n  \tモジュールだけ使いたいような相談も来ている（が、それ大変では？）\n  \t\t海外仕向け。\n  NASTA[ymtk.icon]\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\tphase1ではQrio Keyのビーコンを読み取って開ける形になりそう\n \tコクヨ\n \t\t駅の作業BOX案件。全国400BOXくらい\n\n[** Joker (ymtk、深澤、竹内)]\n\t企画を確定させるため、6/13(木)にLong MTG予定\n\n[** Castle (三上、hiro)]\n\tWebアプリ(三上さん)\n  三上\n  \t一部ディレクトリ構成変更完了(続きもあるよ)\n  \t電池残量低下のアラートにとりかかり中(今週中目標)\n  ymtk\n  \t今週はリリースあり週。\n  \t\t\t今週のリリース\n    \t\t機能追加（かっとなって色々やった）\n     \t\t電話カギへの名前追加・一覧表示・履歴表示\n      \t設置アプリアカウントと建物との紐付けで必要なクリック数が多い対応\n      \t\tページ間移動を楽にしました\n      \tグループのリモート操作許可切り替え\n       グループの名前変更\n       設置アカウント削除\n     \t\tユーザー削除\n  \t\t[##Castle 未解決・対応中の項目管理]\n  \t\t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  一旦対応お休み\n[Castle 週定例 2019/5/21]\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応\n\t\tapi-docはswagger\n\t\tBCUとの繋ぎ込みは6月から\n\t\tLock一覧取得がまだ\n\tWebフロントUIは要件詰めました。フロント担当調整中（なりさんの元同僚）。\n\t\t成田さん、業務委託メンバーと契約対応中\n\tSirius BCUはUIあるので5/20(月)から着手。iOS→androidの順\n  リリース時期8月を想定\n  両方作る必要があるのか、見直してみてよいかも\n  \tAndroidのほうが安い＝業務で使っている人が多いのでは？\n iOS\n \tsiriusで必要なUIはだいたい全部終わった\n \tログインAPIを繋ぎこみ中\n[sirius-king api mtg 5/14]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa\n  審査進行中[ymtk.icon]\n  この挙動、CUに入れてもいいのかも･･･（リモートの時、Hubかロックが死んでいたらエラー表示）\n   \t時間ができたらやる[fukazawa.icon]\n   \t急ぎではないです\n\n[* API (駒井)]\n\tinvitationにexpires_inを設けるやつ\n　\tCUに影響なかったら今日中リリースしたい\n\n[* OYO界隈(ymtk)]\n（前回までのシステムアーキ関連の話は [Dev MTG 2019/5/20] を参照）[takeuchi.icon]\n\n[* CU (深澤、竹内)]\n\t粛々と改善中[fukazawa.icon]\n\t合間をみていい加減ハンズフリーのログしこみます[takeuchi.icon]\n\n[* Hub (竹内)]\n（進捗なし）\n\n[* SimHub (竹内)] \nSim入りのHubを作る話\n\tメールでやりとり中。\n\tあちらから返信がないままになっているので、あとでプッシュします\n\n[* Guardian (竹内)]\nESP32で粛々と実装中\n\tPeripheralの実装中\n\t\tService/Characteristicの登録、コマンド送信まで確認できた\n\t\tBLEまわりのフィジビリはだいたい完了です\n\t\t通信速度（Central時のBLE Connectにちょっと時間がかかったりしているので、そちらの改善を検討したい）\n\t暗号化、書き込み制限などの確認中\n\t\t仕様がかなり複雑\n\t\t署名鍵(key_seed)、Wi-Fi SSID/Passwordを、base64で難読化する、で十分な気もしてきた\n\t\t難読化だけでも問題ないかどうか確認とります。とれたらそれで行きたいです\n\t\t [mikamix.icon] ここ詳細教えていただければとー\n\t\t \t了解しました！そもそも難読化もいらないんじゃないか、という話をちゃんさんとしています[takeuchi.icon]\n\t\t \thttps://qrioinc.slack.com/archives/C5E0ZMTKN/p1559038470014100\nその他直近のタスク\n\tWi-Fiルーター接続互換性評価を委託 (Allion)\n\t\tルーターリスト作成中。6月中旬までに作っておく\n\tWi-Fi/Bluetooth SIG認証\n\t\t両方ともQrioでやる。わからなければ大西さんにきく\n\t\t\tSIG、ソニーと話し始めました。これまでの半額(40万)でできる[ymtk.icon]\n\t\t\t登記簿を西條さん -> 渡邊さんに切り替え中。2Wかかる\n\t\t\t\t先週終わった\n\t\t\t\t\tありがとうございます[takeuchi.icon]\n\n[* Guardian 製造・制作系 (ymtk)]\n 楢原さんから取説チェックポイントをもらったのでスプレッドシートで要件まとめていきます\n 箱の一次デザインは7月。内部的なデザインはマユトさんが組んでくれました[ymtk.icon]\n 今週中に報知やっつけます\n\n[* Guardian セキュリティ(チャン)]\n GM判定資料の進捗は以下\n \t未実施\n   RAツールの利用 -> ソニーがもっているRAツールがあり、それを利用できるか確認中(大西ボール)\n \t  リスクアセスメント -> 上記ツールが使えれば可視化できるのでいったん保留\n    リスク対応 -> リスクアセスメントが判明次第、対応を検討する\n   攻撃可能領域の最小化 -> STM-0117に準拠するため、資料を開示してもらえるか聞いている(大西ボール)\n   セキュリティ運用設計 -> ソニー内部で発信している、脆弱性の通知をまとめたものがあるとのことなので、これを展開してもらえるか聞いている(大西ボール)\n  実施\n   セキュリティおよびプライバシーに関する教育の受講 -> GM判定会までに、割り当てられた部分をクリアしてください\n   安全な実装指針の策定 -> 策定済み。Githubの権限与奪を、セキュリティ担当、プロジェクト担当者にのみ割り当てて運用する\n   セキュリティテスト計画策定 -> Gurdian単体では策定しない、で通るとのことなので、やらないことにする\n   安全な実装指針の策定 -> Googleのコーディング規約に則するということで解決\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n なし[fukazawa.icon]\n\n[** 情報システム (チャン)] [進捗なし]\n 恐怖 McAfeeのインストールと手続き\n \tセキュリティ部から、1台にしかインストールされていないと通告あり。対応を検討中\n 社内DNS設定。AkamaiのETP導入\n  気が向いたらやる。とてもめんどう -> ほんとにそろそろやる。毎月お金払ってるし。\n 電気通信番号関係の制度改正を読んだ\n \t簡単にいうと、いままでは番号を取っている大元のひとたちが、総務大臣に番号の使用計画を報告すればよかったんだが、卸先の業者も、総務大臣へ同様の報告をしなければいけなくなった、っていうことみたい。\n \tなので、Twillioも実体把握をして報告しなければならなくなったので、我々は必要な情報の提出を迫られているということになります。\n \tもう制度は5.22から施行されていて、報告、申請は施行から6ヶ月以内なので、11.21までにTwilioは申請しなければならない状態。\n \tそろそろTwilio様は、下々の我々へ書類を要求していただかないと間に合わないんじゃないかなあ。\n\n[** QaaS(チャン)]\n 6月1.5人月、7月2人月で発注済み\n\n[** CSへのテクニカルサポート(チャン)]  [進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n \tCMSの選定もしている\n \t現在はWordPress上のContact7使っているが、Qrio Lock/Smart Lockの問い合わせが混在している\n \tフォームを整理してほしい\n \t\t案\n \t\t\t問い合わせフォームもSaaS使う\n \t\t\tWebサイトのSaaS (☆WebFlow, SquareSpace, ...)を使って作る\n \t\tWordPressじゃない理由\n \t\t\tメンテしたくないから\n \t\tなんでWordPress？\n \t\t\tWordPressは使っている人は世界中にいるから、なんかあっても大丈夫\n \t\t\tだから社内でWordPressをいじっている人がいると、すごく勿体無いROIが低い\n \t\tSaaS使うなら、WordPressメンテの人件費との兼ね合い\n \tFormRun使っているので、それでいいのでは？\n \t\tFormRunではダメだから使っていないとすると、それはなんでか？\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tHerokuの権限管理変えました。ユーザー管理、支払い管理など強めなモノはymtk/zawa/hajimetyan[ymtk.icon]\n\t\tコーポレートサイト、wpのapiとnuxtで落ち着けられるような気がしている（優先度的には全然まだ触らない）[ymtk.icon]\n\t\t やる時に言ってください [mikamix.icon]\n\t\tHerokuからredisのメンテメール来てましたので確認と対処お願いします(前回SL1でトラブった)[ymtk.icon]\n\t\t mikamiとkomaiで対応します\n\t\t めっちゃ来てる7件ぐらい\n\t\t かつそれぞれタイミング違う\n\t\t premium, privateなら大丈夫? -> ほんとか?\n\t\t offline for only a few minutes\n\t\t 自分でやることもできる or 予約というか範囲していできる\n\t\t sl2-api-stagingで確認 (時間とダウンタイム発生するか)\n\t\t 用途も違うので何気に、、、\n\t\t  sl2-api-staging -> 無視? -> というかダウングレードしてもよいのでは?\n\t\t  sl2-api-production -> リモート操作\n\t\t  qb-auth-production -> これ何に使ってるっけ?\n\t\t  \tこれSOMC向け通知ですね。まるさん作[ymtk.icon]\n\t\t  smarttag-server-production\n\t\t  simely-production\n\t\t  \tおそらくパスワードリセットとログインセッション･･･？[ymtk.icon]\n\t\t  ke-hi-production\n\t\t  r-tadaima\n\t\t  \tパスワードリセットの一次キー保存用[ymtk.icon]\n\t\t 夜やるで問題なさげ\n\t\t  stagingだけ明日確認\n\t\t  ダウンタイムなければ問題なし\n\t\t  ダウンタイムあれば、全部どこかの深夜に設定する\n\t\t  sl2-apiとqb-authだけymtkさんに告知していただく\n\t\t  \tSOMC槇本さん、CSの両方に展開\n\n[** 健忘録]\n\tなし\n\n# sirius-king api mtg 6/4\ncreated_at:Mon Jan 19 1970 10:13:44 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:13:48 GMT+0900 (日本標準時)\nsirius-king api mtg 6/4\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1100-1130\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 5/21]\n\n[* 参加者]\nymtl/kmi/topaz2/hiro\n\n[** 諸々確認メモ]\n\tとくになし\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tコマンド発行\n\t\tロックのログとの繋ぎ込みができたらstgに出てきます\n\t招待のフロー（決める必要がある）\n\t\tユーザーidを特定してからの紐付け方法\n\tBCU関連\n\t\tロック登録 ok\n\t\tハブ登録 ok\n\t\tロック一覧 まだ\n\t\t\tsiriusではlock_idだけ保持している\n\t\t\t明日or明後日目標\n\t\tこれ今週やる\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\tmanager has_many admins にしないといけなさげ\n　\tmanagerが使うlockの特定がムズイのでsiriusからのリクエストには常にadmin_idを入れてもらうのがよい？\n\n\tSirius上からはユーザーの作成／削除は行わない\n\t\tking-api(management api)からユーザー一覧を取得する必要はある\n\ntopaz2\n ロック解施錠(management api)\n rspec セットアップ\n\nymtk[ymtk.icon]\n\t今週フロントエンドの方と面談。NDA締結します。\n\tなりさんのXDレビュー中。\n\tNP後払い無事怒られて完了です。契約進めます。\n\tそろそろBiz界隈再開したい（取り急ぎはカギカン1の新規募集停止時期）\n\tcastle-consoleのいろいろを折を見て輸出したい\n\n[h.yamaguchi.icon]]hiro\n\tv: siriusの新規追加画面はだいたい終了\n\to: ログインAPI繋ぎこみ\n\to: 完成しているAPIを繋ぎこむ\n\t\tイニシャライズキー\n\t\tロック登録\n\t!: BCUのログインどうしよう問題\n\t\tメアド+パスワードでAuth0ログイン → Token + 組織ID(UUID) をsirius-apiに投げるが、現状、組織IDを入力する場所がない\n\t\tUUIDの手入力キツイので組織IDだけQRコード使う？\n\t\tログイン後に組織一覧出して選ばせるのが筋良さそう(理想)\n\t\t\t木曜日に話す\n\thub登録時の署名はhub.id + organization_user.user_id\n\n次回（金曜）\n\tさとうさんとmtg\n\n事業前提\n\t8月には何卒\n\n[* 懸念 ]\n\tフロントエンドの着手時期。api6月上旬〜中旬くらい？\n\n\n\n##sirius #定例 #sirius-api\n\n# castle-product定例 6/4\ncreated_at:Mon Jan 19 1970 10:13:39 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:13:47 GMT+0900 (日本標準時)\ncastle-product定例 6/4\n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n参加者\nryo / seki / ymtk / kawakami  \n\n前回\n[castle-product定例 5/21]\n\n[* 事業]\n\tリード獲得\n\t\tマーケ経由、display広告経由でアクセス数を5倍に増やしている\n\t\tメールから反応を見るやり方→まず電話をかけるやり方へ変更\n\tマンスリーマンション\n\t\t入居・退去の頻度は1-6ヶ月、カギのやりとりの発生頻度高い。\n\t\tRoomon特長活かしやすそう\n\t\t\t回線ある、光熱費は家賃込みなので電気ある\n\t大口系\n\t\t2社（代理店）ほど話を進めている。デモアカウント必要\n\t\t\tninjaからの乗り換え検討\n\t小口系\n\t\t代理店経由の方が良さそうだが、検討中\n\t\t\t直販から代理店への移行プランどうするか？（24ヶ月 ¥850の場合・約2万）\n\t\t\t\t回線事業者だと渡せなそう。その場合は[* どういう座組があり得るのか、どういう受け先があるのか]を検討する必要がある。\n\t\t\t\t目的としては、今の代理店では取れない規模感の顧客をとっていく\n\t\t\t\t\tRoomonを使ってもらってのペイン、事例他の収集もある\n\n\n[* 開発・デザイン]\n\t今週のリリース\n\t\t機能追加（かっとなってやった）\n \t\t[** 電話カギへの名前追加・一覧表示・履歴表示] \n  \t設置アプリアカウントと建物との紐付けで必要なクリック数が多い対応\n  \t\tページ間移動を楽にしました\n  \t[** グループのリモート操作許可切り替え]\n   グループの名前変更\n   [** 設置アカウント削除]\n \t\t[** ユーザー削除]\n\t直近開発中\n\t\tアラート\n\t\t\t電池不足が出せるようになったらリリース。6初予定。\n\tWeb総合ガイド\n\t\t折を見て改修部分まとめて反映します\n\n[* CS]\n\tFNJさんより発行した合カギ二次元バーコードを読み取るも期限切れとなり受け取りできない事象の問い合わせあり\n\t\t合カギ発行後の有効期限が24Hになっていたことが原因として判明\n\t\tFNJさんへは来週中、遅くても再来週中予定として修正予定で連絡済み\n\t\t入居者様へはメールにて合カギURLを提供してもらい、URLクリックで受け取りいただくよう案内済み(入居者様は6/8まで不在とのことなので進捗なし)\n\t\t「ポラリスの全部屋が利用(利用ログ)されているか確認はとれますでしょうか。利用されてないと導入しております意味がないので。」→カワカミ確認します\n\n[* 運用]\n\t特になし\n\n# Castle 週定例 2019/6/4\ncreated_at:Mon Jan 19 1970 10:03:32 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:13:44 GMT+0900 (日本標準時)\nCastle 週定例 2019/6/4\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/5/28]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[h.yamaguchi.icon]\nbcu-iOS\n\t作業なし\n\tアラートの開発待ち\n\t\tアラートの必要カラム、テーブルが判明次第、BCU用のAPIに反映させることができる\n\n[ymtk.icon]\n\tv: 今週リリース予定の対応\n\t\tapi\n\t\t\t設置アプリアカウント削除\n\t\t\tユーザー削除\n\t\t\t削除に対応した履歴ロジック変更\n\t\t\tグループのリモート操作切り替え・名前変更\n\t\t\tその他bug修正、動線改修\n\t\tconsole\n\t\t\t同上\n\tその他（先週と同じ）\n\t\tこれはまだ→開発してて建物検索がないのが面倒に思えてきたので、気持ち(like)で実装するかも[ymtk.icon]\n[* 以上、リリース可能なので、Wed. 6.5 にリリース]\n\n[hazimetyan.icon] [進捗なし]\n v: castle api/console の本番反映\n v: なにもしていない\n o: castle api / console のコード確認\n o: 水曜日にcastle api/console の本番反映\n o: 何かIssue 1個はやっつける\n\n[mikamix.icon]\n v: alertFeedの実装\n  v: isResolvedによるフィルター\n  ymtkさんと協議中 -> done\n v: userAlert使ってる部分の対応(room, building)\n  消しました\n v: とりあえずrepositoriesだけでもappの外に出したい\n  出しました\n o: バッテリー残量低下\n  今週中に出します\n o: エンドポイント(app, log, web, status)をディレクトリに分けたい\n  そのうち -> かるくフィジビリとります\n\n##Castle #定例\n# Joker MTG 2019/5/31\ncreated_at:Mon Jan 19 1970 10:07:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:08:06 GMT+0900 (日本標準時)\n Joker MTG 2019/5/31\n\n[* LongMTG]\n\n「Jokerはこれでいく」というところでみんなの意見を一致させることが目的\n\tm: もう自分たちで持論を展開して進めていくくらいのスピード感でやらないと間に合わない（上もそれを求めている？）\n\nf: 今後のロックの売っていき方: スタンダードモデル x ハイエンドモデル\n\tハイエンド: 値段が高い（¥25000）。あと機能\n\tスタンダード: 値段が低い（¥15000）\n\nm: 廉価版を出すには、そもそもの評判がよくないと出せないんじゃ\n\tJokerがこけたとき、ハイエンドは作れないんじゃ？\n\tJokerは世間的に受け入れられるものでなければならない\n\t50万台取りに行くには、地方にも売ることになる\n\t\t5000万世帯なので、100人に1人買ってもらえるようなもの\n\nKingと比べた時に、Jokerがほしい、となるように考える\n\nJokerの次の世代では、今度はJokerが廉価版になる、という流れ\n\ntable:ハイエンドとスタンダードの流れ\n 年\t2015\t2018\t2020\t202X\n ハイエンド\tSL1\tSL2\tSL3\tSL4\n スタンダード\t\tSL1\tSL2\tSL3\n\n\t1つ前のモデルがスタンダードになっていく流れ\n\nJokerがこけると、スマートロック自体のイメージが悪くなり、市場も衰退するのでは？\n\tJokerがある程度toCに浸透しないと、SL4を出すのも厳しい\n\nのちのちのアーリーマジョリティを刈り取れるよう、今のうちに信頼感を得て、準備しておきたい by マーケ\n\tSBもスマートホーム市場はじめ、うちの売り場を今考えてくれている\n\nm: 一から企画を作りましょう、だと1日では終わらないので、今決まっている「売り上げベース」で案を出して、違和感のあるところをLongMTGで議論していけばよいのでは？\n\ni: 「商品」によって市場ができるかできないかが決まる。世の中の人に「私には関係ないものだ」と思われたくない\n\n\n////////////////////////////////////////////////////////////////////////////////////////////////\n\nm: 草案\n1. ドアノブ握ったときの解錠\n\t\n\n2. シールキー（キャッチ: どれでもカギ）\n\t「錠」だけでなく「鍵」のプラットフォーム\n\t\tひいては「権限のプラットホーム」\n\n3. Non-Touch Key (Qrio Key 2)\n\tMIWAがやっているが、後付けのものは今存在しない\n\n2, 3は「錠」のほうは品質を上げつつ、「鍵」の方に新しい価値をつけていくアプローチ\n\nアーリーマジョリティーにアプローチするには...？\n\tアーリーマジョリティーは慎重で、自分に確実な利益がないと買わない\n\tSmartHome業界の評判は、うちだけの努力では上がらない（Sesame買って締め出されたら、Sesameはおろか、SmartHome自体の不信感につながる。うちも買ってくれず、市場も形成されない）\n\n信頼をつくりたい、がそれが一番ではない\n\n\n\n\n# Sirius 全体dev mtg 19/5/31\ncreated_at:Mon Jan 19 1970 10:08:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:08:03 GMT+0900 (日本標準時)\nSirius 全体dev mtg 19/5/31\n[https://gyazo.com/4a5067a6f9dcc71ddee2fa192ffbf6ff]\n\n[** 進め方]\n定例とch\n\t毎週金 1500-1530\n\t`##sirius-dev`\n\tPM: zawa\n\n[*** 状況]\n[* 今週]\n\n[* 全体]\n\tBCU向けapiの状況\n\ntopaz2\n\t環境構築\n\t\tAuth0 新テナント設定\n\t\tstaging 環境構築\n\tAPI\n\t\tマネージャー 作成\n\t\tマネージャー ログイン\n\t\t\tマネージャーってモバイルアプリで使うユーザーのことですか？ [tsato.icon]\n\t\t\t\t前『総務のお姉さん』って言ってたユーザーです\n\t\t\t\tなるほど、じゃあアプリで使う人っぽいですね。ログインはモバイルアプリから叩くAPIかも(?)\n\t\tロック登録\n\t\tinitialize_key \n\nzawa\n\nnarico [narico.icon]\n\t-v XDでデザイン落とし込み\n\t\t（パーツ全般・ロックリスト・表示系・登録系）\n\t\thttps://xd.adobe.com/view/c18f95ed-170a-4b62-6114-08e7a4c62429-b7be/\n\t-v 吉本さん中島さんと見積り相談\n\t\t分担難しそう、Qrio(ymtk)で分担内容揉む\n\t\t\tあんまり細かくコンポーネント分けると各自やりにくいかもですね[ymtk.icon]\n\t\t\t画面単位で分担しても同じコンポーネント使ってる画面でどっちがコンポーネント起こすかーみたいな感じになってくるのかなと\n\t-o XDでデザイン落とし込み\n\t\t（ユーザーリスト・合カギリストなどのリスト系、モーダル）\n\t\t中間レビューする\n\t-! 初期申し込みは今のままでも良いような気がしている\n\t-! 来週フロントさん二人呼んでいい感じだろうか？\n\t\tぜひお願いします(ymtk)→セッティングする(narico)\n\t\t\tQrioはymtkさん、topazさんが参加\n\t\tNDAだけ先に締結する\n\t-! asanaのタスクまだ落とし込んでない\n 座組み全体図\n\t [https://gyazo.com/86c0708b89916de52aeafb98c3116109]\n\n\nkmi[komai.icon]\n\tBCUに必要なlock登録、hub登録、lock一覧表示をやる\n\t\tlock一覧画面のInVision見れず→権限付与済み、今日中\n\t\t\t権限渡しました\n\nhiro[h.yamaguchi.icon]\n\tv: siriusのプロジェクトを作成  & 環境構築(castleを移植)\n\tv: UI実装 (castleとの差分)\n\t\tログイン\n\t\tパスワード再発行\n\t\tスライドメニュー\n\t\tロックの名前入力画面\n\t\t全体のUIをsiriusテイストに変更\n\to: 完成しているWebApiの繋ぎこみ\n\ntomohiko[tsato.icon]\n -v Sirius用リポジトリにking-bcu-androidの内容をコピー\n -v UI仕様確認\n -vo UI実装\n -! ログインフローがわかってない (topazさんに確認)\n \tAuth0に mail pass でログイン -> Credentialが返ってくる\n \tアプリにCredentialを保存\n \tSiriusAPIの./login を叩く？\n \tSiriusAPIのAuthorizationヘッダに「\"Bearer \" + Credentialから取り出したidToken？」を投げる\n \tSirius Console の実装を見て確認する\n \t\thttps://sirius-console-staging.herokuapp.com/\n\nymtk[ymtk.icon]\n\t基本的にはcastle開発側をやっているのでフロントのPR見るだけの人になりますが、色々間埋めます。\n\t\tvueの知見がとくさんベースの2018年知見にアップデートされてきた。\n\t他、Biz側とかお金のことをやっていきます\n\to: 来週、NPからヒアリング\n\t\t「[** カギカン未払い多いぞ。]これ解決できないとカギカン2のアカウント作らんぞ」\n\t\tええええ[narico.icon]\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\t乗り換えのご案内方法→まだ進められていない\n\t\t要相談。電話やメールする？受け身でいる？\n\t\tWeb何か掲載するか？\n\t特定のタイミングから、カギカン1の登録動線を落とす→まだ進められていない\n\t\t他、プラン変更周り（ロック増やすのはダメ、キーパッド欲しいのもダメ）\n\n[** その他気になること]\n\tAPIドキュメント→Swagger\n\n[https://gyazo.com/dc556b608ae9c888affaed9ace435bb5]\n\n\n\n# IoT - dev 室長会 19/5/31\ncreated_at:Mon Jan 19 1970 10:07:57 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:08:00 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/5/31\n前回：[IoT - dev 室長会 19/5/10]\n\n[** 全体共有・相談]\n\t経営会議しました\n\t\t資料ざっくり共有します\n\t採用界隈\n\t\t応募落ち着いてきてしまったので立て直したい\n\t\tとりあえずは原稿･･･？\n\tIoT開発本部の重点課題を明文化したい→経営会議受けて。\n\t\t叩きつくります。OKR的な話→ごめんまだですGWやります[ymtk.icon]\n\t\tやるやる詐欺だったが下記は見えている\n\t\t 開発プロセス再検討（何を決めてどう作っていけばいい、何を交渉していく）\n\t\t 年間計画/実績の明示化\n\t\t \t案件アサイン状況も明示化したい。oyoとかBBとかnastaとか曖昧だがデかいものがちらほら\n\t\t コスト計画/実績の明示化\n\t\t \t予算どのくらいあってどのくらい消費？予算内であれば本部内判断で動かすよ\n\t\t \tSQA等外注費用含め。本部的には開発費1200万/月くらい\n\t\t CS体制拡大と事業拡大に向けて\n\tymtkが抱える管理者パスワード整理したい\n\t\tまだ本格的に動かしてません\n\tSirius、Castle外注化検討してくれという相談 from tk\n\t\tまだ本格的に動かしてません\n\tご意見\n\t\thttps://docs.google.com/spreadsheets/d/1XsNs7j6VKcvf6dGgJxbD_xwRmZKyNQkKo8DasivLNvQ/edit##gid=11165844\n\n[** 共有・相談ネタ]\n[* 製品開発]\n\tHub (Guardian)\n\t\t問題なし\n\tOYO/Nasta\n\t\t状況確認希望\n\t\t\toyo\n\t\t\t\toyo  エンジニア商談待ち\n\t\t\t\tmtg カレンダー共有します\n\t\t\tnasta\n\t\t\t\ttk 商談整理中\n\t\t\t\t集合玄関はヘルツ椛沢さんにtkから相談中です\n\tJoker\n\t\t再来週にLong MTG予定\n\t\t\t具体的な企画を出す\n\tSirius\n\t\t正式リリースは8月中(確定)\n\n[* デザインコミュニケーション]\n\tSirius\n\t\t管理画面\n\t\t\t来月上旬からフロントinします\n\tCastle\n\t\tデザインタスクは直近ないので既存の素材だけで倒せます\n\t組織開発\n\t\tmayucy  ing\n\t成田退職の件\n\t\t来月からは業務委託です。PCもメアドもそのまま。\n\n[* CS推進]\n\tハンズフリーの同時帰宅で開いちゃう問題→体感で7,8件/月来てる気がする→実数調べます\n\t\tハンズフリーを使う人が増えれば増えるほど顕在化するので、防止するにはどうすればいいんだっけ？のアイデア検討はありかと思います。jokerもありますし[ymtk.icon]\n\tその他要望→オートロックの時間帯指定→体感で5件/月→実数調べます\n\n\t問い合わせフォーム周り手をつけたい→いっちー&川上さんに共有→ちゃんさんに依頼済\n\t\tQ-SL2お問い合わせフォームだけどQ-SL1に話が来るようなパターンの解決\n\t\tiOSからの画像アップロード、拡張子問題\n\t採用進めたい\n\t\tSirius対応しきれない\n\n##室長会 #議事録\n\n# Joker MTG 2019/05/28\ncreated_at:Mon Jan 19 1970 10:03:48 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:06:50 GMT+0900 (日本標準時)\nJoker MTG 2019/05/28\n出席者 (敬称略): 高橋、ymtk、鈴木、市川、竹内\n\n[*** 本日の資料]\nhttps://docs.google.com/presentation/d/1V-7Hh-OwUvnaFzjf8cmrnDr_NCuNfKGlWR7Yo0Rgnig/edit##slide=id.g5a543f8d08_1_7\n\t高橋さんに共有する。\n\n\n[*** 議事録]\n (t: 高橋さん、m: まゆとさん、i: いちかわさん、竹: 竹内)\n\nt: 前回JumpUpの部分が欲しいとリクエストした。そのためにユーザーの意見がないといけない、という意見であっている？\n\tm: JumpUpとは？\n\t\tt: iPhoneでいうと、注目ポイントとなった機能がある（Fericaとか防水とか）\n\t\t自分が改善ポイントだと思っているもの\n\t\tでもそれだけだと、誰に訴えるか？\n\tm: それは話題性？\n\t\tt: 「本質」で（本当に価値があって）話題があるもの\n\nt: JumpUpのための、ユーザーの選別に今苦戦している\n\t考えはいくらでも出てくるが、それだと前回の二の轍をふむ\n\nt: 調査するのはいいが、それをどうやって売りに繋げていくのか？\n\tm: 調査の前に仮説が必要で、結果を元に起動修正したい\n\t\tt: 調査やるのは、SmallにやるのはOK。積み上げには活きるから\n\t\tユーザーの欲しいものを作る ? ユーザーは自分の欲しいものをわかっていない\n\t\t\tJumpUpの部分は後者\n\t\t\t\tm: それはProductOut?\n\t\t\t\tt: そうでもない\n\ni: 聞き方によっては、JumpUpのためのきっかけになる意見は出てくるのでは？\n\tデプス調査で課題が見えてくるのでは？\n\ty: マーケ観点では、Kingでやろうとしていたことは、伝わっていたのか？その辺も聞けるかも\n\nm: KingのJumpUpはなんだった？\n\tt: ハンズフリー。あたかも1号機ではハンズフリーができなかったように振る舞った。\n\tt: すでにハンズフリー自体は世の中にあったが、そこは見せ方。\n\t\tm: 我々のPromotion次第でJumpUpできるんじゃないか。\n\t\t\tt: [* 機能は半歩、プロモーションの半歩、は正しい。そのためには、キャッチフレーズを考えてほしい]\n\nm: 今後のLockの事業ドメインとして、防犯でいいのか？\n\tt: 量販店もやむなく防犯コーナーに置いている\n\tSBが売り場を検討してくれている\n\t\tm: そうなったとき、最初に連想される言葉は「便利」？\n\t\tそれを3号機で作る必要があるのでは？\n\t\t\tt: ハードル高い\n\t\t\tたとえば、半年間無料で配って、中毒にするとか\n\t\tm: 生活リズムを戻せなくなる中毒性があるのがSmart Homeの魅力では。\n\t\tt: 売り方はどうする？\n\t\tm: 売り方もそういう広める活動も両方ないと厳しいのでは\n\n\tt: 「製品&プロモーション」と「個別の売り方」のセットができたら最高だが、\n\t売り方は別個で考えてみるのがいいのでは？\n\t\t売り方とは「この商品はコレコレ1にも使えますよ！」「この商品はコレコレ2にも使えますよ！」みたいなもの......\n\t[* 「本質(= 製品自体の価値) x 見せ方」の両方で考えるのがいいのでは？売り方まで考えていくと、混乱する]\n\nI; とはいえ、Jumpの方向を見極めるのは...\nt: 初まりは、ハンズフリーの改善。それは当たり前。もうKingでハンズフリー推してるから、Jokerでは精度を押せない\n\ni: ヒアリングにつき、多少のランチなどのコストがかかるけどよいですか？\n\tt: リターンを明確にすること\n\tt: まだ実績がないので、とにかくSmallに早くやること（時間をかけないこと）\n\t\tGoogleアンケートとかでさくっとやってみる\n\n\n[*** Long Meeting]\nt: Long Meetingをして、みんなの認識のズレを合わせよう\n\tLong Meetingとは、一気に何時間もやるMTG\n\tみんなの認識のズレを合わせるのに7割の時間を使うもの、らしい\n\tどっかOffice以外の場所でやる　鎌倉とか :-D\n\n竹: Jokerを考えていたときに、SmartLock事業そのものの考え方にも影響しそうだったのだが、それに対して、Jokerをどう考えていけばよいか？\n\tt: いったんSmartLock事業のことは置いておいて、まずはJokerだけ考える。SmartLockの事業はそのあとで微調整する\n\n\n# Dev MTG 2019/5/28\ncreated_at:Mon Jan 19 1970 10:03:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:03:45 GMT+0900 (日本標準時)\nDev MTG 2019/5/28\n[https://tripnote.imgix.net/post/article/30/2999-d2TWfYPNJuBgCehwMP3J_src.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\tWantedlyで正社員募集中\n\t\t優先度はサーバー＝フロント＞アプリ\n\t2019年度の優先順位\n\t\thttps://docs.google.com/spreadsheets/d/1inrorhlko8m-jQQG0SKxpvYefI88obFRSdwsrJW-H-E\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 5/24〜25 経営合宿\n \t議事録\n \thttps://www.notion.so/ymtk/1d210a670ab944fa931d3cf5609ef06d\n\n[*** 各PJ]\n[** Avis（ymtk、深澤）]\n\t検討中案件\n  OYO\n  \t6月に再度mtg\n  \tモジュールだけ使いたいような相談も来ている（が、それ大変では？）\n  NASTA[ymtk.icon]\n  \tマンション共通玄関\n  \t\t高橋さんの方で進行中\n \t\t既に出している提案内容\n \t\t\thttps://docs.google.com/presentation/d/1JOMuQRxfaApEJRTbzLuX5aV7_Yj57lsD1skKEmI9SzY/edit##slide=id.g57aef1a869_0_69\n\n[** Joker (ymtk、深澤、竹内)]\n\tこの後高橋さんにプロジェクトの進め方を共有する（市川さん主導）\n\n[** Castle (PM/山川、三上、hiro)]\n\tWebアプリ(三上さん)\n  三上\n  \tオートロック連続失敗アラート終了\n  \t電池残量低下のアラートにとりかかり中\n  \t一部ディレクトリ構成変更中\n  \t今月中実装、リリースは来月上旬になりそう\n  ymtk\n  \t今週はリリースなし週。\n  \t\t電話カギでの解施錠した人を出す対応してます\n  \t\t[##Castle 未解決・対応中の項目管理]\n  \t\t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  PR時にユニットテストを実行するように変更\n  一旦対応お休み\n[Castle 週定例 2019/5/21]\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応\n\t\tapi-docはswagger\n\t\tBCUとの繋ぎ込みは6月から\n\t\tコマンド発行api作成中\n\t　\tログ部分実装できたらstagingへ\n\tWebフロントUIは要件詰めました。フロント担当調整中（なりさんの元同僚）。\n\t\t成田さん、業務委託メンバーと契約対応中\n\tSirius BCUはUIあるので5/20(月)から着手。iOS→androidの順\n  iOS Castle BCUをキリの良いところまでやってから着手予定(来週ぐらい)\n  リリース時期8月を想定\n  両方作る必要があるのか、見直してみてよいかも\n  \tAndroidのほうが安い＝業務で使っている人が多いのでは？\n[sirius-king api mtg 5/14]\n\n[** King]\n[* スマートスピーカー (ymtk)] \n\tAmazon Alexa\n  amazon担当者と会話中\n  この挙動、CUに入れてもいいのかも･･･（リモートの時、Hubかロックが死んでいたらエラー表示）\n   \t時間ができたらやる[fukazawa.icon]\n   \t急ぎではないです\n\n[* API (駒井)]\n（ 進捗なし。先週までの議事は [Dev MTG 2019/5/20] を参照）\n\n[* OYO界隈(ymtk)]\n（前回までのシステムアーキ関連の話は [Dev MTG 2019/5/20] を参照）[takeuchi.icon]\n\n[* CU (深澤、竹内)]\n工場出荷状態のハブをKing CUで登録しようとすると、登録できない問題\n\t5/28に修正版(v1.2.13)をリリース済み[fukazawa.icon]\n\t\tありがとうございます！[takeuchi.icon]\n\n[* Hub (竹内)]\nAWS S3のstg環境に、暫定でprodのFWバイナリを置いてある[takeuchi.icon]\n\t元に戻しました。\n\n[* SimHub (竹内)] \nSim入りのHubを作る話で、Braveridge社の提供するモジュールに現行ハブのFWを移植できるほどのスペックなのか？\n\t（温度感としては、まだやるかどうかも決まってない話）\n\t用途：Wi-Fiルーターが稼働していない状況（Castleなど）\n\t通信費はBraveridge持ち。\n\t\tPull型Push型で、通信量も電池使用量も変わってくる\n\t\t\t現行ハブも概算できるので、やってみる\n\t\t\tこの仕組みが割に合うなら、いい\n\t\t\tハブの場合は、電池は電源取っているので大丈夫　通信量だけ\n\t\t\tハブはUSB給電\nモジュールについて質問中\n\t\tBLE部分は、Braveridge社HPより、Nordic nRF51822と推測\n\t\t ロック、QrioKeyでも使っているもののVer違い\n\t\t BLE部分はおそらく大丈夫\n\t\t ドキュメントもサンプルコードもある\n\t\tLTE部分は不明\n\t\t\tそもそもBraveridge社のHPにLTEモジュールがない。なんで？\n\t\t\t\tymtkさん> この辺り、これまでやりとりで情報ありましたら共有いただきたいです\n\t\t\t\t外向けには出してない。LTEのモジュール自体はある\n\t\t\tおそらくBLEと別個でLTEのSoCがボードに載ることになる？\n\t\t\t\tAppのバイナリが2つになってしまうかも\n\t\t\t\t一次回答では1つと言われましたが。。たぶんBLE部分に関する回答だと思います\nあと社名をBBと略していましたが「ブレイ・ブリッジ」ではなく「ブレイブ+リッジ」ですね (Brave + ridge)[takeuchi.icon]\n\t向こうが言っている...\n\tじゃあBBで。\n\n[* Guardian (竹内)]\nESP32で粛々と実装中\n\tPeripheralの実装中\n\t暗号化、書き込み制限などの確認中\n\t\t仕様がかなり複雑\n\t\t署名鍵(key_seed)、Wi-Fi SSID/Passwordを、base64で難読化する、で十分な気もしてきた\n\t\t難読化だけでも問題ないかどうか確認とります。とれたらそれで行きたいです\nその他直近のタスク\n\tWi-Fiルーター接続互換性評価を委託 (Allion)\n\t\tルーターリスト作成中。6月中旬までに作っておく\n\tWi-Fi/Bluetooth SIG認証\n\t\t両方ともQrioでやる。わからなければ大西さんにきく\n\t\t\tSIG、ソニーと話し始めました。これまでの半額(40万)でできる[ymtk.icon]\n\t\t\t登記簿を西條さん -> 渡邊さんに切り替え中。2Wかかる\n\t\t\t\t先週終わった\n\n[* Guardian 製造・制作系 (ymtk)]\n 楢原さんから取説チェックポイントをもらったのでスプレッドシートで要件まとめていきます\n 箱の一次デザインは7月\n 型番決めました。[*** Q-H1A] です。\n\n[* Guardian セキュリティ(チャン)]\n セキュリティ関係の項目をつぶす予定\n 一回目の質問を送っています。\n \t一部まだ大西さんボールになっている。\n \t\tSTM-0117のドキュメントをもらえるかどうかが、待ち状態。\n 開発関係者にセキュリティのための就学、テストを行ってもらっています。\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n なし[fukazawa.icon]\n\n[** 情報システム (チャン)] [進捗なし]\n 恐怖 McAfeeのインストールと手続き\n \tMcAfeeインストールが開発に影響がないか調査中\n 社内DNS設定。AkamaiのETP導入\n  気が向いたらやる。とてもめんどう -> ほんとにそろそろやる。毎月お金払ってるし。\n Twillioから電話番号を買っているやつら、証明書を出せと脅されているんだが、肝心のコンソール画面に入れないとか、KDDIの対応がクソすぎてヤバイ。\n \tとりあえず応答待ち\n\n[** QaaS(チャン)] [進捗なし]\n 6月1.5人月、7月2人月の見込み\n\n[** CSへのテクニカルサポート(チャン)]  [進捗なし]\n Qrio Lock / Smart Lock の問い合わせフォームの作成、修正を進めています。\n \tCMSの選定もしている\n \t現在はWordPress上のContact7使っているが、Qrio Lock/Smart Lockの問い合わせが混在している\n \tフォームを整理してほしい\n \t\t案\n \t\t\t問い合わせフォームもSaaS使う\n \t\t\tWebサイトのSaaS (☆WebFlow, SquareSpace, ...)を使って作る\n \t\tWordPressじゃない理由\n \t\t\tメンテしたくないから\n \t\tなんでWordPress？\n \t\t\tWordPressは使っている人は世界中にいるから、なんかあっても大丈夫\n \t\t\tだから社内でWordPressをいじっている人がいると、すごく勿体無いROIが低い\n \t\tSaaS使うなら、WordPressメンテの人件費との兼ね合い\n \tFormRun使っているので、それでいいのでは？\n \t\tFormRunではダメだから使っていないとすると、それはなんでか？\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tHerokuの権限管理変えますメールが来ていたので様子見ます。エンプラじゃない方[ymtk.icon]\n\t\tテレビ会議用のマイク直ったかご存じですか？[ymtk.icon]\n\t\t\t使えました。故障かと思ったら私の使い方が間違えていただけでした。すみません[takeuchi.icon]\n  \t使い方はesaに書きます\n\t\t深澤：今週休み\n\n[** 健忘録]\n\tなし\n\n# sirius-king api mtg 5/28\ncreated_at:Mon Jan 19 1970 10:03:40 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:03:42 GMT+0900 (日本標準時)\nsirius-king api mtg 5/28\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1100-1130\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 5/21]\n\n[* 参加者]\nymtl/kmi/topaz2/hiro\n\n[** 諸々確認メモ]\n\tとくになし\n\nkmi [komai.icon]\n[* management-api]\n開発案件\n\tコマンド発行\n\t\tロックのログとの繋ぎ込みができたらstgに出てきます\n\t招待のフロー（決める必要がある）\n\t\tユーザーidを特定してからの紐付け方法\n\tBCU関連\n\t\tロック登録 ok\n\t\tハブ登録 まだ\n\t\tロック一覧 まだ\n\t\t\tsiriusではlock_idだけ保持している\n\t\tこれ今週やる\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\ntopaz2\n\tマネージャー 作成\n\tマネージャー ログイン\n\tAuth0 新テナント設定\n 実装中\n\t\tロック登録\n\t\tinitialize_key \n\nymtk[ymtk.icon]\n\t構想状況（castleと経営合宿で動きナシ）\n\t\tnaricoさんと契約進めてます。\n\t\tさとうさんjoin\n\t\t\t今週の金曜からさとうさんと定例。今週の定例でBCUのapi現状確認\n\t\tフロント\n\t\t\t5月いっぱい手が離せずのようなので、6初に面談からの契約\n\t\t\tフロント向けapiが揃うタイミング is..?\n\t\t\t\t会社作ったり、ロック一覧取ったり、合カギ作ったり、グループ作ったり、解施錠したりのsirius api\n\t\t\t\t履歴はあとになるであろうことは認識済み\n\t\tNP後払いと会話を始めました\n\t事業\n\t\tQrio Lockのdemoありました（富士物流）\n\n[h.yamaguchi.icon]]hiro\n\tcastleとの差分UI実装\n\t\tログイン\n\t\tパスワードリセット\n\t\tトップ画面のスライドメニュー\n\t来週からはapiとの繋ぎ込み\n\t\tエンドポイントとレスポンスの一覧が欲しい\n\t\t\tSirius側、swaggerのURL教えてください\n\n次回（金曜）\n\tさとうさんとmtg\n\n事業前提\n\t8月には何卒\n\n[* 懸念 ]\n\tフロントエンドの着手時期。api6月上旬〜中旬くらい？\n\n\n\n##sirius #定例 #sirius-api\n\n# Castle 週定例 2019/5/28\ncreated_at:Mon Jan 19 1970 09:52:06 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:03:36 GMT+0900 (日本標準時)\nCastle 週定例 2019/5/28\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/5/21]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[h.yamaguchi.icon]\nbcu-iOS\n\tv: PR時にユニットテストを実行するようにした\n\n[ymtk.icon]\n\tv: 今週→来週リリース予定の対応\n\t\tapi\n\t\t\t電話カギへの名前追加・一覧表示・履歴表示・削除\n\t\t\t\thttps://github.com/qrioinc/castle-api/pull/238/files\n\t\t\t\tデカ目の機能なのでseedも増やしました\n\t\tconsole\n\t\t\t同上\n\tその他\n\t\tこれはまだ→開発してて建物検索がないのが面倒に思えてきたので、気持ち(like)で実装するかも[ymtk.icon]\n\n[hazimetyan.icon]\n v: castle api/console の本番反映\n v: なにもしていない\n o: castle api / console のコード確認\n o: 水曜日にcastle api/console の本番反映\n o: 何かIssue 1個はやっつける\n\n[mikamix.icon]\n v: alertのGraphQL\n  v: alertFeedの実装\n   v: isResolvedによるフィルター\n   ymtkさんと協議中\n v: userAlert使ってる部分の対応(room, building)\n  上のPR終わり次第提出\n  消すでよいです? -> よい\n  必要になったら実装\n o: バッテリー残量低下\n  粛々と\n o: ディレクトリ構成を変更したい\n  v: とりあえずrepositoriesだけでもappの外に出したい\n   手元でできました\n  o: エンドポイント(app, log, web, status)をディレクトリに分けたい\n   そのうち\n\n##Castle #定例\n# Dev MTG 2019/5/20\ncreated_at:Mon Jan 19 1970 09:51:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 10:03:27 GMT+0900 (日本標準時)\nDev MTG 2019/5/20\n[https://tripnote.imgix.net/post/article/30/2999-d2TWfYPNJuBgCehwMP3J_src.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\tWantedlyで正社員募集中\n\t\t優先度はサーバー＝フロント＞アプリ\n\t2019年度の優先順位\n\t\thttps://docs.google.com/spreadsheets/d/1inrorhlko8m-jQQG0SKxpvYefI88obFRSdwsrJW-H-E\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 5/24〜25 経営合宿\n \t開発からの資料作りましたので、ご意見あればぜひお願いします\n \thttps://docs.google.com/presentation/d/1At-qPQw72ZMdKdIhQqMjWXtSwJ3OFV9M7Xqahp2u1lg\n\n[*** 各PJ]\n[** Avis（ymtk、深澤）]\n\t検討中案件\n  Key-PF\n   joker優先なので一旦置き\n  OYO\n  \t先週資料作成の上、各所確認\n  \t今週ソフトバンクC&Sへ説明[ymtk.icon]\n  \t\tしてきて、次回OYOのエンジニア(インド人・英語)と話す\n  NASTA[ymtk.icon]\n  \t[** マンション共通玄関あけたい]\n  \t\t取り急ぎ解錠マシーン1000台\n  \t[* 戸建てに付属する住居者用宅配ボックスをQrio Keyであけたい]\n  \t\tそもそも容量などは大西さんに確認\n  \t\t\tQrio Keyスペック上は大丈夫そうでした。[ymtk.icon]\n  \t\tQrio LockのBLEプロトコルを開示する想定\n  \t「検討はOYOのあとね！」\n  \t\tだったのに商談が進んでいます。ひとまずQrio Key 10000台ソリューション先行\n  \t\t\thttps://docs.google.com/presentation/d/1JOMuQRxfaApEJRTbzLuX5aV7_Yj57lsD1skKEmI9SzY/edit##slide=id.g57aef1a869_0_69\n\n[** Joker (ymtk、深澤、竹内)]\n\tそもそも今、何の作業を優先すべきなのか、あらためて見直し中[takeuchi.icon]\n\t\tプロダクトの前にまず市場分析\n\t\t\tの前にビジョン、戦略からでは......\n\t\tQBSは、今年は基礎研究をしている。HW自体はまだその先\n\t\t来年末には発売したい\n\t\t\tこれはまだ高橋さんの希望。決まってない。そうなった場合、逆算して開発は来年4月からになる\n\n[** Castle (PM/山川、三上、hiro)]\n\tWebアプリ(なりこさん、三上さん)\n  三上\n  \tGraphQL部分のPR提出済み\n  \t電池残量低下のアラートにとりかかります\n  \t今月中実装、リリースは来月上旬になりそう\n  ymtk\n  \t今週はバグ対応のみ。明後日リリース予定。\n  \t\tconsole cssフレームワークがっつりなおしたので、触っている方 `yarn install`してください\n  \t\t[##Castle 未解決・対応中の項目管理]\n  \t\t[Castle プロダクトバックログ]\n\tBCU iOS(ひろさん)\n  リリース完了しました (5/16) [+1.icon][+1.icon][+1.icon][+1.icon][+1.icon][+1.icon][+1.icon][+1.icon][+1.icon][+1.icon]\n  swift5対応\n  リファクタリング\n  ユニットテストの記述\n[Castle 週定例 2019/5/21]\n\n[** Sirius (PM/zawa, kmi、hiro)]\n\tking-api => management-api 対応\n\t\tkmiさんお願いします→お休みだった\n\t\tapi-docはswagger\n\t\tBCUとの繋ぎ込みは6月から\n\tWebフロントUIは要件詰めました。フロント担当調整中（なりさんの元同僚）。\n\t\t成田さん、業務委託メンバーと契約対応中\n\tSirius BCUはUIあるので5/20(月)から着手。iOS→androidの順\n  iOS Castle BCUをキリの良いところまでやってから着手予定(来週ぐらい)\n  リリース時期8月を想定\n  両方作る必要があるのか、見直してみてよいかも\n  \tAndroidのほうが安い＝業務で使っている人が多いのでは？\n[sirius-king api mtg 5/14]\n\n[** King]\n[* スマートスピーカー (ymtk)] / 5/20は動きなし\n\tAmazon Alexa\n  amazon提出済み！\n  この挙動、CUに入れてもいいのかも･･･（リモートの時、Hubかロックが死んでいたらエラー表示）\n   \t時間ができたらやる[fukazawa.icon]\n\n[* API (駒井)]\n\tOYOに今の通知の仕組みをそのまま出すか\n  5月までに検討\n  スマスピ3種、Castle、SOMCですでに5つ、汎用化したい\n\tロックを解錠したらカメラ撮る、のようなことを今後検討する(WebHook)\n 汎用化に向けてAPI追加、整理\n  Akerun、SesameのAPIを参考に検討中\n  汎用化の構想について、今週こそymtkさん、深澤とシンクする(sync, not think?)\n  管理ツールを外部で勝手に作ってもらえるようにするためのmanagement-apiを作成中(まずはsiriusで叩かせる)\n APIドキュメントのメンテ中\n　 https://staging-king-api-document.herokuapp.com/\n\n---// 前回のまま --\n[* OYO界隈(ymtk)]\n\t高橋さん、コウキチさんから相談受けている状態\n\t量販店がSBに商流変更となったので、その流れでQrio with SB→OYOでの営業ラインができた\n\tOYO最新の要望と規模\n\t\tOYOアプリでの解施錠\n\t\t\tHub api経由で行ける\n\t\t\tが、何千個のロックをCUで登録管理やるのかというと厳しそう。CastleのBCUの方が運用に乗る\n\t\t\t\tそもそもロックが物理的に存在しなくても、登録フローを変更すれば、データ上でオーナー登録が完結する仕組みにできるような設計になっている（DB上にデコードがあれば使えるようになるので、DBにInsertするだけで登録作業は終わる）ので、CUを使う必要性はない。Castleも同じ話。[takeuchi.icon]\n\t\t\t\tキャリブレーション用のキーをつくって、設置は別途、設置業者にそのキーを渡して作業させることもできる[takeuchi.icon]\n\t\t\t\t[** OYO用のCastleミラーが必要になり得る（機能同じ）]\n   \t\t環境変数でCastleと別マスターアカウントに紐付ける。そのアカウントでHub apiを使ってもらう\n\t\t電話解施錠\n\t\t\tapi経由の希望はもらっているが、どうしてもであればCastle使ってくれと言うつもり。twillio要素が多いのでQrioからは提供したくない想定\n\t\t\t\tKing APIにはその機能はない[takeuchi.icon]\n\t\t\t\tCastleを使うならそれでよい。Castleを使わないのであれば、電話解施錠はOYOに作ってもらい、それ経由でKing APIを叩くのがよい。Castleはバックドアを持っていない[takeuchi.icon]\n\t\t\t\t\tCastleを使うと、OYO用にmaster_keyをこしらえる必要がありそう？Castle依存になる\n\t\t\t\t\t\tCU使う前提だと、OYO用にmaster_keyは分けないといけない\n\t\t\t\t\t\tKingAPIをOYO様キーで使いたい\n\t\t\t\t\t\t\tCastle使うなら、KingAPIは叩けない（両立しない。Castle用master_keyでKingAPIを叩いてはいけない）\n\t\t\t\t\tCastleを使わないなら、キャリブレーション用キーをつくるアプリ用SDKか、もしくはキャリブレーション用アプリが必要になる\n\t\t\t\t\t\t無条件に任意のロックのキャリブレーションができるとしても、誰も得しない[takeuchi.icon]\n\t\t\t\t\t\tちょっと三上、ふかざわで話したいです\n\t\t\t\t CastleはSingle Masterで運用する。OYOはKingAPIを叩く人で、Single MasterかMulti Masterかわからない[takeuchi.icon]\n\t\t\t\t \t登録: 実装すればいい話\n\t\t\t\t \tキャリブレーション: 仕組みはあるが、実装をどうするか？\n\t\t\t\t \t\t設置業者がつかうので、キャリブレーションキーをもらう口さえ作れば、UIはそれっぽかったらよい\n\t\t\t\t \t\t専用アカウントもいらないが、お客さんに求められるかも？交渉次第\n\t\t\t\t \t\tなぜBCUが必要だったか、仕様含めておききしたい所存\n\t\t\t\t \t\tBCUはログインがテンポラリ\n\t\t\t\t \t\tキャリブレーションのログインにテンポラリのQR\n\t\t\t\t \t\tすぐできるんならやればよい、すぐできる???\n\t\t\t\t\t\t\tKingにキャリブレーション用ユーザーを作る仕組みを作れば楽\n\t\t\t\t\t\t\t\tOYOはMulti Master -> キャリブレーション用キーはOYOが発行する\n\t\t\t\t\t\t\t\tキャリブレーション用キーは時限式だが、キーの管理もOYOがやる\n\t\tOYO管理画面からの合カギ管理\n\t\t\tHub api経由での解施錠は自由として、OYO側のアプリケーションでよしなに権限作ってもらえば良い\n\t\t\tOYOアプリでの解施錠がある時点で従来のファミリーキー、ゲストキーの仕組みは厳しい\n\t\tイニシャル5,000台 x 月額¥800 = ¥400万/月\n\t\t\tインドと交渉する上で、¥350(Castle最初の提示額)じゃないよというサクッとした説明が欲しそう\n\t\t\t\tOYO専用プライベートクラウドだから &  あと適当な何か･･･？\n\t\t\tざっくりミラーアプリ原価\n\t\t\t\tDyno Ps(unit5) x 2(api) x 2 (view) = 20 => 12万/月\n\t\t\t\tDB(Pm 300) => 5万/月\n\t\t\t\taddon含めて20万/月\n\t\t\t\tイニシャル対応2w => 50万程度\n\n↑の進捗（##king-oyo で相談中）[takeuchi.icon]\n　ロック本体とサーバーのNonce同期について\n　\tできそうだが、DBのnonceは初期値が0埋めされている\n　\tmaster-dataにはnonceの初期値が入っている。ロック本体にも出荷時に入っている（ハズ）\n　\tDBの0埋めされているロックだけ、master-dataのnonceを入れる\n　\t\t工場で本当にmaster-dataのNonceが書き込まれているか要確認\n　\t\t作業日時は未定\n　\t\t本体のnonceが書きこまれてない場合に、DBだけ更新するのもよくはない(動きはする)\n　\t\tちゃんと確認してきましょう\n　\t\t現状だとnonceがズレてても動いてしまう\n\n[mikamix.icon]\n キーをQRコードにした場合、tovをどうするのかという問題がある\n キャリブレーションキーを取得するためのトークンをQRコードにするでいかがか\n トークンの期限等々はJWTでやれるとこまでやれば、ほぼほぼステートレスにできる気がする\n サーバーに渡すのは、QRコードの情報とロックの現在時刻\n もしやるなら、たぶんking-apiの機能追加でよい気がする\n--- 前回のまま //--\n\n[* CU (深澤、竹内)]\n工場出荷状態のハブをKing CUで登録しようとすると、登録できない問題\n\t調査中（先週から進捗なし）[takeuchi.icon]\n\t今週確認します[fukazawa.icon]\n\n[* Hub (竹内)]\nAWS S3のstg環境に、暫定でprodのFWバイナリを置いてある[takeuchi.icon]\n\t経緯は[Dev MTG 2019/5/7]を参照（バグ対応）\n\t頃合いをみて戻す。今月末あたり？\n\t\t1ヶ月経ったので今日戻したい[fukazawa.icon]\n\t\t\t関さんと連携(ポートホームズ(FNJ)、イタンジに連絡？)\nFreeRTOSのGPLライセンスで、ハブの本体コードを公開する必要はないが、FreeRTOS自体は公開する必要があったので公開した\n\n[* Guardian (竹内)]\nSW構想会議[takeuchi.icon]\n\t先週水曜に実施、OK\n開発\t\tスケジュールプロット\n\tFF(8/21), RC(10/17), GMC(10/31), GM(11/14)\n\t全体進捗はAsanaで管理する\n\t開発進捗は基本的にGithub Issueで管理する\nESP32で粛々と実装中\n\tCentralモードでの動作はフィジビリ完了！\n\t\tBLE connectする際はBLE scanを止め、終わったら再開する必要があった\n\tNVS(flashの、psmに相当する)を暗号化するか検討中\n\t\t設計構想では暗号化することになっているが、そもそもその必要はあるか？\n\t\t\t署名鍵(key_seed)、Wi-Fi SSID/Passwordを、base64で難読化する、で十分な気もしてきた\n\t\t\tflashをダンプされてもまずバレないので、実際は問題ないと思う\nその他直近のタスク\n\tWi-Fiルーター接続互換性評価を委託 (Allion)\n\t\tルーターリスト作成中\n\t\t先週金曜に大西さんがAllionと打ち合わせしたらしい。その内容はまだ聞いてません\n\t\t検証が9/Eに終わるように進めていく\n\tWi-Fi/Bluetooth SIG認証\n\t\t両方ともQrioでやる。わからなければ大西さんにきく\n\t\t\tSIG、ソニーと話し始めました。これまでの半額(40万)でできる[ymtk.icon]\n\t\t\t登記簿を西條さん -> 渡邊さんに切り替え中。2Wかかる\n\n[* Guardian 製造・制作系 (ymtk)]\n 楢原さんから取説チェックポイントをもらったのでスプレッドシートで要件まとめていきます\n 箱の一次デザインは7月\n 明日5/15に品質設計構想会議（梱包含む）→無事おわった\n 型番決めました。[*** Q-H1A] です。\n\nGuardian セキュリティ(チャン)\n セキュリティ関係の項目をつぶす予定\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Q-SL1 CU iOS版 SDKアップデート、ハブ登録問題\n  5/16(木)正式リリース済\n  今のところ問題は発生してなさそう\n\n[** FAIT対応 (チャン、竹内さん) ] [進捗なし]\n 共有部の通知のロジックを修正、デプロイ済み\n\n[** 情報システム (チャン)]\n WLX313とWLX402の設置済み\n 恐怖 McAfeeのインストールと手続き\n \tMcAfeeインストールが開発に影響がないか調査中\n 社内DNS設定。AkamaiのETP導入\n  気が向いたらやる。とてもめんどう -> ほんとにそろそろやる。毎月お金払ってるし。\n Twillioから電話番号を買っているやつら、証明書を出せと脅されているんだが、肝心のコンソール画面に入れないとか、KDDIの対応がクソすぎてヤバイ。\n \tとりあえず応答待ち\n\n[** QaaS(チャン)] [進捗なし]\n 6月1.5人月、7月2人月の見込み\n\n[** CSへのテクニカルサポート(チャン)]  [進捗なし]\n redash をGCPに設置して試すことになった。\n \tFollowerに統計用のクエリを投げると、サービスのクエリとまざってしまうけれども良いのか? → あまりよろしくない\n \tお問い合わせフォーム相談聞いてあげて欲しいです[ymtk.icon]\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\t\tHerokuの権限管理変えますメールが来ていたので様子見ます。エンプラじゃない方[ymtk.icon]\n\t\tテレビ会議用のマイク直ったかご存じですか？[ymtk.icon]\n\t\t\t不明\n\t\t深澤：来週休み\n\n[** 健忘録]\n\tなし\n\n# BB Hub 2019/05/22\ncreated_at:Mon Jan 19 1970 09:55:13 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:55:15 GMT+0900 (日本標準時)\nBB Hub 2019/05/22\n\n質問をまとめる\n\t今のハブの機能が実現できるか？\n\t\tフィジビリ一覧を持ってきて、質問リストを作って渡す\n\nWi-Fiの代わりになるので、\n\t初期設定：MVNOでAPN設定を外部からできるか？\n\t通信：3G/LTEとの同時動作が可能か？\n\nSimの自体はうちでやるので、BBに聞く話ではない\n\t通信量と通信プランなど、別途、うちで調査\n\nBBが使おうとしているHWのスペックが知りたい\n\tモジュール、メモリ、Flash\n\nBBがすでに作っているHWをうちが購入して、うちで実装する\n\n\n\n# Joker定例 5/22\ncreated_at:Mon Jan 19 1970 09:55:05 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:55:06 GMT+0900 (日本標準時)\nJoker定例 5/22\n\nJoker進め方の相談\nhttps://docs.google.com/presentation/d/1V-7Hh-OwUvnaFzjf8cmrnDr_NCuNfKGlWR7Yo0Rgnig/edit##slide=id.g5a543f8d08_1_7\n\n「調査」は高橋さんからオーダーがあったわけではない。\nなぜこれをやるのか？というところから話が始まる。\n開発をやめたわけではない。\n\n顧客の創造とは？\n\t市場開拓の話なのか？\n\t\t今ターゲットになり得ない人たちを\n\tユーザー像がわからないから具体化したいのか？\n\t\t今なんとなく想定しているユーザーの解像度をあげる、ペインを\n= 両方のこと。\n\nそもそも「キャズムを超える」というのは狙っていくことではなく、結果としてついてくるものでは\n\t「たぶん」でユーザーを想定している\n\nこちらで狙いたいユーザー像はある程度決めておく（スマートスピーカーは持っている人、など）\nそれでしぼってリクルーティングする\n\n\n# OSS確認MTG 2019/5/20\ncreated_at:Mon Jan 19 1970 09:54:03 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:54:03 GMT+0900 (日本標準時)\nOSS確認MTG 2019/5/20\n大西さん、ガッツさん、ymtkさん、深澤\n5/20(火) 15:30〜16:00\n\n\tソニールールではアプリ、FWだけでなくサーバーもOSSチェックの対象\n\t\tHub FWにGPLライセンスのOSSが含まれていたことが発覚したため、このタイミングで全部チェックする\n\n\tソニー出資比率50%以上の会社はソニールールに従う必要あり\n\t\tただし、Qrioの会社規模的に全て従うことは難しいことは分かっており、最適化した形で従う\n\n\tQrioはQMSの更新を把握できていない\n　\tQMSは半年に1回アップデートされる\n　\t今までは更新の連絡がなかったため、これからはガッツさんにフォローしてもらう\n\n\tセキュリティ、プライバシーへの取り組みについて、今実施しているものが適切か確認したほうが良い\n\t\t事故ったときが非常にマズイため\n\n\tHWのOSSについてはソニーで確認\n\tHW以外(アプリ、サーバー)のOSSはQrioで確認\n\n\tPIMどうするかQrioで考える\n\t\tPIMとはなにか確認できませんでした；；\n\t\t方針が決まったらソニーに連絡する\n\n\t全プロダクト分のOSSライセンス一覧\n\t\t2週間後にガッツさんへ提出\n\n# castle-product定例 5/21\ncreated_at:Mon Jan 19 1970 09:53:28 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:53:37 GMT+0900 (日本標準時)\ncastle-product定例 5/21\n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n前回\n[castle-product定例 5/7]\n\n参加者\nryo / seki / ymtk / kawakami  \n\n[* 事業]\n\t高濱さんからリードフォローの上、提案まとめ中\n\t\tマンスリーマンション（サブリース、投資案件など）\n\t\t\t退去・入居タームが民泊とは異なる\n\t\t\t\t電気の問題がクリアできる\n\t\t\t\tWi-Fi環境が整備されている\n\t\tcastle PV数\n\t\t\t40/dayベースからも落ちている\n\t\t\tリスティング広告出稿を6万→18万ほど\n\t\t\t\tリスティング→バナー広告にしてほしい。\n\t\t\tリードから商談率10-20%、週に20件取りに行く\n\t\t\t[https://gyazo.com/ed4b9d0691874d18e9c10fd38a0159c5]\n\n\n\n[* 開発・デザイン]\n\tリリース済\n\t\tiOS版設定アプリ\n\t今週のリリース\n\t\t機能追加\n\t\t\tユーザー単体登録(c/a)[ymtk.icon]\n\t\tバグfix・UX改善\n\t\t\tアラートテーブル＆オートロックエラー[mikamix.icon]\n  \t建物内部屋の並び順修正(c)[ymtk.icon]\n  \t\t関さんからオーダーがあった例のやつです\n  \tサンプルcsvの記載変更(c)[ymtk.icon]\n  \tその他小fix(c/a)\n  \t設置アプリアカウントの有効期限切れ関連(c/a)[ymtk.icon]\n\t直近開発中\n\t\tアラート\n\t\t\tオートロックエラーの発生とfeedの部分を対応中。\n\t\t\t電池不足が出せるようになったらリリース。6初予定。\n\t\t各要素の編集\n\t\t\t経営合宿の夜とかにかっとなって残件5機能くらい倒したい\n\n[* CS]\n\t5月現在問合せなし\n\t5/10にオリンピック申し込みに必要な「電話番号による本人確認」の間違い電話が20件ありました\n\n[* 運用]\n\t特になし\n\n# sirius-king api mtg 5/21\ncreated_at:Mon Jan 19 1970 09:53:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:53:36 GMT+0900 (日本標準時)\nsirius-king api mtg 5/21\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1100-1130\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 5/14]\n\n[* 参加者]\nymtl/zawa/kmi/topaz2/hiro\n\n[** 諸々確認メモ]\n\tとくになし\n\n[*** management-api]\n開発案件\n\tInitialize Key作成　完了\n\tロック登録　今日中\n\t\tapiとして下記2つで分けたいが･･･\n\t\t\t組織を使うロックを登録する→keyを作成する\n\t\t\t\tBCU影響あるのでさとうさん、hiroさん相談\n\t\t\t\t組織が`master_key`を持つようになる。これはマネージャー全員が使える\n\t\t\tBCUはkeyを作るapiを叩かなくていい。\n\t\t\t\tロック登録する→組織ユーザー振ってくる→そのユーザーの権限でロック設定する\n\t\t\t\t解施錠位置を調整するためにはekeyが必要。これを取得するapiが必要\n\t履歴の仕組みを検討中\n\t\t今週何卒話してくださいませ\n\n[* BCUまでの道のり] / 5/21変更なし\n\tmanagement-api => sirius-api 5末まで\n\nkmi [komai.icon]\n\tapiの返り値などもswaggerにドキュメント作成する\n\tlock登録とキー作成のapi分けたいのでtopazさんと相談\n\t履歴の仕組み、設計と招待フローの設計を相談せねば・・・\n\ntopaz2\n\tサポートツール 利用申請許可\n\t\tAuth0の新テナントとのつなぎ込み\n\t\t/m/admin 叩いて会社君作成できるようになった\n\tマネージャー作成\n\t\t/m/manager 叩けるように改修中\n\nymtk[ymtk.icon]\n\t構想状況\n\t\tnaricoさんと契約進めてます。\n\t\tさとうさんjoin\n\t\tフロント\n\t\t\t5月いっぱい手が離せずのようなので、6初に面談からの契約\n\t\t\tフロント向けapiが揃うタイミング is..?\n\t\t\t\t会社作ったり、ロック一覧取ったり、合カギ作ったり、グループ作ったり、解施錠したりのsirius api\n\t\t\t\t履歴はあとになるであろうことは認識済み\n\t\tNP後払いと会話を始めました\n\t事業\n\t\tQrio Lockのdemoありました（富士物流）\n\n事業前提\n\t8月には何卒\n\n[* 懸念 ]\n\tフロントエンドの着手時期。api6月上旬〜中旬くらい？\n\n次回\n\t概算スケジュール検討\n\t状況sync\n\n\n##sirius #定例 #sirius-api\n\n# H4M の個装MTG　5/15\ncreated_at:Mon Jan 19 1970 09:45:11 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:52:15 GMT+0900 (日本標準時)\nH4M の個装MTG　5/15\n[** 連絡次項]\n\t型番　今週金曜に決める\n\tVoidテープの版がないから\n\t\tなんて入れたいかQrioで決めてください。開封済み？Void？\n\t\tフォントサイズなどの規定を永島さんに確認してアウトラインデータをQrioで作って送る\n\n[**  試作届いたのでレビュー]\n\t\t取り出しの切り欠き\n\t\t\t横に設けると隠したい部分が隠せないので上下のどちらかが良い\n\t\t\t下側（親指で引っ掛ける）より上側（人差し指）からの方が取り出しやすそう\n\t\t\t切り欠きラインについて半円が良い\n\t\t\t\t何名かに取り出しテストしてみる\n\t\t製品台の形状維持\n\t\t\t形状維持を優先したい、Aの方が良い\n\n\n[** 取説についての段取り]\n　丸茂さん打ち合わせ設定\n　\t来週月曜設定\n　検討事項の確認\n\t\t商標について\n\t\t\t8月にはQrioに移管できそう\n　　報知などの説明表記\n　　\t色表現厳しいため逆にわかりづらくなる、書かないほうがいいかも\n　　印刷 => 1K\n　　見積り\n　　\tブロック単位見積もりのままで行くか、規定用紙サイズにするか\n　　\t原価管理をヘルツさんがやっているのでKey同じようにロット数についてはヘルツさんと相談して欲しいです\n　　仕上がりサイズ\n　　\t見積もりとって安くなる方\n　　\t元データがないのでサイズ変えるとイチから起こさないといけないので工数的に厳しいのでまま行きたい。\n　　\tもしくは山形さんにデータ制作を依頼するか相談\n　　\t編集データ起こす場合は編集秘書さんとか依頼するかも\n　\tスケジュール\n　\t\t10月頭くらいにサンプル40部の発注ある（カートンが40）\n　\t\t11月頭に検定品IN\n\n[** 5/20 YAMAGATA印刷丸茂さん打ち合わせ]\n\n\n\n\n# Castle 週定例 2019/5/21\ncreated_at:Mon Jan 19 1970 09:42:03 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:52:10 GMT+0900 (日本標準時)\nCastle 週定例 2019/5/21\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/5/13]\n\n次週分\n[Castle 週定例 2019/5/28]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[h.yamaguchi.icon]\nbcu-iOS\n\tv: リリース完了しました (5/16)\nsiriusに向けて以下の作業をしています。(ほとんどcastleのコードを使い回す前提なので)\n\tv: swift5対応\n\to: リファクタリング\n\to: ユニットテストの記述\n\n[ymtk.icon]\n\tv: 今週→来週リリース予定の対応\n\t\tapi\n\t\t\t設定アプリアカウントの期限前対応\n\t\tconsole\n\t\t\t設定アプリアカウントの期限前対応\n\t\t\t\t\t一部条件下でアカウントデータを取得できない場合のエラーハンドリングも合わせて\n\tFeed系全般のget権限の考え方（resolver）\n\t\t動けてません[ymtk.icon]\n\t\t\t直近はアラート。reqUser.groupIdを使っていると支社の当事者は情報が見えるが本社の担当は情報が見えない\n\t\t\tAsIs決める\n\tその他\n\t\t開発してて建物検索がないのが面倒に思えてきたので、気持ち(like)で実装するかも[ymtk.icon]\n\n[hazimetyan.icon]\n v: castle api/console の本番反映\n v: なにもしていない\n o: castle api / console のコード確認\n o: 水曜日にcastle api/console の本番反映\n o: 何かIssue 1個はやっつける\n\n[mikamix.icon]\n v: alertのGraphQL\n  o: userAlert使ってる部分の対応(room, building)\n  v: alertFeedの実装\n   v: isResolvedによるフィルター\n o: userAlert使ってる部分の対応(room, building)\n o: バッテリー残量低下\n !: ディレクトリ構成を変更したい\n  とりあえずrepositoriesだけでもappの外に出したい\n\n[*** ##KPT]\n[*** よかったこと、続けていくこと]\n\n\n[*** 課題感、やってみること]\n GraphQLをまだキャッチアップできてない気がする。\n \tDB側で処理するかWebサーバー側で精製するかで書き方が変わったりでたいへん。\n リリーススケジュールと案件そろそろ整理します\n \t[##Castle 未解決・対応中の項目管理]\n 稼働があんまりできてないぜ\n\n##Castle #定例\n# Sirius-dev mtg 19/5/17\ncreated_at:Mon Jan 19 1970 09:47:51 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:47:55 GMT+0900 (日本標準時)\nSirius-dev mtg 19/5/17\n先週分\n[Sirius-dev mtg 19/5/10]\n\n[*** 状況]\n[* 今週]\ntopaz2\n\tv: api 分割\n\t\tログインつないだ\n\t\tログインできるようになった\n\t\t申込情報、画面に出す\n\t\t会社情報、Adminコンソールに出る\n\to: api 分割\n \tAdminコンソールから承認するとメールが飛ぶ部分\n\nymtk[ymtk.icon]\n\tv: 主な動きナシ。これからFE契約系をnaricoさんと相談して進めます。\n\tv: さとうさんとの契約ing（契約書確認）\n\nnarico [narico.icon]\n\t中のひと的には最終出社。次週に契約系の話をはじめます[ymtk.icon]\n TODO\n\t 吉本さんにリポジトリ権限つけてもらう\n\t \t6月頭から稼働\n\t \t画面に載せる情報はnaricoさんで作成済み\n\t \t\taiファイルで整理→xdになっているのを見かけました[ymtk.icon]\n\t Slack招待する\n\t NDAなど用意してから権限つける\n 座組み全体図\n\t [https://gyazo.com/86c0708b89916de52aeafb98c3116109]\n\n\nkmi[komai.icon]\n\tv\n\t\t組織登録用api作成\n\t\t管理ユーザー登録用api作成\n\t\tmigrationのrollbackミスって対応\n\to\n\t\tロックとハブの登録api作成中\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\t乗り換えのご案内方法→まだ進められていない\n\t\t要相談。電話やメールする？受け身でいる？\n\t\tWeb何か掲載するか？\n\t特定のタイミングから、カギカン1の登録動線を落とす→まだ進められていない\n\t\t他、プラン変更周り（ロック増やすのはダメ、キーパッド欲しいのもダメ）\n\n[** ymtkからのお願いとかご相談ほか][ymtk.icon]\n\tスケジュール明確化しましょう→zawaさんあざっす\n\tオートロックon/offしたいという話が商談でいくつか\n\t\t昼間（みんながいる時）はオートロックしたくない。夜間休日はオートロックにしたい\n\n[** その他気になること]\n\tSQAっていつから･･･？\n\t\t[*** 7]月かな･･･  <= 現実ライン考えなきゃですね\n\t\t\tサーバ、フロントの一部\n\t\t\t\tランクB的な部分は多く出てくる。正常系くらいが限界\n\t\t\t\t特にフロントはLWさんが動いている最中なので、中旬以降メド\n\t\t\tBCU(android)は全て\n\thiroさん来週さんから参戦\n\n[https://gyazo.com/dc556b608ae9c888affaed9ace435bb5]\n\n\n\n# Joker 5/17\ncreated_at:Mon Jan 19 1970 09:47:44 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:47:48 GMT+0900 (日本標準時)\nJoker 5/17\n\nQrioのわるいところは「このPRなんでやってるんだっけ」をあまり説明できないまま先に進んでしまうところ\n\nエントランス：NASTA\n\t宅配ボックスを配りまくる\n\t集合玄関入れない\n\t\tQrioと一緒にマンション開拓しませんか\n\t1000台とか\n\t会社としては進めている\n\n6月までに新製品の計画イメージ、だった：\n\n\n市場の情報がなさすぎて、誰に何を売っていけばいいのかわからん決められん\n\t仮説を立ててもどうなのか？\n\t\t仮説を立てること自体はよいが、、\n\n市場に\n\nインサイトを探りに行くのはアリかも、\n\n\n2号機のユーザーはそもそもどんな人なのか？\n うちを好きな人 and うちを知ってるけど使ってない人\n\t後者のペインを調べたほうが、受け入れられる改善版を作れる\n\n\n半歩くらい進んだものをつくる、でいいのでは？\n\tQrioKey拡張とか\n\n\n最終的に「とりあえずQrio買っとけば安心」と思われたい\n\t今、競合と比較する状況を考えても、Qrioを選ぶ理由がない\n\tQrioのペインは何か？\n\nデプスー＞アンケートー＞デプスー＞アンケート、の繰り返しをしたい（というか、そうなる）\n\tここ2ヶ月でまずやるべきはこれでは？\n\n前のUX観点の\nhttps://www.notion.so/UX-82ab80347254417fa6552488f13ea2ea\n\n\nQBS：\n\tQrioLockの開発は、どんなに早くとも来年四月から\n\t今は基礎研究\n\n\n調査\n\tUX調査：ymtkさん+SonyのUX調査部隊＞＞デプス調査＆ペインストーミングする、予定\n\t\t目的：仮説で立てた人（ex. ハッカーおじさん）は、実際誰なのか？本当にそんなやついるのか？\n\tマーケ調査：アンケート調査\n\t\tデプスで得た情報を元にアンケート？？\n\n\nJokerで責めるのはEarlyより右側、というところは高橋さん/ymtkさんで認識あっている\n\n現状のKingユーザー調査は開発側でできそう　ログとか\n\n高橋さんには、進め方を伝える\n\tJokerを止めるわけではないが、プロダクト検討よりも先に調査したい旨を\n\n\n\nNASTAとやるならキー必須\n\n\n\n\n# Dev MTG 2019/5/14\ncreated_at:Mon Jan 19 1970 09:43:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:47:41 GMT+0900 (日本標準時)\nDev MTG 2019/5/14\n[https://tripnote.imgix.net/post/article/30/2999-d2TWfYPNJuBgCehwMP3J_src.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\tWantedlyで正社員募集中\n\t\t優先度はサーバー＝フロント＞アプリ\n\t2019年度の優先順位\n\t\thttps://docs.google.com/spreadsheets/d/1inrorhlko8m-jQQG0SKxpvYefI88obFRSdwsrJW-H-E\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 令和にもなるので(コーポレートサイトの)静的ファイルをS3移行してそろそろLB挟みます\n \t[* ロードバランサー 対応しました。]\n \t\thttp=>httpsリダイレクトもかけてます。\n \t\t\t\tstg\n\t \t\t\t\thttps://stg-elb.qrio.me/\n \t\t\t\t\t\tstg.qrio.meにもそのうち反映されます。上記は確認用。\n \t\t\t\t\t\tstgで横に広げるのを試してからprodでやります\n \t\t\t\tprod\n \t\t\t\t\thttps://prod-elb.qrio.me/\n \t5/14 メルマガの対応（Castle）\n \t\t増強した\n Herokuエンプラ本年度分稟議通しました[ymtk.icon]\n\n[*** 各PJ]\n[** Avis（ymtk、深澤）]\n\t検討中案件\n  Key-PF\n   joker優先なので一旦置き\n  OYO\n  \t先週資料作成の上、各所確認\n  \t今週ソフトバンクC&Sへ説明[ymtk.icon]\n  NASTA[ymtk.icon]\n  \t戸建てに付属する住居者用宅配ボックスをQrio Keyであけたい\n  \t\tそもそも容量などは大西さんに確認\n  \t\t\tQrio Keyスペック上は大丈夫そうでした。[ymtk.icon]\n  \t\tQrio LockのBLEプロトコルを開示する想定\n  \t「検討はOYOのあとね！」\n\n[** Joker (ymtk、深澤、竹内)]\n\tymtkさんからユーザー分類資料の共有[takeuchi.icon]\n\t\thttps://www.notion.so/UX-82ab80347254417fa6552488f13ea2ea\n\t\t\t辛そうだったので仮説置きました[ymtk.icon]\n\t\t基礎研究稟議はGWあけに取ります[ymtk.icon]\n\n[** Castle (山川、三上、hiro)]\n\tWebアプリ(なりこさん、三上さん)\n  三上さん\n  \tオートロック連続失敗のアラートがPR中\n  \t\t確認終わり次第、drop処理待ってマージ[ymtk.icon]\n  \t次はGraphQL部分、その後電池残量\n  \t\tGraphQL部分、今週中にPR出せるといいな\n  \t今月リリース目標にしたい(コンソール間に合う？)\n  ymtk\n  \t相変わらずいくつか倒しました。チョットワカッテキタ。\n  \t\t[##Castle 未解決・対応中の項目管理]\n  \t\t[Castle プロダクトバックログ]\n  \tSQA工数もあるので隔週火曜リリースとします。次回は来週。\n\tBCU iOS(ひろさん)\n  iOSアプリ終わった\n  \t今日審査提出予定\n  \t審査通り次第出せそう\n[Castle 週定例 2019/5/13]\n\n[** Sirius (ymtk, kmi、hiro)]\n\tking-api => management-api 対応\n\t\tkmiさんお願いします\n\t\tapi-docはswagger\n\t\tBCUとの繋ぎ込みは6月から\n\tWebフロントUIは要件詰めました。フロント担当調整中（なりさんの元同僚）。\n\tSirius BCUはUIあるので5/20(月)から着手。iOS→androidの順\n  リリース時期8月を想定\n  両方作る必要があるのか、見直してみてよいかも\n  \tAndroidのほうが安い＝業務で使っている人が多いのでは？\n\t電話解錠は1stリリースに含まない\n\t\tただし、今後追加する可能性あり\n\t\tQrio Key使いたいと一部顧客から言われてますが1stではダメだよと言ってます[ymtk.icon]\n[sirius-king api mtg 5/10]\n\n[** King]\n[* スマートスピーカー (ymtk)]\n\tAmazon Alexa\n  amazon提出済み！\n  この挙動、CUに入れてもいいのかも･･･（リモートの時、Hubかロックが死んでいたらエラー表示）\n   \t時間ができたらやる[fukazawa.icon]\n\n[* API (駒井)]\n\tOYOに今の通知の仕組みをそのまま出すか\n  5月までに検討\n  スマスピ3種、Castle、SOMCですでに5つ、汎用化したい\n\tロックを解錠したらカメラ撮る、のようなことを今後検討する(WebHook)\n 汎用化に向けてAPI追加、整理\n  Akerun、SesameのAPIを参考に検討中\n  汎用化の構想について、今週こそymtkさん、深澤とシンクする(sync, not think?)\n  管理ツールを外部で勝手に作ってもらえるようにするためのmanagement-apiを作成中(まずはsiriusで叩かせる)\n APIドキュメントのメンテ中\n　 https://staging-king-api-document.herokuapp.com/\n\n---// 前回のまま --\n[* OYO界隈(ymtk)]\n\t高橋さん、コウキチさんから相談受けている状態\n\t量販店がSBに商流変更となったので、その流れでQrio with SB→OYOでの営業ラインができた\n\tOYO最新の要望と規模\n\t\tOYOアプリでの解施錠\n\t\t\tHub api経由で行ける\n\t\t\tが、何千個のロックをCUで登録管理やるのかというと厳しそう。CastleのBCUの方が運用に乗る\n\t\t\t\tそもそもロックが物理的に存在しなくても、登録フローを変更すれば、データ上でオーナー登録が完結する仕組みにできるような設計になっている（DB上にデコードがあれば使えるようになるので、DBにInsertするだけで登録作業は終わる）ので、CUを使う必要性はない。Castleも同じ話。[takeuchi.icon]\n\t\t\t\tキャリブレーション用のキーをつくって、設置は別途、設置業者にそのキーを渡して作業させることもできる[takeuchi.icon]\n\t\t\t\t[** OYO用のCastleミラーが必要になり得る（機能同じ）]\n   \t\t環境変数でCastleと別マスターアカウントに紐付ける。そのアカウントでHub apiを使ってもらう\n\t\t電話解施錠\n\t\t\tapi経由の希望はもらっているが、どうしてもであればCastle使ってくれと言うつもり。twillio要素が多いのでQrioからは提供したくない想定\n\t\t\t\tKing APIにはその機能はない[takeuchi.icon]\n\t\t\t\tCastleを使うならそれでよい。Castleを使わないのであれば、電話解施錠はOYOに作ってもらい、それ経由でKing APIを叩くのがよい。Castleはバックドアを持っていない[takeuchi.icon]\n\t\t\t\t\tCastleを使うと、OYO用にmaster_keyをこしらえる必要がありそう？Castle依存になる\n\t\t\t\t\t\tCU使う前提だと、OYO用にmaster_keyは分けないといけない\n\t\t\t\t\t\tKingAPIをOYO様キーで使いたい\n\t\t\t\t\t\t\tCastle使うなら、KingAPIは叩けない（両立しない。Castle用master_keyでKingAPIを叩いてはいけない）\n\t\t\t\t\tCastleを使わないなら、キャリブレーション用キーをつくるアプリ用SDKか、もしくはキャリブレーション用アプリが必要になる\n\t\t\t\t\t\t無条件に任意のロックのキャリブレーションができるとしても、誰も得しない[takeuchi.icon]\n\t\t\t\t\t\tちょっと三上、ふかざわで話したいです\n\t\t\t\t CastleはSingle Masterで運用する。OYOはKingAPIを叩く人で、Single MasterかMulti Masterかわからない[takeuchi.icon]\n\t\t\t\t \t登録: 実装すればいい話\n\t\t\t\t \tキャリブレーション: 仕組みはあるが、実装をどうするか？\n\t\t\t\t \t\t設置業者がつかうので、キャリブレーションキーをもらう口さえ作れば、UIはそれっぽかったらよい\n\t\t\t\t \t\t専用アカウントもいらないが、お客さんに求められるかも？交渉次第\n\t\t\t\t \t\tなぜBCUが必要だったか、仕様含めておききしたい所存\n\t\t\t\t \t\tBCUはログインがテンポラリ\n\t\t\t\t \t\tキャリブレーションのログインにテンポラリのQR\n\t\t\t\t \t\tすぐできるんならやればよい、すぐできる???\n\t\t\t\t\t\t\tKingにキャリブレーション用ユーザーを作る仕組みを作れば楽\n\t\t\t\t\t\t\t\tOYOはMulti Master -> キャリブレーション用キーはOYOが発行する\n\t\t\t\t\t\t\t\tキャリブレーション用キーは時限式だが、キーの管理もOYOがやる\n\t\tOYO管理画面からの合カギ管理\n\t\t\tHub api経由での解施錠は自由として、OYO側のアプリケーションでよしなに権限作ってもらえば良い\n\t\t\tOYOアプリでの解施錠がある時点で従来のファミリーキー、ゲストキーの仕組みは厳しい\n\t\tイニシャル5,000台 x 月額¥800 = ¥400万/月\n\t\t\tインドと交渉する上で、¥350(Castle最初の提示額)じゃないよというサクッとした説明が欲しそう\n\t\t\t\tOYO専用プライベートクラウドだから &  あと適当な何か･･･？\n\t\t\tざっくりミラーアプリ原価\n\t\t\t\tDyno Ps(unit5) x 2(api) x 2 (view) = 20 => 12万/月\n\t\t\t\tDB(Pm 300) => 5万/月\n\t\t\t\taddon含めて20万/月\n\t\t\t\tイニシャル対応2w => 50万程度\n\n↑の進捗（##king-oyo で相談中）[takeuchi.icon]\n　ロック本体とサーバーのNonce同期について\n　\tできそうだが、DBのnonceは初期値が0埋めされている\n　\tmaster-dataにはnonceの初期値が入っている。ロック本体にも出荷時に入っている（ハズ）\n　\tDBの0埋めされているロックだけ、master-dataのnonceを入れる\n　\t\t工場で本当にmaster-dataのNonceが書き込まれているか要確認\n　\t\t作業日時は未定\n　\t\t本体のnonceが書きこまれてない場合に、DBだけ更新するのもよくはない(動きはする)\n　\t\tちゃんと確認してきましょう\n　\t\t現状だとnonceがズレてても動いてしまう\n\n[mikamix.icon]\n キーをQRコードにした場合、tovをどうするのかという問題がある\n キャリブレーションキーを取得するためのトークンをQRコードにするでいかがか\n トークンの期限等々はJWTでやれるとこまでやれば、ほぼほぼステートレスにできる気がする\n サーバーに渡すのは、QRコードの情報とロックの現在時刻\n もしやるなら、たぶんking-apiの機能追加でよい気がする\n--- 前回のまま //--\n\n[* CU (深澤、竹内)]\n工場出荷状態のハブをKing CUで登録しようとすると、登録できない問題\n\t調査中（先週から進捗なし）[takeuchi.icon]\nしばらく使っていると「認証情報が取得できません」エラーが発生してしまう対応[takeuchi.icon]\n\t以前も起きており、暫定対策を行い現象はおさまった。しかしCSから再発したとの報告\n\t優先度は低いが、根本解決を検討したい\n\n[* Hub (竹内)]\nAWS S3のstg環境に、暫定でprodのFWバイナリを置いてある\n\t経緯は[Dev MTG 2019/5/7]を参照（バグ対応）\n\t頃合いをみて戻す。今月末あたり？\n\n[* Guardian (竹内)]\nESP32で粛々と実装中\n\tWi-Fi接続 -> PubNubからコマンド取得 -> 2ロック同時connect -> コマンド送信 -> レスポンス受信 までいけた\n\tFlash暗号化、パーティション設計、工場出荷時に書き込むデータの検討、書き込み方法などを調査\n\t\t今のところ、やりたいこと（OTA、機密データの暗号化など）は実現できそう。問題なし。\nSW構想会議の資料作成\n\t社内でレビューいただき、だいたい完了\n\t\tソニールールによりCovertyを使うことに...\n\t\t\tまず、なるべくやりたくない！\n\t\t\tCovertyをかけるタイミング、頻度について、認識合わせする\n\t\t\t解析対象ソースの行数が課金\n\t\t\t自動化できるか？3日で自動化の仕組みを構築できるならやったほうがいい\n\t明日会議がある\nその他直近のタスク\n\tWi-Fi/Bluetooth SIG認証\n\t\t両方ともQrioでやる。わからなければ大西さんにきく\n\tWi-Fiルーター接続互換性評価を委託 (Allion)\n\t\tまだ具体的には決まっていない\n\t資産リスト作成、リスクアセスメント、リスク対応\n\t\tシステムアーキやプロトコルは現行ハブと同じなので問題なし\n\t\t主にESP32の暗号化とかEfuseで書き込み不可にするとかその辺り\n\n[* Guardian 製造・制作系 (ymtk)]\n 楢原さんから取説チェックポイントをもらったのでスプレッドシートで要件まとめていきます\n 箱の一次デザインは7月\n 明日5/15に品質設計構想会議（梱包含む）\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Q-SL1 CU iOS版 SDKアップデート、ハブ登録問題\n  [* ビックカメラ販売分(150セット)のHubが既にSL2用FWになっていたため、即時リリースが必須な状況]\n  スケジュール\n  \t5/7〜\tSQA、随時Apple審査　☆ほぼオンスケ\n  \t\tsmartlock-duからのプッシュが受けれない　→解決\n  \t\tあるタイミングを境にBLE通信ができなくなる　問題が発生中　→解決\n  \t問題なければ今週中に正式リリース予定\n DBパッチ\n \t夜中対応できる余裕がない･･･\n \t人件費の方が高いからやらなくてよい by 社長 とのことでした（Herokuの時に話した）[ymtk.icon]\n\nQ-SL1のDBがauroraのr3.xlargeになってる\n なぜオーロラ(マルチAZ)かというと、丸山さんがフェイルオーバーしたかった\n  オーロラはシングルでもFOします(ただし時間が違う)\n  パッチをあててから\n  たぶんダウンサイズ\n  シングルにするかどうかは要検討\n\n[** FAIT対応 (チャン、竹内さん) ]\n 共有部の通知のロジックを修正、デプロイ済み\n\t\t使われていないみたいだし、いったん放置します。\n\n[** 情報システム (チャン)]\n WLX313の設置。ちゃんと動いているっぽい。\n \tWLX402の移動、再設置を予定しています。\n 社内DNS設定。AkamaiのETP導入\n  気が向いたらやる。とてもめんどう -> ほんとにそろそろやる。毎月お金払ってるし。\n\n[** QaaS(チャン)]\n 進捗なし\n 6月1.5人月、7月2人月の見込み\n\n[** CSへのテクニカルサポート(チャン)]\n redash をGCPに設置して試すことになった。\n \tFollowerに統計用のクエリを投げると、サービスのクエリとまざってしまうけれども良いのか? → あまりよろしくない\n CSが電話対応する際に、Wi-Fiだと不安定なので有線化する。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談ほか]\n\tあればお願いします\n\n[** 健忘録]\n\tなし\n\n# Joker 2019.04.26\ncreated_at:Mon Jan 19 1970 09:17:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:46:36 GMT+0900 (日本標準時)\nJoker 2019.04.26\n[Joker 2019.04.23 進捗共有]の反省会的なもの\n\n売れるの？というのはターゲットが決まらないとわからない\n\tしぼる（市川さん）\n\nそもそも戦術が決まってない\n\tターゲットを広げるのか（アーリーアダプタ）、Bigなことやって突き抜けるか（またイノベータをターゲットにするか）決めかねている\n\t\tどちらか決めないと進められない\n\nアンケートでターゲットの傾向を把握しないことには始まらない\n\tアンケートはやる予定\n\nしっくりきそうな方針\n\tアーリーアダプター向けに廉価版（？的な後付けロック）を広めてから、イノベーター向けに組み込み型などもう少し大きなスケールで考える\n\nJokerの範疇におさまらない（SmartLock事業全体にかかわる）。。\n\tでかいこと考えるのはだいぶむずかしい\n\n4つのターゲット\n\tガジェット好き、新しいもの好き男子、バリキャリママ、DINKS\n\t\tどれがメインのターゲット？\n\t\tどれくらい乗り換える人がいそうか？\n\t\t\t2号機の結果をみても、「ペインの解消された3号機」だったら、乗り換えないかも（2号機でも間に合ってるから）\n\nドアごと？\n\t商流なし、勝てるイメージなし\n\n　\n\n# Hub 4M 2019/5/14\ncreated_at:Mon Jan 19 1970 09:43:44 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:43:45 GMT+0900 (日本標準時)\nHub 4M 2019/5/14\n楢原、大西、光石、山口、成田、竹内、深澤\n\n\tFW設計構想は明日10:00から\n\t\t資産リストを作成する\n\n\t5/17ミドリヤ電気がヘルツ訪問\n\n\tボタン押し感OK　ymtk\n\n\n# Castle 週定例 2019/5/13\ncreated_at:Mon Jan 19 1970 09:33:20 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:43:33 GMT+0900 (日本標準時)\nCastle 週定例 2019/5/13\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/5/7]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[narico.icon]\n\tv: formrun のGWの表記削除した\n\to: gtm　直す\n\t\t直した　5/13\n\n[h.yamaguchi.icon]\nbcu-iOS\n\tv: ロックのFWアップデート\n\to: バグ対応 + 実装漏れ対応\n\t\t今週に申請かけられたら、かけようかな。[hazimetyan.icon]\n\n[ymtk.icon]\n\tv: 今週→来週リリース予定の対応\n\t\tapi\n\t\t\troom並び替え（レビュー待ち→OK）\n\t\t\t\thttps://github.com/qrioinc/castle-api/pull/232\n\t\t\tユーザー個別新規登録（レビュー待ち→OK）\n\t\t\t\thttps://github.com/qrioinc/castle-api/pull/233\n\t\t\t\tテストまだなのでWIPにしてますが、登録なのでdb必要\n\t\t\t三上さんのアラートdb関連\n\t\tconsole\n\t\t\t設置アプリアカウントの期限切れ対応\n\t\t\tcsvの表記変更\n\t\t\tユーザー個別新規登録（レビュー待ち→OK）\n\t\t\t\thttps://github.com/qrioinc/castle-console/pull/361\n\t\t\t\tapiが先。ビルドエラーなおします。\n\t\t\tユーザー登録後の遷移先変更\n\t!: テスト直してCIへ。GW中かな･･･\n\t\t協力します[h.yamaguchi.icon]\n\t\tやれてない><\n\t\t\tdb見てレコード数を数えている部分は、dbではなくモックに変えた方が良さげ[ymtk.icon]\n\t\t\t\t現状とくさんの方針で結合テストを書いていたのでユニットテストに変えるのは大変そうですね..[h.yamaguchi.icon]\n\tFeed系全般のget権限の考え方（resolver）\n\t\t直近はアラート。reqUser.groupIdを使っていると支社の当事者は情報が見えるが本社の担当は情報が見えない\n\t\tAsIs決める\n\n[hazimetyan.icon]\n v: castle api/console の本番反映\n v: なにもしていない\n o: castle api / console のコード確認\n o: 水曜日にcastle api/console の本番反映\n o: 何かIssue 1個はやっつける\n\n[mikamix.icon]\n o: alertのGraphQL\n  o: userAlert使ってる部分の対応(room, building)\n  o: alertFeedの実装\n  o: isResolvedによるフィルター?\n   実装する必要がある?\n   フィルター条件は定義する必要がありそう\n   alertsの引数に定義\n  PR出す時にクエリを貼る\n o: バッテリー残量低下\n !: ディレクトリ構成を変更したい\n  手元でちょっとやってみたら、色々エラーが出た\n  ちょっと大変かも\n\n[*** ##KPT]\n[*** よかったこと、続けていくこと]\n\n\n[*** 課題感、やってみること]\n GraphQLをまだキャッチアップできてない気がする。\n \tDB側で処理するかWebサーバー側で精製するかで書き方が変わったりでたいへん。\n リリーススケジュールと案件そろそろ整理します\n \t[##Castle 未解決・対応中の項目管理]\n 稼働があんまりできてないぜ\n\n##Castle #定例\n# sirius-king api mtg 5/10\ncreated_at:Mon Jan 19 1970 09:37:49 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:43:24 GMT+0900 (日本標準時)\nsirius-king api mtg 5/10\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n[** 進め方]\n定例とch\n\t毎週火1100-1130\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 5/7]\n\n[* 参加者]\nymtl/zawa/kmi/topaz2\n\n[** 諸々確認]\n\tkmi構想\n\t\torganization & organization_key\n\t\t\tkeydを使ってking-api (`/v1/m/`)を叩く\n\t\t\t組織登録するとき、masterkeyをぶら下げるためのuser（組織用）が必要\n\t\tauth0で新しいテナント（stg、prodに続く3つめ）をたてる\n\t\t\tテナントの中のアプリケーションを区別したい\n\t\t\t結果的にCUでのログインも防げる\n\t\tsirius-apiに持たせること\n\t\t\t組織スペックの管理\n\t\t\t\t名前とかetc\n\t\t\t\tカギの発行などはking-api側で担当する\n\t\t\t支払い情報\n\t\torganization credentialの持たせ方どうしようか\n\t\t火曜日まで[*** 全力]でやる\n\n想定開発\n\tsirius-api リポジトリを立てる\n\t\t立ちました\n\tsiruis-api アプリケーションがHeroku上に立つ\n\t\t立ちました\n\tking-apiを叩くi/fを整理して、king-api側にapiを作成する\n\t\tこれからです\n\nTODO\n\t[* king-apiにあるfeature/add-key-groups-mock 機能の再現]\n\t\t進めてます\n\t必要な開発項目のリストアップ（king/sirius）\n\t\t進めてます。文書化もしてます\n\tリスク項目のリストアップ\n\t\tsirius-api, king-api 間でデータの不整合が発生することは許容する\n\t\t\t例: sirius で使われていない master_key, user が king に存在する\n \t\tただビジネス上請求額に影響するので、ロック数がズレることは避けたい\n \t\tログもシステムの信頼性に影響するので不整合を発生させたくない\n \t\tみます[ymtk.icon]\n\t上記前提でスケジュールを立てる\n\t\tプロジェクトマネジメント部分はzawa\n\t\t次週火曜日を受けて。\n\t佐藤さんにどう動いてもらうか\n\t\tUI部分を先行\n\t\t\t画面遷移および画面構成は作成しており、一部詳細出し分けのみを残す\n\t\tmock json検討してmock server立てる[ymtk.icon]\n\t\t\tcastle-api のswagger見てキャッチアップする\n\t\t\tまだです[ymtk.icon]\n\tSQAは7月から\n\t\t全容把握は6月\n\n事業前提\n\t8月には何卒\n\n[* 懸念 ]\n\tさとうさん工数\n\tスケジュールどのくらい後ろ倒れるか\n\n次回\n\t概算スケジュール検討\n\t状況sync\n\t構想状況確認\n\n##sirius #定例 #sirius-api\n\n# sirius-king api mtg 5/14\ncreated_at:Mon Jan 19 1970 09:43:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:43:23 GMT+0900 (日本標準時)\nsirius-king api mtg 5/14\n[https://gyazo.com/30a700cc5ee3e1720d5a037d74465d39]\n\n[** 進め方]\n定例とch\n\t毎週火1100-1130\n\t`##sirius-dev`\n\n前回\n[sirius-king api mtg 5/10]\n\n[* 参加者]\nymtl/zawa/kmi/topaz2\n\n[** 諸々確認]\n\tkmi構想\n\t\tauth0できたよ\n\t\t\t招待よろしくです[ymtk.icon]\n\t\t\tauth0-Siriusアプリケーション作りました\n\t\tadmin-consoleから会社登録するとき\n\t\t\tauth0Idがないユーザーができる\n\t\t\t\tこれがsiriusのorganizationと紐付く\n\t\t\tこのIdを使ってkingのmanagement-apiを叩く\n\t\t\t\tsiriusで初回登録時にメールのURLを踏んでパスワードを登録したあとのタイミング\n[*** management-api]\n開発案件\n\t開発ペース的には1day1件くらい\n  [* 先週]\n  \tユーザー作成\n  \tswagger化\n  [* 今週]\n  \tロック登録\n  \t\tつまりはマスターキー作成\n  \tハブ登録\n  \tあけるしめる（management-api経由。Siriusだと、consoleからのリモート解施錠）\n  これから\n  \t合カギ関連（発行とか削除とか）\n  \tリードステータス\n  \tリハッシュ？\n[* BCUまでの道のり]\n\tmanagement-api => sirius-api 5末まで\n\tBCU\n\t\t佐藤さんへのsync\n\nkmi [komai.icon]\n\tapiの返り値などもswaggerにドキュメント作成する\n\ntoapaz2\n\tconsole-mockからログイン可能\n\tこれからmanagement-apiへの繋ぎ込み\n\tking-apiでdb直接触っていたもののシリアライザー調査\n\nymtk[ymtk.icon]\n\tconsole-stating環境立てます\n\t構想状況\n\t\t画面要素については naricoさんと詰め完了\n\t\t\t追ってtopaz2さんに相談されることなどあると思います\n\t\tscrapboxも後追いで更新します\n\t\t\t特にadmin。あと何でそれがいるのかなど\n\t事業\n\t\tQrio Lockだけでのテスト導入の相談は来ているのでやります\n\t\tQrio Key使いたいというのは一旦断ってます\n\n事業前提\n\t8月には何卒\n\n[* 懸念 ]\n\tさとうさん工数\n\tスケジュールどのくらい後ろ倒れるか\n\n次回\n\t概算スケジュール検討\n\t状況sync\n\n\n##sirius #定例 #sirius-api\n\n# Sirius admin 審査確認と承認管理\ncreated_at:Mon Jan 19 1970 09:42:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:42:22 GMT+0900 (日本標準時)\nSirius admin 審査確認と承認管理\n[* 想定利用者]\n\tQrio CS\n\tピットクルーCS\n\n[** 全般]\n\t[* ユーザー要求]\n\t\t審査結果を確認したい\n\t\t初回利用に必要な設定を知り、機器セットアップを滞りなく終わらせたい\n\t[* システム要件]\n\t\t審査完了後\n\n\n# Sirius BCUセットアップ後〜チュートリアル\ncreated_at:Mon Jan 19 1970 09:36:10 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:42:22 GMT+0900 (日本標準時)\nSirius BCUセットアップ後〜チュートリアル\n前のステップ\n[Sirius 審査OK〜利用開始〜機器セットアップ]\n\n[** 全般]\n\t[* ユーザー要求]\n\t\tセットアップが正しく完了しており、ロックが操作できるのかを確認したい\n\t\t\t自分で確認できるまでは他の人を招待するわけにはいかない\n\t\tロックが操作できるまでの流れを把握したい\n\t\t\tSiriusアカウントではCUにログインできないことなど\n\t[* システム要件]\n\t\t[* 確認画面]\n\t\t\tロックとハブが設定されていたら「設定した」ボタンを押せる\n\t\t[* チュートリアル]\n\t\t\t管理者がCUでロックを操作できることをゴールとする。\n\t\t\tホーム画面に3ステップ表示される\n\t\t\t\t機器登録\n\t\t\t\t\tコレが終わらないと以下の2項目は選択できない\n\t\t\t\t\t\t合カギグループ登録\n\t\t\t\t\t\tユーザー登録\n\t\t\tCUをインストール\n\t\t\t\t管理者として登録済みのアドレスでも登録できる\n\t\t\tチュートリアルが完了したらフラグを立てる\n\n\n\n# Sirius-dev mtg 19/5/10\ncreated_at:Mon Jan 19 1970 09:37:42 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:38:01 GMT+0900 (日本標準時)\nSirius-dev mtg 19/5/10\n先週分\n[Sirius-dev mtg 19/4/26]\n\n[*** 状況]\n[* 今週]\ntopaz2\n\tv: api 分割\n\t\tリポジトリ分割\n  環境構築\n \t local\n \t stg\n \t既存APIの改修\n\t  sirius-api <-> king-api 間の通信周りの設定\n\t  login api の変更\n\to: api 分割\n \t既存APIの改修\n\nymtk[ymtk.icon]\n\tv: 仕様書ing\n\t\t[Sirius 要件整理 index]\n\to: 引き続き脳内を文書化する\n\to: json serverとかdocsとかまだです\n\nnarico [narico.icon]\n\tフロントエンジニア打診中\n\t\t6月開発スタートで吉本さん中島さんの二人掛かりではどうだろうか、というところ\n\t\t\tvueこれいいすよ\n\t\t\t\t[/vue-yawaraka]\n\t\t開発ボリューム把握したい\n\t\t\tワイヤーで画面詳細設計\n\t\t 開発する機能をタスク化した上で、できてる部分、できてない部分の整理、5/10くらいには出す。\n\t\t 5月中にあとはマークアップ、実装するだけ、みたいな形まで持っていけるとベター\n\t APIドキュメント的なものはいつ頃用意されるのか\n\t\t APIドキュメントっていうかGQLとかSwaggerとかでのお渡しでOK？ => 多分大丈夫\n\t\t Swaggerで渡す\n\t 見積りどうする\n\t\t 人日で見積るのが良さげ\n\t\t フル稼働は厳しい、週何日くらい動くかは開発ボリューム出たあと5/17くらいまでに見積る\n\t 一度Qrioに来てプロト開発してるメンバーと開発手解きすると良いかも\n\t\t 5月末は他案件の納品時期で忙しい、タスクと見積り出た後、6月頭に顔合わせ設定する\n\t\t 全然手付かずの部分は仕様をXDなどで用意あればスタイルガイド見てよしなにレイアウトするでもOK\n\t 7月、8月、9月と開発やバグ修正などが続く可能性有り（手離れするのは9末くらいかも\n TODO\n\t 吉本さんにリポジトリ権限つけてもらう\n\t Slack招待する\n\t NDAなど用意してから権限つける\n 座組み全体図\n [https://gyazo.com/86c0708b89916de52aeafb98c3116109]\n\n\n\nkmi[komai.icon]\n\tkagican機能把握\n\tconsole-mockのコード把握\n\tadmin-consoleのコード把握\n\tking management-api構想考えてた\n\t\tCUが使うapiを管理画面系アプリケーションで使うのが大変そうなので、という背景[ymtk.icon]\n\t\t\tCUでログインできるアカウントができちゃうとか etc...\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\t乗り換えのご案内方法→まだ進められていない\n\t\t要相談。電話やメールする？受け身でいる？\n\t\tWeb何か掲載するか？\n\t特定のタイミングから、カギカン1の登録動線を落とす→まだ進められていない\n\t\t他、プラン変更周り（ロック増やすのはダメ、キーパッド欲しいのもダメ）\n\n[** ymtkからのお願いとかご相談ほか][ymtk.icon]\n\tスケジュール明確化しましょう\n\t\n\tオートロックon/offしたいという話が商談でいくつか\n\t\t昼間（みんながいる時）はオートロックしたくない。夜間休日はオートロックにしたい\n\n[** その他気になること]\n\tSQAっていつから･･･？\n\t\t[*** 7]月かな･･･  <= 現実ライン考えなきゃですね\n\t\t\tサーバ、フロントの一部\n\t\t\t\tランクB的な部分は多く出てくる。正常系くらいが限界\n\t\t\t\t特にフロントはLWさんが動いている最中なので、中旬以降メド\n\t\t\tBCU(android)は全て\n\thiroさん来週さんから参戦\n\n[https://gyazo.com/dc556b608ae9c888affaed9ace435bb5]\n\n\n\n# sirius-king api mtg 5/7\ncreated_at:Mon Jan 19 1970 09:33:15 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:37:51 GMT+0900 (日本標準時)\nsirius-king api mtg 5/7\n[** 進め方]\n定例\n\t毎週火1100-1130\n\nch\n\t`##sirius-dev`\n\n想定開発\n\tsirius-api リポジトリを立てる\n\tsiruis-api アプリケーションがHeroku上に立つ\n\tking-apiを叩くi/fを整理して、king-api側にapiを作成する\n\nTODO\n\t[* king-apiにあるfeature/add-key-groups-mock 機能の再現]\n\t\ttopaz2さんがsiriusリポジトリへコード移植\n\t\tking dbを見ていたところはapi化する必要があるのでkmiさんに依頼\n\t\t\tking-apiを叩くi/fを整理\n\t必要な開発項目のリストアップ（king/sirius）\n\tリスク項目のリストアップ\n\t\tsirius-api, king-api 間でデータの不整合が発生することは許容する\n\t\t\t例: sirius で使われていない master_key, user が king に存在する\n \t\tただビジネス上請求額に影響するので、ロック数がズレることは避けたい\n \t\tログもシステムの信頼性に影響するので不整合を発生させたくない\n\t上記前提でスケジュールを立てる\n\t\tプロジェクトマネジメント部分はzawa\n\tビジネス調整およびリスク判断はymtk\n\t佐藤さんにどう動いてもらうか\n\t\tUI部分を先行\n\t\tmock json検討してmock server立てる[ymtk.icon]\n\t\t\tcastle-api のswagger見てキャッチアップする\n\tSQAは7月から\n\t\t全容把握は6月\n\n事業前提\n\t8月には何卒\n\n[* 懸念 ]\n\tさとうさん工数\n\tスケジュールどのくらい後ろ倒れるか\n\n次回\n\t概算スケジュール検討\n\t状況sync\n\n##sirius #定例 #sirius-api\n\n# BB-sim mtg 5/10\ncreated_at:Mon Jan 19 1970 09:37:46 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:37:47 GMT+0900 (日本標準時)\nBB-sim mtg 5/10\n参加者 ymtk/zawa/takeuchi\n\n[* 背景]\n\ttoB案件でsim Hubが求められがち\n\t\tあと電源もあるが。。。\n\n[* 依頼要件]\n\tsim入りHubの提案をブレイブリッジさんから受けている\n\tHubに必要なスペック質問要素を送りたい\n\t急ぎじゃないです\n\n[* 価格感]とか\n\t2万円弱（sim 1MB/月 x 2年分）\n\t\tそもそも1M足りるの？\n\t\t\t微妙[takeuchi.icon]\n\t\t\t解施錠コマンドは1〜3Kあることを考えると、1Mだとせいぜい10コマンド/月が関の山か\n\t電源はUSBです\n\tボタン1個あります\n\t\t登録時の署名などにモードを切り替える\n\t\tなくてもできるかもしれないが、あったほうがシステム上は楽？\n\tLEDあります\n\tもちろんWi-Fiも対応している\n\t\t使わなくていいです\n\t\tBLEとアンテナを共有しているのなら、使わないに越したことはない[takeuchi.icon]\n\t高橋さんと関さんは知ってます。営業的にも印象はプラス\n\t\t買った物をレンタルしてもいい\n\n# IoT - dev 室長会 19/5/10\ncreated_at:Mon Jan 19 1970 09:37:44 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:37:45 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/5/10\nこれまで：https://qrio.esa.io/##path=%2FDevelop%2F室長会\n前回：[IoT - dev 室長会 19/4/26]\n\n[** 全体共有・相談]\n\t来週月曜経営会議です\n\t\tHeroku更新、Hub1st 最終生産、joker研究開発費など通します\n\t採用活動ing(Wantedly)\n\t\tエンジニア、デザイナー\n\tIoT開発本部の重点課題を明文化したい\n\t\t叩きつくります。OKR的な話→ごめんまだですGWやります[ymtk.icon]\n\t\tやるやる詐欺だったが下記は見えている\n\t\t 開発プロセス再検討（何を決めてどう作っていけばいい、何を交渉していく）\n\t\t 年間計画/実績の明示化\n\t\t \t案件アサイン状況も明示化したい。oyoとかBBとかnastaとか曖昧だがデかいものがちらほら\n\t\t コスト計画/実績の明示化\n\t\t \t予算どのくらいあってどのくらい消費？予算内であれば本部内判断で動かすよ\n\t\t \tSQA等外注費用含め。本部的には開発費1200万/月くらい\n\t\t CS体制拡大と事業拡大に向けて\n\tymtkが抱える管理者パスワード整理したい\n\t\tまだ本格的に動かしてません\n\tSirius、Castle外注化検討してくれという相談 from tk\n\t\tまだ本格的に動かしてません\n\t会議体再考\n\t\t会議体としては、IoT開発本部横断課題を倒す場所\n\t\t\t続けるか、一旦バラすか？\n\t\tなりさんoutもあるので再検討\n\t\t\tまゆしー in\n\n[** 共有・相談ネタ]\n[* 製品開発]\n\tQ-SL1 iOS\n\t\t5/17〜24の間に正式リリース予定\n\t\t\tこれ以上の割り込みがない前提。割り込みがあった場合は遅延に直結します\n\tHub (Guardian)\n\t\tフィジビリティは順調\n\t\t5/15(水)10:00に品質設計構想会議\n\tOYO\n\t\tシステム構成の方針決まった\n\t\t来週SBへ商談に行く\n\tSirius\n\t\t正式リリースは8月中になりそう(調整中)\n\n[* デザインコミュニケーション]\n\tSirius\n\t\t管理画面\n\t\t\t表示要素、画面詳細仕様をワイヤーに落とし込み\n\t\t\tフロント二人ほど打診中\n\t\tWebサイト\n\t\t\tロフトワークさん一旦クローズ、相談したかったらまた折をみて相談すれば良し\n\t\t\t8月までの一次改修をまゆ氏に引き継ぐ予定\n\tCastle\n\t\t特になし、残件対応をymtkさんチャンさんで潰し\n\t組織開発\n\t\tmayucy が yuri さんと動いている風、詳しくは知らん\n\t\t\tプレされました[ymtk.icon]\n\t成田退職の件\n\t\t契約形態を変えてSirius案件を引き続きディレクションする方向\n\t\t\ttk色々同意済み[ymtk.icon]\n\tSirius以外の引き継ぎ\n\t\tタスク整理\n\t\thttps://docs.google.com/spreadsheets/d/1cD88JLLpXM-pKEkzWZ-tAKNg6573moGP7HnZyaPiT-E/edit##gid=0\n\n[* CS推進]\n\tGW明けに「NHKおはよう」キャンペーン、メルマガも配信→直接的な問い合わせなし\n\tRoomonに5/9から間違い電話多発→東京オリンピックの本人確認番号と間違ってるっぽい&twillio使ってるっぽくてCallConnectにも接続不具合発生してるっぽい\n\tNPSについて原田さんとsync→NPSの前に原田さんの製品キャッチアップをフォローした\n\t\thttps://www.notion.so/ymtk/UX-82ab80347254417fa6552488f13ea2ea\n\n\n\t問い合わせフォーム周り手をつけたい→いっちー&川上さんに共有\n\t\tQ-SL2お問い合わせフォームだけどQ-SL1に話が来るようなパターンの解決\n\t\tiOSからの画像アップロード、拡張子問題\n\tKingのマスター削除フロー検討したい→一旦、運用でカバー\n\t\t10件くらいたまってきた\n\t\t匿名取引で相手が分からない、確認できないパターン→CSで既存オーナー連絡を取る\n\t採用進めたい\n\t\tSirius対応しきれない\n\n# Sirius 機器セットアップ(BCU ユーザーフロー)\ncreated_at:Mon Jan 19 1970 09:35:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:36:25 GMT+0900 (日本標準時)\nSirius 機器セットアップ(BCU ユーザーフロー)\n[** 全般]\n\t[* ユーザー要求]\n\t\t機器を手早く設置したい\n\t\t機器を正しく設置できているのか確認したい\n\t[* システム要件]\n\t\tSiriusアカウントでのログインを受け付ける\n\t\tロック（Q-SL2）の登録と設定ができる\n\t\tハブ（Q-H1、Q-H2）の登録と設定ができる\n\t\t機器の登録がうまくいったのかどうか確認できる\n\n[** CasteとSiriusのフロー差]\n※黄色部分はSiriusで変更ありの部分\n\t[* 初期登録]\n\t\t[https://gyazo.com/6c3ce7e54c5435d70eb29dc7b837558f]\n\n\t[* 登録後]\n\t\tロック設定\n\t\t\t[https://gyazo.com/0780773101a11750a1da34ddc694c39c]\n\t\t全般設定\n\t\t\t[https://gyazo.com/0f2d8abe4830fd2e7078ba69269ec543]\n\t\t\t[https://gyazo.com/bf7d3c25eda07837341f24e983c8c664]\n\n[** 主要差分]\n\tアイコン\n\tログイン\n\tロック一覧\n\tロック名登録\n\t設置場所とロックの確認\n\t\t「設置場所はあっているか」の文言が不要\n\t\t同上の表記は、1ロック目の登録完了時と機器設定画面に表示されているので、同様に削除\n\tサイドメニュー\n\t\tCU同様にサイドメニューを設置する\n\n[* 画面構成要素]\n\t(詳細作る)\n\n[** UI]\n\tinvision\n\t\thttps://projects.invisionapp.com/d/main##/projects/prototypes/17458603\n\n##Sirius\n\n\n# Sirius 審査OK〜利用開始〜機器セットアップ\ncreated_at:Mon Jan 19 1970 09:35:06 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:36:18 GMT+0900 (日本標準時)\nSirius 審査OK〜利用開始〜機器セットアップ\n前のステップ\n[Sirius 新規登録〜審査待ち]\n\n[** 全般]\n\t[* ユーザー要求]\n\t\t審査結果を確認したい\n\t\t初回利用に必要な設定を知り、機器セットアップを滞りなく終わらせたい\n\t[* システム要件]\n\t\t審査完了後\n\t\t\t正式利用ステータスへ変更する\n\t\t\t審査完了メールが送られる。メール内のURLからパスワードの初期登録画面へ飛ばされる\n\t\t\t\tcode: カギカンがご利用頂けるようになりました.mail\n\t\t\t\t\tQrio Inc. Takahiro Yamaguchi 様\n     \n     こんにちは。カギカン運営チームです。\n     \n     審査が完了し、サービスをご利用頂けることとなりましたのでお知らせいたします。\n     サービス利用に必要なレンタル品を配送いたしますので、到着まで1週間程度お待ちください。\n     \n     また、ご利用開始に伴い下記のURLをクリックいただき、ログイン用の初期パスワードを設定ください。\n     ログイン後、チュートリアルに従ってセットアップアプリをダウンロードください。\n     \n     https://sirius-console-mock-staging.herokuapp.com/account/signup/create-manager/RybzYMDnZiTM7wjL/\n     \n     レンタル品がお手元に届きましたら、専用アプリ（Androidのみ）でこれらの機器の初期設定を行ってください。\n     専用アプリへのログインは、審査時に記入頂いたメールアドレス（本メールが届いたアドレスです）および、設定頂いた初期パスワードをご利用ください。\n     \n     その他、初期設定などご不明な点がございましたら、お手数ですがサポートまでお知らせください。\n     今後ともカギカンを宜しくお願いいたします。\n     \n     \n     --\n     カギカン｜kagican.jp\n     ■ お問い合わせ先メールアドレス\n     support@kagican.jp\n     \n     * このメールは自動送信されているため、返信でのお問い合わせにはご回答できません。\n     \n\t\t\tCrossmallへ送付手配する。Crossmall側で発送されるとユーザーへ発送メールが送られる\n\t\t\t\tこれについては初期設定さえ行えば特に関与しなくてOK。\n\t\t初回ログイン\n\t\t\t初期パスワードを設定後にWebおよびBCUへログインできる\n\t\t\tWEBへの初回ログイン後、機器の初期設定案内画面を表示する\n\n[** 画面要素]\n\tパスワード初期設定\n\t\tメールアドレス欄（disable）\n\t\t\t登録したメアドであることの確認\n\t\tパスワード入力欄\n\t\t\t「確認用欄」は不要\n\t\t\tパスワード表示ボタンを付ける\n\t\t\t\t今何を入力しているのか分からない状態で入力値が合っているのかを確認するのは厳しい\n\t\t\t\t初期設定する時点で見えない理由がない（不特定多数に見られつつパスワードを決めるとは･･･？）\n\t\tパスワード入力の上で「設定する」ボタンを有効化。ボタンを押したらそのままログインして欲しい。\n\t\t\t実装面倒な場合はログイン画面への遷移でもOK。その場合はメールアドレスだけは引き回して表示させたい。\n\tログイン\n\t\tメールアドレス欄\n\t\tパスワード欄\n\t\t\tパスワード表示ボタンを付ける\n\t\t上記2項目入力の上で「ログイン」ボタンを有効化\n\t\t「パスワードを忘れた時」リンク\n\t\t\tパスワードリセット画面へ遷移\n\t\t新規登録ボタン\n\t\t\t新規登録（メアド入力）へ遷移\n\tパスワードリセット\n\t\tメールアドレス入力欄\n\t\t上記項目入力の上で「メールを送る」ボタンを有効化\n\t\t\tアカウント検索ができてしまうため、登録されているかどうかはここでは判定しない。\n\t\t\t「登録されていればメールが送信されます」などの免責がありうる\n\t\t「やめる」リンク\n\t\t\tログイン画面に戻る\n\t初期設定案内画面\n\t\t到着機器を確認の上、BCUで設定して欲しい旨を表示\n\t\t「設定した」ボタンを押すと、機器が登録されているか判定される\n\t\t\t登録されていなければ「機器の登録が完了していません。再度設定を確認してください」アラート\n\t\t\t[https://gyazo.com/21785c878ff8311384e49fc31bc869f8]\n\n\t\t\t設定されていれば初回利用案内画面へ進む\n\n##Sirius\n\n# Sirius 新規登録〜審査待ち\ncreated_at:Mon Jan 19 1970 09:35:04 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:36:18 GMT+0900 (日本標準時)\nSirius 新規登録〜審査待ち\n[** 全般]\n\t[* ユーザー要求]\n\t\tサービス内容を把握したので利用を申し込みたい\n\n\t[* システム要件]\n\t\t登録時\n\t\t\tユーザーがSiriusサービスに新規登録の上、Qrioの審査オペレーションに繋ぐ\n\t\t審査中\n\t\t\tユーザー情報（会社情報含む）およびプラン情報、決済情報を登録の上、審査中ステータスへ変更する\n\n[** 画面要素]\n\tログイン\n\t仮登録受付\n\t\tステップ進行状況の表示\n\t\t仮登録メールアドレス欄、新規登録ボタン\n\t\t\t登録されたメールアドレスへ仮登録通知が送られる。通知内にはメールアドレスが必要\n\t\t\t`@kagican.jp`からのメール受信許可の旨を表示\n\t\t\tcode: 仮登録通知\n\t\t\t title: \n\t\t\t カギカン仮登録が完了しました\n\t\t\t \n\t\t\t body:\n\t\t\t こちらのURLからアクセスして、本登録してください\n    https://example.com/xxxxxxxx\n    \n    --\n    カギカン｜kagican.jp\n    ■ お問い合わせ先メールアドレス\n    support@kagican.jp\n    \n    * このメールは自動送信されているため、返信でのお問い合わせにはご回答できません。\n\t\t仮登録後実行後、登録完了表示\n\t会社情報の登録\n\t\t各種情報登録欄、次へボタン\n\t\t\t[req.icon] 会社名\n\t\t\t\tテキスト\n\t\t\t部署名\n\t\t\t\tテキスト\n\t\t\t企業URL\n\t\t\t\tテキスト\n\t\t\t[req.icon] ご担当者さま氏名\n\t\t\t\tテキスト\n\t\t\t[req.icon] ご連絡先電話番号\n\t\t\t\tテキスト\n\t\t\t[req.icon] 郵便番号\n\t\t\t\t[* 住所変換ライブラリが対応していればハイフンなしでOK]（コピペもしやすい）\n\t\t\t[req.icon] 都道府県\n\t\t\t\tプルダウン（ライブラリ利用のため）\n\t\t\t[req.icon] 市区町村\n\t\t\t\tテキスト\n\t\t\t[req.icon] 以降の住所\n\t\t\t\tテキスト\n\t\t\t[req.icon] ご利用プラン\n\t\t\t\tプルダウン\n\t配送先住所の選択\n\t\t会社情報と同じ住所へ送る or 違う住所に送る\n\t\t二択なのでラジオボタンで選択\n\t\t\t「違う住所に送る」をクリックした時に表示させる入力欄\n\t\t\t\t[req.icon] 郵便番号\n \t\t\t\t住所変換ライブラリが対応していればハイフンなしでOK（コピペもしやすい）\n \t\t\t[req.icon] 都道府県\n \t\t\t\tプルダウン（ライブラリ利用のため）\n \t\t\t[req.icon] 市区町村\n \t\t\t\tテキスト\n \t\t\t[req.icon] 以降の住所\n \t\t\t\tテキスト\n\t\t\t\t[req.icon] 送付先ご担当者さま氏名\n \t\t\t\tテキスト\n \t\t\t[req.icon] 送付先ご連絡先電話番号\n \t\t\t\tテキスト\n お申し込み内容のご確認\n \t先ほど入力された情報の確認\n \t\t会社情報、製品送付先\n \tご利用料金\n \t\t利用量＋税金＝合計\n \t利用規約\n \t利用規約同意チェックボックス＆「次へ」ボタン\n \t\t未チェックでは進めない\n 決済方法の登録\n \t最初は請求書払いのみ\n \t\tNP後払い案内必要\n \t「お申し込み」ボタン\n\t本登録完了\n\t\tお問い合わせ番号の表示\n\t\t「トップへ戻る」への動線\n\t\t\tLPトップへ戻る\n\t\t裏で申込者のメールアドレスに対し下記が送付されている\n\t\t\tcode: カギカン申し込みを受付いたしました.mail\n \t\t カギカン申し込みを受付いたしました\n    \n    Qrio Inc. Takahiro Yamaguchi 様\n    \n    はじめまして。カギカン運営チームです。\n    \n    この度はカギカンへのお申し込み、ありがとうございます。\n    お客様より申請いただきました情報をもとに審査を開始いたします。\n    審査状況および審査基準についてはお答えできませんのでご容赦ください。\n    \n    なお、5営業日経過しても審査結果が送付されない場合、\n    お手数ですが下記のお申し込みNo.を沿えて、お問い合わせ先メールアドレスまでご連絡願います。\n    \n    ＊もし本登録にお心当たりがない場合は、お手数ですがサポートまでお知らせください\n    \n    --\n    お申し込みNo. 772863361\n    \n    \n    --\n    カギカン｜kagican.jp\n    ■ お問い合わせ先メールアドレス\n    support@kagican.jp\n    \n    * このメールは自動送信されているため、返信でのお問い合わせにはご回答できません。\n\n##Sirius\n\n# Sirius定例 19/5/9\ncreated_at:Mon Jan 19 1970 09:36:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:36:17 GMT+0900 (日本標準時)\nSirius定例 19/5/9\n14:30-15:00\nryo/kokichi/narico[narico.icon]/ymtk[ymtk.icon]\n\n[** 開発関連]\n\tロフトワークはプロダクト開発については諦めました。成田さん経由でフロントをアサイン相談中\n\tスケジュール\n\t\thttps://qrioinc.slack.com/archives/CE92MUPDY/p1556967596006100\n\t\t現状情報提示して見える化希望（ryo）\n\t\t\tリリース時成果物イメージ付けましょう[ymtk.icon]\n\tプロジェクト要件(NPPを見越して。主にプロダクト、運用部分まで）\n\t\t[Sirius]\n\tプロダクト要件\n\t\t最新の状況見て整理中\n\t\t\t[Sirius 要件整理 index]\n\tインフラ要件\n\t\tking-api からの分離\n\t\t\t将来的な運用外注などを考えるとking-api結合状態は厳しい（Qrioのコアとなる部分が自由に触れてしまう）\n\t\t\t駒井さんjoinで対応開始。中旬までに見積もり。\n\t課題\n\t\t退職が続くので体制立て直しが必要。内部で企画アシ的に動ける人がスポットで欲しい\n\n[** 事業関連]\n\t富士物流\n\t\t現状特に動きなし\n\t代理店\n\t\t販売停止タイミング（ダイワボウ、SBNまで）\n\t\t新規代理店としてソフトバンクにご協力頂けそう\n\t\t\t年払い必要\n\t\t\t\t請求書準拠\n\n[** 営業採用]\n\t進めてます。秋葉くん的な人を探します。\n\n[** その他]\n\t相談\n\t\tオートロックON/OFFフラグ\n\t\t\tOFFにした時に初期化されるのされないのについては確認取ります[ymtk.icon]\n\t\t\tやるとしたらHub→api経由でフラグを変える方が良い\n\t\t\t\tロック内だと時間ズレがあるのでリスク高い\n\tお問い合わせフォームをformrunに統一したい\n\t\t余裕なくできてません。2のタイミングでやります。[ymtk.icon]\n\t決済\n\t\t相談開始。NP窓口にはアプローチ済み\n\t役員会に入れましょう\n\t\tカギカンをQrio Lockに対応します話\n\t\tNPP兼設計構想をしましょう(ryo)\n\t\t\tどういうサービス、どういうコスト、どういう市場の初期目論見、運用目論見\n\t\t\t項目埋め金曜まで。スプレッドシート展開するのでお願いします。\n\t\t\t\t開発、事業、運用（CS・配送）\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1mvneNaNpIMxKP8uqeYiGp1A3ZoLuHt0peSM-Tgnw3Vk/edit##gid=0\n\n# Sirius定例 19/4/17\ncreated_at:Mon Jan 19 1970 09:04:39 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:36:12 GMT+0900 (日本標準時)\nSirius定例 19/4/17\n14:30-15:00\nryo/kokichi/narico[narico.icon]/ymtk[ymtk.icon]\n\n[** 開発関連]\n\tロフトワーク向け開発依頼資料を作成中\n\t\t引き渡すための開発環境の整備もやってます[ymtk.icon]\n\tWebサイト差分の洗い出し\n\t\thttps://drive.google.com/file/d/11aX4V9i4aZG7-DKJWioou4fvjuOc55Xe/view\n\t\tnaricoさんの方で対応予定\n\tスケジュール\n\t\t現状情報提示して見える化希望（ryo）\n\t\t\tリリース時成果物イメージ付けましょう[ymtk.icon]\n\tCS\n\t\t体制どうするか、これから検討\n\n[** 事業関連]\n\t富士物流さん\n\t\tリモート解施錠した時、通知メールが届く方式でOK\n\t\t運用としてキーパッドの代替手段（Hubが使えなかった時）が欲しいと言われている話は継続中\n\t\t\tロックの電池切れも解錠できないトラブル。各種トラブルの時の対応まで整理しないと片手落ちになりそう（ryo）\n\t\t\tキーパッド利用者についての目的の整理をしたい。あとカギカンユーザーに対する[* 拾えない]割合\n\t代理店関連\n\t\tダイワボウさんは既存の座組あるが、サービス移行方法は検討必要\n\t\t年間払いの運用をどうするか\n\t\t\t開発的には、そういうプランにしてしまえば良い（特に請求書であれば負荷なし）\n\tユニマットさん\n\t\t代理店を希望されている。マットと合わせての商材\n\tヒトカラメディアさん\n\t\t代理店を希望されている。今はakerunだけを売っている\n\t\t50坪くらいの物件が多い\n\n[** 営業採用]\n\t進めてください\n\n[** その他]\n\tお問い合わせフォームをformrunに統一したい\n\t\troomonの方式に合わせる\n\t\tメールディーラーにも飛ばす、slackにも出す\n\t\t\t来週までにやっておきます[ymtk.icon]\n\t5月くらいに着手予定\n\t\tカギカン→カギカン2 利用規約見直し\n\t\tカード、請求書払いの審査問い合わせ\n\t役員会に入れましょう\n\t\tカギカンをQrio Lockに対応します話\n\t\tNPP兼設計構想をしましょう(ryo)\n\t\t\tどういうサービス、どういうコスト、どういう市場の初期目論見、運用目論見\n\t\t\t項目埋め金曜まで。スプレッドシート展開するのでお願いします。\n\t\t\t\t開発、事業、運用（CS・配送）\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1mvneNaNpIMxKP8uqeYiGp1A3ZoLuHt0peSM-Tgnw3Vk/edit##gid=0\n\n##Sirius\n\n# Sirius アプリUI 2019/5/8\ncreated_at:Mon Jan 19 1970 09:34:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:35:12 GMT+0900 (日本標準時)\nSirius アプリUI 2019/5/8\n16:00〜16:50 ymtk, narico, mayuto, fukazawa\n\n\t旧カギカンと新カギカン(Sirius)\n \tサービス名は変えない　※確定\n \tロゴも変えない　※確定\n\t\t旧カギカンと新カギカンは半年並走する\n\n\t既存機能はCastleからの流用(デザイン変更なし)で問題ないか\n\t Castleから色だけ変えればよい？\n\t\t 違うグリーンになるかもなので、変数にしてほしい [ymtk]\n\t\t \t差し色(水色)とヘッダーとボタンの色だけ変えれるようにする [fukazawa]\n\n\tデザイン制作は差分のみで問題ないか\n\t\tZeplinで作る画面デザインは差分のみとする\n\t\t\t流用部分はKing/Castleを参照すること\n\t\tCastleとSiriusの差分\n\t\t\t部屋一覧→ロック一覧\n\t\t\tロックの新規登録\n\t\t\t\t設置場所の確認画面の削除\n\t\t\t\tロック名の入力画面の追加\n\t\t\tその他\n\t\t\t\thttps://docs.google.com/spreadsheets/d/1hYvpMHz5lwPeT-r_lZhnduLnz1zKV72COn5gjxItWEo/edit##gid=0\n\t\t\tロック一覧の「要確認」は、一旦Castle準拠にしておく\n\t\tInVisionでの画面フローはiOS版のみ作る(AndroidはiOS版を参照する)\n\t\t来週中に画面デザインを上げる [m.suzuki]\n\t\t\t佐藤さんが動き始められるのは、遅くとも再来週頭から\n\n##Sirius\n\n# req\ncreated_at:Mon Jan 19 1970 09:35:05 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:35:05 GMT+0900 (日本標準時)\nreq\n[https://gyazo.com/e9823f3582689d136db043777b3b8d49]\n\n# Hub 4M 2019/5/7\ncreated_at:Mon Jan 19 1970 09:33:40 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:33:41 GMT+0900 (日本標準時)\nHub 4M 2019/5/7\n5/7 18:10〜\n大西、光石、楢原、山口、竹内、深澤\n\n\t設計構想は山口さん主催 5/14まで\n\tESP32 ミドリヤ電気とヘルツで調整開始\n\n\tメカ\n\t\t山口さんに手作り試作の確認依頼 5/8\n\n\tアプリ\n\t\t実装進めてる\n\t\t\t明日に2ロック同時接続、解錠できるところまでやりたい\n\t\tQ-H1からポーティング中\n\t\t\tBLE/Wi-Fi同時利用\n\t\t\t来週中にはフィジビリ取れそう\n\n\t包装\n\t\tVOIDシール選択とマスター入数の確認中(山口)\n\n\t取説\n\t\tQ-H1との差分確認中(山口)\n\n\tその他\n\t\tショートオープン試験\n\t\t\t4Mでは非該当とするが、検証はする\n\n# nasta memo\ncreated_at:Mon Jan 19 1970 09:33:37 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:33:37 GMT+0900 (日本標準時)\nnasta memo\n[* 5/7 大西さんにヒアリング][ymtk.icon]\n\t1+2個目（ロック）に対して3個目は可能。ソフトウェアで制御しているだけ。\n\t解錠あるいは施錠の長押しを3個目（宅配ボックス）に当てることは可能。\n\t今のkeyは最大2個までにチューニングしている。3個目が増えると解施錠速度に影響が出うる。\n\tマンションで複数操作するとなると、使いやすさ分かりやすさ上ではアプリの方が勝りそう\n\n# Dev MTG 2019/5/7\ncreated_at:Mon Jan 19 1970 09:33:13 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:33:32 GMT+0900 (日本標準時)\nDev MTG 2019/5/7\n[https://tripnote.imgix.net/post/article/30/2999-d2TWfYPNJuBgCehwMP3J_src.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\tWantedlyで正社員募集中\n\t\t優先度はサーバー＝フロント＞アプリ\n\t2019年度の優先順位\n\t\thttps://docs.google.com/spreadsheets/d/1inrorhlko8m-jQQG0SKxpvYefI88obFRSdwsrJW-H-E\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 令和にもなるので(コーポレートサイトの)静的ファイルをS3移行してそろそろLB挟みます\n \t[* 新規投稿データは全てcloudfront経由でS3に置くようにしました。]作業メモは下記[ymtk.icon]\n \t\t[コーポレートサイト・アセットS3化メモ]\n \t\tassets.qrio.me からhttps配信\n \t\t過去のデータは一旦S3においたものの、付け替えまではしなくていいかなと思っている（サポート以外）\n \t\t次はロードバランサーやります\n \t5/7  朝に放送される「おはよう日本」の対応（Castle）\n \t\t無事終了\n\n[*** 各PJ]\n[** Avis（ymtk、深澤）]\n\t検討中案件\n  Key-PF\n   joker優先\n   ヒアリング状況聞いてきます[ymtk.icon]\n  OYO\n   絶賛各所相談中\n   \tOYOアプリでking-apiを叩く（Hub必須）\n   \tロックのデータはdbに直入れし、設置については専用アプリを使う\n   \t\t必要なロックについてのみ期限付きのキャリブレーションキーを発行する。\n  NASTA(new!)[ymtk.icon]\n  \t戸建てに付属する住居者用宅配ボックスをQrio Keyであけたい\n  \t\tそもそも容量などは大西さんに確認\n  \t\tQrio LockのBLEプロトコルを開示する想定\n  \t「検討はOYOのあとね！」\n\n[** Joker (ymtk、深澤、竹内)]\n\t4月中にコンセプト固める\n\t\t市川さん、鈴木さんを中心に検討中\n\t\t進捗を高橋さんに共有、ねりなおし[takeuchi.icon]\n\t\t\tQBSにフィジビリとってもらいたく、やりたいことを早めにQBSにInputしたいのでやっている[takeuchi.icon]\n\t\t\tスケジュールは要再検討\n\t\t基礎研究稟議はGWあけに取ります[ymtk.icon]\n\n[** Castle (山川、三上)]\n\tWebアプリ(なりこさん、三上さん)\n  三上さん\n  \tオートロック連続失敗のアラートがPR中\n  \t\t確認終わり次第、drop処理待ってマージ[ymtk.icon]\n  \t次はGraphQL部分、その後電池残量\n  \t今月リリース目標にしたい(コンソール間に合う？)\n  ymtk\n  \t休み中にもいくつか倒しました。\n  \t\t[##Castle 未解決・対応中の項目管理]\n  \t明日5/8もリリースします\n  \tテストある程度動くようにしましたが、king-api叩く部分があるのでどうCI乗せたもんか相談したいです･･･\n  \t\tcastle定例で相談しました。\n\tBCU iOS(ひろさん)\n  iOSアプリ実装中。審査１回目通りました\n  \t残りはロックのFWアップデートのみ\n  \t来週前半に正式リリースできる見込み\n[Castle 週定例 2019/5/7]\n\n[** Sirius (ymtkさん, kmiさん)]\n\t環境(変更なし)\n\t\tapiサーバ（privateから出したので[*** 安い]）\n\t\thttps://sl2-sirius-demo-staging.herokuapp.com/\n\t\tmockはこちら。\n  https://sirius-console-mock-staging.herokuapp.com\n\t\t管理ツール（ユーザー登録可能）\n  https://sirius-admin-console-staging.herokuapp.com/login\n\tBCUは5月から着手。android→iOSの順\n  リリース時期(7月 or 8月)調整中。\n  4月中に変更分の画面設計を準備する\n\tLoftWorkとmtg待ち→スケジュールとスキル合わず別途なりさんDでフロントの人をアサイン検討中\n\t\tking-api同様、gitbookでapiドキュメント作ります[ymtk.icon]\n\t\t\tking-api https://king-btob-api-document.herokuapp.com/\n\t駒井さん、参戦\n\t\t切り離し開始。スケジュールはこれから。\n\t電話解錠は1stリリースに含まない\n\t\tただし、今後追加する可能性あり\n\n[** King]\n[* スマートスピーカー (ymtk)]\n\tAmazon Alexa\n  Hubのpresenceまわり\n   kmiさんapiで動かしてみて、普通に動く。Hub解施錠くらいの体感（2秒弱）。\n   \tapiのPRにコメント入れました[ymtk.icon]\n   SQAしてOKそうならamazon出します\n   \t今週中に出せる見込み\n   この挙動、CUに入れてもいいのかも･･･（リモートの時、Hubかロックが死んでいたらエラー表示）\n   \t時間ができたらやる\n\n[* API (駒井)]\n\tOYOに今の通知の仕組みをそのまま出すか\n  5月までに検討\n  スマスピ3種、Castle、SOMCですでに5つ、汎用化したい\n\tロックを解錠したらカメラ撮る、のようなことを今後検討する(WebHook)\n 汎用化に向けてAPI追加、整理\n  Akerun、SesameのAPIを参考に検討中\n  汎用化の構想について、今週こそymtkさん、深澤とシンクする(sync, not think?)\n APIドキュメントのメンテ中\n　 https://staging-king-api-document.herokuapp.com/\n\n---// 前回のまま --\n[* OYO界隈(ymtk)]\n\t高橋さん、コウキチさんから相談受けている状態\n\t量販店がSBに商流変更となったので、その流れでQrio with SB→OYOでの営業ラインができた\n\tOYO最新の要望と規模\n\t\tOYOアプリでの解施錠\n\t\t\tHub api経由で行ける\n\t\t\tが、何千個のロックをCUで登録管理やるのかというと厳しそう。CastleのBCUの方が運用に乗る\n\t\t\t\tそもそもロックが物理的に存在しなくても、登録フローを変更すれば、データ上でオーナー登録が完結する仕組みにできるような設計になっている（DB上にデコードがあれば使えるようになるので、DBにInsertするだけで登録作業は終わる）ので、CUを使う必要性はない。Castleも同じ話。[takeuchi.icon]\n\t\t\t\tキャリブレーション用のキーをつくって、設置は別途、設置業者にそのキーを渡して作業させることもできる[takeuchi.icon]\n\t\t\t\t[** OYO用のCastleミラーが必要になり得る（機能同じ）]\n   \t\t環境変数でCastleと別マスターアカウントに紐付ける。そのアカウントでHub apiを使ってもらう\n\t\t電話解施錠\n\t\t\tapi経由の希望はもらっているが、どうしてもであればCastle使ってくれと言うつもり。twillio要素が多いのでQrioからは提供したくない想定\n\t\t\t\tKing APIにはその機能はない[takeuchi.icon]\n\t\t\t\tCastleを使うならそれでよい。Castleを使わないのであれば、電話解施錠はOYOに作ってもらい、それ経由でKing APIを叩くのがよい。Castleはバックドアを持っていない[takeuchi.icon]\n\t\t\t\t\tCastleを使うと、OYO用にmaster_keyをこしらえる必要がありそう？Castle依存になる\n\t\t\t\t\t\tCU使う前提だと、OYO用にmaster_keyは分けないといけない\n\t\t\t\t\t\tKingAPIをOYO様キーで使いたい\n\t\t\t\t\t\t\tCastle使うなら、KingAPIは叩けない（両立しない。Castle用master_keyでKingAPIを叩いてはいけない）\n\t\t\t\t\tCastleを使わないなら、キャリブレーション用キーをつくるアプリ用SDKか、もしくはキャリブレーション用アプリが必要になる\n\t\t\t\t\t\t無条件に任意のロックのキャリブレーションができるとしても、誰も得しない[takeuchi.icon]\n\t\t\t\t\t\tちょっと三上、ふかざわで話したいです\n\t\t\t\t CastleはSingle Masterで運用する。OYOはKingAPIを叩く人で、Single MasterかMulti Masterかわからない[takeuchi.icon]\n\t\t\t\t \t登録: 実装すればいい話\n\t\t\t\t \tキャリブレーション: 仕組みはあるが、実装をどうするか？\n\t\t\t\t \t\t設置業者がつかうので、キャリブレーションキーをもらう口さえ作れば、UIはそれっぽかったらよい\n\t\t\t\t \t\t専用アカウントもいらないが、お客さんに求められるかも？交渉次第\n\t\t\t\t \t\tなぜBCUが必要だったか、仕様含めておききしたい所存\n\t\t\t\t \t\tBCUはログインがテンポラリ\n\t\t\t\t \t\tキャリブレーションのログインにテンポラリのQR\n\t\t\t\t \t\tすぐできるんならやればよい、すぐできる???\n\t\t\t\t\t\t\tKingにキャリブレーション用ユーザーを作る仕組みを作れば楽\n\t\t\t\t\t\t\t\tOYOはMulti Master -> キャリブレーション用キーはOYOが発行する\n\t\t\t\t\t\t\t\tキャリブレーション用キーは時限式だが、キーの管理もOYOがやる\n\t\tOYO管理画面からの合カギ管理\n\t\t\tHub api経由での解施錠は自由として、OYO側のアプリケーションでよしなに権限作ってもらえば良い\n\t\t\tOYOアプリでの解施錠がある時点で従来のファミリーキー、ゲストキーの仕組みは厳しい\n\t\tイニシャル5,000台 x 月額¥800 = ¥400万/月\n\t\t\tインドと交渉する上で、¥350(Castle最初の提示額)じゃないよというサクッとした説明が欲しそう\n\t\t\t\tOYO専用プライベートクラウドだから &  あと適当な何か･･･？\n\t\t\tざっくりミラーアプリ原価\n\t\t\t\tDyno Ps(unit5) x 2(api) x 2 (view) = 20 => 12万/月\n\t\t\t\tDB(Pm 300) => 5万/月\n\t\t\t\taddon含めて20万/月\n\t\t\t\tイニシャル対応2w => 50万程度\n--- 前回のまま //--\n\n↑の進捗（##king-oyo で相談中）[takeuchi.icon]\n　ロック本体とサーバーのNonce同期について\n　\tできそうだが、DBのnonceは初期値が0埋めされている\n　\tmaster-dataにはnonceの初期値が入っている。ロック本体にも出荷時に入っている（ハズ）\n　\tDBの0埋めされているロックだけ、master-dataのnonceを入れる\n　\t\t工場で本当にmaster-dataのNonceが書き込まれているか要確認\n　\t\t作業日時は未定\n　\t\t本体のnonceが書きこまれてない場合に、DBだけ更新するのもよくはない(動きはする)\n　\t\tちゃんと確認してきましょう\n　\t\t現状だとnonceがズレてても動いてしまう\n\n[mikamix.icon]\n キーをQRコードにした場合、tovをどうするのかという問題がある\n キャリブレーションキーを取得するためのトークンをQRコードにするでいかがか\n トークンの期限等々はJWTでやれるとこまでやれば、ほぼほぼステートレスにできる気がする\n サーバーに渡すのは、QRコードの情報とロックの現在時刻\n もしやるなら、たぶんking-apiの機能追加でよい気がする\n\n[* CU (深澤、竹内)]\n工場出荷状態のハブをKing CUで登録しようとすると、登録できない問題\n\t調査中\n\n[* Hub (竹内)]\n先週、入居済みの部屋にRoomonのハブを設置したが、ハブのFWがstgに切り替わってしまう問題が発覚した（2件？）\n\t原因はCastle BCUのバグで、コードは修正済み\n\t暫定対策として、AWS S3のstg用ハブのバイナリを、一時的に本番用のものに置き換えている\n\t\tqb-setupアプリを使うか、ハブのボタンを15秒長押しして強制アップデートをかければ解決する\n\t\t関さんには情報共有済み\n\t\t近日中に、エンジニアが現場まで訪問予定\n\t\t\t済。川上さんが対応してくださった[takeuchi.icon]\n\t\t作業が終わったら、AWS S3環境を元に戻す予定\n\t\t\tまだ戻せない。古いBCUが使われているかもしれないため。アプリの強制アップデートもできない[takeuchi.icon]\n\t\t\t1ヶ月くらい様子見\n\n[* Guardian (竹内)]\n\tESP32で粛々と実装中\n\t\t現行ハブのFWを取り込み中。アーキは現行のものとほぼ同じ\n\t\t今日明日でCentralで1本通したい\n\t\t2ロック同時接続のフィジビリとりたい\n\tSW構想会議があるので資料作成中（5/14）\n\n[* Guardian 製造・制作系 (ymtk)]\n 梱包は120円ほどになる予定（今の半分以下）[ymtk.icon]\n 取説はGW以降にやります with narahara san→やるぞ！\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Q-SL1 CU iOS版 SDKアップデート、ハブ登録問題\n  [* ビックカメラ販売分(150セット)のHubが既にSL2用FWになっていたため、即時リリースが必須な状況]\n  スケジュール\n  \t〜4/30\tビルド通す、正常系確認\n  \t〜5/6\tSuper Retina Display対応、Hub(SL2用FW)対応\n  \t5/7〜\tSQA、随時Apple審査　☆ほぼオンスケ\n  \t\tsmartlock-duからのプッシュが受けれない\n  \t\tあるタイミングを境にBLE通信ができなくなる　問題が発生中\n  \t5月下旬\tリリース\n\n Q-SL1サーバ落ち対応（ymtk）\n  クエリが詰まった？様子見。\n  AWS RDSエンジンのパッチを当てる→ymtkさん\n  \t毎週1個ずつ当ててます。stg→prodの順\n  \tあと2、3週ぐらい\n\nQ-SL1のDBがauroraのr3.xlargeになってる\n なぜオーロラ(マルチAZ)かというと、丸山さんがフェイルオーバーしたかった\n  オーロラはシングルでもFOします(ただし時間が違う)\n  パッチをあててから\n  たぶんダウンサイズ\n  シングルにするかどうかは要検討\n\n[** FAIT対応 (チャン、竹内さん) ]\n 共有部の通知のロジックを修正、デプロイ済み\n\t\t使われていないみたいだし、いったん放置します。\n\n[** 情報システム (チャン)]\n WLX313の設置。ちゃんと動いているっぽい。\n \tWLX402の移動、再設置を予定しています。\n 社内DNS設定。AkamaiのETP導入\n  気が向いたらやる。とてもめんどう -> ほんとにそろそろやる。毎月お金払ってるし。\n\n[** QaaS(チャン)]\n 進捗なし\n 6月1.5人月、7月1.5〜2人月の見込み\n\n[** CSへのテクニカルサポート(チャン)]\n redash をGCPに設置して試すことになった。\n \tFollowerに統計用のクエリを投げると、サービスのクエリとまざってしまうけれども良いのか? → あまりよろしくない\n CSが電話対応する際に、Wi-Fiだと不安定なので有線化する。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** その他相談]\n\t気づいたベースでテスト実行について書いてます。[ymtk.icon]\n\t\t[sirius-server テスト実行までの流れ（途中）]\n\t\t[king-api テスト実行までの流れ]\n\t\tcastleはこれから\n\t\tシリウス作るならheroku, awsどっち?\n\t\t\therokuです\n\t\tプライベートスペース代が追加でかからないならherokuで問題ないはず\n\n[** 健忘録]\n\tなし\n\n# castle-product定例 5/7\ncreated_at:Mon Jan 19 1970 09:33:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:33:27 GMT+0900 (日本標準時)\ncastle-product定例 5/7\n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n前回\n[castle-product定例 4/23]\n\n参加者\nryo / seki / ymtk / kawakami / zawa \n\n[* 事業]\n\tオーナーさん中心にお問い合わせ\n\t最低導入規模は300部屋 x ¥350\n\t\tオーナーさん自主管理とは数のニーズが合わない\n\t\t事業的な価値については高橋さんと相談\n\t\t\tUX的には利用者ヒアリングや事例を得られる部分での価値は感じる\n\t電話カギ履歴についての相談あり。\n\t\tアラートのあとのタイミング。castleの履歴を使う必要がある[ymtk.icon]\n\n[* 開発・デザイン]\n\t相談案件\n\t\t部屋番号のソート\n\t\t\t「数字」縛りではないと、1101→201の順になってしまう（のを頑張ると実装1週間ほど）\n\t\t\t\t101→1101→A101とか\n\t\t\thttps://github.com/qrioinc/castle-api/pull/224\n\t今週のリリース\n\t\tバグfix・UX改善\n\t\t\t「QRコード関連」文言修正\n\t\t\t「解施錠関連」文言守勢\n\t\t\tパスワードリセット時の履歴重複\n\t\t\t設置アプリアカウントのリスト順番\n\t\t\t設置アプリアカウントでのリストの更新\n\t\t\t設置アプリアカウント作成時にEnterキーを押下したときにも作成ボタンが反応している\n\t直近開発中\n\t\tアラート\n\t\t\tKingからログをpostするところまで実装 by mikamix\n\t\t\tデータを取り出して表示されるのはこれから\n\t\t各要素の編集\n\n[* CS]\n\tGW問い合わせ状況\n\t\t使い方問い合わせメール 0件、営業時間外入電 1件\n\t\tC向けサポート窓口へのcastle利用者問い合わせ受付　現在のところ無し\n\n[* 運用]\n\tNP後払いへの利用相談頭出し[ymtk.icon]→カギカンと合わせてやります\n\n# Castle 週定例 2019/5/7\ncreated_at:Mon Jan 19 1970 09:13:12 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:33:23 GMT+0900 (日本標準時)\nCastle 週定例 2019/5/7\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/4/16]\n次週分\n[Castle 週定例 2019/5/13]\n未対応リスト\n[##Castle 未解決・対応中の項目管理]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[narico.icon]\n\tv：文言修正少し　[##Castle 未解決・対応中の項目管理]\n\t\tGraphQL error: 送信に失敗しました (1000002)　\n\tv：部屋の名前変更するプルリク\n\t\tなんかマージできない　https://github.com/qrioinc/castle-console/pull/335\n\t\t\tみますねー。[ymtk.icon]\n\t!： gtmいれたが、URIフィルタリングがうまく設定できてないので見直す\n\t\tやってない\n\n\n\n[h.yamaguchi.icon]\nbcu-iOS\n\tv: エラー処理\n\to: ロックのFWアップデート\n\n\n[ymtk.icon]\n\tv: 今週リリース分の対応\n\t\tnpm update(api、console)\n\t\t\tしばらくは自分の所で`ncu -u`しときます[ymtk.icon]\n\t\t不具合対処（次回リリース分）\n\t\t\t設置アプリアカウント系、履歴系。\n\t\t\t\t[##Castle 未解決・対応中の項目管理]\n\t\t\t個別編集は手出ししてませんが、これから触る予定。\n\t\t\t対処しているとキャッシュやorder by系の案件が多い。\n\t\t\t\t`this.$apollo.provider.defaultClient.resetStore()`処理\n\t\t\tconsoleエラー表示関連は集約されているだけなので分割すればok。\n\t!: ここ1ヶ月くらいのリリース内容明らかにしたい\n\t!: テスト直してCIへ。GW中かな･･･\n\t\t協力します[h.yamaguchi.icon]\n\t\t\tking-api と通信する部分をどうCIに乗せるか相談したいです。ローカルではほぼ通せました[ymtk.icon]\n\n[hazimetyan.icon]\n v: castle api の本番反映\n o: castle api / console のコード確認\n \tissue 1つぐらい着手、解決する\n o: 毎週水曜日にcastle api/console の本番反映\n\n[mikamix.icon]\n v: 連続失敗の実装\n  o: フィードバックに対応\n o: 電池低下の実装\n o: alertのGraphQL\n o: コンソールのアラート表示部分?\n  !: 電池低下のアラート、(連続失敗だけでも)アラートを表示するのと、GraphQLでどれ優先しましょう?\n  !: GraphQL, 電池低下、アラート表示の順ですかね?\n !: QRコードって何でしたっけ?\n \t2種類あります。[ymtk.icon]\n \t\tBCUのアカウント受け渡し用\n \t\t\t中身はid, pw -> BCUのid/pass\n \t\tファミリーキーの受け渡し用\n \t\t\t中身はアプリインストール先URLとファミリーキーのコードをFirebaseでよしなに結合した物\n !: Castle の文脈で限れば、CUは登場しない\n !: twilioから呼ばれるのは、castle-api\n\n[*** ##KPT]\n[*** よかったこと、続けていくこと]\n\n\n[*** 課題感、やってみること]\n\n##Castle #定例\n# castle-product定例 4/23\ncreated_at:Mon Jan 19 1970 09:13:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:33:12 GMT+0900 (日本標準時)\ncastle-product定例 4/23\n[https://gyazo.com/10a98d879e9583a126c8651f6c4468cc]\n参加者\nryo / seki / ymtk / narico \n\n[* 事業]\n\t見守り事例\n\t\t駆けつけで使えないか？と言うニーズ。本体費用で減価償却できず\n\t業務効率化\n\t\t¥350だとコストメリット成り立たない、というお客様\n\tお問い合わせ全般\n\t\t数としては横ばい。カギカンへの御案内になる話が多い\n\t\t\tインバウンドだけだと厳しいので、物件管理セミナーなどを協力先見つけて広げていく必要がある\n\t\t\t\tSUUMO、HOMES、etc、あるいは彼らの競合となる新興の不動産事業者\n\t\tNHK（5/7 おはよう日本 内、おはBiz）\n\t\t\troomon、Qrioで取材ある。他、個人利用者のかたにも取材済み\n\t\t\t\tインフラ備えておきますね\n\t\t\t放映後、キーがついてくるセールを実施する予定。量販のECサイト、Qrio Storeのみ\n\n[* 開発・デザイン]\n\t今週のリリース\n\t\tバグfix、監視ツール導入\n\t直近開発中\n\t\tアラート\n\t\t各要素の編集\n\t\tiOS App\n\t\t\t初回申請はOK\n\tその他\n\t\tOYO関連は開発定例で検討\n\t\tFWの件、ご迷惑をおかけいたしました。\n\n[* CS]\n\tアカウント作成ツール導入\n\t\tイタンジさんへのアカウント発行済み\n\tGW中\n\t\tメール対応は行う\n\n[* 運用]\n\tNP後払いへの利用相談頭出し[ymtk.icon]\n\n# sirius-server テスト実行までの流れ（途中）\ncreated_at:Mon Jan 19 1970 09:25:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:25:25 GMT+0900 (日本標準時)\nsirius-server テスト実行までの流れ（途中）\n1. localhostにtest用のdb`smartlock_test`を作成する\n\t`bin/rails db:environment:set RAILS_ENV=test` でセットアップできる\n\tデータはstgのものをdumpして利用する\n\tenvの設定にも注意\n\t\tcode:.env\n\t\t DB_HOST=127.0.0.1\n   DB_PASSWORD=\n   DB_USER=root\n\nTODO:\n\tdockerの扱い\n\tredisの扱い\n\tviewに対してのテストの扱い\n\n# king-api テスト実行までの流れ\ncreated_at:Mon Jan 19 1970 09:25:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:25:07 GMT+0900 (日本標準時)\nking-api テスト実行までの流れ\nかいた[ymtk.icon]\n\n1. test dbの作成\n\tlocalhostに`king-api_test` dbを作成する。migrateなどはしなくてOK\n2. rspecコマンドの実行\ncode:bash\n\t$ bundle exec rspec\n\n[** テストが実行できない時]\n\t実行エラーが出る界隈\n\t\tbundlerのバージョンがGemfile.lockと合わない\n\t\t\tcode:error\n\t\t\t Traceback (most recent call last):\n    \t2: from /Users/ymtk_paeria/.rbenv/versions/2.5.1/bin/bundler:23:in `<main>'\n    \t1: from /Users/ymtk_paeria/.rbenv/versions/2.5.1/lib/ruby/2.5.0/rubygems.rb:308:in `activate_bin_path'\n\n\t\t\t大体2系になってしまっていると思うので、これを削除して1.16を入れる\n\t\t\t\tcode:bash\n\t\t\t\t $ gem install bundler -v 1.16.6\n\t\t\t\t $ gem uninstall bundler -v 2.0.1\n\t\trubyのインストールがうまくいっていない\n\t\t\t`pry`を実行しようとすると下記のようなReadline界隈のエラーが出るなどはそれ\n\t\t\t\tcode:error\n\t\t\t\t $ pry\n         Sorry, you can't use byebug without Readline. To solve this, you need to\n         rebuild Ruby with Readline support. If using Ubuntu, try `sudo apt-get\n         install libreadline-dev` and then reinstall your Ruby.\n     Traceback (most recent call last):\n     \t32: from /Users/ymtk_paeria/.rbenv/versions/2.5.1/bin/pry:23:in `<main>'\n     \t31: from /Users/ymtk_paeria/.rbenv/versions/2.5.1/bin/pry:23:in `load'\n   再インストールし、pryやbundler、repecを`gem install`してあげればOK\n  DBと接続できていない\n  \t接続情報を見直しましょう。特に意識していない場合はuserがpostgress、passがpassword\n  \tいわゆるこれ\n  \t\tcode:.env\n  \t\t DATABASE_URL=postgres://postgres:password@localhost:5432\n\n# Sirius-dev mtg 19/4/26\ncreated_at:Mon Jan 19 1970 09:17:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:17:40 GMT+0900 (日本標準時)\nSirius-dev mtg 19/4/26\n先週分\n[Sirius-dev mtg 19/4/19]\n\n\n[*** 状況]\n[* 今週]\ntopaz2\n\tv: 登録フロー\n  モック実装、API実装、api連携\n \t ユーザー登録\n \t 合鍵グループ登録\n\to: 登録フロー レビュー依頼 フィードバック対応\n\to: 登録フロー\n  モック実装、API実装、api連携\n  \t合鍵グループ登録\n\t  合鍵招待作成\n\to: Alexa WWA対応\n\t\t解施錠しなくてもロックの生き死にを問い合わせるapiについては作ってもらったので検証しますです[ymtk.icon]\n\nymtk[ymtk.icon]\n\tv: ひたすら登壇資料\n\tvo: さとうさんへの頭出し\n\tv: UIまわりmayutoさんからキャッチアップします\n\nnarico [narico.icon]\n\tフロントエンジニア打診\n\t\t一人目：Vueは触ったことはあるが規模が大きいとまだ自信ない。とのこと。Reactはわかる。会社サイトがな\n\t\t二人目：やりたいけど5月中は他で詰まってて6月開発スタートならいけるかも。vueスキル不安なので実装範囲含め一回話し聞きたい。http://tsudoi.org/weblog/\n\tzizoさん打診する\n\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\t乗り換えのご案内方法→まだ進められていない\n\t\t要相談。電話やメールする？受け身でいる？\n\t\tWeb何か掲載するか？\n\t特定のタイミングから、カギカン1の登録動線を落とす→まだ進められていない\n\t\t他、プラン変更周り（ロック増やすのはダメ、キーパッド欲しいのもダメ）\n\n[** ymtkからのお願いとかご相談ほか][ymtk.icon]\n\tking-api と分けるか分けないか\n\t\tOYOでking-apiがつっと手が入りそう\n\n[** その他気になること]\n\tSQAっていつから･･･？\n\t\t6月かな･･･  <= 現実ライン考えなきゃですね\n\t\t\tサーバ、フロントの一部\n\t\t\t\tランクB的な部分は多く出てくる。正常系くらいが限界\n\t\t\t\t特にフロントはLWさんが動いている最中なので、中旬以降メド\n\t\t\tBCU(android)は全て\n\n\n\n\n# IoT - dev 室長会 19/4/26\ncreated_at:Mon Jan 19 1970 09:17:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:17:37 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/4/26\nこれまで：https://qrio.esa.io/##path=%2FDevelop%2F室長会\n前回：[IoT - dev 室長会 19/4/12]\n\n[** 全体共有・相談]\n\t採用活動始めます(Wantedly)\n\t\tデザイナー、CS追加\n\t\t月間使える人件費はキャッシュフロー見ていると結構ギリギリ\n\tIoT開発本部の重点課題を明文化したい\n\t\t叩きつくります。OKR的な話→ごめんまだですGWやります[ymtk.icon]\n\tymtkが抱える管理者パスワード整理したい\n\t\t開発、CS、経営本部\n\tSirius、Castle外注化検討してくれという相談 from tk\n\t\tキャッシュフロー大きくなるのが厳しい\n\t\t退職で開発止まるの懸念\n\n[** 共有・相談ネタ]\n[* 製品開発]\n\tQ-SL1 iOS 対応中（5中旬）\n\t\t現実的なラインでは5下旬リリースになりそう\n\t\tCSお問い合わせは2件/day程度\n\tCastleで営業から相談あった\n\t\tファミリーキーを複数発行できるようにしたい by関さん\n\t\t\ttkさん、ymtkさんへ相談いく予定\n\t\t\tコレは僕の一存では決められないのでは･･･やるやらからtk入れて話したい[ymtk.icon]\n\tHub (Guardian)\n\t\tAzureWaveやめてESP32にする\n\t\tESP32性能良い、作りやすい\n\t\tリリースは予定通り来年1月予定\n\n[* デザインコミュニケーション]\n\tSirius\n\t\t管理画面　LWさんが厳しいとなってフロントアサイン中\n\t\tサイト　こっちはLWさんに振っても良い感じがするが時期相談\n\t\tフロント二人ほど打診\n\tCastle\n\t\tバグ、SQAタスク整理\n  https://scrapbox.io/qrio/%23Castle_%E6%9C%AA%E8%A7%A3%E6%B1%BA%E3%83%BB%E5%AF%BE%E5%BF%9C%E4%B8%AD%E3%81%AE%E9%A0%85%E7%9B%AE%E7%AE%A1%E7%90%86 \n\t組織開発\n\t\tmayucy が yuri さんと動いている風、詳しくは知らん\n\t\t\tプレされました[ymtk.icon]\n\tキャンペーン対応 5/7 - 5/13\n\t\tバナー出すとか\n\t\tサーバースケールアップ　小暮さんがymtkさんに別途相談するって言ってました\n\t\t\tいっちーに月初くらいに聞いてるのでやります。あさ6:30からテレビ放映、16:00にメール送信[ymtk.icon]\n\t引き継ぎ\n\t\tタスク整理\n\t\thttps://docs.google.com/spreadsheets/d/1cD88JLLpXM-pKEkzWZ-tAKNg6573moGP7HnZyaPiT-E/edit##gid=0\n\t\tXDay 5/17'(Fri)\n\n[* CS推進]\n\tGW明けに「NHKおはよう」キャンペーン、メルマガも配信\n\tNPSについて原田さんとsync\n\n\n\t問い合わせフォーム周り手をつけたい→いっちー&川上さんに共有\n\t\tQ-SL2お問い合わせフォームだけどQ-SL1に話が来るようなパターンの解決\n\t\tiOSからの画像アップロード、拡張子問題\n\tKingのマスター削除フロー検討したい→一旦、運用でカバー\n\t\t10件くらいたまってきた\n\t\t匿名取引で相手が分からない、確認できないパターン→CSで既存オーナー連絡を取る\n\t採用進めたい\n\t\tSirius対応しきれない\n\n# Joker 2019.04.23 進捗共有\ncreated_at:Mon Jan 19 1970 09:13:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:14:44 GMT+0900 (日本標準時)\nJoker 2019.04.23 進捗共有\n\n\t「全裸であく」「解施錠をトリガーにして別のことをやる（電気つける、とか）」は、アピールとしてはちょっと弱いのでは？\n\t\t生体認証つけたりモニターつけたり（もしくは連携したり）して3〜4万円になって、買うか？\n\t\t\tといわれたら、おそらく買わないだろう。\n\t\t「100%ハンズフリー」も「新しい役割」も、新たな体験としてはどちらも弱い\n\t\t\t「何かひとつでかい幹になるものがドカンとあって、それに付随する別の体験」とかであれば、話はわかる\n\t\t\t全裸解施錠を幹にしても良い。良いが、少し弱いと思う（高橋さん）\n\n\t「SL2の後継機」の位置付けであれば、もっとでかい差がないと「別にSL2でええやん」ってなる\n\n--\nいったん全部仕切り直して考える\n\tQrioKeyを拡張する方法、とか、別の視点でも検討する\n\n一言のセールストークを考えてみる\n\t「〜〜ができるスマートロックです！買ってください！」と言えるか\n\nカギというか、玄関周りの体験？とか\n\n\nなんかSlackのやりとりのほうが空気感とかは伝わる気がするので詳細はそっち見てください\nhttps://qrioinc.slack.com/archives/CFGV4KLTC/p1555989633025500\n\n# Castle Berta\ncreated_at:Mon Jan 19 1970 08:21:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:14:40 GMT+0900 (日本標準時)\nCastle Berta\n4月までに対応しないとやばそうな権限・セキュリティ・仕様まわりの整理整頓\n[https://gyazo.com/4325845ac80682250f0938ba56592960]\n\n\t電話カギ、入居用QRコードのページから認証を外しているやつを戻す\n\t建物CSVアップロード機能を付け足す\n\t入居・退室時のリハッシュ、ログ消去コマンド送信\n\tファミリーキー発行ボタンと入居モード変更の権限まわり\n\t\t入居モードにできるのはマネージャーだけ\n\t\tモード切り替えタブごと殺してオペレーター排除しておく\n\tバリデーション、文字列の長さとか決める\n\tフロント側のエラーハンドリング\n\t\t画面が真っ白〜みたいなケースだけでも潰す\n \tNot Found / Error の2パターンくらいは出せるようにする\n `Qrio Roomon`  以外の表記ゆれを根絶\n BCU印刷まわり\n\n[*** 見積もり　14日]\n終わったやつから消していきまし [tottokotkd.icon]\n\t[- 認証の修正　一瞬] \n\t[- 建物CSV　2日]\n \t[- リハッシュ・ログ消去　実装そのものは1日]\n\t[- タブの権限修正　0.5日]\n\t[- バリデーション　8日]\n\t\tUI 3日 [narico.icon]\n\t\tAPI\t0.5日 [tottokotkd.icon]\n\t\t\tまず「どこにバリデーションあるんだ」という洗い出しから、データベースの再設計まで\n\t\t\tサーバー側で落として「エラー！」みたいな表示をするだけでも5日はほしい\t\n\tNot Found / Error 画面UI　2日\n\t\tUI\t\t1日　[narico.icon]\n\t\t実装\t1日\n　\t[- 表記ゆれを根絶　1日　[narico.icon]]\n　\t\t[- Roomo => Roomon]\n　\t\t[- 一時キー => 電話カギ]\n\t[- 利用規約の差し替え]\n\n##Castle\n\n[##Castle 未解決・対応中の項目管理]\nこちらに進捗を移行しました [narico.icon]\n[yamada.icon] 了解です\n\n\n# yamada\ncreated_at:Mon Jan 19 1970 09:14:40 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:14:40 GMT+0900 (日本標準時)\nyamada\n[https://gyazo.com/6a5e37e69fd8e96c55bd00f14f7e9a6a]\n\n# ロフト浅見さん電話共有\ncreated_at:Mon Jan 19 1970 09:13:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:13:33 GMT+0900 (日本標準時)\nロフト浅見さん電話共有\n\t[loftwork.icon]まずvueエンジニアのアサインが厳しそう、会社としてもあまり知見がない\n\t[loftwork.icon]マークアップまでやって納品はどうかしら？\n\t [narico.icon] んーそれだとあんまり意味ないんですよねー\n\t　[loftwork.icon]ですよねー\n\t[loftwork.icon]遷移設計周りのブラッシュアップ、UIガイドラインまでやって納品はどうかしら？\n\t\t[narico.icon] それを元にQrioでUIデザイン・マークアップ・フロントをアサインした方が割り切りが良い感はありますね\n\t\t[loftwork.icon]しかし時間的な制約がある\n\t\t\t要件定義、遷移設計、デザイン起こすのにだいたい2ヶ月くらい要する\n\t\t\tそこからマークアップと実装となるとQrioさん的に厳しいと思うのです\n\t\t\tとりあえずスタートを優先するのであればQrioから直アサインの方がご迷惑にならないかも\n\t[loftwork.icon] 管理画面周りは正直厳しい判断なのでLP周りをお手伝いする方向でどうか？\n\t\t[narico.icon] 時間的にも予算的にも優先順位は管理画面だが、そちらも今後やりたい気持ちはアリマス\n\t\t[narico.icon] サービス全体ののデザインが管理画面に反映されている方がデザインとしても理想\n\t\t[narico.icon] サービス立ち上がった後のPDCAなどはご一緒できると嬉しい\n\n\t[narico.icon] 一旦これら共有の上、またご連絡します\n\n\n# Hub 4M 2019/4/23\ncreated_at:Mon Jan 19 1970 09:13:28 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:13:32 GMT+0900 (日本標準時)\nHub 4M 2019/4/23\n[*** 参加者]\ntakeuchi、ryo、ymtk、narico\n楢原、大西、光石、椛沢\n\n前回\n[Hub 4M 2019/4/9]\n\n[** 議事]\n各セクションの進捗、課題\n\tESP32にします！\n\t一次試作に向けてソフトウェア7月までに間に合うかどうか\n\t\t竹内さん頑張る\n\n[** 進捗]\n\tメカ\n\t\t手造り試作。押し感良好。おってQrio確認\n\t\tボタン上からの100ml水かけ、基準上NGだがQ-H1よりは侵入する水は少ない。\n\t\tボタンの押し感はQrio確認なく進めてもらう。\n\t電気\n\t\t進行中。ピン配置を電気で決めてFW確認。\n\tFW / takeuchi\n\t\t変更前モジュールの要素検討\n\t\t\t中止\n\t\tESP32の要素検討\n\t\t\t電波確認GOOD！現行より安定\n\t\t\t5中くらいまでには完了予定\n\t\t\t\t質問あれば緑屋さんへ\n\t包装\n\t\tQrio内での方向性確定\n\t\t\t一体型\n\t\tvoidシールも営業確認OK\n\t\tマスター入数回答する[ymtk.icon]\n\t取説\n\t\tGW明けから進行。IMIS、品質ボトム with 楢原さん\n\t品質ボトム\n\t\t楢原さん達と一度30分ほど確認する\n\tアプリ、サーバー\n\t\tなし\n\n[** その他]\n\t\t\n\n# loftwork\ncreated_at:Mon Jan 19 1970 09:13:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:13:30 GMT+0900 (日本標準時)\nloftwork\n[https://gyazo.com/eee6f0257d425ff5102158a9d58e4ff9]\n\n# Dev MTG 2019/4/23\ncreated_at:Mon Jan 19 1970 09:13:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:13:22 GMT+0900 (日本標準時)\nDev MTG 2019/4/23\n[https://tk.ismcdn.jp/mwimgs/3/7/1140/img_3770f2db35dd9996ccfc834d6ac772dd254338.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t[**** GW期間中の連絡体制について]\n\t\t1次受けは深澤やります\n\t\t(極力連絡しないように努めますが)Slackのメンションは受けれる状態にしてください\n\t\t(海外旅行などで)Slackで連絡取れない状況になる方が居ましたら事前に教えてください\n\t\t\tだれがどれやるか？\n\t\t\t\tking, SL1: fukazawa, ymtk\n\t\t\t\ttag, ke-hi: 山川\n\t\t\t\tcastle: ymtk\n\t\t\tやばかったら、いつもどおりemergencyに報告する\n\tWantedlyで正社員募集中\n\t\t優先度はサーバー＝フロント＞アプリ\n\t2019年度の優先順位\n\t\thttps://docs.google.com/spreadsheets/d/1inrorhlko8m-jQQG0SKxpvYefI88obFRSdwsrJW-H-E\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 令和にもなるので(コーポレートサイトの)静的ファイルをS3移行してそろそろLB挟みます\n \tまだ着手できてない。マネージャーの仕事とCastleの実装先にやってます(4/23)[ymtk.icon]\n \tこの辺見る https://php-java.com/archives/2228\n \t\t記事に紐づいた画像ファイル等が静的ファイルであるゆえに外に出さないとスケールできない\n \t\tなるほど\n \t\twordpressの静的化ではない!\n \t5/7  朝に放送される「おはよう日本」の対応（Castle）\n\n[*** 各PJ]\n[** Avis（ymtk、深澤）[進捗なし]]\n\t検討中案件\n  Key-PF\n   前提条件取っ払いtobeでサービス構想するが、4月から関係者ヒアリングして要求モデル化する\n   IOのカメラapi検証始めたい→4月以降\n    解施錠したらIOのapiを叩きに行きたいので、通知に近い感覚\n  OYO\n   5月までpend\n    OYO向けに通知と合カギのapiを公開する予定\n    通知はいつもの（somcなどでやっているパターン）を想定だが、avisもあるので汎用的なものにしておきたいところ。\n\n[** Joker (ymtk、深澤、竹内)]\n\t今月中にコンセプト固める\n\t\t市川さん、鈴木さんを中心に検討中\n\t\t\tこのあと、進捗を高橋さんに共有予定\n\t\t基礎研究稟議はGWあけに取ります[ymtk.icon]\n\n[** Castle (山川、三上)]\n\tWebアプリ(なりこさん、三上さん)\n  なりさん\n  \tgoogle tag manager (分析系ツール)の導入\n  三上さん\n  \tテーブル変更のPRだん\n  \tフィードバックうけて修正だん\n  \tハブの死活の仕様きめていく\n  ymtk[ymtk.icon]\n  \t不具合対応一次受けやってます\n  \tnpmパッケージは毎週上げていきます\n  \t明日もリリースします\n\tBCU iOS(ひろさん)\n  iOSアプリ実装中。審査１回目通りました\n[Castle 週定例 2019/4/16]\n\n[** Sirius (ymtkさん, kmiさん)]\n\tapiサーバ立てました（privateから出したので[*** 安い]）\n\t\thttps://sl2-sirius-demo-staging.herokuapp.com/\n\tmockはこちら。\n  https://sirius-console-mock-staging.herokuapp.com\n\t管理ツール（ユーザー登録可能）\n  https://sirius-admin-console-staging.herokuapp.com/login\n\tBCUは5月から着手。android→iOSの順\n  リリース時期(7月 or 8月)調整中。\n  4月中に変更分の画面設計を準備する\n\tLoftWorkとmtg待ち\n\t駒井さん、参戦\n\t\t今週金曜にtopazさん入れてsyncリベンジ！\n\n\t切り離した方がいいのでは説\n\t\t切り離す！\n\tアカウント体系が別だから\n\t1リポジトリ1DB2サービスになってる\n\t\t別サービス or 拡張\n\n[** King]\n[* スマートスピーカー (ymtk)]\n\tAmazon Alexa\n  Hubのpresenceまわり\n   WWA周りでAmazonと引き続き調整中[ymtk.icon]\n   kmiさんにロックの状態確認（生きてる・死んでる＆解錠・施錠）api作って頂いてます。でき次第、１週間ほど状態確認の成功率見ていきます。\n\n[* API (駒井)]\n\tOYOに今の通知の仕組みをそのまま出すか\n  5月までに検討\n  スマスピ3種、Castle、SOMCですでに5つ、汎用化したい\n\tロックを解錠したらカメラ撮る、のようなことを今後検討する(WebHook)\n 汎用化に向けてAPI追加、整理\n  Akerun、SesameのAPIを参考に検討中\n  汎用化の構想について、今週こそymtkさん、深澤とシンクする(sync, not think?)\n APIドキュメントのメンテ中\n　 https://staging-king-api-document.herokuapp.com/\n\n[* OYO界隈(ymtk)]\n\t高橋さん、コウキチさんから相談受けている状態\n\t量販店がSBに商流変更となったので、その流れでQrio with SB→OYOでの営業ラインができた\n\tOYO最新の要望と規模\n\t\tOYOアプリでの解施錠\n\t\t\tHub api経由で行ける\n\t\t\tが、何千個のロックをCUで登録管理やるのかというと厳しそう。CastleのBCUの方が運用に乗る\n\t\t\t\tそもそもロックが物理的に存在しなくても、登録フローを変更すれば、データ上でオーナー登録が完結する仕組みにできるような設計になっている（DB上にデコードがあれば使えるようになるので、DBにInsertするだけで登録作業は終わる）ので、CUを使う必要性はない。Castleも同じ話。[takeuchi.icon]\n\t\t\t\tキャリブレーション用のキーをつくって、設置は別途、設置業者にそのキーを渡して作業させることもできる[takeuchi.icon]\n\t\t\t\t[** OYO用のCastleミラーが必要になり得る（機能同じ）]\n   \t\t環境変数でCastleと別マスターアカウントに紐付ける。そのアカウントでHub apiを使ってもらう\n\t\t電話解施錠\n\t\t\tapi経由の希望はもらっているが、どうしてもであればCastle使ってくれと言うつもり。twillio要素が多いのでQrioからは提供したくない想定\n\t\t\t\tKing APIにはその機能はない[takeuchi.icon]\n\t\t\t\tCastleを使うならそれでよい。Castleを使わないのであれば、電話解施錠はOYOに作ってもらい、それ経由でKing APIを叩くのがよい。Castleはバックドアを持っていない[takeuchi.icon]\n\t\t\t\t\tCastleを使うと、OYO用にmaster_keyをこしらえる必要がありそう？Castle依存になる\n\t\t\t\t\t\tCU使う前提だと、OYO用にmaster_keyは分けないといけない\n\t\t\t\t\t\tKingAPIをOYO様キーで使いたい\n\t\t\t\t\t\t\tCastle使うなら、KingAPIは叩けない（両立しない。Castle用master_keyでKingAPIを叩いてはいけない）\n\t\t\t\t\tCastleを使わないなら、キャリブレーション用キーをつくるアプリ用SDKか、もしくはキャリブレーション用アプリが必要になる\n\t\t\t\t\t\t無条件に任意のロックのキャリブレーションができるとしても、誰も得しない[takeuchi.icon]\n\t\t\t\t\t\tちょっと三上、ふかざわで話したいです\n\t\t\t\t CastleはSingle Masterで運用する。OYOはKingAPIを叩く人で、Single MasterかMulti Masterかわからない[takeuchi.icon]\n\t\t\t\t \t登録: 実装すればいい話\n\t\t\t\t \tキャリブレーション: 仕組みはあるが、実装をどうするか？\n\t\t\t\t \t\t設置業者がつかうので、キャリブレーションキーをもらう口さえ作れば、UIはそれっぽかったらよい\n\t\t\t\t \t\t専用アカウントもいらないが、お客さんに求められるかも？交渉次第\n\t\t\t\t \t\tなぜBCUが必要だったか、仕様含めておききしたい所存\n\t\t\t\t \t\tBCUはログインがテンポラリ\n\t\t\t\t \t\tキャリブレーションのログインにテンポラリのQR\n\t\t\t\t \t\tすぐできるんならやればよい、すぐできる???\n\t\t\t\t\t\t\tKingにキャリブレーション用ユーザーを作る仕組みを作れば楽\n\t\t\t\t\t\t\t\tOYOはMulti Master -> キャリブレーション用キーはOYOが発行する\n\t\t\t\t\t\t\t\tキャリブレーション用キーは時限式だが、キーの管理もOYOがやる\n\t\tOYO管理画面からの合カギ管理\n\t\t\tHub api経由での解施錠は自由として、OYO側のアプリケーションでよしなに権限作ってもらえば良い\n\t\t\tOYOアプリでの解施錠がある時点で従来のファミリーキー、ゲストキーの仕組みは厳しい\n\t\tイニシャル5,000台 x 月額¥800 = ¥400万/月\n\t\t\tインドと交渉する上で、¥350(Castle最初の提示額)じゃないよというサクッとした説明が欲しそう\n\t\t\t\tOYO専用プライベートクラウドだから &  あと適当な何か･･･？\n\t\t\tざっくりミラーアプリ原価\n\t\t\t\tDyno Ps(unit5) x 2(api) x 2 (view) = 20 => 12万/月\n\t\t\t\tDB(Pm 300) => 5万/月\n\t\t\t\taddon含めて20万/月\n\t\t\t\tイニシャル対応2w => 50万程度\n\n[* CU (深澤、竹内)]\n工場出荷状態のハブをKing CUで登録しようとすると、登録できない問題\n\t調査中\n\n[* Hub (竹内)]\n先週、入居済みの部屋にRoomonのハブを設置したが、ハブのFWがstgになってしまっている（2件？）\n\t原因はCastle BCUのバグで、コードは修正済み\n\t暫定対策として、AWS S3のstg用ハブのバイナリを、一時的に本番用のものに置き換えている\n\t\tqb-setupアプリを使うか、ハブのボタンを15秒長押しして強制アップデートをかければ解決する\n\t\t関さんには情報共有済み\n\t\t近日中に、エンジニアが現場まで訪問予定\n\t\t作業が終わったら、AWS S3環境を元に戻す予定\n\n[* Guardian (竹内)]\nSDK問題\n\tAU-CU345 (Marvell, Dialog, Azurewave)\n\t\t先週金曜日に、楢原さんからマクニカに取りやめの連絡済み\n\tESP32\n\t\tモデルルームでWi-Fiの電波測定を行った\n\t\t\t結果、電波の飛びはMarvellモジュールよりもよかった\n\t\tESP32実装中\n\n[* Guardian 製造・制作系 (ymtk)]\n 梱包は120円ほどになる予定（今の半分以下）[ymtk.icon]\n 取説はGW以降にやります with narahara san\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Q-SL1 CU iOS版 SDKアップデート、ハブ登録問題\n  [* ビックカメラ販売分(150セット)のHubが既にSL2用FWになっていたため、即時リリースが必須な状況]\n  スケジュール\n  \t〜4/30\tビルド通す、正常系確認\n  \t〜5/6\tSuper Retina Display対応、Hub(SL2用FW)対応\n  \t5/7〜\tSQA、随時Apple審査\n  \t\t破壊的な変更多数のため、フル検証必須\n  \t\t多分ここから竹内さんに手伝ってもらう\n  \t5月下旬\tリリース\n\n Q-SL1サーバ落ち対応（ymtk）\n  クエリが詰まった？様子見。\n  AWS RDSエンジンのパッチを当てる→ymtkさん\n  \t毎週1個ずつ当ててます。stg→prodの順\n  \tあと2、3週ぐらい\n\nQ-SL1のDBがauroraのr3.xlargeになってる\n なぜオーロラ(マルチAZ)かというと、丸山さんがフェイルオーバーしたかった\n  オーロラはシングルでもFOします(ただし時間が違う)\n  パッチをあててから\n  たぶんダウンサイズ\n  シングルにするかどうかは要検討\n\n[** 月額ただいまキット (チャン)]\n 2ヶ月無料キャンペーンのクローズ完了\n\n[** FAIT対応 (チャン、竹内さん) [進捗なし]]\n 直したら、N+1問題になったんで直し中\n \t魔改造のクソクエリを書いたので、近くデプロイ予定\n\tfait関連のSlackチャンネルはアーカイブしました。もう関わり合いたくない。\n\n[** 情報システム (チャン)]\n 社内DNS設定。AkamaiのETP導入\n  気が向いたらやる。とてもめんどう -> ほんとにそろそろやる。毎月お金払ってるし。\n QrioAirの新AP設置\n \tWLX313を設置。WLX402とブリッジしているので、トータル5GHz帯150端末、2.4GHz帯100端末が接続可能。たぶんしばらく大丈夫。\n\n[** QaaS(チャン)]\n 進捗なし\n\n[** CSへのテクニカルサポート(チャン)]\n redash をGCPに設置して試すことになった。\n CSが電話対応する際に、Wi-Fiだと不安定なので有線化する。\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** 健忘録]\n\tなし\n\n# Castle 週定例 2019/4/23\ncreated_at:Mon Jan 19 1970 09:03:09 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:13:18 GMT+0900 (日本標準時)\nCastle 週定例 2019/4/23\n[https://gyazo.com/70b3557d60831ab8ecc8c3865101428d]\n\n先週分\n[Castle 週定例 2019/4/16]\n\n来週分\n[Castle 週定例 2019/5/7]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n---先週のコピー--\n[narico.icon]\n\tv: ヘルプのリンク直す\n\tv: ページャー改行直す\n\tv: formrun にGWの表記入れた\n\tv: gtmいれたが、URIフィルタリングがうまく設定できてないので見直す\n\t\tうまくいかーぬ\n\t\t[https://gyazo.com/fbfee305177942c4187d3f8ebff3304b]\n\t\t[https://gyazo.com/3a730a9f7a7030280677f384a834aa54]\n\t\t\tregexp案件なので[hazimetyan.icon]に助けを呼びましょう[ymtk.icon]\n\tv: 部屋の名前変えるのを練習的にやってみらできたけど\n\t\tそもそも部屋の名前編集できていいんだっけっていう仕様\n\t\t\tslackでも書きましたが、削除機能もないので編集できて良いです。\n\t\t\t名前を変えると今は履歴が書き換わってしまっていまうので、このあとに履歴に room_name カラムつくって記録できるようにします[ymtk.icon]\n\t\t\t\t変えられるもの、消える物はこの時点のnameを持っておく。userも同じ。companyも同じ。この時、本当はAさんが操作した事件案件があるとして、Aさんのアカウントが消えちゃうと遡れない。「削除されたユーザー」しか出せない。会社を削除されるとその会社が追えない。\n\t\t\t\t[* audit_logのテーブル変更が必要。]\n\t\t\t\t\t外部キーベースではなくスナップショット\n\t\t\t\t例えば名前をAAAからBBBに変えたとして　[narico.icon]\n\t\t\t\t\t過去の履歴にはAAAと表示されていてAAAのリンクを踏むと部屋詳細にはBBBと表示される\n\t\t\t\t\tユーザーとしてはあれ？ってならない？っていう\n\t\t\t山田さん曰く名前変えられたら困るって言ってた、なんでだったか忘れたけど確か上のような事だったかも。\n\n\n\n\n[h.yamaguchi.icon]\nbcu-iOS\nスケジュール →  [King BCU iOS 見積もり]\n\tv: 設定系の画面とロジック\n\tv: 仮申請\n\t\t無事通過しました！関係者の皆さまありがとうございます！[h.yamaguchi.icon][+1.icon][+1.icon][+1.icon]\n\tvo: エラー処理\n\to: ロックのFWアップデート\n\t!: エラー処理の部分が大変そう。工数かかりそう。\n\t 佐藤さんと契約するのはアリ?\n\n[ymtk.icon]\n\tv: 適宜不具合対応。apiとconsoleの切り分けなど油断ならぬ。\n\tv: 今週リリース分の対応\n\t\tnpm update(api、console)\n\t\tnew relic導入(api)\n\t\t500エラーペーシ不親切対応(console)\n\to: エラーメッセージ系これから\n\t!: おとなしくtag欄に書いた方が楽だなと思いましたリリースノート。コミットしなくていいですし。\n\t\tcastle\n\t\t\thttps://github.com/qrioinc/castle-console/blob/master/CHANGELOG.md\n\t\tking-app\n\t\t\thttps://github.com/qrioinc/smartlock-king-cu-ios/releases\n\t\t\t\t[[CHANGELOGは、PullReqで編集する。Deploy時には編集しない。Deploy時にはタグにコメントを入れる]]\n\t!: ここ1ヶ月くらいのリリース内容明らかにしたい\n\t!: テスト直してCIへ。GW中かな･･･\n\t\t協力します[h.yamaguchi.icon]\n\t\tこれHeroku CI? Circle CI? \n\t\t現状は何もない\n\n[hazimetyan.icon]\n v: castle-api の動作確認\n v: 水曜日にcastle api/console の本番反映\n o: castle api / console のコード確認\n \t終わったら audit_log 界隈か、会社別件数集計をお願いしたいです[ymtk.icon]\n !: ローカルで動作させるのが結構たいへん\n \tkehi-api / castle-api を共存させるのが難しい\n\n[mikamix.icon]\n v: オートロック部分の実装した\n  v: PR出したがWIP(たぶん若干要修正)\n  o: 今週中に修正終わらせたい\n  !: なぜDIっぽいことしてるか -> 後を考えて\n  !: DIはrepositoryだけ?\n  !: tsでDIすべきか論\n v: Postmanの[* オートロック連続失敗]リクエスト生成\n  o: バッテリー残量のリクエスト生成\n o: alertのGraphQL\n o: consoleのルーム名変更\n  簡単だから\n  できれば4月中に終わらせたいので\n o: バッテリー残量低下のアラート\n o: 論理削除の背景を聞く -> 今週中にマスト\n !: alertとuser_alertの仕様というかコンセンサスをとっておきたい\n  alertはログから生成\n  alertはresolvedがある\n  alertは消えない\n  user_alertは?\n  \tgithubのwatch的なやり方でもいいよねと言う話[ymtk.icon]\n  \tあるいはブラックリスト、オプトアウト\n  \t\tunwatch押すパターン。最初は要らないよね[ymtk.icon]\n  \t他にあるとすれば、本社から支社アラートが多く見えすぎて辛いケース[ymtk.icon]\n  生成タイミングがalertできるときなので、その後に追加されたユーザーには生えないがよいか? -> たぶん大丈夫\n  アラート周りを整理したい\n  たぶんuser_alert不要\n o: ディレクトリ分割\n  entitiy, repository, (domain)が並列\n  app, log, tel, (web)が並列\n  lib/random.ts がたぶん不要\n  status.tsいる?\n !: QRコードって何でしたっけ?\n \t2種類あります。[ymtk.icon]\n \t\tBCUのアカウント受け渡し用\n \t\t\t中身はid, pw -> BCUのid/pass\n \t\tファミリーキーの受け渡し用\n \t\t\t中身はアプリインストール先URLとファミリーキーのコードをFirebaseでよしなに結合した物\n !: Castle の文脈で限れば、CUは登場しない\n !: twilioから呼ばれるのは、castle-api\n\n[*** ##KPT]\n[*** よかったこと、続けていくこと]\n[mikamix.icon]\necr必要 -> kingを使うのなら必要\nブランチ運用は?\n\n[*** 課題感、やってみること]\n\n##Castle #定例\n# Joker 定例 2019.04.22\ncreated_at:Mon Jan 19 1970 09:11:44 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:11:46 GMT+0900 (日本標準時)\nJoker 定例 2019.04.22\n前回\n[Joker 定例 2019.04.19]\n\n「外出帰宅判断」は手段　個人の識別も手段\n[* 結局これを使ってなにをしたいのか？]を洗い出すべき\n\n\n外出\n\t家に誰もいなくなったら、電気とか音楽とか消してほしい\n\t\t家を出るとき、そのまま出たら勝手に消える -> しなくていいUX\n\n帰宅\n\t家についたら、それが一人目だったとき、いろいろつけてほしい\n\t\t一人目かどうかの判別は、技術的にはむずかしいかもしれないが、できたらいいね\n\t\t\tもしかしたら実現できるかもしれないので、のちのち検討\n\t\t\t\tAvisでは必須？\n\n「外出・帰宅時にドアを開ける」動作がトリガーとなって、解施錠以外の何かしらの役割？につながる、ということ\n\t外出時\n\t\t忘れ物のお知らせ（タグみたいなものと連携する）\n\t\t電気、TVが消える\n\t\tXperia Helloよろしく時間や天気が表示される\n\t帰宅時\n\t\t電気、TVがつく\n\t\t宅配ポストに荷物入ってますよ通知\n\n\n--\n明日、高橋さんに共有する\n金曜フィードバック\n\n\n# Joker 定例 2019.04.19\ncreated_at:Mon Jan 19 1970 09:07:24 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:11:44 GMT+0900 (日本標準時)\nJoker 定例 2019.04.19\n## 仮日程\n4,5,6：わかるペインのプロトタイプとこちらがお願いした内容をQBSが検証してくれる\n7〜12：本格的にやるなら\n本設計とか量産に近いかたちで\n10月にはイメージできている\n1〜3：コンセプトモデルくらいにはなっている\n4〜半年〜1年：量産設計出す\n\n2020年に出すとしたら、短いのでは？[takeuchi.icon]\n\t開発期間は、要件全部固まってから1年くらい\n\t\t実際やるとなったら影響範囲広いですからね。カギカン2、roomon、既存アプリ＆サーバ、Hub、Key。これらの検証も必要[ymtk.icon]\n\t\toh 確かに広いですね。。[takeuchi.icon]\n\n\n来週火曜に、高橋さんに「今こんな感じです」と共有する\n\tOKであれば、決まっているところから楢原さん経由でQBSにinputする\n\t役員も通す[ichikawa.icon]\n\t\n\n## コンセプト資料コメント\n### 人を識別するカギ\n\t入れる人・入れない人の識別は「住人・それ以外」にしぼったほうが、セキュリティの面からも簡単\n\t生体認証 -> 「個人を識別する方法のうち、もっともユーザーが何もしなくてよい方法」\n\t\tなので、ユーザーの負担が軽くなれば生体認証にこだわる必要はない\n\t\t\tなんかデバイスを持たせておく、とかでもいいかもしれん[takeuchi.icon]\n\t\t\t顔や網膜だとユーザー体感が1ステップ遅れる気もする\n\t\t\t\tこの辺がクリアできるならアリかもしれんが、モーター回転速度も含めてspeed upが必要\n\n### カギの解施錠　+　さらに役割を与える\n\tQ-SL3自体に、鍵の解施錠以外の役割を与えるのは、ちょっと違うのでは？[takeuchi.icon]\n\t\t想定する世界観は、「スマートホームのスマートな暮らし」であって、Q-SL3はその一部として貢献する、って感じ？\n\t\t\t-> 手段の話になっている　ここでは世界観だけ伝えればいったんはよい\n\n\n## ブレスト結果から機能を抽出する\n\t肉うまかった眠くなった[takeuchi.icon]\n　\tまゆしさん戻ったあとデザートでてきた[ichikawa.icon]\n　\t\tそして誰も手をつけず、店員に回収された[takeuchi.icon]\n　\t\t無念[ichikawa.icon]\n\t\t\t\t食えよ〜〜[m.suzuki.icon]\n\n### あったら良さそうな機能\n\n### 必要そうな機能\n#### 99.9%の成功率、最強ハンズフリー\n\tノブを握るとカギ開く[m.suzuki.icon]\n\t\t透明フィルムをドアノブに貼り、触れたら解錠[m.suzuki.icon]\n　　　ドアの外側は目立たないやつ希望[ichikawa.icon]\n\n\n#### 人を識別するカギ\n　合カギ登録（生体認証ver）もスマホでできる\n\tNFC搭載して、CUを開いた状態のスマホにタッチするだけで、それが合鍵になる、とか？[takeuchi.icon]\n\t\tハンズフリートリガー用のデバイス（= 合カギ）を渡す前提の話です\n\t\tなし\n\t共連れもしりたい[ichikawa.icon]\n\t\tカメラであればできそう\n\t\t玄関の外にデバイスをつけるのは、法律に引っかかるリスクあるかも\n\n\n#### 外出 / 帰宅を識別するカギ\nドアの内外を区別・判断する\n\t(Just Idea) 少なくともドアノブの内側に圧電センサーがついていれば、ドアを開けたのが外側からか内側からかは分かる[takeuchi.icon]\n\t\tロック本体のサムターン上に近接センサーつけるとか[fukazawa.icon]\n\t\tサムターンそのものに\n\t\t\t圧電センサーつけるとか[takeuchi.icon]\n  \t指紋センサーつけるとか[fukazawa.icon]\n\t\tトリガーの信頼性がほしい\n\t\t\t人感センサーだと誤動作が懸念される\n\t\t\t顔認証は精度あんまり高くない、かも\n\t\t\t音声認証はリスクがありすぎる\n\t\t\t指紋認証はそこそこ精度高い\n\t\t別パーツだと設置などややこしい[fukazawa.icon]\n\n\n\t外出時、忘れ物を教えてくれる[ichikawa.icon]\n\t外出時\n\n\n\n\n出る用途にあわせてオートロック[takeuchi.icon]\n\tオートロック関連でQBSにインプットする必要があれば確認しときたいかも[takeuchi.icon]\n\t\tまあHW的にはそんなにないんかな[takeuchi.icon]\n\n####  運用\n##### ロックの形状\nできればSmart Lockつけたくない　じゃま　くみこみ\n\tドア一体型はまだきびしいので、じゃまにならないような形状（小型化を含む）を考えてみるのはアリなきがする[takeuchi.icon]\n\t\tまずは、そもそも実際ジャマになっているかどうか。ジャマになってないなら意味ない\n\nドアの形かんけいなく使える[takeuchi.icon]\n\tなぜ取り付けられないのか調べる[takeuchi.icon]\n\nドア状態もアプリでわかる[takeuchi.icon]\n\tこれはドアが開きっぱなしだったら通知するとか、そういうたぐいの話？[takeuchi.icon]\n\t手動解施錠も誰かわかる\n\t\tリアルタイムで知りたいのか、あとで履歴みて確認したいのか、需要があるとしたらどっちなんでしょうね？[takeuchi.icon]\n\t\t不在サービスとかで住人以外が手動で解施錠することも考えると、どっちも、になるか[takeuchi.icon]\n\t廉価版、一般版\n\t組み込みノブごとスマートロック[takeuchi.icon]\n\t\tスマートドア？\n\n##### 電池不要\n無線充電が実用化されないと、ロック本体の電池不要化はきびしい[takeuchi.icon]\n\tロックとハブを一体化してsim積むなら、電池消耗が激しくなるため、無線充電のメリットが活きる\n\tそうでないなら（電池交換が半年とか1年に1回で済むなら）あんまりメリットは活きない\n\n\n#### その他\n防水[takeuchi.icon]\n\t需要があれば。。[takeuchi.icon]\n\n\n--------------------\n\n解錠のトリガー方法もいったん整理した[takeuchi.icon]\n\ntable:解錠のトリガー方法\n 携帯デバイス\tアクション\t例\tユーザーメリット\tユーザーデメリット\n -\t-\t人感センサー\t楽\t誤動作\n -\t必要\tドアノブのボタン、フィルム、生体認証\t確実\t設置しづらい\n 必要\t-\tウェアラブル、カード型\t（確実にしたい）\t取り扱いが面倒（充電）\n 必要\t必要\t現行QrioKeyのボタン、ウェアラブル\t確実\t取り扱いが面倒（充電）\n\nユーザーメリット・デメリットのほか、他の運用とか？のpros/consも考える必要あり[takeuchi.icon]\n\n## QBSへのインプット候補\n###  理想（やりたいこと）\n#### 全裸でも開く\n#### 人を簡単に識別できる\n#### スムーズにドアを開けられる\n#### いかなる状況でも成立する（100%成功する）\n#### 落ちない\n#### 電池切れの心配がない\n\nぱっと出てくるのは、生体認証\n\tネックになっているのは解錠スピードなので、そこをどれだけ速められるか\n\t従来のハンズフリーの完全上位互換ではない。ので選択肢の一つとして提供することもできる\n\t\tただし選択肢を増やしすぎるとメンテが大変。。\n\t\n\n\n-----------\n宿題\n\n「外出帰宅判断」は手段　個人の識別も手段\n[* 結局これを使ってなにをしたいのか？]を洗い出すべき\n\t洗い出すと、「外出帰宅判断」だけでは条件として不十分な可能性も高い\n\t沼になりそうな予感......[takeuchi.icon]\n\n次回\n[Joker 定例 2019.04.22]\n\n# Sirius-dev mtg 19/4/19\ncreated_at:Mon Jan 19 1970 09:07:34 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:07:35 GMT+0900 (日本標準時)\nSirius-dev mtg 19/4/19\n[*** 状況]\n[* 今週]\ntopaz2\n\t-v 登録フロー レビュー依頼 フィードバック対応\n\t-v 登録フロー\n  - モック実装、API実装、api連携\n  - 合鍵グループ登録\n  - ゲストキー登録\n\t-v Alexa WWA対応\n\t\t解施錠しなくてもロックの生き死にを問い合わせるapiについては依頼中です[ymtk.icon]\n\t-o 登録フロー レビュー依頼 フィードバック対応\n\t-o 登録フロー\n  - モック実装、API実装、api連携\n  - 合鍵グループ登録\n  - ゲストキー登録\n\t-o Alexa WWA対応\n\nymtk[ymtk.icon]\n\tv: ローカル開発環境の構築\n\tv: LFさん向け資料作成\n\tv: demo環境構築\n\to: 決済系審査\n\to: BCU進行調整\n\t!: 次週からkmiさんも定例join\n\nnarico [narico.icon]\n\tv: ロフトワークさんにフロントの件頭出し\n\t\tdemoがあるとそれを見ながら話せる\n\tv: Webサイト\n\t\thttps://drive.google.com/file/d/11aX4V9i4aZG7-DKJWioou4fvjuOc55Xe/view\n\to: メインビジュアルの撮影イメージの検討\n\t\t綺麗目なオフィススタジオをレンタル＆カメラマンアサインくらいはした方が良いか(30万〜50万)\n\t\t完全に自前で会議室で成田が撮影するか\n\t\t予算はロフトさん次第なところもある\n\t!: 管理画面のトンマナ方針について\n\t\t今のトンマナ引き継ぐかどうするか（wakatake）\n\t\t\tCUの作り（BCUのベースになっているから）についても、色は融通が利きやすい形になっている。roomonのBCUとも間違えにくい。（旧BCUと間違うのはあるけど･･･）\n\t\t\tロゴとアイコンが同じだとBCUの見分けがつかないのはCSコスト高いし、何より使いにくいのでは[ymtk.icon]\n\n\n[**  その他、TODO]ほか\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\t乗り換えのご案内方法→まだ進められていない\n\t\t要相談。電話やメールする？受け身でいる？\n\t\tWeb何か掲載するか？\n\t特定のタイミングから、カギカン1の登録動線を落とす→まだ進められていない\n\t\t他、プラン変更周り（ロック増やすのはダメ、キーパッド欲しいのもダメ）\n\n[** ymtkからのお願いとかご相談ほか][ymtk.icon]\n\tロゴとアイコンどうするか。今のままか。\n\t\t旧BCUと新BCUの違いがわかりづらくなってしまうのは避けたい\n\t\t\t微妙にブラッシュアップするか。\n\t\tBiz定例で提起します[ymtk.icon]\n\tみんな　なかよく\n\t\t揉めたら入ります\n\n[** その他気になること]\n\tSQAっていつから･･･？\n\t\t6月かな･･･\n\t\t\tサーバ、フロントの一部\n\t\t\t\tランクB的な部分は多く出てくる。正常系くらいが限界\n\t\t\t\t特にフロントはLWさんが動いている最中なので、中旬以降メド\n\t\t\tBCU(android)は全て\n\n\n\n# Joker 2019.04.18\ncreated_at:Mon Jan 19 1970 09:06:01 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:07:20 GMT+0900 (日本標準時)\nJoker 2019.04.18\n\n2〜3年先の未来からbreak downして考えてみる\n\n 扉という概念はなにか?\n \tプライベートな空間を仕切るものなのか? -> そもそもそれは必要なのか。 -> 公開できる情報だけで生活していれば、仕切りは不要になる。\n \t\t公開できる情報だけで生活できるのか? -> あなたの生活はすでに誰かにすべて見られているかもしれない。\n \t\t\n\n合カギについて\n\t入れたい人、入れたくない人を、オーナーが意識しなくても認識できるようにしたい\n\t\tそれは「察してやる」にはむずかしい\n\t権限割り当てを最適化できるか？\n\t\t認識する技術レベルを考えると、「同居人かそれ以外か」で識別する方が簡単\n \t\t「不在サービスの人に一時的に開けさせる」などは、技術的にも安全性の担保がむずかしく、需要もなさそう\n\t個人を識別できるか？\n\t\t可　FaceIDなどを使えばできる\n\t\t\t個人の識別方法を「生体認証」「特定のデバイスを持たせる」の2通りにわけたとき、権限割り当ての最適化が「住人/それ以外」だとすると、生体認証にこだわる必要はなく、邪魔にならないデバイスを持たせておけばよいのでは\n\nたとえば\n\tドア前にカメラを固定で置いておく\n\tドアを開けた人の顔を学習して蓄積する\n\tそのうち学習するのでマッチする人がきたら自動で開く\nなど\n\n スマホで開けるよりは、デバイスを利用して開けられる方が良い\n \tQrioKey は、ウェアラブルではないので、物理鍵と同様に探さして掴まないといけない\n \t\t他のウェアラブルと併用、メガネ、腕時計、イヤホンなど、取り出し不要のデバイスで解施錠できるべき\n \t\t他のメインの用途があれば充電もし忘れないので電池の問題をあまり考えなくてよくなる\n \t\t\n\n\n\n\n\n\n\n\n# CSツールのIP制限について\ncreated_at:Mon Jan 19 1970 09:06:06 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:06:07 GMT+0900 (日本標準時)\nCSツールのIP制限について\nexpressの場合に絞って記載する。Qrioおよびピットクルー拠点の記載が基本。[ymtk.icon]\n\n1.`express-ipfilter`を追加する（npm or yarn）\n\thttps://github.com/casz/express-ipfilter\n2. app.jsに下記のように記載する（ホワイトリストがallow。ブラックリストにしたければdisallow）\ncode:app.js\n const app = express()\n const ipfilter = require('express-ipfilter').IpFilter\n require('dotenv').config()\n \n //const ips = ['127.0.0.1/24', '::1']\n const ips = process.env.IPS.split(',')\n app.use(ipfilter(ips, { mode: 'allow' }))\n\n3.環境変数を追加する（arrayは記載できないので、app.js側で対処している）\ncode:.env\n ## localhost\n IPS='127.0.0.1/24,::1'\n\n\t参考\n\t\tcastle-opeの設定\n\t\t\tQrioのみ\n\t\t\t\t39.110.207.11/24,::ffff:172.17.128.1/24\n\n[** FAQ]\n\t自宅から対応したい\n\t\t適宜IP追加してください。カンマ区切りでOKです\n\t自宅のipを入れているはずなのに確認できない\n\t\tサーバのログを確認してください。ブロックしたIPが表示されます。ログの確認が厳しい場合はymtk等にお声がけを\n\n# 技術書典6振り返り\ncreated_at:Mon Jan 19 1970 09:01:53 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:03:24 GMT+0900 (日本標準時)\n技術書典6振り返り\n[https://gyazo.com/72a936a69a4a00d62559ee1e28b8e5a7]\n\n[*** 会計報告]\n\n[*** KPT]\n\n[* Keep]\n 忙しい中しっかりアウトプットされて良いプロジェクトだった\n 良い宣伝になってる\n 1500円で73部ってすごい！！！！！[ichikawa.icon]\n 他のお店のものよりも本もブースもクオリティが高かった（それが同人誌で効果的なのかはしらない）[ichikawa.icon]\n \tこれは割とちゃんと考えないと全然売れないことになるらしい\n 次の開催でも出展して、テクノロジー好きな人に関心をもってもらう[hazimetyan.icon]\n\t文章にすることで自分の考えが整頓できてよかった[narico.icon]\n\t\t日本語がうまく？なった？なりたい\n\t\tどう書いたら伝わるか、かなり考える\n\t仕事を記事にしていくのはいいですね。理解が進む\n\t次回は自分もアウトプットするネタを用意しておきたいなー\n\tフォントとかデザインとか普段気にしない職域の人も興味を持てて良いと思う。\n\t一人、スタートアップの立ち上げで苦労した話について書いてある本はあまりないですね的な感想を述べてくださる方がいた（買ってくれた）[takeuchi.icon]\n\t使っているユーザーの生の声を聞ける機会は少ないので対話できてよかった\n\n[* Problem]\n\t電子版にペーパークラフト上げ忘れてました、すみません[m.suzuki.icon]\n\t採用情報直前でやべっつってあげた\n\tもっとみんなにタスク振ればよかった\n\t\t事前にタスクリスト作ったけど甘かった\n\t\tあんま手伝えなかった\n\t\t\t手伝えるようにすべきだった\n\t文字校正全然やる時間なかった\n\t\tデータ作る人と執筆する人は分けた方がよかった。\n\t\t差分管理どうすっかといって結局HackMDでも面倒でしたね、何かいい方法ないもんかね\n\t\t\tgithubでどうかしら[hazimetyan.icon] -> 紙に印刷してから校正するので、意味ない。\n\t\t\t勉強会行けたらよかった\n\t書いた内容についての議論は多少できたが、それがもう少し深まってもよかったのかも......？[takeuchi.icon]\n\t\tまあ専門領域もちがうし、しょうがないのか\n\t\tもっとやりたかったですね。\n\t何の本なのか分かりづらかった。テーマがあると良さそう。\n\t\t買う方からしてもフックが弱い\n\t\t\t内容なんも見ないでいきなり「下さい！」っていって買う人もいた[takeuchi.icon]\n　本体ガンガン動いてたらみんなもっと見たかも[ichikawa.icon]\n\t\tなりこさん一時的にガンガン動かしてましたが、思ったほどみてくれなかった印象がありました[takeuchi.icon]\n\t\tガーン[ichikawa.icon]\n\t\tとなりの席で実演とかやってて、そっちは人集まってみてた......[takeuchi.icon]\n\t\t\tとなりは実演ありきの同人誌で、シナジーがあったっぽい[takeuchi.icon]\n\t\t実演見てくれそうな人には実演しました[narico.icon]\n\t\tオートロックとかすごいって言ってました二、三人[narico.icon]\n\tカタログ用のサークルカットしょぼかった\n\t\t一番早く締め切りくるので書くことも決まってないことが多い\n\t\tサークルカットの内容と違ってしまっても、超ごめんなさいすればまぁ\n　一号機もあったらよかったかも（荷物多い）[ichikawa.icon]\n\t\t一号機と比較して早くなりましたよね！って言ってる人もいた\n\t\tセサミ並べてやろうかこのやろう[narico.icon]\n\t\tセサミは店頭に並ばないので実機比較できるのはユーザーからすると実用的かも\n 現地でブースと一期一会するよりも、カタログで釣れる人をもう少し取るべきだった[hazimetyan.icon]\n テーブルの賑やかしをもうちょっと減らせそう[hazimetyan.icon]\n \tちょうど良い棚がなかったので100均の材料で作ったけどちょっと厳しかった\n \tテーブルがボロくてちょっと揺れ揺れしてて不安定だった\n 売り子やってるときにもう少しこっちから話しかけた方がよかったのかな？[takeuchi.icon]\n \t見本誌どうぞーとは言ってたけど、世間話的なところはできなかった[takeuchi.icon]\n \t\t声かけたら見本誌手にとってくれる率上がった気がした\n \t\t\tそうね[narico.icon]\n \t\t\t見本誌をもっと低コストで作ってたくさん用意しておいた方がいいかも\n \t\t\t見本誌を章ごとにおいておくとわかりやすいかも\n \t\t\t\t興味を持ってくれているのが何なのかわかるので、話しかけやすい\n \t\tお祭り好きな人間が7割くらいだと思って結構強気で声かけても良さそう\n \t「やってまっせー」って声はっている人もいた\n \t\tライトにちょっと目線あった人にどぞー的な感じで言うと良いかも\n \t目が合った人はみんな離れていった。かなしかった。[ichikawa.icon]\n \t\tそれはたまたまですよ！プラシーボ効果[takeuchi.icon][narico.icon]\n\t場所あんまよくなかったみたい\n\t\t混雑している通路の方は分速5mくらいだとして、今回の場所は結構ひらけた場所だったので目に留まる確率が低い\n \t\t人が多すぎて埋もれるスルーされる[takeuchi.icon]\n \t\t\t腕の長い人が手看板もってたのは目立った[takeuchi.icon]\n \t\t\t手看板いいかもね[narico.icon]\n\n　売れるテーマみたいなのがあるのかもしれない[ichikawa.icon]\n　\tテーマ大事、なんだけど一つのテーマに絞るべきか悩む\n　\tQrio本（会社）としてのタイトルにするには会社自体の知名度がないと厳しい感じがした、例えばWantedlyとか日経\n　\t\tあの会場ではそこそこ知名度はあるかも\n　\t\tでも何をやってるかは意外と知らない\n\n[* Try]\n 次回はスケジュール確保して、余裕を持って作ったら良いかもね\n　サイボウズがエンジニア向けのダイエット本みたいなのも置いてて、目を引いてた。エンジニアの仕事関連以外のワードがあると目を引くのかもしれない。もしくは私がエンジニアじゃないから見たのかもしれない。だれかおしえて[ichikawa.icon]\n　飲み物をあげる\n 次回はわいも書く[hazimetyan.icon]\n Twitterをちゃんと使って広報すると刺さる。FBとかよりもTwitterのほうが効く[hazimetyan.icon]\n 次回はスケジュール前倒しで組む[hazimetyan.icon]\n\t 大体のスケジュール感は見えたので前倒しできるといいね\n\t \n\n\n\n\n[*** 次回に向けて？]\n\n# yuri\ncreated_at:Mon Jan 19 1970 09:03:20 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:03:21 GMT+0900 (日本標準時)\nyuri\n[https://gyazo.com/79b248c3449fcfa3075a73f8279bc1d3]\n\n\nthis is yuri’s page\n\n##member\n# Dev MTG 2019/4/16\ncreated_at:Mon Jan 19 1970 09:03:02 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:03:17 GMT+0900 (日本標準時)\nDev MTG 2019/4/16\n[https://tk.ismcdn.jp/mwimgs/3/7/1140/img_3770f2db35dd9996ccfc834d6ac772dd254338.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t開発本部の採用止めてません。ぜひご紹介ください\n  サーバー＞＞＞アプリ　即戦力募集中\n  先週に募集要項の作った　Wantedly掲載済み\n\t2019全般の優先順位決めました\n\t\thttps://docs.google.com/spreadsheets/d/1inrorhlko8m-jQQG0SKxpvYefI88obFRSdwsrJW-H-E\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n 令和にもなるので静的ファイルをS3移行してそろそろLB挟みます\n \tまだ着手できてない[ymtk.icon]\n \tこの辺見る https://php-java.com/archives/2228\n \t記事に紐づいた画像ファイル等が静的ファイルであるゆえに外に出さないとスケールできない\n \tなるほど\n \twordpressの静的化ではない!\n\n[*** 各PJ]\n[** Avis（fukazawa, ymtk）]\n\t検討中案件\n  Key-PF\n   前提条件取っ払いtobeでサービス構想するが、4月から関係者ヒアリングして要求モデル化する\n   IOのカメラapi検証始めたい→4月以降\n    解施錠したらIOのapiを叩きに行きたいので、通知に近い感覚\n  OYO\n   5月までpend\n    OYO向けに通知と合カギのapiを公開する予定\n    通知はいつもの（somcなどでやっているパターン）を想定だが、avisもあるので汎用的なものにしておきたいところ。\n\n[** Joker (ymtk、深澤)]\n\t今月中にコンセプト固める　市川さん、鈴木さんを中心に検討中\n\n[** Castle (山川、三上)]\n\tWebアプリ(なりこさん、三上さん)\n  なりさん\n  \tgoogle tag manager (分析系ツール)の導入\n  三上さん\n  \tテーブル変更のPRだん\n  \tフィードバックうけて修正だん\n  \tハブの死活の仕様きめていく\n\tBCUiOS(ひろさん)\n  iOSアプリ実装中\n[Castle 週定例 2019/4/16]\n\n[** Sirius (ymtkさん, kmiさん)]\n\tapiサーバ立てました（privateから出したので[*** 安い]）\n\t\thttps://sl2-sirius-demo-staging.herokuapp.com/\n\tmockはこちら。\n  https://sirius-console-mock-staging.herokuapp.com\n\t管理ツール（ユーザー登録可能）\n  https://sirius-admin-console-staging.herokuapp.com/login\n\tBCUは5月から着手。android→iOSの順\n  リリース時期(7月 or 8月)調整中。\n  4月中に変更分の画面設計を準備する\n\tLoftWorkと次週mtg\n\tking-api 今週prレビューの時間ください\n\t機能的には解施錠apiまでできている状態\n\t駒井さん、参戦\n\n\t切り離した方がいいのでは説\n\t\t切り離す！\n\tアカウント体系が別だから\n\t1リポジトリ1DB2サービスになってる\n\t\t別サービス or 拡張\n\n[** King]\n[* スマートスピーカー (ymtk)]\n\tAmazon Alexa\n  Hubのpresenceまわり\n   WWA周りでAmazonと引き続き調整中[ymtk.icon]\n   deepquery経由で聞かれた時に都度read statusされると普段つらい\n\n[* API (駒井)]\n\tOYOに今の通知の仕組みをそのまま出すか\n  5月までに検討\n  スマスピ3種、Castle、SOMCですでに5つ、汎用化したい\n\tロックを解錠したらカメラ撮る、のようなことを今後検討する(WebHook)\n 汎用化に向けてAPI追加、整理\n  Akerun、SesameのAPIを参考に検討中\n  汎用化の構想について、今週こそymtkさん、深澤とシンクする(sync, not think?)\n APIドキュメントのメンテ中\n　 https://staging-king-api-document.herokuapp.com/\n\n[* CU (深澤, 竹内)]\n iOS版 Siri Shortcuts対応\n  進捗なし\n Android ローカルのCredential情報が壊れてAPIアクセスできなくなる問題\n \t対応、リリース済み\n\n[* Hub (竹内) [進捗なし]]\n\n[* Guardian (竹内)]\nSDK問題\n\tAU-CU345 (Marvell, Dialog, Azurewave)\n\t\tSDKについての電話会議\n\t\t\tDialogと連絡つかないらしく、Dialog抜きでやることに\n\t\t\t会議開催の日程はまだFixしていない（近々開催予定、のはず）\n\t\t\tあと3日\n\tESP32\n\t\tこちらとしては、ESP32を推したい\n\t\t\t商社はある（ミドリヤ電気）\n\t\t\tESP32にすると、メカ、電気が大変（やりなおし？）\n\t\tフィジビリ取りつつ、現行ハブの取り込みもかねて、実装中\n\t\t\t懸念点は今のところなし\n\t\t明日、モデルルームでWi-Fiの電波測定を行う予定\n\n[** Guardian 製造・制作系(ymtk)]\n 梱包は120円ほどになる予定（今の半分以下）[ymtk.icon]\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Q-SL1 CU iOS版 SDKアップデート、ハブ登録問題\n  稼働さらに上げないと、5/中旬かなり厳しい状況\n  5月中でなくともよいが、asapなのはかわらず\n  タイムリミットに間に合わないリスク\n   ソフトタイムリミット\n   ざわさん一人でやる\n Q-SL1サーバ落ち対応（ymtk）\n  クエリが詰まった？様子見。\n  AWS RDSエンジンのパッチを当てる→ymtkさん\n  \t毎週1個ずつ当ててます。stg→prodの順\n  \tあと2、3週ぐらい\n\nQ-SL1のDBがauroraのr3.xlargeになってる\n なぜオーロラ(マルチAZ)かというと、丸山さんがフェイルオーバーしたかった\n  オーロラはシングルでもFOします(ただし時間が違う)\n  パッチをあててから\n  たぶんダウンサイズ\n  シングルにするかどうかは要検討\n\n[** 月額ただいまキット (チャン)]\n 月額ユーザーが、キャンペーンからの流入か、通常の購入者かOPEで区別したいと要望あり。改修する予定\n 2ヶ月無料キャンペーンの登録ユーザーの確認。お金間違って取ってる人いた。人のオペレーションの問題。\n \tキャンペーンのURLを塞ぐ (ymtk)\n\n[** FAIT対応 (チャン、竹内さん) [進捗なし]]\n 直したら、N+1問題になったんで直し中\n 業務委託メンバーの権限、一旦解除する\n \tそろそろチャンネルアーカイブする\n\n[** 情報システム (チャン)]\n 社内DNS設定。AkamaiのETP導入\n  気が向いたらやる。とてもめんどう\n QrioAir用の新しいAP購入。設置場所を検討中。\n \t調べた結果、配置方法を工夫しないといけないことが判明。VESAマウンタに対応しているので、VESA使うアプローチもあり。\n\n[** QaaS(チャン)]\n 4-5月分の発注を、2.0人月で発注しました。普段は1.5人月\n\n[** CSへのテクニカルサポート(チャン)]\n redash から Slackで確認できるようにしてほしいとの相談にのる。\n \tSlack のRedash Botを使って連携しようとしている。\n \t\tSlack Botから、redashへアクセスするときにこける。謎。\n \t\t\tcurl で直接redashサーバーへクエリを投げると値が返ってくるのに、Slack Botはバリデーションエラーと言い出して、redashサーバーへ投げもしてくれない。しにたい。\n \t\t\t\tいったん諦め。別のことやってからまたチャレンジする。\n \t\tRedash→Slackに投げる！\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** 健忘録]\n\tなし\n\n# Castle 週定例 2019/4/16\ncreated_at:Mon Jan 19 1970 09:03:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:03:10 GMT+0900 (日本標準時)\nCastle 週定例 2019/4/16\n[https://gyazo.com/c5f6298150cf8398afa4e4cc748deb36]\n先週分\n[Castle 週定例 2019/4/9]\n\n次週分\n[Castle 週定例 2019/4/23]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[narico.icon]\nv: gtmいれたが、URIフィルタリングがうまく設定できてないので見直す\no: ヘルプのリンク直す\no: ページャー改行直す\no: \n\n[h.yamaguchi.icon]\nbcu-iOS\n\tv: ハブの登録\n\tv: デザインが変わってる部分の反映\n\to: 設定系の画面とロジック\n\to: 仮申請\n\t!: 申請する際にappleのレビュアー用のアカウントが必要\n\t\t協力してやりましょう。市川さんあたりに聞いてみよう [ymtk.icon]\n\t\t\tdev向けのroomon.jp 会社作る\n\t\t\tQRコード発行する\n\t\t\t動画準備する（QRコード撮る→ログイン→ロックを設定）\n\t!: 今後の体制について。誰が何やるとか\n\t\tサーバ(API)\n\t\t\thajimetyan / mikamix\n\t\tフロント(console)\n\t\t\tnarico / ymtk\n\t\tapp(bcu android, ios)\n\t\t\tzawa / hiro\n\t\tPO\n\t\t\tymtk\n\n[ymtk.icon]\n\tv: csツール（アカウント作成）の作成\n\t\t色々強いので、今はまだローカルだけ\n\tv: apiサーバ初期設定ドキュメントの作成\n\t\t[castle-api 初期設定メモ]\n\to: csツールの機能作成\n\t\t最初の管理者向けパスワードリセット\n\t\t月間の管理会社別ロック登録数集計バッチ\n\t\t\tこれできれば[hazimetyan.icon]にお願いしたい\n\to: ts多めのフロント案件いくつかやる。デザイン中心のものは[narico.icon]に依頼\n\t\t主にデータ更新系\n\to: アラート不親切系のフロント案件いくつかやる\n\t\tエラーメッセージそのまま出てきている案件\n\t!: デプロイ時期\n\t\t毎週or 隔週水曜予定。\n\t!: 三上さんにフロントの小さめの案件を依頼する\n\t\t何かしらの更新（建物の名前とか）を依頼します[ymtk.icon]\n\n[hazimetyan.icon]\n v: castle api の動作確認\n v: デプロイ手順の確認\n  CHANGELOG.mdにリリースしたかまだしてないのかを残す\n  \thttps://github.com/qrioinc/castle-api/blob/master/CHANGELOG.md\n o: castle api / console のコード確認\n o: 水曜日にcastle api/console の本番反映\n !: ローカルで動作させるのが結構たいへん\n \tpython をbuild するC99のコンパイルが通らない\n \taws-cliがつくれないwww\n \tたぶん brew install aws-cli では?\n \taws cliなんで必要?\n\n[mikamix.icon]\n v: alertのデータベース作ってマイグレーションした\n  v: PR出した\n  o: フィードバックに対応\n o: Postmanの[* オートロック連続失敗]リクエスト生成\n o: 連続失敗の実装\n o: 電池低下の仕様相談\n o: alertのGraphQL\n !: QRコードって何でしたっけ?\n \t2種類あります。[ymtk.icon]\n \t\tBCUのアカウント受け渡し用\n \t\t\t中身はid, pw -> BCUのid/pass\n \t\tファミリーキーの受け渡し用\n \t\t\t中身はアプリインストール先URLとファミリーキーのコードをFirebaseでよしなに結合した物\n !: Castle の文脈で限れば、CUは登場しない\n !: twilioから呼ばれるのは、castle-api\n あるハブが死んでいるか知りたい\n  そこまでリアルタイムでなくてよい\n  たとえばwifiとか\n  方法としてはpresenceでいい?\n  castleでどのようにユーザーに伝えるか\n  テーブル、モデルは分けましょう!\n  別途!!!\n  ハブの方が優先!!!\n\n[*** ##KPT]\n[*** よかったこと、続けていくこと]\n[mikamix.icon]\n 次週分のスクラップボックス作りましょう\n ecr必要 -> king-apiのイメージを取ってくる\n  king-apiのイメージが必要かどうか\n  不要ならdocker-composeいらない\n  king-apiはdockerで動いているわけではない\n バッテリーアラート仕様\n  実装はあとまわし\n  2種類 x 2サイド\n   warningになった\n   emptyになった\n   AサイドBサイド\n\nブランチ運用方法がmasterではない方がよい?\n ymtk(&CS、営業)さんが欲しかったもの\n  変更点の一覧\n  changelogなのか\n  releaseブランチ?\n  パッケージソフトとかに近い運用にした方がよいかも\n\n[*** 課題感、やってみること]\n\n##Castle #定例\n# king-apiでRails.cache が効かない時\ncreated_at:Mon Jan 19 1970 09:02:04 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:02:05 GMT+0900 (日本標準時)\nking-apiでRails.cache が効かない時\ncode:bash\n /app ## rails dev:cache\n Development mode is now being cached.\n \nデフォルトで無効になっているため、有効にする必要がある。有効にしたら`docker-compose restart`する。\nこの時、tmp以下に[* caching-dev.txt ]が作られる。\n\n# Castle Charlotte\ncreated_at:Mon Jan 19 1970 08:21:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:02:02 GMT+0900 (日本標準時)\nCastle Charlotte\nデータ編集まわり\n\n[https://gyazo.com/5174a5a597e98fd0695aef4f40c125f0]\n\t新規登録\n\t\tCSVによらない追加機能\n\t編集\n\t\tグループ、ユーザー、建物、部屋（可能ならBCUアカウントも）それぞれの削除ボタン\n\t\tパスワードリセット（ユーザー編集の一部として、ここだけ先に作る）\n\t\tパスワードリセット以外の編集機能すべて\n\t\t\t建物・部屋・ユーザーのグループ変更を含む\n\n[*** 見積もり]\n\tCSVによらない追加機能（建物、部屋、グループ、ユーザー）\n\t\tUI 3日 [narico.icon]\n\t\tAPI\t3日 [tottokotkd.icon]\n\t削除ボタン　1日\n\tパスワードリセット　1日\n\t編集\n\t\t5日 x2\n\n[** 4/17（水） リリースする予定の内容]\n\tパスワードリセット\n\tBCU名前変更\n\t履歴のページャー\n\tヘルプ target=_blank\n\t削除ボタンはコメントアウトしておく\n\tヘルプの内容更新（パスワードリセット、BCU名前変更）\n\n\n\n\n##Castle\n\n# ブログの位置付け\ncreated_at:Mon Jan 19 1970 08:51:37 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 09:01:52 GMT+0900 (日本標準時)\nブログの位置付け\nブログの位置付け\n\t何かしらのきっかけでQrio Lockを知る\n\tどんな製品なのか知りたい　=> 製品サイトを見る\n\t製品サイトで機能の理解は深まったが同時に疑問が出てくる => レビューや他社製品との比較\n\tQrio公式からの情報が少なく、比較されると何となく他社の方が良く感じる状態になっている\n  情報不足を補う必要がある\n  \n\n\nブログ開設について\n目的1：ユーザーの不安要素を解消する\n目的2：開発側が何を考え、どのような施策を実施しているのかを伝える\n目的3：競合のネガキャンへの打ち返し\n\n【目的1：ユーザーの不安要素を解消する】\n\t落ちるのでは？\n\tハッキングされるのでは？\n\t電池がなくなったらどうするの？\n\t\n\t\n\nTODO1：上記のような現状ユーザーから挙げられている不安要素をリストする\nTODO1：不安要素に対してどんな記事を用意するかタイトルを考える\n\nブログは記事ストックが50件くらい無いと続かないためタイトルだけで100件、本記事にするのが50件くらいで考える。\n→ブログは更新がとまってるように見えるのはよくない\n\n【目的2：競合のネガキャンへの打ち返し】\n\n市川To Do（水曜まで）\n・製品ページ、取り付けページに書きたいことをピックアップ\n・TechBookの30問をブログにIN\n\n\n[*** サポートページの中身を作り変える]\nhttps://qrio.me/support/smartlock/\n\t買う前に知りたいFAQと購入後のFAQを分けたいかも[narico.icon]\n\t\tCS側とかマーケ側で編集できると良い\n\t\tタブコンテンツにする\n\t\t\t自分で記事リンクを差し替えられる\n\t\t\tサムターンについて、環境についてとかのカテゴリ\n\t\t\tQA形式でタイトルと本文を出す\n\t\t\t全文はこちらリンクもあっても良いと\n\n[*** 製品ページの作り変え]\n\tシーン訴求と機能が混ざりがち[ichikawa.icon]\n\thttps://qrio.me/smartlock/lp/pt1/\n\tハブを使ったリモート機能の意味がわからない\n\t\tBLEとネットワーク接続の用途の違いがわからない\n\t\t\tえ、スマートロックってそもそもリモートじゃんこれ？！は？じゃあハブはなんなの？\n\t\t\tHUBってなにこれ充電器？\n\t\t\tそもそもBLEとか言ってもわからん、赤外線はなんとなくわかる\n\t\t\t\n\nおすすめの使い方診断\n\tチャートでHub必要とか見る\n\n宿題\n[ichikawa.icon]\n\tブログの記事を書き始める（いそぐ）\n\tHPどうしたいかXDでやってみる\n\tサポートの内容整理\n\n[narico.icon]\n\tサポートページできるかどうかしくみ\n\t開発でWP作る\n\t\t名前どうする\n\t\t\tQrio Official Blog\n\t\t\tQrio オフィシャルブログ　これで\n\t\t\tQrio  公式ブログ\n\t\tURLどうする\n\t\t\t/blog/\n\n\n# Sirius-dev mtg 19/4/12\ncreated_at:Mon Jan 19 1970 08:57:28 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:57:31 GMT+0900 (日本標準時)\nSirius-dev mtg 19/4/12\n[*** 状況]\n[* 今週]\ntopaz2\n\tking-api レビュー\n\t認証周り\n\n[* 次週]\ntopaz2\n\tking-api FB対応\n\t合カギグループ登録界隈\n\talexa wwaまわり\n\nymtk[ymtk.icon]\n\tpay.jp 審査相談\n\tNP後払い審査相談\n\t現在の仕様文書化\n\t\t画面構成\n\tdemo環境検討\n\t\t静的なものでOK\n\t\tfor ロフトワーク、富士物流\n\t引き継ぎのお客さんからのカード取得\n\t\t検討する。あまりに複雑であれば請求書に寄せる\n\nnarico\n\tロフトワークさんにフロントの件頭出し\n\t\tdemoがあるとそれを見ながら話せる\n\tWebサイト\n\t\thttps://drive.google.com/file/d/11aX4V9i4aZG7-DKJWioou4fvjuOc55Xe/view\n\n[**  その他、TODO]\n\t差分メモ\n\t\thttps://docs.google.com/spreadsheets/d/1PwSQn9atzpvSYrehOQCe3iGnwv4NssPaIw-Pw2mQxsc/edit?pli=1##gid=0\n\tアプリケーションドメイン想定\n\t\thttp://app.kagican.jp\n\t乗り換えのご案内方法\n\t\t要相談。電話やメールする？受け身でいる？\n\t\tWeb何か掲載するか？\n\t特定のタイミングから、カギカン1の登録動線を落とす\n\t\t他、プラン変更周り（ロック増やすのはダメ、キーパッド欲しいのもダメ）\n\n[* ymtkからのお願いほか][ymtk.icon]\n\t価格テーブル @7,980 の予定\n\t\tpay.jp 審査提出の準備します\n\t初期環境（demoする上で）に必要なデータ構築手順が知りたいです\n\n\n\n\n# IoT - dev 室長会 19/4/12\ncreated_at:Mon Jan 19 1970 08:57:24 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:57:27 GMT+0900 (日本標準時)\nIoT - dev 室長会 19/4/12\nこれまで：https://qrio.esa.io/##path=%2FDevelop%2F室長会\n\n[** 全体共有・相談]\n\t目標設定進捗どうですか\n\t採用計画と方針確認\n\t\t開発 to ゆりさん\n\tIoT開発本部の重点課題を明文化したい\n\t\t叩きつくります。OKR的な話\n\tymtkが抱える管理者パスワード整理したい\n\t\t開発、CS、経営本部\n\n[** 共有・相談ネタ]\n[* 製品開発]\n\tQ-SL1 android/kagican リリース済み\n\tQ-SL1 iOS 対応中（5中旬）\n\t\tCSお問い合わせは2件/day程度\n\t認証情報壊れる案件\n\t\t調査中･･･今週中に一次対応、リリースは本日予定\n\t\tauth0認識してるかどうか確認（別口で）\n\n[* デザインコミュニケーション]\n\t（成田さん欠席）\n\n[* CS推進]\n\t問い合わせフォーム周り手をつけたい\n\t\tQ-SL2お問い合わせフォームだけどQ-SL1に話が来るようなパターンの解決\n\t\tiOSからの画像アップロード、拡張子問題\n\tKingのマスター削除フロー検討したい\n\t\t10件くらいたまってきた\n\t\t匿名取引で相手が分からない、確認できないパターン\n\t採用進めたい\n\t\tSirius対応しきれない\n\n# CastleにおけるGraphQL\ncreated_at:Mon Jan 19 1970 08:43:11 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:56:03 GMT+0900 (日本標準時)\nCastleにおけるGraphQL\n\tWebアプリ - サーバーの連携部分でGraphQLを採用\n\t\tライブラリとしてApolloを採用\n\t\tApollo Server: https://www.apollographql.com/docs/\n\t\tVue Apollo: https://vue-apollo.netlify.com/guide/\n\t実装箇所はわりと広範囲にわたる\n\n[* サーバー側GraphQL]\n https://github.com/qrioinc/castle-api/tree/master/src/web/graphql\n \t`context`: ヘッダーからログインユーザーを識別する\n \t`schema`: GraphQLサーバーが提供する機能を定義する\n \t\tindex.ts: GraphQLスキーマ定義\n \t\tそれ以外: TypeScript型定義によりスキーマを表現するためのファイル\n \t`resolver`: GraphQLスキーマを実際に提供する\n \t\tDBを叩き、レコードを探し、権限を判定して返す\n \t\tクエリの最適化は部分的にやっている (join tableによる先取りなど)\n \t\t同じIDのレコードを何回でもDBへ取りに行く設計ミスがある。本来ならData Loaderを使うべき\n \t\t\thttps://www.npmjs.com/package/dataloader\n \t\t\tただしそもそも「同じIDのレコードを何回も取りに行く」GraphQLクエリ自体が稀\n\t現在resolver配下に様々な処理を書いてしまっている箇所もあるが、基本的には下記のように棲み分ける想定\n\t\t`@src/web/graphql`: GraphQLに関する処理のみ。下記の処理を適宜インポートして組み合わせる\n\t\t\t`query`: 取得系\n\t\t\t`mutation`: 更新系\n\t\t`@src/web/authorize`: 権限管理に関する処理\n  `@src/domain`: レコードの生成・更新、King連携、ログ記録などを担う処理\n `return error` している箇所は全て間違い。`throw new ApolloError` などが正しい\n\n[* クライアント側GraphQL]\n\thttps://github.com/qrioinc/castle-console/tree/master/src/graphql\n\t\tGraphQLクエリーと、それに対応するTypeScript糊付けコード類\n\t\t`containers`配下のコンポーネントはここからクエリーを取り出し、使い回す\n\t\t\t本来GraphQLとしては「1ページごと巨大な、必要に応じてカスタマイズされたクエリ」が正しい\n\t\t\tただそれだと乱雑になるので、定型クエリを使いまわして無限に並列で投げるよう割り切っている\n\t\t特徴として[* レコードのIDを取得しないと、レコードの同一性が判別されず壊れがち]という問題がある\n\t\t\tとりあえず毎回 `{ id name }` などと書けば済む\n\t\t\t初回は壊れない。ページ遷移などで同一レコードを別クエリから取得すると壊れる\n\t\t\t発覚しにくいバグなので、IDは毎回必ず取得すべき\n\t\t\t\tあるいはapollo-client を調査・改修してPR送ってもいいが…\n\n\n\n[takeuchi.icon]メモ\nschema, resolverがややこい\n\ttypescriptの都合とgraphqlの都合がぶつかっている\n\tgraphqlの期待値に合わせて、typescript側でも型定義をいちいちしないといけない、とか\n\nschamaの中身がgraphqlの中身というかすべて\nUserFeedがきれい\nrequiredはないと落ちる-> エラーログで全部出る\n\nhttp://castle-api-staging.herokuapp.com/web/gql\nで試せる\n\ngraphqlが期待する戻り値がDBにない場合は変換して返してやる\n\n\t点々3つ（スプレッドオペレータ）\n\t...\n\tvarargが邪悪な進化を遂げたやつ\n\t\tこいつは\n\n...を使うことで、変更があったときにいちいち当該箇所を書き換えしなくてもすむ　エラーがあったら落ちるのでわかる\n\n\nQueryを新規に足すだけなら、Querydefに書くだけでいい\n\ncontext.tsにUser情報が突っ込んである\n\tuser.is_group_adminは使わないようにする　Catsleの設計上\n\tcontext.req.scopes\n\n@ts-ignoreでやっていくのがいい　configいじるのは最後\n\n### Migration\n\theroku runで終わり `yarn run torm`で動く　package.jsonに魔術がある\n\ttypescript固有のハッキング\n\n\n\n\n## コンソール\n\ncontainers\n\tデータを取得してcomponents に食わす\ncomponents\n\tここがGraphqlを叩く\nbasics\n\ngraphql playgroundで、手で試してみればサーバーよりもどうとでもなる\n\n\n### デプロイ\n JSのチャンクをロード中にデプロイすると、エラーになる\n \tリロードすれば治る\n \t夜中にデプロイすればよい\n \tちゃんとやるなら、キャッシュする\n \tCDN\n\n\ndomainにロジックがある　graphqlを捨ててものこる、コアのロジック\n\n\n\n今後のメンテで、package.jsonのパッケージ依存関係で壊れていく、という事情はrailsと同じ\n\n\n# Castle見積もり\ncreated_at:Mon Jan 19 1970 06:13:28 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:55:57 GMT+0900 (日本標準時)\nCastle見積もり\n[Castle]\n\n[https://gyazo.com/2ec3f3330af2ba1aaf491336f1c53363]\nhttps://en.wikipedia.org/wiki/Moszna_Castle\n\n[*** ホーム画面] 4日\n\t各機能へのリンク　1日\n\tアラートが出る　3日\n\n[***** 物件情報の閲覧]\n\n[** 建物検索フォーム] 1日\n\tdone [tottokotkd.icon]\n\t\t物件コードの入力欄　1日\n[- \t\tコード入れると建物名が出てくる　3日] -> 建物一覧に移動\n\t\t\t[- URLどうするか問題[tottokotkd.icon]　5日]\n\t\t\t\t5日かかる高機能な画面遷移の例：\n\t\t\t\t\t最初は `/search` \n\t\t\t\t\t人間が「A123」まで入力したとき: `/search?q=A123` へ移動している。「戻る」ボタンで検索結果に戻れる\n\t\t\t\t\t「A」「A1」「A12」のときはかしこく無視して、「進む・戻る」を混乱させない\n\t\t\tずっと `/search` のまま + `target=_blank` で無理やり別ウィンドウへ飛ばす雑な実装 (0日)\n\t\t\t\t[- 「201 (号室)」みたいなクエリは？ 「なんとかマンション」は？ 1つ対応するたび2日（4日）]\n\n[** 建物一覧（検索結果一覧）] 3日\n\tdone [tottokotkd.icon]\n\t\t検索と一体化したサジェストだけで済ませる場合、そもそも製造なしでok\n\t\t`/search/result?q=A123` で独立したページにする（検索サジェストも建物一覧も両方作る）場合 3日\n\t\t部分一致検索\n\n[** 建物詳細] 2日 -> 6日 -> 10日\n\t建物名、管轄支店名\n\t部屋番号ボタン(リンク)で並んでるやつ 1日\n\t\t[- 入居中などの見やすいフラグ 2日 => 特にフラグいらない]\n\t\t[- 電池切れアラート 2日 => いらない]\n\t\t\tプリントすればアラートの見通しが良かったり\n\t\t管轄外の部屋は表示するのか？権限による表示分け仕様\n\tBCUアカウントに割り当てるなんかすごい機能　4日\n\t所属グループの変更\n\t\t誰ができる？ 現所属グループのadmin + 全社admin？ という程度であれば権限まわり1日\n\t\tセレクト一覧から目で探して、「送る」ボタンで確認アラートを出して、サーバー叩いて終わり　3日\n\n[*** 部屋詳細]  20日\n\t建物名、部屋コード (建物コード+枝番) 、部屋番号、現在モード　1日\n\t機器情報（シリアルNo.、状態・Lock x 2, Hub）　1日\n[- \t最終更新日　よくわかんないのでやらない => やらない]\n\t管轄支社変更\n\t\t「特権ユーザー or 特権グループなら一方的に移動（横取り）できる」程度のロジックであれば　3日\n\t\tissue作っとく[tottokotkd.icon]\n\t\t子会社同士の移動はできない[narico.icon]\n\tリモート解施錠のボタン 2日\n\t他ページへのリンク\n[- \t\tダイアルキー発行 1日(フロントだけ)]\n[- \t\t\tボタンを押すと(仲介業者が開ける用の)電話番号が出る]\n\t\t空室/入居モード切り替え 7日\n\t\t\tフロント１日\n\t\t\t入居者向けのインビテーションQRコード表示、印刷画面　6日\n\t\t\t\t招待用のURLが入っている。入居者はそこから合カギを受け取る\n\t\t部屋の操作履歴 (2日)\n\t\t\t出すログの想定\n\t\t \tBCUアカウント作成/削除\n\t\t  BCUユーザー解施錠\n\t\t  ユーザーのリモート解施錠\n\t\t  入居/退室 モード切り替え\n\t\t  部屋/建物の管理グループ変更\n\t\t\t「その部屋に関連づけられた監査ログ直近1年」とかの方が楽かも　2日\n  \t\t「直近1年」にしておけば「詳しくはこちら！」みたいなページを1年先まで作らないで済む\n\t\tインビテーション QRコード再発行の画面 1日\n\t\t\tフロントとしては初回発行のUIとほぼ同じ 0日\n[- \t\t発行ダイアルキー 一覧　2日]\n\n[*** 部屋詳細の編集 ] 4日\n\ttext/部屋コード (建物コード+枝番？)、text/建物名、text/部屋番号\t\n\t\t部屋詳細の各表示要素の近くに編集ボタンを配置してclick modal  の中で編集\n\t\t\tモーダル 2日\n\t\t\tAPI 編集項目 x 0.5日 (1.5日)\n\t\t削除\n\t\t\t確認モーダル　\n\n[*** 物件情報の新規登録] 3日\n\t物件登録フォーム\n\t\ttext/部屋コード (建物コード+枝番？)、text/建物名、text/部屋番号、select/管理支社\n\t\t\tCSV登録が優先なので最初はなくていい？ Coming soon [tottokotkd.icon]\n\t\tCSVアップロード機能\n\t\t\tサンプルCSVをダウンロードリンク\n\t\t\tフォーム 0.5日\n\t\t\t「n件登録しました」1日\n\t\t\tエラー物件名 0日\n\t\t\tエラー情報のわかりやすい伝達  〜3日\n\t\t管理支社は自動セット、ロックはBCUで登録(ymtk)。\n\t\t\t確認画面\n\t\t\t普通の確認画面\n\t\t\t\t登録完了\n\n[*** グループ管理] 3日\n\t支社一覧　2日\n\t支社名　編集ボタンでモーダル枠で編集　1日\n\t\tgroupAdminユーザーの名前\n\t\t特権グループかどうか？ 0.5日\n\t\tロックの利用数\n\t\t会社名、会社ID（編集はしない）=> ヘッダに常に出している情報\n\n[*** グループの新規登録] 5日\n\t\t新規支社登録フォーム\n\t\t\tCSV\n \t\t\tサンプルCSVをダウンロードリンク\n \t\t\tフォーム 0.5日\n \t\t\t「n件登録しました」1日\n \t\t\tエラー物件名 0日\n \t\t\tエラー情報のわかりやすい伝達  〜3日\n\t\t特権グループ とは別のフラグ（1項目 x 1日）\n\t\t\tリモート解施錠の可否\n\t\t\t入居切り替え\n\n[*** ユーザー管理]\t\n\t表示パターンは2つ　3日\n\t\t自分のグループのユーザー全員（デフォルト）\n\t\t\tgroupID でselect\n\t\t会社全体の全ユーザー（会社の管理権限もちユーザー）\n\t\t\tcompanyId でselect\n\t\t\tid順で一覧表示\n\n[* ユーザー詳細]  3日\n\tいらない？　いるって [narico.icon]\n\t編集とかするのでやっぱり必要　モーダルで編集　3日\n\t\t\tid、名前、所属、権限、メールアドレス(管理者のみ)、通知状態 \n\t\t\t削除確認画面\n\t\t\tパスワードの再発行\n\n[*** 新規ユーザー登録] 3日\n\t\tCSV一括登録\n \t\tサンプルCSVをダウンロードリンク\n \t\tフォーム 0.5日\n \t\t「n件登録しました」1日\n \t\tエラー物件名 0日\n \t\tエラー情報のわかりやすい伝達  〜3日\n\t\t\tid、名前、所属(select)、権限(radio:管理/一般)、\n\t\t\t管理ユーザーの場合はメールアドレスが必須\n\n[*** 設置アプリアカウントの発行] 闇 -> 10日\n\t\tフロー検討から別途\n\t\t\t建物詳細ページに紐付けるUIを生やす？\n\t\t\t建物が少なければselectから建物選択 => 空室でロック付いてない部屋を表示してぽちぽちさせる？\n\t\t現実的な作業フローが提案できればok [tottokotkd.icon]\n\t[BCUアカウント] の下の方に見積もった\n\n[*** アラート一覧] 闇 \n\t各エラーブロックを空室/入居中で分けてリスト表示（先頭10件）\t\t\t\t\t\t\t\t\t\t\t\n\t\t単純に全部出してフラグがボコボコ付いてる\n\t\tエラー種別を分けてない空室 / 入居だけが分かれているパターン\n\t\t今のパターン\n\t\t一つのリストに全てのアラート情報がまとまってた方がいいかも\n\t\t[https://gyazo.com/5a5b7f14626eb1b828afb9bd8d52c773]\n\t\t\t見せ方の問題・使い方の問題で色々ありそう [tottokotkd.icon]\n\t\t\t「現場の人は全部見たい、管理者は放置されてるヤバイやつ見たい」とか\n\t\tパターン作って聞いて見て折衝して対応したい [ymtk.icon]\n\t\t\tこれどうすすめよう[tsato.icon]\n\t\t\t\t聞きに行くの３月以降でいいのでは？\n\t\t\t\tとくさんやなりこさんのリソースを消費することはあまりなさそう\n\t\t\t\t運用フローのキモなので、ちゃんとしたものにしておきたい感\n\t\t\t\t\tマニュアルや現場教育との兼ね合いもある\n\t\t\t表の見せ方のパターン\n\t\t\tサイト構造のパターン\n\t\t\t\t「ヤバイやつページ」「全部ページ」で分ける\n\t\t\t\t1ページで表がたくさん\n\t\t\t\t人によって立場によって出方が変わる？\n\n\n[*** 操作履歴] 8日\n\tそのアカウントが閲覧できるログがテーブル表示されているページ　4日\n\t\t「グループの管理人で、グループの管理物件と、グループの管理する部屋があり、そのログから…」みたいな処理をやり始めるとコストが増大する\n\t\t作って初めて「この人にこのログ見えていいんだっけ？」となりそう　なる[tottokotkd.icon]\n\t\t「ある部屋のログ」「ある建物のログ」などは簡単（そのユーザーに見る権限あるか？で処理終わる）\n[- \t+ ソート機能　3日 => テーブルにする]\n[- \t+ フィルタリング機能]\n\t\tやりたい項目16個\n\t\t独立したページの形式なら1つあたり 〜1日\n\t\t[- テーブル上部のチェックボックスでコントロールする形式なら1つあたり2日]\n\t\t[- 「特定ユーザーの操作だけ表示」など特殊で形式なら1つあたり5日] [ymtk.icon]\n\t重要な操作履歴だけページにする　4日\n\t\tテーブル表示でソートはなし\n\t\tリモート解錠（入居中）\n\t　入室、空室モード切替\n  ファミリーキーの再発行\n\n\n[*** 障害通知機能] 　4日\n\tjsonをS3においてそれを更新して運用する 3日\n\t優先度低いがリリース直後が一番多そう\n\tメンテ中画面 1日\n\n\n\tログイン\n\t\t企業番号、社員番号、パスワード　2日\n\n\tログアウト　1日\n\t\t完了\n\n\tパスワードリマインド => 後でやる\n\t\t登録メールアドレスを入力してください\n\t\t完了画面\n\n\t利用規約 2日\n\tプライバシーポリシー (qrio.me のプラポリにリンク)\n\tヘルプ(zendesk)\n\t運営会社について(qrio.me)\n\nfrom [Castle見積もり]\n\t誰ができる？ 現所属グループのadmin + 全社admin？ という程度であれば権限まわり　1日\n\tセレクト一覧から目で探して、「送る」ボタンで確認アラートを出して、サーバー叩いて終わり　3日\n# castle-api 初期設定メモ\ncreated_at:Mon Jan 19 1970 08:54:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:55:44 GMT+0900 (日本標準時)\ncastle-api 初期設定メモ\n[** db構築]\n1. `.env.sample.development`から`.env`を作る\n2.DATABASE_URLの値を下記に設定する\ncode:.env\n DATABASE_URL=postgres://postgres@localhost:15432/postgres\n\n\t`.env.sample.development`の値はdocker前提なので注意。ローカルでmigrationする場合はlocalhostをつけないとdns解決できないため、下記のようなエラーになります。\n\ncode:error\n Using ts-node version 8.0.1, typescript version 3.4.1\n { Error: getaddrinfo ENOTFOUND db db:15432\n     at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:57:26)\n   errno: 'ENOTFOUND',\n   code: 'ENOTFOUND',\n   syscall: 'getaddrinfo',\n   hostname: 'db',\n   host: 'db',\n   port: 15432 }\n\n3.dockerでコンテナを立ち上げ、postgressが起動している状態で、下記のコマンドでマイグレーションする\ncode:bash\n yarn migration:run\n yarn seed\n4.`yarn dev`で立ち上げる\n5.`/status`にアクセスし「OK」表示を確認できれば終了。\n\tポートは`.env`の`PORT`で設定可能\n\n[** db接続]\n\tdocker設定ファイルにあるとおり、下記の情報で個別に接続可能\ncode:db\n user: postgres\n password: (空白)\n port: 15432\n\n# Node.js\ncreated_at:Mon Jan 19 1970 08:45:51 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:54:37 GMT+0900 (日本標準時)\nNode.js\n JavaScript + Server = Node.js\n \t中身は[V8]\n \tChromeで使われているJSエンジンを改造して実行環境化したもの\n \thttps://nodejs.org/api/\n Node.jsのプロセスはある瞬間、同時に1つの処理しかできない。そしてNode.jsは基本的に1プロセスで動く\n  なにも工夫せずWebサーバーを立て、1つのリクエストに対してCPUを使い始めると、他のリクエストを一切処理できなくなる\n   I/O待ちのときはNode.jsがよしなに他のことをやってくれる \n    Webサーバーなら、次のリクエストの処理をはじめるとか\n    次を始めたら始めたで、終わるか別のIO待ちまで帰ってこないが…\n\t\t「1プロセス1リクエスト」はどこに行ってもネック\n\t\t いい解説 https://www.toptal.com/nodejs/top-10-common-nodejs-developer-mistakes\n\t\t\tLambdaの[コールドスタート]とか (これはクラウドサービスの仕様の問題だが)\n\t\tあきらかにCPUバウンドな処理をワーカーに分離するとか、あらかじめプロセスを増やすとか、対応しておけば大体ok\n\t\t\therokuでは（プランによるが）クラスター化できる\n\t\t\t\thttps://devcenter.heroku.com/articles/node-concurrency##enabling-concurrency-in-your-app\n\n\tV8を叩ければいいじゃん！で自前実装する例もある\n\t\tV8https://www.cloudflare.com/ja-jp/products/cloudflare-workers/\n\tWebAssemblyを使えばいいじゃん\n\t\t受信した部分から順次実行できるバイナリ形式\n\t\tスタック積んで実行するだけのスタックマシン / メモリ管理のないJVM\n\t\tC / C++ / Rust からコンパイルできる (環境ごとにビルドしなくていい)\n\t\te-WASM https://xn--zck9awe6dx83p2uw267du0f.com/news-ethereum-third-generation-ewasm-development/\n\t\thttps://caniuse.com/##feat=wasm\n\n[tsato.icon] メモ\n 初動の最適化\n  Cluster (Node.js)\n  Puma (Rails)\n レスポンスタイムの最適化\n \tリクエストを早く返す\n  　ActiveJob (Rails)\n  リクエストを繋ぎっぱなし\n  \tレスポンスあったら切る\n \t\t\tロングポーリング\n \t\t\t\thttpの仕組みの上では簡単に実現できる(タイムアウトを長くすればいいだけ)\n \t\t\tファームウェアアップデート\n \t\tレスポンスあっても切らない\n \t\t\tWebSocket \n \t\t\t\tnode.jsは強い。socket.io (ロングポーリングやWebSocketをよしなに選択してくれる) がある\n \t\t\t\tブラウザが対応してないこともある\n \t\t\tLINEのチャットとか\n\nnginxとか必要なんだっけ\n\t結論から言うと[* 環境による]\n\t\tSSLやらgzip圧縮やら静的ファイル配信やら、ネットワーク由来の問題を解決するにはnginxを使うのがベスト\n\t\t\thttps://expressjs.com/ja/advanced/best-practice-security.html\n\t\t\thttps://expressjs.com/ja/advanced/best-practice-performance.html\n\t\therokuのような環境ではnginxは使わずnodeを置いて終わり\n\t\t\tSSLとキャッシュの問題はherokuが片付けてくれる\n\t\t\tgzip圧縮するには自前が必要 (?)\n\n[takeuchi.icon]メモ\n\tJSはシングルスレッドで動く\n\t\tリクエストは関数単位でキューに積まれ、非同期実行となる\n\t\t並列処理ではないため、メインスレッド（？）をブロックしてしまうとキューされたリクエストを処理できない\n\tnode.jsはLinuxとかMacとかいろんな環境で動かすことが想定されているので、プロセス作成とかもnode.jsでやるようになっている\n\n\n# Castle バージョン展開\ncreated_at:Mon Jan 19 1970 08:21:17 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:54:26 GMT+0900 (日本標準時)\nCastle バージョン展開\n[* 数え方]\n\tv1.0 -> v1.1 -> v1.2 ...\n\tv1 -> v2 -> v3 \n\t\tなんか数字でかい方が強そうなので後者で [tottokotkd.icon]\n\t\t数えやすい気がする\n\t\t覚えやすくてgood [narico.icon]\n\n[* 現状メモ]\n バグ対応は随時やる前提\n\t要対応\n\t\t電話カギ、入居用QRコードのページから認証を外しているやつを戻す [Castle Berta.icon]\n\t\t建物CSVアップロード機能を付け足す [Castle Charlotte.icon]\n\t\t入居・退室時のリハッシュ、ログ消去コマンド送信  [Castle Berta.icon]\n\t\tグループ、ユーザー、建物、部屋（可能ならBCUアカウントも）それぞれの削除ボタン [Castle Charlotte.icon]\n\t\tパスワードリセット（ユーザー編集の一部として、ここだけ先に作る）[Castle Charlotte.icon]\n\t\tファミリーキー発行ボタンと入居モード変更の権限まわり  [Castle Berta.icon]\n\t\tバリデーション、文字列の長さとか決める [Castle Berta.icon]\n\t\tフロント側のエラーハンドリング [Castle Berta.icon]\n\tそのうち（4月あたりで早めに）やる\n\t\t電池アラート表示 [Castle Emil.icon]\n\t\t部屋詳細ページでの最新情報表示（King叩く） [Castle Friedrich.icon]\n\t\tパスワードリセット以外の編集機能すべて [Castle Charlotte.icon]\n\t\tメール投げる機能 [Castle Emil.icon]\n\t\tCSV でログを吐き出す機能…？ [Castle Friedrich.icon]\n\t\tBCU に部屋を紐付け作業をスーパークールにしたい [Castle Dora.icon]\n\t\tBCU 紐付け画面の情報を増やす？ [Castle Dora.icon]\n\t直近やらない予定\n\t\tアラートの細かい追加実装 [Castle Emil.icon]\n\t\tロックの時間がずれる問題（King側の課題）\n\t\tCSVによらない追加機能 [Castle Charlotte.icon]\n\t\tリファクタリング、テスト整備 [Castle Anton.icon]\n\n[*** 4月以降の展開]\n\thttps://ja.wikipedia.org/wiki/NATOフォネティックコード で整理していく\n\t\t優先度が決まり次第 v1, v2... を割り振っていく\n\tこれは必要！という改善から、そんなのやる？というものまで、思いついたもの全て整理\n\t\t具体的なことは別途検討\n\n[Castle Anton]\n\tリファクタリング\n\t致命的なやつは除く\n\t50日 [tottokotkd.icon]\n\t\tほぼ作り直し\n\n[Castle Berta]\n\t権限まわりとか、放置するとやばいやつの片付け\n\t7日 x2 [tottokotkd.icon][narico.icon]\n\t\t３月中にやる想定\n\n[Castle Charlotte]\n\tデータ登録・編集まわりの実装\n\t9日 x2 [tottokotkd.icon][narico.icon]\n\n[Castle Dora]\n\tBCU周りのデータ更新UI強化\n\t設計3日 x2 [tottokotkd.icon][narico.icon] 実装6日 [tottokotkd.icon]\n\n[Castle Emil]\n\t電池関連アラートの実装\n\t[- 2日 [tottokotkd.icon]] \n\t\t間違い 10日 [tottokotkd.icon]\n\nーーーーーーーーーーーーーーーーーーここまで4月中・・・\n\nここまで新機能とか一切なく課題山積すぎてウケる [tottokotkd.icon]\n\tここから強化・改善系\n\n[Castle Friedrich]\n\t表示/出力データの追加、改善、最適化\n\tヒアリング1日 x2 [tottokotkd.icon][narico.icon] 見た目3日 [narico.icon] 実装7日 [tottokotkd.icon]\n\n[Castle Gustav]\n\t電話カギの機能強化\n\t5日 [tottokotkd.icon]\n\n[Castle Heinrich]\n\t不動産管理システムとしての機能強化\n\t適当に見積もりした現時点でも12日 x2 [tottokotkd.icon][narico.icon] 根拠なし\n\n[Castle Ida]\n\tハブを前提としない運用スタイルの導入\n\tビジネスモデルの問題であり見積もり不能\n\n[Castle Julius]\n\tオプションプランの販売機能\n\t2日 [tottokotkd.icon] （フラグ管理のみ）\n\n[Castle Kaufmann]\n\tエラー関連アラートの実装\n\t21日 三上さん、4日 2x [tottokotkd.icon][narico.icon]\n\n##Castle\n\n# Castle 週定例 2019/4/9\ncreated_at:Mon Jan 19 1970 08:53:02 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:54:25 GMT+0900 (日本標準時)\nCastle 週定例 2019/4/9\n[https://gyazo.com/7787f0c9daf7a6db57bdcd95821e05dc]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: [Castle Charlotte] サーバー側の骨格まで実装、フロント側もサンプル実装開始\n\tv: 整理整頓\n\t\t[Castle Docs]\n\t\t最初のマイグレーション製造・適用・確認\n\to: [Castle Charlotte] フロント側のサンプルを全パターン揃えて、単純作業で終えられる段階まで進める\n\to: [Castle Docs]\n\to: リファクタリング (時間があれば)\n\t\tCIツールを入れてテスト + 恒常的アップデート\n\t\tDBトランザクションの初期設計がまずい部分をリファクタリング\n\t\tコードリーディングの妨げとなる設計の不一致、矛盾、揺らぎなどを一掃\n\t\tGraphQLまわり(src/web/graphql)\n\n[narico.icon]\n\to: GTM入れる　PR\n\t\tサブドメインのフィルタは設定済み\n\t\t部分的に本番に反映できるか（masterはシャルが入ってる）\n\n\n[tsato.icon]\n v: 引き継ぎ用に異常系、画面遷移の実装方針のドキュメントを残した\n v: 本番環境でエラーログの情報をアップロードできない問題を修正\n v: 自動テスト実装\n !: Roomon管理ツールはやれませんした\n\n[h.yamaguchi.icon]\nbcu-api\n\tv: マイグレーションを使えるようにした\n\t\t手順などは`castle-api`のREADMEに記載した\n\tv: 不要なテーブルを消した (battery_alerts)\nbcu-iOS\n\tv: 設定の画面遷移周り(設定画面からのオートロック、1door2lockとか)\n\tv: サブロックの登録\n\to: ハブの登録\n\to: デザインが変わってる部分の反映\n\t!: 5月下旬くらいにリリース予定 [tsato.icon]\n\n[ymtk.icon]\n\tv: 適宜聞かれたことの打ち返し\n\to: リリース後のサポート＆CS窓口立ち上げ\n\to: 一部CSツール（管理ツール）対応はじめる\n\t\t共有頂いたsqlをベースにGUIから会社＆最初のアカウントの作成をツールからできるようにする\n\t\tサーバ実装見てパスワードの再発行をツールからもできるようにする（マネージャー権限）\n\to: 曖昧な仕様の言語化\n\t\t各種削除の前提条件、アラートなど\n\n[hazimetyan.icon]\no: サーバーまわりを確認しておく。\n APIサーバーをたててハローワールド\n Consoleもたててハローワールド\no: コードを理解しておく。\n!: 進捗なし。いったん他のことやっつけていて進めていない。\n\n[kk.icon]\n\n[m.suzuki.icon]\n\n[mikamix.icon]\n v: apiサーバ\n  ログはなげれた\n  trueとしか返ってこない\n   中身がないことを確認\n   alertsテーブルとbattery_alertsテーブルをじっと見つめる\n   たぶんalertsだけでいいのではなかろうか\n   日本語で解決\n   console.log()でデバッグできる? -> できる\n   ブレイクはあんまり??? -> 謎\n v: フロント\n  環境構築してたちあげてみた\n  ID/Passがうまくいってない(ymtkさんのまだ試してない)\n o: alertテーブル作る\n o: alert実装\n  バッテリー残量低下\n  オートロック連続失敗\n  これymtkさん要件すり合わせしたいです(確認程度)\n !: POSTだけでよい? (GETはGraphQLで実装されてる?) -> 返却するプロパティをホワイトリストで指定する?\n  src/web/graphql/schema/alert.ts\n  src/web/graphql/resolver/query/alertFeed.ts\n !: Networkとはなんぞや -> なんのことはないただのIP\n\n##Castle #定例\n# Hub 4M 2019/4/9\ncreated_at:Mon Jan 19 1970 08:53:20 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:53:23 GMT+0900 (日本標準時)\nHub 4M 2019/4/9\n[*** 参加者]\nzawa、takeuchi、ryo、ymtk\n楢原、大西、光石、椛沢\n\n[** 議事]\n各セクションの進捗、課題\n\n\tモジュールの実装フィジビリティでモジュールベンダーの遅れが発生\n\t\tSDK出てきていない、質問回答\n\t\t4/19に判断\n\t\t\t4/19時点で駄目なら代替モジュール、Espressif、ESP32を検討\n\t\t\t\t選定ポイント\n\t\t\t\t\t実装の質疑対応できるか\n\t\t\t\t\tモジュール品質\n\t\t\t\tミドリヤ電気？が商社、技術的な相談は竹内さんとやりとりしてもらう\n\t\t\t\tWROOM32D、Flash 4M、Dual CPU\n\t\t\t\t性能は一緒ぐらい、BLEは検証必要\n\t\t\t\tAzureWave、Marvell、Dialogの3社→Espressifの1社になる\n\t\t\t\t来週水曜日の午後にモデルルーム借りた、Wi-Fi測定する\n\t\t\t\t\tttcp、または代替の測定ツールの確認は依頼済み(大西さん)\n\n[** 進捗]\n\tメカ\n\t\t品質、コスト削減のための試作品作成中\n\t\t\t4/15までにやる→Qrioで確認→金型作成の流れで進める予定\n\t\t\t\t4/15週(水 or 木)に確認会？\n\t電気\n\t\t待ち\n\tFW\n\t\tBluetooth周り要素検討\n\t\t\t2ロック同時接続\n\t\t\t\tフォーラムの回答ではできるとのこと、ただしまだ動作確認取れていない\n\t\t\t\t具体的なやり方についてフォーラムで再質問中\n\t\t\tBluetoothモジュールでスレッド作れない\n\t\t\t\tフォーラムで非サポートとの回答あり\n\t\t\t\tセントラルモードの機能が満たせない(ADVパケットの受信と解施錠が両立できない)\n\t\t\t\tSDKにかなり手を入れる必要があり、マクニカにシーケンス案を提案済み\n\t\t\tESP32はまだ少し触った程度\n\t\t\t\t要フィジビリティ\n\t包装\n\t\t今週、naricoさんと打ち合わせ(方向性確認)予定\n\t取説\n\t\tなし\n\tアプリ、サーバー\n\t\tなし\n\n[** その他]\n\t\t英語会議、大西さんにサポートしてもらう\n\t\ttranscribe\n\t\t\thttps://www.android.com/accessibility/live-transcribe/\n\n# Dev MTG 2019/4/9\ncreated_at:Mon Jan 19 1970 08:53:02 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:53:13 GMT+0900 (日本標準時)\nDev MTG 2019/4/9\n[https://tk.ismcdn.jp/mwimgs/3/7/1140/img_3770f2db35dd9996ccfc834d6ac772dd254338.jpg]\n全体開発定例のアジェンダ／議事録です。\n\n[** 連絡事項]\n\t開発本部の採用止めてません。ぜひご紹介ください\n  サーバー＞＞＞アプリ　即戦力募集中\n  今週中に募集要項のドラフト作る(深澤)\n\t2019全般の優先順位決めました\n\t\thttps://docs.google.com/spreadsheets/d/1inrorhlko8m-jQQG0SKxpvYefI88obFRSdwsrJW-H-E\n\tRails セキュリティFIXしたアップデート来てましたので折を見て各種対応検討お願いします\n  https://weblog.rubyonrails.org/2019/3/13/Rails-4-2-5-1-5-1-6-2-have-been-released/\n  1. File Content Disclosure in Action View\n    King、Ke-Hi、Qrio Consoleなどすべて影響なしと思われる。このような使い方をしている箇所はない\n  2. Denial of Service Vulnerability in Action View\n    Kingは影響なし。Ke-Hi、Qrio Console、qb-authなどWebページありのサービスに影響ありと思われる\n    攻撃を受けた場合、CPU100%でサーバーダウンが考えられる(情報流出はない)\n    対応するかどうか、ymtkさんへ確認(経営判断)\n    bugfixであり、いずれにせよheroku関係で対応必要なものばかりなので4月以降に対応する。カギカン1も対象。\n\tWordPressも来てた気がする＆PHP5.xのサポート終わってた\n  wp5.1.1対応もphp7対応もやっつけました(ymtk)\n  \t作業メモ　https://qrio.esa.io/posts/443\n CM・メルマガの時のサーバ対応は持ち回りにしたいです\n \t有吉ゼミはCPU80%。危なかった(同時アクセス1200)\n 令和にもなるので静的ファイルをS3移行してそろそろLB挟みます\n \tこの辺見る https://php-java.com/archives/2228\n\n[*** 各PJ]\n[** Avis（fukazawa, ymtk）]\n\t検討中案件\n  Key-PF\n   前提条件取っ払いtobeでサービス構想するが、4月から関係者ヒアリングして要求モデル化する\n   IOのカメラapi検証始めたい→4月以降\n    解施錠したらIOのapiを叩きに行きたいので、通知に近い感覚\n  OYO\n   5月までpend\n    OYO向けに通知と合カギのapiを公開する予定\n    通知はいつもの（somcなどでやっているパターン）を想定だが、avisもあるので汎用的なものにしておきたいところ。\n\n[** Joker (ymtk、深澤)]\n\tAvis/Jokerの優先度や進め方が曖昧なため、来週に高橋さん、ymtkさん含めて話す\n  Avisは高橋さんラインで提携先を調整中のため、Jokerに専念\n  今週金曜日にブレスト予定\n\n[** Castle (佐藤、三上)]\n\tWebアプリ(徳さん、なりこさん、三上さん)\n  徳さん\n   先週に続き、引き継ぎタスク\n   4/12(金) 最終出社\n  なりさん\n  \tgoogle tag manager (分析系ツール)の導入\n  三上さん\n  \tAPI、コンソール共にハローワールド完了\n  \tテーブルの仕様が決まったので実装していく\n  \t来週ぐらいを目処に保存までいけるといいな\n  \t今ってもうログ飛んできてますか? -> kmi\n    stagingは今も飛んでるはず\n    productionも環境変数入れたらすぐ飛ぶ\n\tBCUiOS(ひろさん)\n\t\tAPI側マイグレーション実装\n  iOSアプリ実装中\n\tBCUAndroid(佐藤)\n   自動テストとか引き継ぎ用の資料とか\n   今日と月末の締め会に出社\n   ５、６月でSiriusのAndroidアプリの業務委託をする予定です\n[Castle 週定例 2019/4/9]\n\n[** Sirius (ymtkさん、佐藤さん)]\n\tmockはこちら。\n  https://sirius-console-mock-staging.herokuapp.com\n\t管理ツール（ユーザー登録可能）\n  https://sirius-admin-console-staging.herokuapp.com/login\n\tBCUは5月から着手。android→iOSの順\n  リリース時期(7月 or 8月)調整中。\n  4月中に変更分の画面設計を準備する\n\tLoftWorkと次週mtg\n\tking-api 今週prレビューの時間ください\n\t機能的には解施錠apiまでできている状態\n\n切り離した方がいいのでは説\nアカウント体系が別だから\n1リポジトリ1DB2サービスになってる\n-> 別サービス or 拡張\n\n[** King]\n[* スマートスピーカー (深澤)]\n\tAmazon Alexa\n  Hubのpresenceまわり\n   SQA完了、2/28(木) Productionリリース済み\n   Amazonの審査でFailが発生し対応完了、再審査中\n\n[* API (駒井)]\n\tOYOに今の通知の仕組みをそのまま出すか\n  5月までに検討\n  スマスピ3種、Castle、SOMCですでに5つ、汎用化したい\n\tロックを解錠したらカメラ撮る、のようなことを今後検討する(WebHook)\n 汎用化に向けてAPI追加、整理\n  Akerun、SesameのAPIを参考に検討中\n  今週中にymtkさん、深澤とシンクする\n APIドキュメントのメンテ中\n　 https://staging-king-api-document.herokuapp.com/\n\n[* CU (深澤, 竹内)]\n iOS版 Siri Shortcuts対応\n  進捗なし\n iOS ロックとのBLE通信時139エラーが発生する問題　★竹内\n \tエラー発生時のアラート文言修正→本日リリース済み\n  ロックに原因がありそうなので大西さんに連絡した->電池の抜き差しで解決する、とのこと\n ハンズフリーログ収集の実装中\n\n[* Hub (竹内) [進捗なし]]\n\n[* Guardian (竹内)]\n\tSDK懸念事項\n\t\t2ロック同時接続できる？-> できる、と公式回答があったが、まだ手元ではできていない\n\t\tスレッド作れない -> 公式で非サポートだった\n\t\t\tやらないこと\n\t\t\t\tOS（タイムシェアリング）は作らない\n\t\t\t\tシングルスレッドで実現できるか？を検討する\n\t\t\t\t\t少なくとも現行の完全互換は無理\n\t\t\t\t\t\tでは何がどこまでできるのか？ー＞まとめる★竹内\n\t\t\t\t現行機でスレッドを使っている箇所を列挙する\n\tSDKの件で、先週金曜に大西さんとマクニカと打ち合わせした\n\t\tそもそもこちらがやりたいことを実現可能か\n\t\t\tマクニカがAzureWaveに確認中、今日返事ある予定\n\t\tもし実現可能ならSDK開発チームをつくるかも？\n\t\t開発スケジュールの遅れはひとまず1ヶ月で仮置き　2ヶ月とか3ヶ月とか遅れるならモジュールから変える\n\t\t\tモジュールの第二候補は、昨年末に検証していたESP32（？）\n\t\t\t大量購入できる商社が最近できたらしい\n\t4/19にモジュール使用可否を判断する\n\n[** Guardian 製造・制作系(ymtk)]\n\t4/18に品質設計構想会議なので、ハード周りの懸念はここまでに意見出し\n \tSW実現性問題あるのでリスケします。課題整理中\n \t梱包のmtgは実施予定（形は変わらないので）\n\n[** Q-SL1/Q-ST1/カギカン1 (深澤)]\n Q-SL1 CU Android版 ハブ登録問題\n  4/2リリース済み\n Q-SL1 CU iOS版 SDKアップデート、ハブ登録問題\n  5/中旬までにやる。しぬ\n カギカン1 CU Android版 ハブ登録問題\n  4/4リリース済み\n Q-SL1サーバ落ち対応（ymtk）\n  クエリが詰まった？様子見。\n  AWS RDSエンジンのパッチを当てる→ymtkさん\n\nQ-SL1のDBがauroraのr3.xlargeになってる\n なぜオーロラ(マルチAZ)かというと、丸山さんがフェイルオーバーしたかった\n  オーロラはシングルでもFOします(ただし時間が違う)\n\n[** ただいまキット (竹内さん) [進捗なし]]\n\n[** 月額ただいまキット (チャン) [進捗なし]]\n 月額ただいまキットの監視\n 月額ユーザーが、キャンペーンからの流入か、通常の購入者かOPEで区別したいと要望あり。改修する予定\n 優先度高くないが、5月末にクローズできるように進めている\n\n[** FAIT対応 (チャン、竹内さん) [進捗なし]]\n 直したら、N+1問題になったんで直し中\n 業務委託メンバーの権限、一旦解除する\n \tそろそろチャンネルアーカイブする\n\n[** 情報システム (チャン) [進捗なし]]\n 社内DNS設定。AkamaiのETP導入\n  気が向いたらやる。とてもめんどう\n QrioAir用の新しいAP購入。設置場所を検討中\n DHCPのリリース時間を 72h -> 16h に変更。おかしいなと思ったら言ってください。\n\n[** QaaS]\n 工数：4月は2人月、5月以降は一旦1.5人月\n  4-5月分の発注はまだ。契約を4月にしたい。\n\n[** CSへのテクニカルサポート]\n redashサーバーのホストを、aws + heroku follower にしました。\n\t follower は $300で高いんだが、楢原さんレポートというものを作るためにほぼリアルタイムの状態が必要とわかる。\n\t \t楢原さんレポート -> 金曜日午前中〆集計→金曜午後に提出のスピードまとめ\n\t \theroku postgresql follower から DB dump したところ、log に10分ぐらいかかる。トータル10分ちょい\n\n[** Qrio Console]\n 関さんにてサービス終了の案内中\n \t9月末で案内中\n\n[** 健忘録]\n\tなし\n\n# King BCU iOS 見積もり\ncreated_at:Mon Jan 19 1970 08:47:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:53:08 GMT+0900 (日本標準時)\nKing BCU iOS 見積もり\n\n[** 今後のスケジュール]\n4/8 - 4/12\n開発\n\tハブ ビジネスロジック + API繋ぎこみ (5d)\nQA\n\t1door2lockまでの正常系のQA開始\n\n4/15 - 4/19\n開発\n ロックの設定画面系 １ロックと１ドア２ロックの出し分け、画面遷移\n サポート画面 ログアウト以外\nQA\n ハブを含めた正常系のQA開始\n仮申請\n 申請準備 (申請に必要ない部分の削除とか)\n 後半に申請\n\n4/22 - 4/26\nアップルの申請が通り次第、リリース日確定、営業としても取引先に報告できる状態になる\n\n開発\n ロックのファームウェアアップデート (4d)\n エラーハンドリング(4d)\n※多分溢れる\nQA\n ロックの設定画面のQA開始\n\nGW 4/27(土) ~ 5/6 (月)\n\n5/7 - 5/10\n開発\n\t残ってるタスク\nQA\n\t異常系QA開始\n\n5/13 - 5/17\n申請\n\tQA終わり次第申請\n\n5/21(火) ならリリースできそう\n\n[** 懸念点]\n\tAndroidの場合ファームウェア更新中のプログレスのダイアログがめんどくさかった\n\t\tAndroidの場合バックグラウンドでファームウェア更新終了や中断した場合はダイアログを消さず、フォアグラウンドのタイミングで消すことをしたりして手間がかかった\n\t\tAndroidだとこれ https://github.com/NordicSemiconductor/Android-DFU-Library\n\t\tiOSはこれ？ https://github.com/NordicSemiconductor/IOS-Pods-DFU-Library\n エラーハンドリング\n  仕様がわかりづらい https://docs.google.com/spreadsheets/d/1H6hWjvmK9_2DsF_VvqQvgKTZMki58JKCBbAKgjRpHoQ/edit##gid=1469510983 見ても情報多すぎる問題\n  ↑の仕様見つつ、山田さんに聞いたりAndroidコード見たりしてなんとかするけど、ちょっと時間かかりそう\n\n# CaMo\ncreated_at:Mon Jan 19 1970 08:24:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:53:05 GMT+0900 (日本標準時)\nCaMo\n> Castle Monitoring なので [CaMo] にまとめる\n\tCastle が必要とするモニタリング機能の話\n\n[* モニタリングの具体的目的]\n\t機器(ロック、ハブ)の状態異常を検出し、すみやかに対応し、システム全体を正常に稼働する状態に保つこと\n\t\tモニタリングする -> 電池きれそうと気づく -> 電池を替えに行く、など\n\tモニタリング結果を人間に知らせる仕組み = アラートも合わせて作る\n\t\tモニタリング作ってからなんとかする\n\t\t元々は「アラートほしい」という要望だが、対応内容が大きすぎるので、モニタリング + アラートの二段階で考える\n\n[*** アラートして欲しい！リスト]\n\tなんかすごい仕組みにより定期レポートメールとかほしい！らしい\n\t\t技術的な整理はほぼされていない\n\t\t「退去時の清掃で電池を変える」などの運用でカバーするべき問題では？という課題もある。未整理\n\t\t\t空室中の電池切れはたしかに知りたいが、入居→空室のときに電池を入れ替える運用を加えれば、ほぼ起きなそう\n\t\t\t入居中の電池切れは入居者が何とかする問題であって、管理会社側が気にすることではなさそう、、？\n\t\t\t参考: 電池代 4本1400円程度\n\n[* モニタリングが必要になりそうなアラート]\n\tロック電池切れ\n\t\tロックが上げてくる「もうすぐ電池切れそう」イベントを受け取って更新することはできそう\n\t\t電池を引っこ抜くとログが途切れる、ハブが死んでいて通信に失敗するなども懸念もあるので、全面的にロックからの報告依存では無理そう\n\t\thttps://github.com/qrioinc/castle-api/issues/147\n\t\tBCUではロックの電池状態から「異常あり」「！」を出している。Webコンソール上ではロックのログからアラートを出すため、不整合が起きる可能性があるが、許容する。\n ハブと通信できない\n\t ハブ側でプレゼンスは実装、リリースずみ\n\t \tAlexa経由の解施錠で使っている模様\n\t \t生存確認にはPubNubのPresenceが使える[takeuchi.icon]\n\t 定期的にハブをチェックする\n\t Presenceを入れることによってエラーの詳細がわかる\n\t \t例えば「ロックが返事しないのはハブのせい」とわかる\n\t \t分かる必要あるのか？  返事しなければどうせダメでは？\n\t 内見後にブレーカー落としたら場合とか検出できる\n\t アラート出した場合に解錠したかったら解錠しに行くのか？定期的チェックの途中で回復しているかもよ\n\t \t機器に関するページを表示するタイミングでPresenceAPI叩けばいい\n\t ハブが通信できないと何が困るか\n  　空室 .. 電話解錠が使えなくなる\n \t 入居 .. 管理会社によるリモート解錠ができない\n オートロック連続失敗\n \tハブ経由で失敗報告ログが来るので、それを受けてアラートを上げる\n \tどのタイミングでアラート解除されるか謎だが、モニタリング機能がやれるのはそこまで\n \tオートロック成功のログを持ってアラート解除を想定\n\t空室のLockと通信できない \n\t\t電話カギ発行の瞬間に、ロックに無害なコマンド(= 施錠を想定)を空うちして生存確認する予定（今日明日作る）\n\t\t\t内見時に現地に行って電話カギが使えないという現象を回避するため\n\t\t\tハブのアラートが信頼できない場合のための保険？\n\t\t\t\tそこまでいるか？？\n\t\t\t\tアラートが実装できてないので、アドホックな対応としてはあり。その場合は低いコストで実装する。どうせ置き換えるし。アラートが実装されたらなくす。\n\t\t\t\tビジネスサイドに共有する\n\t\t\tそれのことかな…？\n\t\t\tハブのプレゼンスは応答が早い 1s 程度\n\t\t\t結果をどう通知するのか\n\t\t\t\t10sくらいしてロックとの通信を確認して、失敗したら「電話カギの発行に失敗しました」\n\t\t\t一連のフローが気になる。TODO: マニュアルを確認する。\n\t\t\t[不動産内見] フロー確認していかないとダメ [tottokotkd.icon]\n \tハブがロックのログをread_logしてサーバーにあげるので、そのlast_updatedを監視していればいい？[takeuchi.icon]\n \t\t空室で解施錠していなくても、それ以外のログがなんか溜まっていった気がするから（なんのログだったかは忘れた。stagingのロックだけだったかも？すみません確認します）\n\n 空室のロックに本体ソフトウェアの更新がある\n  FW更新はBLE経由でしか行えない。CUかBCUからやる[takeuchi.icon]\n 空室のハブに本体ソフトウェアの更新がある\n  ハブはリモートからFW更新可能。PubNub経由でリクエストを送る[takeuchi.icon]\n  => アラート表示すべき問題ではなくて、全台アップデート機能をつける等のアプローチが必要そう \n\n (参考)リモート解施錠失敗するパターン\n\t\tロックが外れてたパターン\n\t\tブレーカー落ちてたパターン\n\n[* モニタリングと関係なさそうなアラート（覚書き、このページでは射程外）]\n 機器設定が中断している部屋がある\n 空室の初期化処理失敗\n 支払いが滞っているのでアカウントを停止するぞ！という通知\n castleのメンテナンス通知\n\n[*** モニタリングの実装]\n\tKING からのログ転送を受け付ける Castle 側 API を設ける（準備済み？）\n\t\tログが飛んでくるたび更新イベント？\n\t\tログを貯めておいて一定時間ごとに処理？\n\t\t既に駒井さんが実装済みなはず、LogTypeをKingAPIの環境変数に入れてフィルタできるようになっている\n\t一定時間ごとに実行されるバッチ処理\n\n[*** アラートの実装]\n\tモニタリング機能はなんらかの異常な状態を検出する。それを解析・整理したものがアラート\n\t例: 「電池切れ」という異常を連続して検出した場合\n\t\t1つの「電池切れアラート」としてDBに保存されていると綺麗\n\t\t\tでもそれが実現できるか\n\t\t\t実現できるとして必要なのか\n\t\t[- 同一ロックの電池が半年ずっと切れているときに「100件の電池切れが発生しました」という通知で役に立つか？]\n\t\t\tバッチ処理がKing API を何回も叩くような場合の懸念\n\t\t\t\tLogベースでやるなら根本的にいらない心配\n\t\t\t\t回復はLogから取れないが、手動で回復ボタン押させる\n\t\t\t\t\tアラートによって手動、自動と分けるとユーザーとして認知コストがかかるから、全部手動でいいのでは\n\t\t\t\t\t実装コストも低いし\n\t\t\t以下、いらなくなったけど残しておく文書\n \t\t\t「そもそも電池切れするのがおかしい、アラート重複するような運用が悪い！」で済むか？\n \t\t\t\t同じ部屋のアラートは最新5件しか表示しないので重複してもセーフ、という逃げ方もありそうだが？\n \t\t\t\tこのあたり誰が判断するのか謎\n \t\t\t\t判断しないで適当に作りました〜とかやってると困る\n\n\n\n\n\n[*** 三上さん依頼内容]\n\tモニタリング\n\t\tKing -> Castle に送られてきたログをパースして、アラートテーブルに突っ込む\n \t\tバッテリー残量低下\n\t \tオートロック連続失敗\n\t アラートテーブルの仕様\n\n 定例 火曜 11:00 \n \t火曜 13:00 だとmikamixさんベスト。ymtkさんに変更できるか確認。\n \t役割をはっきりさせる。\n\nメモ\n 環境構築できた\n ログは投げれた\n trueとしか返ってこない\n 中身がないことを確認\n alertsテーブルとbattery_alertsテーブルをじっと見つめる\n たぶんalertsだけでいいのではなかろうか\n 日本語で解決\n\n\n\nなぜアラートか\n内見前に開かないケースを防ぎたい\n電池切れも気づきたい\n\nロックID\n種別でいける?\n文言はハードコーディング?\nis_resolved?\nroom_idではなくlock_id\n\n\n[* 現状]\n\t何かをやろうとした痕跡\n[https://gyazo.com/87b473a30515ab20251b0ccb5ca1963a]\n\n\t何かをやろうとした痕跡2\n\t\t`alets`: システムが生成・管理するレコード\n\t\t`user_alerts`: 特定ユーザーとアラートの関係性をあらわすレコード\n\t\t\t1回でも表示した… is_seen\n\t\t\tミュートした（消した）... is_muted\n\t\t\t特に決まりというレベルではなくアイデア出しレベル\n[https://gyazo.com/a16e5aa7d6665ab06b56044e5e4f4fac]\n\nリポジトリ\nhttps://github.com/qrioinc/castle-api\n\n\n# king-api 起動memo\ncreated_at:Mon Jan 19 1970 08:52:56 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:52:56 GMT+0900 (日本標準時)\nking-api 起動memo\nreadme.md通りの手段で起動仕様としても下記のエラーが出てしまう場合。\n`app_1     | Could not find faker-1.9.3 in any of the sources`\n\n下記の手順でビルドすればOK。\ncode:zsh\n export APP_NAME=king-api/app\n docker build -t ${APP_NAME}:latest .\n docker tag ${APP_NAME}:latest 931243214056.dkr.ecr.ap-northeast-1.amazonaws.com/${APP_NAME}:latest\n docker-compose up -d\n\n# ブログの位置付け_2\ncreated_at:Mon Jan 19 1970 08:51:53 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:51:53 GMT+0900 (日本標準時)\nブログの位置付け_2\n\nブログの位置付け\n何かしらのきっかけでQrio Lockを知る\n・どんな製品なのか知りたい　=> 製品サイトを見る\n・製品サイトで機能の理解は深まったが同時に疑問が出てくる => レビューや他社製品との比較\n・Qrio公式からの情報が少なく、比較されると何となく他社の方が良く感じる状態になっている\n  ・情報不足を補う必要がある\n  ・\n\n\nブログ開設について\n目的1：ユーザーの不安要素を解消する\n目的2：開発側が何を考え、どのような施策を実施しているのかを伝える\n目的3：競合のネガキャンへの打ち返し\n\n【目的1：ユーザーの不安要素を解消する】\n・落ちるのでは？\n・ハッキングされるのでは？\n・電池がなくなったらどうするの？\n・\n・\n\nTODO1：上記のような現状ユーザーから挙げられている不安要素をリストする\nTODO1：不安要素に対してどんな記事を用意するかタイトルを考える\n\nブログは記事ストックが50件くらい無いと続かないためタイトルだけで100件、本記事にするのが50件くらいで考える。\n\n（元々は競合との価格差からでた話、「一般消費者からすると何で倍以上もすんの？」）\n中身がどう違うのか\n\n【目的2：競合のネガキャンへの打ち返し】\n# Castle 週定例 2019/4/2\ncreated_at:Mon Jan 19 1970 08:42:57 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:49:03 GMT+0900 (日本標準時)\nCastle 週定例 2019/4/2\n[https://gyazo.com/eea52b30eca0c50d82be19b380d1aaed]\n\n個別報告\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\to: リファクタリング\n\t\tCIツールを入れてテスト + 恒常的アップデート\n\t\tDBトランザクションの初期設計がまずい部分をリファクタリング\n\t\t\tテーブル自体はまあまあ…？\n\t\t\tまずいのはトランザクションの管理、好き勝手にコミットしてる状態\n\t\t\t全部やれればいいが、例になるものを残すくらいか？\n\t\tコードリーディングの妨げとなる設計の不一致、矛盾、揺らぎなどを一掃\n\t\tGraphQLまわり(src/web/graphql)\n\t\t\t権限管理まわり\n\t\t\tイザとなれば捨てれる\n\t\t\tユーザーごとに権限がある(認可)\n\t他メンバーへの引き継ぎは？[tsato.icon]\n\t メモ: デプロイはステージングまではある(masterブランチへのpushから自\n\t\tデプロイ以外も文書化する [tottokotkd.icon]\n\t\t\t別途ページ化する[tottokotkd.icon] -> [Castle Docs]\n\t\t引き継ぎ候補\n\t\t\tサーバー: 三上さん、ちゃんさん、竹内さん、ひろさん、あたり\n\t\t\tフロント: 西川さん、なりこさん\n\t\t\t\t既に出来てるからそんなに困らない\n\t\t\t\t状態持ってるわけではないので、コードがやばかったら捨てることができる\n\t\t[* TypeORM設定変更、本番用のマイグレーション仕組み化、最初の本番適用までやってドキュメント整備]\n\t\t\t最優先で倒す[tottokotkd.icon]\n\t\t\tヒロさんすでに自宅でやったことある (楽勝) [h.yamaguchi.icon]\n\t!: 諸般の事情により4/12 (金) 最終出勤日の予定\n\t!: GitHub連携ツール買ってもらう [Castle Anton]\n\n[narico.icon]\n\tv: 500の画面をエラーを汎用エラー的なものに作り変える\n\tv: Castle_Bertaの表示系でおかしいところ\n\t\tBCU　QR印刷　IEでまだおかしい\n\n[tsato.icon]\n v: QA対応\n v: OSSライセンス表示\n v: アプリリリース\n v: 一部のモデルとユースケースのユニットテスト\n o: Roomon管理ツール(?)\n \t[CS管理ツール実現方針]\n !: ４月末に正社員終了するので引き継ぎとかあれば\n \t有給とか考えると来週９日(火)...？ + 締め会\n \t業務委託で引き続き関わるかもしれない(まだ業務委託契約してない)\n \t一旦4/9まで(仮 ?\n 異常系、画面遷移に関してコードの説明とか書いておく\n\n[h.yamaguchi.icon]\n\tv: オートロック設定\n\tvo: 設定の画面遷移周り\n\tvo: サブロックの登録\n\tハブ周りは深澤さんに聞けばなんとかなる\n\tBLE周りも深澤さんとか竹内さんとか三上さんとか\n\tスケジュールに関しては今週木曜一回考え直す\n\tbattery_alert テーブルを消す\n\t\t設置が4/9 その前にFNJにアカウント渡す\n\t\t\tアカウント渡すのは4/3, 4くらい [ymtk.icon]\n\t\tどうやって消すか、マイグレーションと合わせて調べる (ひろさん、徳さん)\n\t\t\tアカウント渡した後マイグレーションする\n\n[ymtk.icon]\n\tv: リリース再判定\n\t\t条件付きOKです\n\t\t(バグ残件\n\to: リリース後のサポート\n\to: CSツール関連の方針決め\n\to: アサイン再検討\n\to: 開発優先度付け\n\t\t今週中にプランニング\n\n[hazimetyan.icon]\no: サーバーまわりを確認しておく。\no: コードを理解しておく。\n\n[kk.icon]\n\n[m.suzuki.icon]\n\n[mikamix.icon]\n v: 開発環境用意した\n  apiサーバ立ち上げ\n  db作成、マイグレーション\n  なんかGraphQLでた\n o: フロントを用意してみる(接続先は環境変数)\n  ステートレス(JWTトークンだけローカルストレージ、cookieではなくローカルストレージ)\n  なぜローカルストレージかというと、jsでとりまわしやすいから\n o: データ(ログ)送ってみる\n o: alertテーブルの設計(ymtkさんと仕様について)\n !: フロントエンド(vue.js + vue_apolo ts vue_cli)\n やってみたNetworkとはなんぞや\n\n今困ってることはないです一旦\n\n o: 開発環境用意(castle-api)\n \thttps://github.com/qrioinc/castle-api\n \t.env.sample.development -> .env\n \t`yarn` でインストールして `yarn dev` を叩くと動く\n \tCastle Staging -> King Staging を叩く設定はheroku参照 https://dashboard.heroku.com/apps/castle-api-staging/settings\n \t\tDBもありますが直接接続すると現状まだ危険（モデル層をいじると勝手にDDLぶん投げる）\n \tts-node https://github.com/TypeStrong/ts-node\n \t\t10年後とかdeno使ってそう [tottokotkd.icon]\n\t\tking -> castleへのログ送信Api /log/king \n\t\t\tbasic認証 id pass 共に castle\n\t\t ソース https://github.com/qrioinc/castle-api/blob/master/src/log/king/index.ts \n\t\t\tpostman https://qrio-dev.postman.co/collections/6234139-09093714-0204-413b-9277-f2677541c1e9?workspace=dca294ad-768d-46df-a025-ab065355a7c5\n ロック登録のためにBCU Android使う必要ある？[tsato.icon]\n \tローカルのDBいじるので特にいらないかも\n o: alertテーブルを作る(type orm)\n  kingからログを投げるところはできてる(kmi君作)\n  ログの受け口\n o: バッテリー残量低下のハンドリング\n o: オートロック連続失敗のハンドリング\n\n 依頼内容はこちら [CaMo] [tsato.icon]\n\n[*** ##KPT]\nたぶん別のタイミングでやるのでスキップにします\n##Castle #定例\n# 週末ふりかえり 2018-12-21\ncreated_at:Mon Jan 19 1970 06:16:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:47:26 GMT+0900 (日本標準時)\n週末ふりかえり 2018-12-21\n[KPT] \n\n[*** Keep　ー 良かったこと・継続した方が良いこと]\n\tCastle 見積り始められた[tsato.icon][tottokotkd.icon][ymtk.icon][m.suzuki.icon]\n\t\t一安心[tsato.icon] しっかしヤベェ[narico.icon]\n\tCastle 役割分担が見えてきた\n\tVue ようやくわかってきた感\n\t肩こりが良くなってきた[ichikawa.icon]\n\t（今日時点の）来期kingコンセプトokもらえた[m.suzuki.icon][narico.icon][ymtk.icon]\n　\tほほぉ[tsato.icon]\n　\t今聞いた[tottokotkd.icon]\n　\t話聞きたい\n\t無茶振りのていで、人感センサーの解錠言ったら、プロトタイプできててよかった[ymtk.icon][m.suzuki.icon]\n\t\t電子工作部チャンネル\n\t\t\tなぜかPrivateになっている\n\t\t\tすみません作るとき間違えました　Publicで作り直します（最近全然活動してない）[takeuchi.icon]\n\tどんどん権限委譲した\n\tWordPressとWercartの闇を一部倒した[narico.icon]\n\t\t全部倒してほしい\n\t\tあざます\n\t\tphp5まだあるんや\n\t事業戦略の方向性ズレ是正動き出した[narico.icon]\n インフル予防注射した[tsato.icon]\n \t補助でるの今年中すよ\n \t今日やった\n \t法律違反だ\n CastleBCUアプリはなんとかなってる気がする\n 忘年会の謎解きがおもしろかった[m.suzuki.icon][ichikawa.icon]\n 食欲が戻ってきた[m.suzuki.icon]\n サイトのちょこっとした修正やってもらえた\n\tフリーヌードル嬉しい[ichikawa.icon]\n\t\tお湯欲しい\n\t\t来週で終わりそう\n\tCPNの規約についてSONYに人に聞いたら知らないルールがでてきた\n\t\tCPってなんすか？\n\t\tキャンペーンだょ\n\t\tCPNで統一したい\n\t会社にいる時間が長かったらカップ麺がおいしく感じた[narico.icon]\n\t\t全力KEEP\n\tIoT縛りの勉強会参加して登壇者と話した[ymtk.icon]\n\t\tIoTわからん[tottokotkd.icon][tsato.icon]\n\tアイデア複数人いる方が良いの出る[m.suzuki.icon][tottokotkd.icon]\n\t空調が良くなった？[ichikawa.icon][m.suzuki.icon]\n\t\t温度調整できるようになったのよい\n\tモダンなフロントエンド概念ができてきた\n\tマイクロマネジメントしなくても現場が自走してる[tottokotkd.icon]\n\t社外の勉強会に行ったらKDDIのIoTの取り組みを教えてくれた\n\t\tau Home? [tottokotkd.icon]\n\t会社に来たら頭痛が治った\n\t来期の戦略と今の方針のズレを理解できた[narico.icon][tottokotkd.icon][m.suzuki.icon]\n\t\tきになる :eyes:\n\t\t方針とは[tsato.icon]\n\t\t軸がぶれている\n\n[*** Problem　心配に感じていること]\n\tCastleフロントエンド見積もり100 dayやばい[m.suzuki.icon][ymtk.icon]\n\t\t死にたい[narico.icon]\n\t\t正確には99日なのでセーフ[tottokotkd.icon]\n\t\t変わってねー[narico.icon]\n\t予防接種してない\n\t\tし　て\n\t\t来週一緒に受けに行くとか\n\tto Cに対するソフトウェア貢献どうするか\n\t\t詳細は室長に聞いてください\n\tCastle要件の「必須さ」「おまけ」加減が全然伝わってこない[tottokotkd.icon]\n\t\tもう外部ヒヤリングせんでいい要件増える[narico.icon]\n\tNFCリーダーの見つけ方がわからない\n\t\t秋月で聞く\n\t\tググって買う\n\t\tFWを書き換えられる子を選定したいの\n\tCameraの見つけ方がわからない\n\t\tFWを（同上）\n\tいきなり仕事が増える（季節とかWordPressの都合とか）\n\t眼の病気\n\t風邪が流行りすぎ\n\tフリーヌードルのせいで水がない\n　\t死活問題\n\t\tウォーターサーバーが出ない旱魃状態\n\tデザインリソース枯渇しすぎ[ymtk.icon]\n\t\t外注パートナー悩む\n Castleの動き方がわからん[tsato.icon][narico.icon]\n \tWebアプリ側の仕様そんなに追えてないし、追ってもそんなにバリューも出せなさそう\n \tアプリの実装とかもあるし\n \t実作業はそんなに難しくないので…[tottokotkd.icon]\n \t\tほほう[tsato.icon]\n\t仕様決まってないが、お尻は決まってる\n\t\tねだるな、勝ち取れ、さすれば与えられん\n\tIoTわからん\n\t業務推進系のタスクとノウハウの共有が浮いてる\n\t\tそれはある\n DroidKaigiのスライド一枚も書いてない\n\t自分の担当分野なのに出遅れたら出しそびれた\n\tテックブックの台割りが未確定\n\t来期方向性と現状の施策が乖離あって怖い\n\t売れるイメージが全く湧かない\n\t\t重いな[tottokotkd.icon][tsato.icon][m.suzuki.icon]\n\t\tユーザー見えない\n\t飲み会しすぎて死んだ\n\t\t生きて[narico.icon][tottokotkd.icon]\n\t最近フリースペース汚くて、来客時気まずい←超わかる[ichikawa.icon][m.suzuki.icon]\n\t\t床ヤバイ\n\t\t清掃おばさんに頼めないの\n\t\t掃除機とかすらやってない印象\n\tキャンペーン概要とか出てくるの遅すぎ\n\t  [https://i.ytimg.com/vi/LgILSRm_xEI/maxresdefault.jpg] \n\n\n[*** Try　どう改善するか]\n\tリソース見える化\n\t\t\tこれデザインの話す\n\t\t[tottokotkd.icon]エンジニア島から引越したい\n\t席替え\n\t\t徳さんはなりさんの隣にします\n\t\t来週？席替え発表？\n\t\t来客対応辛い位置、ガラスのとこ目隠しとか、ご用の方はベルを押せっていう案内書きする\n\t\tどきどき\n\t組織内の情報共有のやり方統一、集約[ichikawa.icon]\n\tScrapbox買う\t\n\t\t金で殴る[tottokotkd.icon]\n\t\tesaなんかちょっとだめ？\n\t他人の仕事に興味持つ[narico.icon]\n\t機器選定を部付に相談\n\tソフトウェア企画出す\n\t気軽に交渉できる関係性を構築する\n\tIoT勉強会出たり登壇したりして、IoTの知り合い増やす[ymtk.icon]\n\t「CSからのお返事」以外の発信なんとかする[tottokotkd.icon]\n\t\tslack qrio-techbook チャンネル\n\tDroidKaigiのスライド書く[tsato.icon*2]\n\t\t識者にBLEについて聞く\n\t\tあと2ヶ月\n\t\t\t[https://gyazo.com/c113d9ca27641b76ca7dbd6cd83c49e3]\n\t社内にHTML小仕事できる人増やす\n\t\tイッチがんば[narico.icon]\n\t\tまかせろ[ichikawa.icon]\n\t\t期待してるわ[narico.icon][tottokotkd.icon*10][tsato.icon*7][tsato.icon*3][ymtk.icon*6]]\n\t　レベル4ですがんばります[ichikawa.icon]\n\t\t戦闘力53万くらいになってください\n\t　WordPressも… CSSも… 画像… ビデオ… SNS…\n\t　うーんがんばる！[ichikawa.icon][ichikawa.icon][ichikawa.icon][ichikawa.icon]\n\tゆったりする\n\t\t[https://pbs.twimg.com/profile_images/3216610115/26fb4ee8373c0f5302d4fd92ec45ed0a_400x400.png]\n\n\tみんなにイラレとかsketchを叩き込む[ichikawa.icon][tottokotkd.icon]\n\t\tぷりーず！\n\t\tいいね[narico.icon]\n\tマーケ部メンバーにレクチャする\n\t　カモン\n\t　本当のキャンペーン企画というものを教えてやる[ymtk.icon]\n　Qrioの歴史を見るしかない\n　\t[https://pbs.twimg.com/profile_images/635344063273676804/dgcz58SH_400x400.jpg]\n　\t\n　フリースペース使用後は、レイアウト整理と掃除を！\n\n[********* 感想]\n\tわたしも画像いれたい\n\t\tどうやんの\n\t\tできた[narico.icon]\n\t\t[https://gyazo.com/bb9c08f4ee01a7ab13ad85cc6f5052cc]\n\t\tドラッグドロップ[tottokotkd.icon]\n よかった\n 振り返り◎\n\t頼朝がウケた\n\t　頼朝だったのか\n　ファシリテーションが良かった\n\n\n\n Problem\n \tTry\n \tみたいな関連付けがあると良いと思った\n\n\n\n\n\n# Castle 週定例（KPT) 2019/4/5\ncreated_at:Mon Jan 19 1970 08:47:10 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:47:24 GMT+0900 (日本標準時)\nCastle 週定例（KPT) 2019/4/5\n[https://gyazo.com/3bfb271322626ebe1612d6469ed9b2ec]\n\n[*** ##KPT]\n全般を振り返って\n1400-1430 / 書き下し\n1430-1500 / 読み返し\n\n[*** よかったこと -> 続けていくこと]\n\n Androidアプリのコードの品質は割と良いままリリースできた\n iOSアプリとの設計方針について歩調を合わせることができた\n \t同意[h.yamaguchi.icon]\n\t1月からプロダクト定例を持つようになって、営業の情報が入るようになってきた\n\t\t営業と情報を共有、または交換できるのはポジティブ\n\t不動産業界の実態を多少知れた\n\tクリエイティブコンセプトを明示できた[m.suzuki.icon]\n\t\tクリエイティブとしてはできた\n\t\tティザーの雰囲気わくわくした\n\tプロジェクトに関わる全職種を交えてクリエイティブを考えることができた\n　\tサービス名はエンジニアチームから、メインコピーはCSチームから出てるからね\n\t　\tみんながクリエイティブに参加できる証明になったよね\n\t販売チームと接点を持てたこと\n　\t営業が大事にしたいこと、多少理解できた\n\tヒートマップ導入したので運用、改善の視点が芽生えてる\n\tバックエンドできるようになった[+1.icon]\n\tなかなか良い設計でiOSの開発が進められている\n\tRxSwiftはまともに触ったことなかったけど結構使えるようになった\n 新しいアーキテクチャの導入などのチャレンジ\n\t最近のフロントエンドの設計やコードを読む機会が得られた\n\tストライキが起きなかった\n\n[*** 課題感 -> やってみること]\n\t不動産業界の知識が足りず、妥当な仕様を考えられなかった\n\t\t物件コードって何なの？みたいな疑問が実装を進め初めてわかる\n\t\t対してケースバイケースという回答にしかならない\n\tやる意義はわかっているが、スマートロック(という手段)を起点にどこかへ参入しようとするからサービスやる情熱と覚悟を感じない\n\t\t本来は課題感から手段を考える流れが妥当\n　\tだから全部大事、全部欲しいの話になる\n　　\t業界構造を変えてやるんだ！くらいのことは言動で示してほしい\n\tB向けサービスって、現場オペレーション等の課題や複雑な業界構造を把握しなきゃいけなくて、その道のプロが必要。調査データや動向でニーズあるんじゃね？みたいな軽い気持ちで勝ち筋を見出せる可能性は低い\n\t\tイタンジの元CTOの横澤さんからアドバイスもらうという話はそういえばどうなったんだ、、\n\tDroidKaigiのタスクに時間を取られて、アプリ開発以外の役割を全うできなかった\n\t\tとはいえDroidKaigiの準備を選んだことは良い選択だったと思っている\n\t人や組織にコミットできてる感がない。目の前のプロジェクトをとりあえず生産しているだけな感じがするので、中長期的にガタがきそう。\n やりたいことがあまりわからないまま開発をスタートしてしまった\n \tわからない→取りに来ないから悪い、では会話にならない。歩み寄りが必要\n\tマネジメントの振り方が雑すぎる。権限がないのに責任だけ降りてきてる。\n\t\t粒感の小さいものから渡していくべきでは\n\tプロジェクトとして誰が何の役割を果たすのか曖昧のまま進行していたにもかかわらず、開発チームに責任だけ降りてきている状態になっていた\n\t\t要件をくんで、機能にするかどうかを取捨する機会を作るべき(ミーティングなりフロー)\n 細かいところはわからなくてもいいけれども、納得感が少ない製品を作ると下請け業者と同じなので、内製するべきではなかった。\n 納得感はそれぞれのプレイヤーで別だとは思うが、誰がどのように得をして、営利団体としてはどうやって利益に反映されるのかが見えなかった。\n\t仕様の背景や意義を共有される機会が少なかったので、よしなに考えろと言われても考えようがない\n\t要件→見積もりが終わっていないのにリリース時期が動かせないようなプロジェクトは無理筋\n\tリリース判定会議の結果など重要事項は会議に参加していないメンバーにも共有して欲しかった。なんか全体的に共有するすべきことを共有できていなかったと思う\n\t仕様とかを共有される機会が少なかった\n\tPM不在\n\t\tPM人材どこ･･･\n\t自社開発している感がなく受託開発してるみたいだった\n\tアプリ開発に関するミーティング以外出席しなかったが、たとえスケジュールに入れられてなくても出るべきだったなと後悔\n\t開発期間もない中ほぼ丸投げでサーバーの実装を行うことになった。もし全然できなかったらプロジェクトも遅延しただろうにやばかった。ほぼリスクしかなかったと思う\n\t\t他のプロジェクト含め、オンボーディングにあまり力がさけていない。稼働中なのにReadmeまっしろのリポジトリなども存在しており、キャッチアップコストを個人に寄せすぎている\n\t営業とのコミュニケーションが実質取れておらず、優先度の概念もなかった。\n\n\tQrioはリソースの割に複数プロジェクトを並行しすぎ [+1.icon] \n\t\tCastle, Sirius, Avis, Joker やりつつ King, Q-SL1, Tag の保守とかさすがにやばいのでは\n\t\tしかもビジネスドメインが違うので、それぞれのビジネスドメインの知識を勉強する必要がでてくる\n\t\tフォトシンスやmamorioでもなんでも良いけど、同じくらいの規模の会社でここまで色々やっているイメージがない\n\n\t全部大事、全部欲しい、では会話になってない\n\n\t一部で急に仕様が変えられていて、その情報が共有されていないまま決定事項になっている\n\tプロジェクトメンバー内の危機感に差がある\n\t全体のスケジュールグダグダしすぎた\n\t\t誰も引いてなかった？\n\t\t急にSQA始まるとかでバグ対応工数が乗った感\n\t\tいつまでにどんな状態のものができていれば良いのか認識合わせするタイミング？が難しかった\n\t\t\t極端な話、当初はクオリティを求めず動けば良いみたいな話もあったが結局SQA走ってるし\n\t\t\t\tクオリティの意味に差があったのかもしれない。SQA走らなかったら致命的なバグとか内包したままになりそうだし、SQA自体はあって良かったような。SQAから上がってきたバグのうちどこまでやるのかの認識がズレていたのかもしれない\n\t要望をただ取り入れていくと、このプロダクトは不動産管理システムを目指しているの？大方針見えなくなってくる\n\tKPTの場に開発の人しかいない\n\n\n\n[https://gyazo.com/aa29bc4c72e238d5f74f860048da7c03]\n\n##Castle #定例\n# 20190405_Joker議事録\ncreated_at:Mon Jan 19 1970 08:47:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:47:21 GMT+0900 (日本標準時)\n20190405_Joker議事録\n・そもそも鍵はいるのか？？\n→昔は門番だった\n→常に空いてて、悪い人が来たときだけ閉まればいいんじゃない？\n\n・鍵の概念\n\n鍵について考える\n・悪人をなくせば解決\n\nユーザーと鍵との距離\n・停電\n\nドアから遠く離れたときに鍵のニーズはあまりないのでは？\n・本人にはない\n・見守りニーズ\n\n接近戦\n・自分が開けたら開く、しめたらしまる（リアルタイム）\n→手ぶら\n・指紋センサー\n・ハンドル電流\n・チップシール\n・Natureの中身を入れる\n\n軸\n・スマートホーム\n・Qrio Key\n・以心伝心（ロボット）\n\nみんな\nブレスト準備\n\nまゆしさん・竹内さん\n・鍵の意味\n\n市川\n・PEST分析\n・競合調査\n・ヒアリング\n\n深澤さん\nブレスト準備\n\n\n\n\n\n# - 仕様がわかりづらい  見ても情報多すぎる問題\ncreated_at:Mon Jan 19 1970 08:47:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:47:16 GMT+0900 (日本標準時)\n- 仕様がわかりづらい  見ても情報多すぎる問題\nfrom [King BCU iOS 見積もり]\n\n - 仕様がわかりづらい https://docs.google.com/spreadsheets/d/1H6hWjvmK9_2DsF_VvqQvgKTZMki58JKCBbAKgjRpHoQ/edit##gid=1469510983 見ても情報多すぎる問題\n    - エラーハンドリングの実装ができた時点で、ひろさんのコードレビューを佐藤がすることでカバー      \n# コールドスタート\ncreated_at:Mon Jan 19 1970 08:45:51 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:46:59 GMT+0900 (日本標準時)\nコールドスタート\n特にNode.jsを使うAWS Lambda / Google Cloud Functionの初回レスポンスが遅い問題\n\tNode.jsは1プロセスあたり同時に1つのリクエストしか捌けない\n\tNode.jsは起動時に依存モジュールを（工夫しなければ）全部読むので5秒、10秒とかかかる\n\t\t-> 2リクエストが同時に来ると、1つはレスポンスまで5秒、10秒という単位で待たされる\n\t\tこれがコールドスタート問題\n\n\t例えば「1つ目を1秒で処理して、1秒後に2つ目を処理すれば、2秒で終わる」という場合\n\t\t普通のNode.jsサーバーならそうなる（運次第で1秒待たされる）\n\t\tAWS / GCPはフルマネージドなので「1つリクエスト余ってるから、1プロセス新規起動しよう」となる\n\t\t-> 初回起動処理が全部走るまで待たされる（仮に1つ目のプロセスが開いても待たされる）\n\n\t初回だけ + しばらくはプロセスが生きるので、一旦起動すれば落ち着く\n\t\tフルマネージドなのでそのうち死ぬ\n\n対策\n\tbotを回して大量の同時リクエストを定期的に投げる\n\t\t1時間ごとにめっちゃPOSTするとか\n\t\tこっちで勝手にやる\n\tクラウドやめる\n# Roomon 山田さんレクチャーのメモ\ncreated_at:Mon Jan 19 1970 08:46:01 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:46:08 GMT+0900 (日本標準時)\nRoomon 山田さんレクチャーのメモ\n\nURL(***.roomon)に表示されるのは、企業ID\n\nログイン後、最初は親マネージャーしかいない\n最初はグループ登録する必要がある\n\nサンプルCSVをダウンロードして、エディタで開いて子グループをつくる\nそのCSVをアップロードすると、子グループができる\n\t追加と上書きになる。削除は不可\n\nマネージャーからユーザー登録\nCSVでユーザー登録できる\n権限を指定可能。マネージャーかオペレーター\nCSVを追加すると、ユーザーのログイン・パスワードが記載されたCSVファイルが落ちてくる　それをユーザーに知らせる\nユーザーはログインできる状態になる\n\n次に建物と部屋の登録\n\nこれもCSVで登録していく\n建物コード = 建物名 になっている\n建物は一気に複数登録可能\n\n建物の検索は建物コードを入力することで行う\n\n設置業者にむけ、設置アカウントを作る\n設置業者用アカウントのデフォルト有効期限は24h　あとで変更もできる\n\nつくったら、QRコードを発行できる\n設置アカウントに部屋を紐付ける\nそのあとシートを発行するとQRコードがでてくるので、印刷して設置業者に渡す\n設置業者はそれを見て、アプリを開ける（入ってなければインストールできる）\nアプリから紐付けられた部屋の一覧を見れる\nそのあとアプリから部屋ごとにロックを登録する\nロック登録時、FWも最新にしてくれる\nそのあとハブを登録する　オートロックも1ドア2ロックもできる\n\nリモート設定のOFF/ONはできないようにしている\n\n「機器の初期化」をやると、その部屋の設定が全部消える\n\n登録状況はRoomonのコンソールから確認可能\nコンソールからはリモート解施錠できる　設定アプリからはできない\n\n空室モードと入居モードがある\n空室モード\n\tコンソールから電話カギを発行できる\n\t\tその際に必ず閉めに行っている\n\t\tなんで閉めに行っているのか、あとでとくさんにきく\n\n入居モード\n\tファミリーキーを発行できるようになる\n\t入居した人がファミリーキーを自分で発行できるようになる\n\tファミリーキーは20個まで発行できるようになっている\n\t入居モードでもコンソールから解錠できる（警告のアラートが表示される）\n\n\nそこから空室モードに戻したときは、ファミリーキーをはじめすべてのキーが使えなくなる\n\n\n操作履歴は、Castle上からの操作のみ表示される。ファミリーキーの操作は表示されない\n\n部屋ごとの履歴も部屋のページに履歴のタブがあって、そこから見れる\n\n\n\n権限の編集機能はのちのちに実装される\n\n今は子グループが作った部屋を親グループが見ることはできない\n\tのちのちできるようになるが、現状親が見る方法は、子グループでログインして部屋のURL（buildingId）を知ることである\n\n\n\n\n# TypeScript\ncreated_at:Mon Jan 19 1970 08:45:57 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:45:58 GMT+0900 (日本標準時)\nTypeScript\nなんやねん\n\n\tこれがJavaScript\ncode:test.js\n const add = (a, b) => a + b;\n \n\n\tこれがTypeScript\ncode:test.ts\n  const add = (a: number, b: number): number => a + b;\n\n\t`: number` がTypeScriptの実体（と考えてほぼ問題ない）\n\t\tprivateみたいな実質的な差もあるが少ない\n\t\tちなみにprivateはJSにも多分入ります https://github.com/tc39/proposal-private-fields/blob/master/OLD_README.md\n\t「JavaScriptのスーパーセット」という言い方をされる\n\t\tTypeScriptコンパイル ≒ 型アノテーションを削除するだけ\n\t\tin: const add = (a: number, b: number): number => a + b;\n\t\tout: const add = (a[- : number], b[- : number])[- : number] => a + b;\n\t\t\t`Type` `Interface` などのTS独自要素はそのまま全部消える\n\t\t\t（いちおうpolyfill変換同時サービスとかもある）\n\tTSの問題は、型をつけるのが難しいこと\n\n# polyfill\ncreated_at:Mon Jan 19 1970 08:45:54 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:45:55 GMT+0900 (日本標準時)\npolyfill\nブラウザー標準実装の代わりを、手で、JSで突っ込んでやる手法のこと\nhttps://developer.mozilla.org/ja/docs/Glossary/Polyfill\n\n例えば https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\ncode:polyfill.js\n if (!Object.entries) {\n   Object.entries = function( obj ){\n     var ownProps = Object.keys( obj ),\n         i = ownProps.length,\n         resArray = new Array(i); // preallocate the Array\n     while (i--)\n       resArray[i] = [ownProps[i], obj[ownProps[i]]];\n     \n     return resArray;\n   };\n }\n\n\t`Object.entries` というメソッドが1回以上使われているコードを実行する「前」に、最初のところで、無理やり食わせる\n\t\tこれを手で入れるのはあまりに辛いので、babelとかがよしなにやってくれる\n\t\tよしなにやってくれる処理がJSで書かれているので、Node.jsが必要になる\n\tファイルが肥大するので、最低限にしたい。というかやりたくない。遅いし\n\t\tIEを切る\n\t\t2パターン作る（Polyfillなしバージョンと、Polyfillてんこ盛りバージョンを作り、script句で切り分ける)\n\t\t\thttps://cli.vuejs.org/guide/browser-compatibility.html##modern-mode\n\tpuppeteer\n\n# Long polling\ncreated_at:Mon Jan 19 1970 08:45:53 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:45:53 GMT+0900 (日本標準時)\nLong polling\nPushとか調べると出てくるやつ\n\n\n\n# CS管理ツール実現方針\ncreated_at:Mon Jan 19 1970 08:42:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:43:03 GMT+0900 (日本標準時)\nCS管理ツール実現方針\n要件 [Castle / CS管理ツール要件メモ]\n\n[** 提案]\n3が一番良いのではと思ってます。\n\n[** 選択肢]\n[* 1. どのCompanyも操作できるCastleCSユーザー作る]\nscope list にif user is CS みたいなのを付け足す\nスーパーユーザーを作るようなイメージ\n\nメリット\n なんでもできる\nデメリット\n 任意のCompanyの好きな機能をいじれるのは権限として強すぎるかも。ログにも残らないので危ないかも。\n\n[* 2. あるCompanyを操作できるCastleCSユーザー作る。Companyの指定をする管理ツールを作る]\nメリット\n 1よりは安全な状態になる\n 管理ツールを使ってCompanyの指定するのは川上さんが操作して、Companyの操作はアルバイトメンバーに依頼といった運用ができる。\nデメリット\n 1より開発工数がかかる\n\n[* 3. あるCompanyのマネージャーアカウントを発行/削除する機能]\n「Qrioサポートアカウント」といった名前のアカウントがエイブルのサポートをする。Companyのマネージャーアカウントの発行、パスワードリセットをできるようになる。\n Companyに最初にアカウント引き渡すタイミングで「Qrioサポートアカウント」も一緒に作っておけば、何も作る必要はないはず。\n \tその場合、QrioサポートアカウントのIDパスワード管理が必要になる\n \t\tGoogleDriveに管理するとか\n\nメリット: \n 既存のRoomonシステムに乗っているのでログにも残る。\n システムの変更が少ない\nデメリット: \n 既存のRoomonシステム以上のことはできない\n \t[Castle / CS管理ツール要件メモ] を見る限りは、既存システム以上のことは必要ない？？\n \t初回のCompany、Group、User一つずつ作るとか\n \theroku psql でSQL流すだけでもいいんじゃないか説\n \tあるCompanyのマネージャーアカウントを発行/削除する機能もAPIかpsqlつくる\n \t\t管理会社側に作ってもらうこともできる\n \t\t 管理会社がログイン出来ないパターンで困る\n 管理会社にログが見えるので、管理会社の了承を取る必要がある。\n# Avis Lean Canvas ver1.0 に対する意見とか\ncreated_at:Mon Jan 19 1970 08:41:54 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:43:01 GMT+0900 (日本標準時)\nAvis Lean Canvas ver1.0 に対する意見とか\n[fukazawa.icon] と [takeuchi.icon] で話した\n以下は基本的にはサービスによらない（宅配でも家事代行でも共通の）内容だと思っている\n\n## 9.コスト構造\t\t\nコストはどれくらいかかるか？\t\t\n\n\"【開発】\n・ゲストキーの発行数を計測するための機能実装(サーバー)\n　→要確認\n\n・暗証番号での解錠、または電話解錠など、アカウント登録が不要な解錠機能実装(サーバー)\n　今の仕組み（CUから招待メール->Accept）だと困る\n　\t業者がいちいちアカウントを作る必要があり、手間である\n　\tゲストキー発行、削除は完全にシステムまかせにするので、業者/エンドユーザーがこの作成にかかわることはない\n　まあなくても成立はするだろうが、あったほうが業者の作業ステップもはるかに少なくなるし、「えーこんなややこしいの使えんやろ！」とか言われなさそう。たぶん\n　従来の合カギ発行のInvitation -> Acceptのフローをすっ飛ばせるフローを、サーバーの変更で組めそう byこまいさん\n　\t宅配日時が確定したら、ゲストキーを自動で発行する\n　\tこうすれば、宅配員がCUを開いただけでゲストキーが使える状態になっているので、宅配員はCUから解錠するだけ\n　\t\t宅配員のCUには1日に4~5つの合カギがCUに表示されることになるが、そのへんは表示の工夫で解決できる\n\n・カメラとの連携機能実装(サーバー)\n　1stリリースではやらない\n　\tそもそもQrioがそこまでやる理由はないのでは\n　\tカメラは不安ならどっか別口で調達してきて使ってね、というスタンスにする\n　\tサービスの1stリリース後、サービスが普及してきたら、こちらからの提供も検討する\n　\t後々考えるであろうプラポリの観点で、録画映像をQrioサーバーで持ちたくないってのもあるはず[m.suzuki.icon]\n\n・エントランス用ロック開発(ハード/アプリ/サーバー)\n　1stリリースではやらない\n　最初のターゲットはエントランスのない家に住んでいる人にする\n　\t今のKingの客層と同じ\n　\t最初にKingをtoCで売り出すとき、エントランスのない住宅をターゲットにしていたので、現在のKingユーザーは基本的にはエントランスはないところに住んでいるはず\n　日本の住居のうち、サービスを導入できそうな住居の数を調べる\n\t　エントランスなしの住居\n　\t\t調べ方がわからん\n　\t\t（全てではないが）3階未満の建物です[m.suzuki.icon]\n　\t\tありがとうございます！調べてみます〜[takeuchi.icon]\n\n## Lean Canvas以外の話\n### Qrio Lockを小さくする理由\n\t今のところない\n\tサービスへの機能面には貢献しない\n\tそもそもの課題は「業者の出入りでロックにぶつかって、ロックが落ちたり壊れたりするかも」というもの\n\t小さくしたってぶつかったら壊れる\n\n## その他\n1ドア2ロックは、営業上は需要があるためあったほうが台数は出る\nドアに同じカギが2つ付いていることについては、それらがディンプルキーでない限り、冗長化によるピッキング予防の効果はない\n\n# Avis 2019/4/2\ncreated_at:Mon Jan 19 1970 08:42:50 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:43:00 GMT+0900 (日本標準時)\nAvis 2019/4/2\n\n市川さん、鈴木さんの市場調査結果の報告\n\n\n家ナカサービス\n\n宅配BtoC EC市場は増えてはいる　4年で5兆円\n\n食品\n生協（個配）\n\nウォーターサーバー\n市場はそこまで大きいわけではない\n一般家庭だけではなくオフィスも含まれる\n一社くらいはトライアルでやってみるのもいいのでは\n\nアパレル: 宅配と同じ\n\nクリーニング\n市場は縮小気味\n無店舗取引所は、業界がなんとかしようとして参入している　ちょっと伸びてはいる\nこれもトライアルで、はありかも\n\n家事代行\n市場自体は増えている\n市場規模は宅配とくらべると小さいが1兆円弱になる\n\n介護\n10兆ちかくあり、これからも増える見込み\n\n\nやってくれる企業はまだ決まってない\n業界を絞る前に、各々サービスの具体的なかたちを考えてみる　それから提携先を探す\n- ヒアリングをやってみたいが、誰がやる...？\n\n明日\nAvis/Jokerは繋げてやってよいかの確認\n宅配も介護もニーズありそう、という話する\n「提携先はなし進んでますよ or 探してください」\n- 不在宅配は入っているが、介護周りは考慮に入ってないかも？まだまとまってはない\n\n介護だと海外から参入されにくいのでは？\n\n\n\n遠距離介護\n親の様子を知りたいニーズはある\n- 技術的にその辺を予防したりできないか\n\t　徘徊とか\n\n\n介護\n在宅介護にならざるを得ない\n\t収容人数があふれて施設に入れない\n\t介護施設は入居費に20万かかったりするらしい\n\n\n田舎の訪問介護は勝手口から入るケースもあるらしい\n\t10年代: 90年代にくらべ防犯意識が高まっており、カギを閉めておきたい\n\n\n\n# Castle Anton\ncreated_at:Mon Jan 19 1970 08:21:20 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:42:59 GMT+0900 (日本標準時)\nCastle Anton\n\tリファクタリングとテスト、長期的な開発継続のための開発\n\t\t活発な開発をおおよそ1年以上やるならやっておきたいな、程度の課題感をまとめたもの\n\t\tそもそも追加開発どのくらいやるのか決まるまで放置\n\t\t年単位で開発継続するなら整備するかも\n[https://gyazo.com/1743867e9d3ffe095deb8503c5ae07ce]\n\n\n[* リファクタリング]\n\tStoryBook見直し、っていうか全然書いてないので\n\tCSSってあれでいいんでしたっけ[tottokotkd.icon]\n\t\ttailwind css…\n\t\t`@apply` やってるとこと・やってないとこ統一する？とか\n\t\t\t見つけ次第殺す　`@apply`　styleもできれば消す\n\t\t\tどっちにするのがベストなのか謎 [tottokotkd.icon]\n\t\t\t無理はしないけど消す\n\t\tマージンとパディングの使い分けとか、やってはいるけど微妙に統一されてるか自信ない\n\t\t\t自動でなんかバーンと検出してくれるとか… なんか…\n\t\t\t自信はないけど一応やってるし改めて対応するほどでもないという感じ\n\tVue 飽きたから React にするとか\n\t\t無理\n\tファイル名の不統一をなおす\n\tサーバー側の権限管理がバラバラなので何とかする\n\tデプロイすると壊れて人力リロードが必要になる\n\t\t現状だとリロードを促す機能もない\n\t\tサーバーの手前にCDN置くとかもあるが、やってない\n\t\t夜更けにデプロイするしかないので、なんとかすべき\n\n自動化テスト\n\tAPIのテスト\n\tフロントエンドのテスト\n\t\tコンポーネント\n\t\thtmlスナップショット\n\t\tE2E\n\t環境テスト\n\t\tクロスブラウザ\n\tGitHub -> CI連携\n\t\tCIサービス\n\t\t\tなんでもいい、とにかくテストを回す必要がある\n\t\t\tデプロイができてるので、優先度は低めで大丈夫です\n\t\t\t弊社では HerokuCI かCircleCI2.0 か CodeShip(結局流行らなかった。おすすめしてない) \n\t\t\t\tまずはHerokuCI、困難があればCircleCIにしてもらえればと思います[tsato.icon]\n\t\tRenovate https://github.com/marketplace/renovate\n\t\t\tnpmモジュールなどをサクッと最新化してくれるサービス\n\t\t\t経験的に、誰もアップデートせず身動きが取れなくなる事件が起こりがち\n\t\t\tセキュリティアップデートに追随できないと致命的。まともにサービス運用したい + 人がいないならマスト\n\n[*** 見積もり]\n\tサーバー側のテスト [tottokotkd.icon] 30日以上\n\t\t直感的な印象\n\t\t解像度を上げるためには、具体的な項目にバラして見積もり・コードチェック・優先度策定する必要あり\n\t\t\tアプリむけAPIは1行も読んでいないレベル\n\t\t\tまず検収のような作業からやる必要あり\n\tクライアント側のテスト 想定不能\n\t\tそもそも今更書くメリットがあまりない\n\tStoryBook見直し\n\t\t見た目だけ　5日　[narico.icon]\n\t\t挙動　\n\ttailWind CSS綺麗にする 随時タスク [narico.icon]\n\tVueコンポーネントの整理、再設計、統合 [tottokotkd.icon]15日？\n\t\tどんどん酷くなるので、直すなら1日でも早くやる必要あり\n\t\t属人的になってしまうとメンバー変更が効かなくなる\n\t\tただ Vue の構造的には「わからんページだけ捨てる」という逃げ方もあるので、開発継続できなくもない\n\t\t\t効率は落ちる\n\n##Castle\n\n# Castle / CS管理ツール要件メモ\ncreated_at:Mon Jan 19 1970 07:42:24 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:42:55 GMT+0900 (日本標準時)\nCastle / CS管理ツール要件メモ\nwrittern by [ymtk.icon]\nlast update 19/2/19\n\n\t目的\n\t\t都度エンジニアを呼んだりCS担当者自らがDBを叩いたりすることなく、迅速なCS対応を実現する\n\t\t\t特に電話対応を考えると、その場でアレコレ調べられないと対応にならない\n\t\t\t決済に関わるものは紐付かない\n\t\t\t管理ツールから各拠点のあけしめも行わない\n\t\t\tロック自身についてはkingの管理ツールの機能が使える\n\t\t\t外部ベンダーが使う場合は、ログイン機能and IP制限必要そう[nakano.icon]\n\n[** \tリリース時要件]\n\t\t管理会社検索→元情報がたりないのでしばらくはツールなしでOK[ymtk.icon]\n\t\t\t連絡してきた管理会社の情報を取得できる\n\t\t\t\t会社情報、担当代理店情報\n\t\t\t\t利用ロック数\n\t\tCastle利用ロックの判定→King-CSツールで実現済み[ymtk.icon]\n\t\t\tロックのシリアルNo.からCastleで利用されているものか判定させる機能。\n\t\t\tCastle利用であれば、故障の際は利用者からの直接回収は行わず、管理会社経由の回収となる\n\t\t\t上記の理由から、担当管理会社名が出る必要もある\n\t\t\t現在のking管理ツールに入れておくのがよさそう\n\t\tCastle親組織マネージャーアカウント発行\n\t\t\tCastle親組織マネージャーアカウントをQrioから発行する機能\n\t\t\t会社情報（会社名、電話番号、住所）と担当者名、担当代理店、メアドを使って登録する\n\t\t\t\t発行した旨は担当代理店に連絡する必要がある。契約についても代理店経由の場合は直接受けられない\n\t\t\tアカウント自体はメールで担当者へ通知する想定\n\t\tCastle親組織マネージャーアカウント・パスワードリセット\n\t\t\t（メアドなのでWebから操作してもらう･･･？）\n\t\t\t徳さん進捗確認\n\t\t\t\tBCUに関してはできてて、Web側もやればできるよ\n\n[** \tリリース後要件]\n\t\tCastleアカウント削除\n\t\t\tCastle親組織マネージャーアカウントおよびそれに紐付く全てをQrioから削除する機能\n\t\t\t\t退会時のオペレーションの事？ [tottokotkd.icon][tsato.icon]\n\t\t\t\t退会ってどうするのか\n\t\t\t\t\tロックが急に初期化されたらまずいので、マスターキーを削除するタイミングは慎重にする必要がありそう\n\t\t\t上記を行うと、対象組織の全ての情報を削除する。解施錠も行えなくなるため、実際に行う場合の確認フロー、何を持ってOKとするのかを考えておく必要がある\n\t\t\t\t削除依頼書があり、この削除により何か起こってもQrioは責任取りませんよ、という内容がおそらく必要\n\t\t\t\tあるいは、全てのロックが削除されている状態を作るか？\n\t\t\t\t\t現実的に全てのハードをリハッシュしきることは無理なので、サーバ前提の削除になりそう。リリース時に決まる要件ではない\n\t\t\t\tCompanyにisDeletedカラム生やしてそれ見てログイン塞げばいいのでは [tottokotkd.icon][tsato.icon]\n\n# Castle 週定例 2019/3/26\ncreated_at:Mon Jan 19 1970 08:32:45 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:32:56 GMT+0900 (日本標準時)\nCastle 週定例 2019/3/26\n[https://gyazo.com/13a5d8fb3505174a8f2a1f4a35df2089]\nhttp://walking-matsumoto.net/sightseeing/tourist-attractions/half-day-course\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: [Castle Berta] しばき倒した\n\to: 残件・バグ対応\n\t\t対応たぶんすぐ終わる: BCU紐付けの画面遷移バグ\n\t\tどうしようもない: デプロイの影響発生、情報表示\n\t!: 謎: 応答がなくなる、ポップアップブロック（解決ずみ？）\n\n[narico.icon]\n\tv: 印刷画面関連のレイアウト修正\n\tv: 利用規約、文言揺れなどのテキスト周り\n\to: 500の画面をエラーを汎用エラー的なものに作り変える\n\to: Castle_Bertaの表示系でおかしいところ\n\t\tBCU　QR印刷　IEでまだおかしい\n\t!: 部屋新規登録時にデフォルトで空室になって実際は入居してるから電話カギ作れたりリモート操作できて危ない件\n\t\tBiz側共有まだだけど今日する\n\t\t\tデフォルト入居にしておくのがセキュリティ的には安全\n\t\t\tイニシャル30部屋は全部入居\n\t\t空室: リモート操作権限ゆるい、電話カギ発行できる\n\t\t入居: リモート操作権限厳しい、電話カギ発行できない\n\t!: 再リリース判定で4/1週なのか4/8週なのかは今日後ろのmtgで判定するっぽい\n\n[tsato.icon]\n v: QA対応 ランクA,B全部解消\n o: QA対応 ランクCあと6個くらい？\n \thttps://docs.google.com/spreadsheets/d/1jWU63mKLTcTz4d_btG9hNVsRwcGzWt_lnIHbsDYGrvQ/edit##gid=804303444&fvid=1477375268\n o: OSSライセンス表示\n !: 3/28(木) BCU Androidリリース予定です\n\n[h.yamaguchi.icon]\n\tv: ロックの登録\n\tv: 解施錠位置調整とテスト\n\tv: ロックの削除\n\to: オートロック設定\n\to: サブロックの登録\n\n[ymtk.icon]\n今日中に倒すものが多いので作業時間確保したくmtgは欠席します\n\tv: 統合ガイド\n\tv: CSツール（シリアル検索）\n\to: リリースに向けた調整\n\t\tRUのFWとかガイドとかリストアップ\n\t\t\thttps://docs.google.com/spreadsheets/d/1YZn5R1DqAVvIZbOem9Z48Nd8G4UIKbt-54WsDCZnnL0/edit?usp=sharing\n\to: 導入勉強会\n\t\tいつやるんですか？とりあえずどこ向けに？[tsato.icon][tottokotkd.icon][narico.icon]\n\t\t\tFNJです。3/28(木) 15:00-[ymtk.icon]\n\t\t\t\t設置ガイド、総合ガイドを使ってCastleの操作全般を説明、システムは触らない(demo.roomon.jpを見せるくらいはする)。質問に答える。\n\t!: ガイド更新タイミング(UI変わったり機能増減したり)\n\n[hazimetyan.icon]\n[kk.icon]\n\n[m.suzuki.icon]\n\n[mikamix.icon]\n o: 開発環境用意(castle-api)\n \thttps://github.com/qrioinc/castle-api\n \t.env.sample.development -> .env\n \t`yarn` でインストールして `yarn dev` を叩くと動く\n \tCastle Staging -> King Staging を叩く設定はheroku参照 https://dashboard.heroku.com/apps/castle-api-staging/settings\n \t\tDBもありますが直接接続すると現状まだ危険（モデル層をいじると勝手にDDLぶん投げる）\n \tts-node https://github.com/TypeStrong/ts-node\n \t\t10年後とかdeno使ってそう [tottokotkd.icon]\n\t\tking -> castleへのログ送信Api /log/king \n\t\t\tbasic認証 id pass 共に castle\n\t\t ソース https://github.com/qrioinc/castle-api/blob/master/src/log/king/index.ts \n\t\t\tpostman https://qrio-dev.postman.co/collections/6234139-09093714-0204-413b-9277-f2677541c1e9?workspace=dca294ad-768d-46df-a025-ab065355a7c5\n ロック登録のためにBCU Android使う必要ある？[tsato.icon]\n \tローカルのDBいじるので特にいらないかも\n o: alertテーブルを作る(type orm)\n  kingからログを投げるところはできてる(kmi君作)\n  ログの受け口\n o: バッテリー残量低下のハンドリング\n o: オートロック連続失敗のハンドリング\n\n 依頼内容はこちら [CaMo] [tsato.icon]\n\n[*** ##KPT]\n\t前週[Castle 週定例 2019/3/18]を読み返してみて\n\n[* よかったこと、続けていくこと]\n\n[* 課題感、やってみること]\n##Castle #定例\n# mikamix\ncreated_at:Mon Jan 19 1970 08:32:46 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:32:46 GMT+0900 (日本標準時)\nmikamix\n[https://lh4.googleusercontent.com/-aSYfoo-aQbY/AAAAAAAAAAI/AAAAAAAAAA0/HnLvut94vBs/photo.jpg]\n\nthis is mikamix’s page\n\n##member\n# 不動産内見\ncreated_at:Mon Jan 19 1970 08:27:11 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:27:11 GMT+0900 (日本標準時)\n不動産内見\nfrom [CaMo]\n\n\t驚くほど仲介に手間がかかる [tottokotkd.icon]\n\nroomon使わない場合\n\t仲介が管理に電話、\n\t管理が空室確認をする、\n\t仲介が管理に名刺をファックスで送る、\n\t仲介は管理にもう一度電話、\n\t管理は名刺ファックス確認したので、物理カギ受け取りにきてください or 現地のキーボックスを使ってください。\n\t管理が内見予約をしている。Excelか何かでしているはず。\n\nroomon使う場合\n 仲介が管理に電話、\n 管理が空室確認をする、\n 仲介が管理に名刺をファックスで送る、\n 管理は電話カギを発行する。\n 管理は名刺のファックスに記載されたメールまたはファックス番号宛てに電話カギ向けの電話番号をファックスする\n\nより自動化を考えると\n 空室確認は自動化できる (ぶっかくん bukkaku.jp)\n \t注 atBB に乗らなくなる可能性がある。ぶっかくんがそうなっていた。\n 仲介の免許確認ができる \n \t免許確認はなんかあった時にしている。普通はしないと思う。名刺ファックスはなんかあった時に確認するために必要。\n \n\n# Castle Kaufmann\ncreated_at:Mon Jan 19 1970 08:21:32 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:24:22 GMT+0900 (日本標準時)\nCastle Kaufmann\n\tエラー関連アラートの実装 \n\t\tCastle Monitoring ということで [CaMo] にまとめる\n[https://gyazo.com/10f4796ccf4a7b44685be5d43d4476a4]\n\n\t[Castle Emil] で対応する「電池切れ」以外のアラート\n\thttps://ja.wikipedia.org/wiki/通話表##和文通話表\n  ハブと通信できない\n  オートロック連続失敗 \n  空室のLockと通信できない \n  \t「Hubと通信できない」と同義なのでは？\n  空室の初期化処理失敗\n  空室のロックに本体ソフトウェアの更新がある\n  空室のハブに本体ソフトウェアの更新がある\n  機器設定が中断している部屋がある\n 通知機能の代替\n  支払いが滞っているのでアカウントを停止するぞ！という通知（やらない）\n  castleのメンテナンス通知\n\n[*** 見積もり]\n\tエラー系アラートは3日 x7\n\t\tエラー系は現時点で見積もり困難なので、適当な掛け算\n\t\tやってみないと何もわからない\n\t通知系アラートは2日 x2 [tottokotkd.icon][narico.icon]\n\tホーム画面にアラート表示 2日 x2 [tottokotkd.icon][narico.icon]\n\n参考: とりあえず現状のテーブル定義\n\t`alets.battery_alert_id` ではなくて `battery_alerts.alert_id` にするかも\n\t現状まったく使われていないテーブルなので参考になるかすらあやしい [tottokotkd.icon]\n[https://gyazo.com/87b473a30515ab20251b0ccb5ca1963a]\n\n##Castle\n# Castle Emil\ncreated_at:Mon Jan 19 1970 08:21:23 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:24:22 GMT+0900 (日本標準時)\nCastle Emil\n\t電池関連アラートの実装 \n[https://gyazo.com/5bf731747742e5e10c3f5ddd9f7578e6]\n\t検出\n\t\t[- 実装済みらしい] 随時取得しに行くバージョンのみ存在（電池切れイベントを拾うような実装は未完成）\n\t \tSideA 電池がない(EP)\n \t SideA 電池交換時期(WP)\n \t SideB 電池がない(EP)\n \t SideB 電池交換時期(WP)\n\t表示\n\t\t単に出すだけなら別に…\n\t\t部屋詳細のロック・ハブ一覧に出す？\n\t\tエラー専用の一覧ページに出す？\n\tメール通知？\n\n[*** 見積もり]\n\t[- 表示するだけならAPI含めて2日]\n\t部屋詳細で「ページアクセス時にその部屋の情報だけ出す」なら3日\n\t定期的に情報収拾する仕組みは現状ないので、そこを作るなら7日くらい \n\n##Castle\n\n# Castle 週定例 2019/3/18\ncreated_at:Mon Jan 19 1970 08:22:41 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:23:03 GMT+0900 (日本標準時)\nCastle 週定例 2019/3/18\n\tここにいい感じの画像\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: Castle 4月冒頭の機能を揃えつつ本番環境デプロイ\n\to: [Castle Berta]\n\t\tバリデーション以外なるべく全て\n\t!: Castle 中長期の計画がちょっとよく分かっていない\n\t\t[Castle バージョン展開] あたりを手がかりに決めてもらえれば（誰が？）\n\t\tリファクタリングやる必要性をどのくらい強く主張するか等々にわりと関係あるので知りたい\n\t!: 本番環境でもテストできる `09d72ed3-553a-4673-b978-dcf2f799e5a2.roomon.jp`  みたいな何かを用意する必要性、その作業で使うツールの整備\n\t\tサクッとやりますと言いつつ放置しているので今週でここも片付けられれば…\n\t\tとりあえず必要なので、何か適当に手作業で今すぐ作る\n\t!: BCUが最初に使われる日付を忘れている\t\n\t\t4/1にストアに公開します。そこから使われてく予定[tsato.icon]\n\t\t[+1.icon] [tottokotkd.icon]\n\n[narico.icon]\n\tv: Castle管理画面レビュー　シナリオ1 https://qrio.esa.io/posts/480\n\to: 三上さんとタスク相談\n\t\tLockの時計ずれ問題とアラート関連のフィジビリ\t\n\t\t\t空室のときに時計がずれて、Lockの操作ができなくなる問題\n\t\tアラート周り\n\t\t\thttps://github.com/qrioinc/castle-api/issues/67\n\t\t\t[Castle Kaufmann]\n\t\t\tバッテリーがない\n\t\t\t\thttps://github.com/qrioinc/castle-api/issues/147\n\t\t\tオートロック連続失敗(ログから?) push\n\t\t\tハブ接続できない(あけようとした時にわかる?)\n\t\tやって欲しい: 手を動かすというよりは、フィジビリティとか設計とか\n\t\tできたらやってほしい: Kingから送られてくるログをCaslteで処理してデータベースにいれるくらいの実装\n\to: ヘルプリンクの確定URL、確認して差し替える\n\to: BCUのQR印刷画面、レイアウト直す\n\to: [Castle Berta] の細かい対応\n\t!: 三上さんの稼働日数てどういう話になってるのか知らない\n\t\t打ち合わせ入れてください　＞　[- 今日の開発定例15時ー16時のあと？]　できれば定例の前がいい\n\t\t深澤、佐藤、徳田、成田\n\t\t契約周りはymtkさん\n\t!: 利用規約の進捗どう、ページは適当に作ってある\n\t\t利用規約終わったので渡します[ymtk.icon]\n\t!: リハッシュ関連のAPI開発遅れてる件\n\t\tモード切り替えに関わるSQA項目300件くらいある。2、3日かかる by山田\n\t\t喫煙所でちょっと伺ったりはしてる\n\t\tCastleはすぐ実装できる状態 (１行書けばいいくらいの話)\n\t!: Roomon 販売・改善 プラン（来週）てなんの話かよくわかってない。\n\t\tワタシモキイテナイヨ[ymtk.icon]\n\t\t\t先のリリースマイルストーンからはこちらで要望解析他、主導権握っていきます（当初リリース予定機能以降の話）\n\t\t\t[https://gyazo.com/9c0fbcd167b5aae87868a63fd1807e2b]\n\n\n[tsato.icon]\n v: ロック登録時の、ソフトウェア強制アップデート機能\n vo: QA対応\n \t障害ランクA、Bは3つくらい残して対応済み、直ったかQAに見てもらっているところ\n  https://docs.google.com/spreadsheets/d/1jWU63mKLTcTz4d_btG9hNVsRwcGzWt_lnIHbsDYGrvQ/edit##gid=804303444\n !: リリース判定会するにあたって、ソフトウェアはどういう状態であるべきなのか確認\n \t残件、残課題\n \t現状(3/20)の状態、4/1の状態と、それ以降どうするか\n \t課題管理 リファクタリングしないといけない\n \tどの辺が残ってるのか？リハッシュ周り\n \t監視体制どうするのとか\n \t14:30のMTGで話す予定\n !: 今週からBCUアプリのQAの環境を本番向けにしてもらう予定\n\t\tあ、Web側の本番環境にテスト用の会社を登録する必要があるのか？確認\n\t\tこの会終わったら作る\n !: 4月以降のロードマップどうするのか。そもそもCastleにどこまでリソース使うのか\n \t[Castle バージョン展開]  を元にymtkさん相談\n \t\tリリース直後は利用状況見てエラーあれば対処して、と言うのが最優先なので、既存残件ではない新たな概念持ち込んだりするのは自分としてはNG。使ってみてアレコレ出てきたことの方が優先。[ymtk.icon]\n \t\t\t既存残件 [Castle Charlotte]から[Castle Dora], [Castle Emil]まで\n !: 何日にアプリ公開するのとか相談\n \t4/1までに公開すれば良い\n \tFNJが最初のクライアント\n \t\t設置前に試すフェーズが4/1から\n\n\n[h.yamaguchi.icon]\n\tv: QRコード読み込み\n\tv: ログインAPI繋ぎこみ\n\tv: 部屋一覧API繋ぎこみ\n\tvo: 仕様変更に伴いモデル部分見直し中\n\tvo: ロック登録\n\to: オートロック\n\t!: 本番環境の構築ってもう終わってるんでしたっけ？kingからcastleへのログ送信apiにbasic認証かけているのですが本番用のid, passwordを用意しないとダメですね。。今思い出した\n\n\n[ymtk.icon]\n\tv: 法務界隈（利用規約アップデート、商標フィードバック）\n\tvo: サービスイン判定に関わるヒアリング（CS体制、請求、リリース時のマーケ状況含め）\n\to: サービスイン判定資料\n\to: 利用者マニュアル（マネージャー/オペレーター）金曜までに作りきる\n\to: CS管理ツールは来週\n\t!: 今マニュアル向けのスクショを撮ろうとしたらどこの環境を使えば良いですか？（local？stg？）\n\t\thttp://localhost.stg.roomon.jp でok\n\n[hazimetyan.icon]\n[kk.icon]\n\n\n\n\n[m.suzuki.icon]\n\tv:ひたすらガイド制作（入居者向けガイド、設置ガイドなど4種）\n\to:設置ガイドの故障時などのサポートコンテンツ作成\n\t!:サービスのシーケンスに沿ったBCU操作はこれからだよね？\n\t\tそろそろ大小問わずフィードバックあるだろう\n\t!:4/1のリリース準備\n\t\t小暮さん主導で指示を待つかー\n   >■告知・PR\n   > ・サービスインPRリリース（PR Times配信のみ）\n   > ・eightメールでの周知\n   > ・SNS発信\n   > ・広告出稿（リスティング）\n   > \n   > ■開始のお知らせ\n   > ・会社情報内、運営サービスにRoomon追加\n\t\t4/1時点でqrio.me「2019年4月サービス開始」の表記は消す\n\t\t\t暫定チラシも注意ですね[ymtk.icon]\n\n[*** ##KPT]\n\t前週[Castle 週定例 2019/3/12]を読み返してみて\n\n[* よかったこと、続けていくこと]\n\n[* 課題感、やってみること]\n##Castle #定例\n# Castle Dora\ncreated_at:Mon Jan 19 1970 08:21:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:23:00 GMT+0900 (日本標準時)\nCastle Dora\n\tBCU周りのデータ更新UI\n\n[https://gyazo.com/56947b582751a26f1c76ebf23af87665]\n\tBCU に部屋を紐付け作業をスーパークールにしたい [Castle Dora.icon]\n\t\t工数がかかる\n\t\t少なくともローンチ当初は建物登録数が少ないはずなので実際いらないという想定\n\t\t必要になったらちゃんとやる\n\tBCU 紐付け画面の情報を増やす？ [Castle Dora.icon]\n\t\t`201 (入居)` `202 (空室)` などと情報量を増やすだけなら難しくない\n\t\t`201 (Lock 2, Hub 1, 入居)`  なども可能（必要なのかはさておき）\n\t\t`201 (Lock 2 [Error], Hub 1 [Error], 入居)`  とかもやればできる。必要なのか？\n\t\t\t建物は管理してるけど部屋の管理権限だけ別グループにあるとき何が見えるのか？とか\n\t\t\t権限周りを無限に複雑化すればなんでも実装できるが\n\t\t\t何がしたいの？となりそう\n\t選択するときの情報として必要、選択できないなどの処理には関わらない\n\t\t選択できなくしても再設定などがあるため\n\n[*** 見積もり]\n\tスーパークール紐付け + BCU 紐付け画面の情報を増やす　12日\n\t\tアイデア出し、展開 3日 x2 [tottokotkd.icon][narico.icon]\n\t\t仮定: 建物の検索があり、追加／解除が一体化しており、複数の建物を扱えて、ボタンの情報量が多い画面　6日[tottokotkd.icon]\n\t\t\t建物検索: 1.5日\n\t\t\t部屋選択: 0.5日\n\t\t\t複数の建物: 1日\n\t\t\tボタンの情報量: 権限周りの検証も含めて2日\n\t\t\tパーツの組み立て: 1日\n\n##Castle\n# Re:VIEW\ncreated_at:Mon Jan 19 1970 06:43:42 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:21:53 GMT+0900 (日本標準時)\nRe:VIEW\nとりあえずやってみる[tottokotkd.icon]\n\n[*** 手元で試すRe:View](ver.3向け)[ymtk.icon]\n\n1. 適当な作業フォルダを作る\n`mkdir qrio-techbook`\n2. ひな形を作る\ncode:bash\n\t## re:viewコマンド用のgemを入れる\n\tgem install review\n\t\n\t## 作業フォルダに移動\n\tcd qrio-techbook\n\t## 初期設定ファイルを入れる\n\treview-init src\n\t\n\t## dockerでコンパイル\n\tdocker run \\\n        --rm \\ ## コンパイル後にコンテナ破棄\n        -v $(pwd):/work \\ ## 作業フォルダをつくる\n        -v $(pwd)/.texmf-var:/root/.texmf-var \\ ## TeXの設定ファイル\n        vvakame/review:latest /bin/sh -c \"cd /work && review-pdfmaker config.yml\" ## docker-hubのイメージで実行\n\n[* コピペですぐ使うワンライナー]\ncode:bash  \n\tdocker run --rm -v $(pwd):/work -v $(pwd)/.texmf-var:/root/.texmf-var vvakame/review:latest /bin/sh -c \"cd /work && review-pdfmaker config.yml\" \n\n3. `src`直下にbook.pdfができあがる\n\n[* サンプルファイル]\nhttps://github.com/qrioinc/qrio-techbook-samp\n\n[* Visual Studio Code民向けプラグイン]\nhttps://marketplace.visualstudio.com/items?itemName=atsushieno.language-review\n\n[* 色々読んどく]\nhttps://www.konosumi.net/entry/2018/08/06/003542\nhttps://orangain.hatenablog.com/entry/review-docker-circleci\nhttps://qiita.com/voluntas/items/68c1fd04dd3d507d4083\nhttps://review-knowledge-ja.readthedocs.io/ja/latest/\n\n\n# スマートロックBLE実装の業界標準化\ncreated_at:Mon Jan 19 1970 08:21:39 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:21:40 GMT+0900 (日本標準時)\nスマートロックBLE実装の業界標準化\nBLE  通信仕様を公開してプラットフォームにするとかの備忘録\n\n[* 誰がやるの]\n\tQrio?\n\t\t現状そういうモチベーションはない\n\t他社?\n\t\t特に具体的な情報は聞いたことがない\n\n[* どうしてやるの]\n\t会社を横断するプラットフォームを作るため？\n\t\t他業種を巻き込む仕掛けとしては強そう\n\t\t市場競争に負けた会社が連合するとか、ありそう\n\tスマートロックそのものを普及させるため？\n\t\tアマゾンのように「スマートロックを自分で売るつもりはないけど安く普及すると嬉しい」みたいな企業がやりそう\n\n[* 実際できるの]\n\tQrio の持っている特許が使えるなら普通にできそう…？\n\n# Castle Julius\ncreated_at:Mon Jan 19 1970 08:21:32 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:21:37 GMT+0900 (日本標準時)\nCastle Julius\n\tオプションプランの販売機能\n[https://gyazo.com/435d9cf006a7eb4a93ea075d872fefba]\n\t有料プラン、グレード別プランを売れるようにする\n\t\t会社ごとに使える機能が違う\n\t\tサポート体制とも関係する？\n\t\t権限周りの仕組みとしては超簡単に実装可能\n\t\t\t権限スコープを生成する処理に3行追加すれば終わり\n\t\t\t「ダウンロードする」とか「出力する」というボタンを押せるか、押せないかの違いに過ぎないので楽勝 \n\t\tただし作るコストは別問題\n\t\t\t有料向けに頑張って作ったけど5万円しか儲かりませんでした、みたいなケース\n\t\t\tなまじ有料なので他のユーザーに提供できないのでは？とか。返金騒ぎか？\n\t\t\t\t事前にちゃんとストーリー描いておかないと地獄\n\t\t\t\tGitLab あたりがやっているのは「高いプランほど先行して新機能を解放」（いずれ全員に出すかも）という演出\n\t\tそもそも Castle の方向性としてどうなのか、みたいな話は別の場所でちゃんと議論する必要あり\n\n[*** 見積もり]\n\n\tスコープ生成処理の修正　2日\n\t\t条件分岐を追加するだけなので、作るのは簡単\n\t\t具体的な有料機能（ボタンを押すと何かが起こるとか）の製造コストは別\n\n##Castle\n\n# Castle Ida\ncreated_at:Mon Jan 19 1970 08:21:31 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:21:37 GMT+0900 (日本標準時)\nCastle Ida\n\tハブを前提としない運用スタイルの導入\n[https://gyazo.com/0fa2f01ae988b95914e0befd334f5d9d]\n\t電話カギなし、遠隔リハッシュなし、全面的にCU前提の仕組み\n\t\t設置はBCUでやるが、ハブは登録しない\n\t\t内見に行くときはゲストキーで施解錠\n\t\t常時ログ収集はなし (適宜CUで吸い上げる)\n\t\t入居・空室の切り替え時にリハッシュ、ログ消去はしない\n\t\t\t入居者や内見者のCUアプリにやってもらう？ (アプリをいじってCastle用の挙動をねじ込むとか)\n\t\t\t\tリハッシュのタイミングやらekeyの寿命やら、CUを全面的にいじらないと厳しい\n\t\t\t\tたぶん仕組みとして回らない\n\t\t\tそもそも「2年も入居したら交換すべき」ということで一律物理的に回収してリセットとかリファービッシュとか？\n\t\t\t\tサブスク形式で売るのか？みたいな話も含めて決めないと無理ぽい\n\t\t\t\t仕組みとしてはシンプルなので普通に開発できそう\n\t\t\t\t今、最低300台 × 350円 で 月10.5万（契約先によって半年で500台導入するから月8万にするとかを個別に相談する）\n\n[*** 見積もり]\n\t不可能\n\t\tプログラミングで解決できる問題ではないため\n\tゲストキー + CUによる内見 2日\n\tリハッシュに変わるセキュリティ対応\n\t\tCUによるハブ代替: 複雑すぎて見積もり不能。フィジビリティから怪しい\n\t\t物理回収モデルのシステム改修: 既存のキーを消すだけなので数日（システムだけ。メンテとか考慮外）\n\n##Castle\n\n# Castle Heinrich\ncreated_at:Mon Jan 19 1970 08:21:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:21:37 GMT+0900 (日本標準時)\nCastle Heinrich\n\t不動産管理システムとしての機能強化\n[https://gyazo.com/70ebf438f91193e50b7d2926ba8d1537]\n\n\t不動産管理業務のIoTによる支援\n\t\t内見の具体的状況を可視化\n\t\t空室の管理状況をデータ化\n\t\t操作履歴などを解析可能なデータ（エクセルに流し込めるCSVなど）として出力する機能\n\t管理会社から不動産オーナーあてに提出するレポート生成支援\n\t\tワンクリックﾎﾟﾁｰで見栄えのするPDF出てきちゃう！みたいな\n\n[*** 見積もり]\n\t内見の具体的状況を可視化　3日\n\t\t滞在時間の長さは [Castle Gustav] で扱い、ここでは利用するだけ\n\t\tCSVとか出力する？ ヒアリング込み3日\n\t空室の管理状況をデータ化\n\t\tなんだこれ？ 自分で書いたけど…\n\t\t「何月何日から空室でした〜」みたいなCSV？ 同上3日\n\t操作履歴などを解析可能なデータ（エクセルに流し込めるCSVなど）として出力する機能\n\t\tただ単純に「ページング実装の代わりにダウンロード」みたいなやつは [Castle Friedrich] で対応\n\t\t管理会社が必要としているCSVを調べ上げて実装するのであれば調査から含めて5日\n\t管理会社から不動産オーナーあてに提出するレポート生成支援　（PDFと仮定）\n\t\tスーパークールな生成物の見た目を決める 3日 [narico.icon]\n\t\tPDF生成・組版　10日 [tottokotkd.icon]\n\n\n##Castle\n\n# Castle Gustav\ncreated_at:Mon Jan 19 1970 08:21:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:21:37 GMT+0900 (日本標準時)\nCastle Gustav\n\t電話カギの機能強化\n[https://gyazo.com/7cb30b8bcadbbb81ef57c935363de869]\n\n\t発行相手の名前を登録できるようにする\n\t\t操作履歴に名前が出ると便利そう、よさそうではある\n \t\t自由入力欄をつくる？\n \t\tアカウント登録制？\n \t\tサジェストを賢くしつつ自由入力？\n \t不正利用の対策にもなる？\n \t\t不正利用とか考える必要そもそもある？\n [- 発信者の電話番号とか処理する？]\n \tログに残しちゃうとか\n \tたぶん実装できそうだが、名前と結び付くと個人情報にもなりそうだし微妙\n \tあんまり意味なさそうなのでやらない\n\t入室と退室を結びつけて、解析可能なデータにする（滞在時間とか）\n\t\tやる必要あるのか…？\n\t\t現実的にみて難易度が結構ある\n\t\t\t電話番号の保存あたりと組み合わせる必要ありそう\n\t\t\tオートロックのコマンドログを使うことも（どうしても必要なら）やれなくはないが…\n\t\t「滞在時間・不明」という場合もアリなら作れるが、何パーセントまで不明があってもいいのか\n\t\t\t「できれば100%じゃないと困る」と言われると作りようがない\n\t\t\t本当にやるなら要調査\n\ncode:memo.txt\n\tseki   [3 days ago]\n 余地があれば、今後の商談でも「家主へのレポート」の価値確認は進めたく思います。\n \n seki   [3 days ago]\n はい。オプション料金は考えていました。昨日の商談相手も追加料金取れる展開にできそうとコメントもらっています。\n \n seki   [3 days ago]\n 勝手に作業用アカウントに近いイメージをしていました。\n \n seki   [3 days ago]\n はい。どういう手段で操作したかではなく、「誰が」「いつ」がポイントですね。\n \n narico   [3 days ago]\n >「どこの仲介の誰が、どの程度の頻度で何分程度案内をしてくれているのか」が分かると、管理会社から家主に対するレポートの素材としてかなり貴重なデータとなり、\n ということなので内見レポートという機能をどのように定義していったらよいのか。\n \n seki   [3 days ago]\n むしろ、大掛かりになる前提なので、機能提供を約束せずに、今後の商談で管理会社の意向・要望・追加費用のイメージを掘り下げますね。\n \n seki   [3 days ago]\n このあたりは、管理会社によって大きく異なってくると思いますので。\n\n[*** 見積もり]\n\t名前の登録　2日\n\t\t自由入力欄だけなら1日、サジェストつきなら2日\n\t滞在時間の解析　3日\n\n##Castle\n\n# Castle Friedrich\ncreated_at:Mon Jan 19 1970 08:21:29 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:21:36 GMT+0900 (日本標準時)\nCastle Friedrich\n\t表示/出力データの追加、改善、最適化\n[https://gyazo.com/af76410e3e80228c04a36f29c60653f4]\n\n\t多数データの表示\n\t\tページングでさかのぼって閲覧できるようにする\n\t\t「最新10件！」で済ませるのか、それでは足りないのか考えつつ対応\n\t部屋詳細ページでの最新情報表示（King叩く）\n\t\tサービスとして表示していいいのか、みたいな検討作業も込み\n\t\tCUに出てるけどCastleに出てない部分を近づけていくとか\n\t\t個別ページ開くたび最新情報を出すとか\n\t操作履歴の強化・改善\n\t\tCSV でログを吐き出す機能…？\n\t\t\t`恵比寿支店,田中,なんとかマンション,202,リモート解錠` とか？ 作れるのは作れるが曖昧なので後回し\n\t\tバラバラに実装すると戦略が定まらないので、一括してやる\n\tアナリティクス入れて利用状況を調べる\n\t\t継続的に直していく部分ありそうなので、とりあえず解析の体制を整える\n\n[*** 見積もり]\n\tページング　6日 [tottokotkd.icon]\n\t\t見た目　2日　[narico.icon]\n\t\t「次のページあるか」「最大ページは何ページか」とか出し始めると4日は欲しい　[tottokotkd.icon]\n\t\t\t手抜きすればちょっと短くすることはできそう\n\t部屋詳細の強化　2日　[tottokotkd.icon]\n\t\t何やるか決まらないとわからんけど、電池残量を出すくらいなら2日で\n\t\t状態をとるたびアラート更新するなどの機能を入れ始めると長期化\n\t操作履歴CSV 5日\n\t\t仕様決め、必要性判断、ヒアリング　1日 x2 [tottokotkd.icon][narico.icon]\n\t\t「部屋単位のログを見たいか？」「ページングで表示か、部屋単位CSVか？」みたいな話も含む\n\t\t仮にページングもCSVも作るとなれば 3日 [tottokotkd.icon]\n\t\t\tページング: 部屋詳細とグループ全件（右上のやつ）1日[tottokotkd.icon]\n\t\t\tCSV: 1日[tottokotkd.icon]\n\t\t csv　1日　[narico.icon]\n\tアナリティクス？ GA？ 1日[tottokotkd.icon]\n\t\tとりあえず入れるだけなら簡単だけど…\n\t\tURL がほぼ重複しないので、普通に突っ込むだけではなんもわからん気がする\n\t\t\tそのあたりの作業も考えると見積もり困難\n\n\n##Castle\n\n# Castle 週定例 2019/3/12\ncreated_at:Mon Jan 19 1970 08:12:36 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:12:39 GMT+0900 (日本標準時)\nCastle 週定例 2019/3/12\n[https://gyazo.com/c446ad029f82b64a33bc6f8a76481dab]\nhttps://en.wikipedia.org/wiki/Cliff_dwelling\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n　v: グループ毎のユーザー表示、CSV登録 (建物以外)\n　v: 部屋詳細の実装開始\n o: web エラー時にも最低限なにか表示するweb側の実装 (積み残し) 、操作履歴の表示\n o: server 操作履歴の記録\n\t!: 原則として、今週木曜までに製造できた部分が 4/1 リリースに入る\n\t\t一旦そこで実装作業を止めて本番デプロイ準備を優先\n\t\tそれ以降は「時間があればやる」というスタンスに移行\n\t\tただし、建物CSV登録機能だけは来週以降に実装して4/1リリース\n\t\t現状こんな感じ (これ+操作履歴まで木曜目処で済ませる見込み)\n\t\t\tv: 部屋操作 (登録機器情報、電話カギ発行、電話カギでの解施錠、リモート解施錠、ファミリーキー発行)\n\t\t\tv: グループ・ユーザーCSV登録\n   o: 空室・入居モード切り替え\n   o: 建物・部屋CSV登録\n   o: アラート、バグ対応、環境保守\n   https://qrio.esa.io/posts/476\n\n[narico.icon]\n\tv: \n\t\tホーム画面のメニュー変更\n\t\t入居者用の案内pdfのリンク\n\t\t表示系のバグ\n\t\tヘルプリンク先と予定しているコンテンツを川上さんに確認する\n\t\t\t本番URLがまだ確定していないのでリンク先は入れず\n\t\t\t\tDNSどうする問題fixしたので今日明日やります [ymtk.icon]\n\to:\n\t\t今の画面どういう体験なんだっけ会（明日）\n\t\t操作履歴の画面\n\t\t\t部屋個別で見れるタブ\n\t\t\t全体で見るやつ\n\t!:\n\t\t4/1以降の開発機能を見直す\n\t\t\tメールとか\n\t\t\t\tないです [tottokotkd.icon] 初耳〜\n\t\t\t\tアラートからの記載はない前提でOKです。それよりかアラート本体を先に[ymtk.icon]\n\t\t\tパスワードリマインダーとか\n\n[tsato.icon]\n v: アラート\n v: ハブのFW切り替え\n o: 難読化ツールかけてリリースビルドする\n \to:それ用のCI環境も用意\n o: QA対応\n ! (共有)明日水曜14:00~14:30のプロダクト定例で関さん高橋さんにRoomonのできてる部分見せます\n \tStaging環境でデモします[tsato.icon]\n \tデモ環境については、本番環境の整備後に改めて1回くらい更新はするはずの予定\n !: 本番向けAPI(castle-api)のデプロイタイミング \n \tアプリのリリースビルドで参照するので\n \t\tできればリリースビルドでQAもしたい\n \t具体的な構成まで検討済み、あとは手を動かすだけ\n \t\t-> 金曜あたりにさくーっと倒せる　はず [tottokotkd.icon]\n \t\t\t了解ですー[tsato.icon]\n ! アラートがCastle固有の仕様なのか気がかり。CastleとSiriusでなるべく共通化したいから。\n \tSiriusでも電池ないよハブ死んでるよは欲しいです[ymtk.icon]\n \tAPI叩く部分は(Castle, Sirius)別実装、それをモデルに変換してから(Castle, Sirius)共通の実装にする予定です\n \t部屋自体はCastle固有の概念だが、デバイスをまとめた概念自体はSiriusでも存在するはず\n \t\tアラートのロジックをCastle, Sirius で合わせた方がよいかも\n \t\t\t複雑なロジックでは無い\n \t電池のアラートの出す方法が以下の２パターンあるのが気がかりだったりします\n \t\tログからアラート (Castle, Sirius(?))\n \t\t\tハブ経由でサーバーにあげている\n \t\tロックの電池状態からアラート (King)\n \t\t\tアドバタイズパケットに入っているので、ハブ経由でサーバーにあげることもできる(がまだやってない)\n\n[h.yamaguchi.icon]\n\tv: 正常系のテスト\n\tv: bcuアカウントの有効期限反映\n\tv: 権限がない場合エラーになるように修正\n\tv: apiドキュメント整理\n\tv: api修正対応\n\tvo: 電池ログ\n\t!: 電池残量の動作確認が終わってない\n\t\t一回自分でチェックして、QAに任せる予定\n\t!: 強制アップデートは必要？\n\t\t運用でなんとかなりそうなので入れない[tsato.icon]\n\n[ymtk.icon]\n\tv: 請求フローfix\n\tv: アセット用のS3立てて配信環境整備\n\t\tdocs.roomon.jp/hoge.pdf とかでok\n\tv: DNS設定調査\n\tv: 4月リリース要件調整\n\tv: roomon.jp ワイルドカード証明書取得\n\tv: roomon.jp gmailで使えるように対応\n\to: 判定資料\n\to: 管理会社向けマニュアル（次週から）\n\t!: Lockシリアルからのcastle利用中判定ツール全然手つかず\n\t!: リリース後、毎月月初に代理店くくりでグルーピングし、機器が設置されている部屋数の集計をしていきます。\n\t\t代理店：FNJ→販売先アカウント別に各利用部屋数を集計。請求書は手で作成。\n\t\t\troomのmasterKeyIdが埋まっていれば利用中\n\t\t\t代理店とアカウントの紐付けは外でやる\n\t!: 4月以降案件のスケジューリングお願いしたいです。mikamix参戦前提でok\n\t\t先ほどのsetTime Hubもですねー。\n\n[hazimetyan.icon]\n v: 本番環境作成\n \t証明書は取ったのでよしなにhttps化してください[ymtk.icon]\n \t\tDNSとワイルドカードまわりは最後にやりまする[hazimetyan.icon]\n v: デモ環境のドメイン追加\n \tdemo-roomon.qrioinc.jp で動作\n o: 引き続き本番環境構築\n !: castle-api の動かし方がわからんのでトッティに聞く\n \tマイグレーションとかどうしてんのかわからん（・｀ω・´）\n \tデプロイ周りは手順書通り一発でやれるように（そのうち）整備します [tottokotkd.icon]\n\n[kk.icon]\n\n\n\n\n[m.suzuki.icon]\n\tv:ガイドの位置構成見直し精査（with ymtk）\n　\tv:設置ガイド見直し、合カギ受け取り案内の作成\n\to:利用者向けガイドの作成、設置ガイド修正\n\t!:機器設置時に、設置業者は開閉センサーも設置する\n　\tその部屋がオートロックの設定有無に関係なしにセンサー設置だけ済ませてもらう\n\n[*** ##KPT]\n\t前週 [Castle 週定例 2019/3/5] を読み返してみて\n\n[* よかったこと、続けていくこと]\n\n[* 課題感、やってみること]\n\n##Castle #定例\n# Castle 週定例 テンプレ\ncreated_at:Mon Jan 19 1970 06:51:55 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:12:36 GMT+0900 (日本標準時)\nCastle 週定例 テンプレ\n\tここにいい感じの画像\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n[narico.icon]\n[htwrocl.icon]\n[tsato.icon]\n[h.yamaguchi.icon]\n[ymtk.icon]\n[hazimetyan.icon]\n[kk.icon]\n\n[*** ##KPT]\n\t前週を読み返してみて\n\n[* よかったこと、続けていくこと]\n\n[* 課題感、やってみること]\n##Castle #定例\n# Q-H2(仮) 概要メモ\ncreated_at:Mon Jan 19 1970 08:07:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:07:01 GMT+0900 (日本標準時)\nQ-H2(仮) 概要メモ\nby[ymtk.icon](190308)\n\n[*** 全般]\n\t製品自体は12月リリース予定（仮）\n\t型番変更あり。JP仕向けのみ\n\t仕様が変わる部分は主に以下3点\n\t1.  ボタンの押し感改善(CS・UX要件)\n\t2. プラグ根元にカバー(法律要件)\n\t3. リリース時Q-SL2のみ対応（TK、Q-SL1は未対応）\n\n[** 箱関連]\n\tQ-SL2シリーズに合わせた見た目、体裁へ変更。原価も削減\n\t箱の構造は4月中に固めた上で試作\n\t7月初旬までに記載要件をfix。営業・マーケ要件まだまだ間に合います\n\n[** 高橋さんから既に頂いている要望]\n\t開封が分かるようにしたい\n\t\t量販での検品どうする？保証書取り出しとかもOK?（by 楢原さん)\n\n\n\n\n\n# Castle 電話解施錠 トークスクリプト\ncreated_at:Mon Jan 19 1970 08:04:20 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:04:26 GMT+0900 (日本標準時)\nCastle 電話解施錠 トークスクリプト\n1. 「こちらは、キュリオルーモン電話解施錠サービスです。」 ステップ2. へ\n\t\tルーマンに聞こえてしまう [narico.icon]\n\t\t「解施錠」が聞き取りにくいと思ったら文字通り「階施錠」になっているようなので修正お願いします[narico.icon]\n2. 「解錠番号、または施錠番号を入力してください。」「ピッ」\n\t mp3 音挟む [narico.icon]\n \t[- 暗証番号入力] => 解錠番号、もしくは施錠番号[narico.icon]\n \t9桁を入力して、最後に##を押す。もしくは10桁を入力すると、遷移する\n \t\t今の流れだと##はいらないかと思います。\n \t有効な暗証番号が入力された場合(目的の部屋ではなくとも) ステップ3. へ\n \t無効な暗証番号が入力された場合(有効期限が切れている、もしくは9桁未満で##を押された場合) ステップ4. へ\n \tタイムアウトも入れたほうが良いか。それはそうか。\n \t「解錠番号、または施錠番号を入力してください」[narico.icon]\n3. 「番号を受け付けました。動作するまで、しばらくお待ちください。動作しない場合は、番号をご確認の上、もう一度ご入力ください。」 ステップ5. へ\n\t\tロックが動作されるまで => されるが不自然「するまで」で良い気がしました [narico.icon]\n\t\t解錠か施錠のどちらが入力されたかの判別はできますか？ [narico.icon]\n\t\t\tできる場合\n\t\t\t\t解錠番号が入力された場合 => 解錠を受け付けました。\n\t\t\t\t施錠番号が入力された場合 => 施錠を受け付けました。\n\t\t\t頑張ればできる\n\t\t\t\t例えば最初に解錠の場合は1を or 施錠の場合は2を押す、の分岐を入れるなど。\n\t\t\t\tオペレーションを短くしたい事もありダイヤル入力が一箇所の方が良いのでは。\n4. 「番号の受け付けができませんでした。番号が正しくない場合、動作しません。もう一度、番号を入力してください。」 ステップ2. へ\n5. 通話切断し、終了\n\n\nわかりやすくしたほうが良さそうなところ。\n 暗証番号入力の受付けがわかるように、mp3で「ﾋﾟｯ」みたいな音の再生を入れるか。\n ステップ1と2は、ボタンを押されたらトークを止めて、暗証番号入力を受け付けるべきか。\n ステップ2で「9桁の暗証番号を入力後、最後にシャープを押してください」と補足を入れるべきか。\n\n冗長すぎて、逆にまどろっこしくないか\n 案内しているお客様が横にいる状態なので、音声聞かずに暗証番号ぽちぽちして##を ｯﾀｰﾝ で解錠されるほうがよくないか。\n \n\n# Castle 本番環境リリースメモ\ncreated_at:Mon Jan 19 1970 08:04:00 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:04:05 GMT+0900 (日本標準時)\nCastle 本番環境リリースメモ\n[Castle] こと Qrio Roomon をリリースするにあたって見積もりやっていき\n\n[https://gyazo.com/1c37a7a2515c654f06c8937b0f1ad7a8]\n\n[* ドメイン]\n\troomon.jp\n取得済み、demo.roomon.jp を利用中\n\tサブドメイン使って会社 ID を表現したい\n\t\tqrio.roomon.jp にいく-> `company.id = 'qrio'` になる\n\t\tJavaScriptでURLからぶっこぬくので、特にサーバー側でやるべきことはない\n\t\tDNSやらないとダメ、1回失敗で1日経過？\n\t\t\tドメイン取得側のDNSで、TTLを変更できれば、短くしてトライする。\n\t\t\t👀 https://www.cloudflare.com/ja-jp/dns/\n\t\t\tdemo のサブドメインをダウンさせてもいいのかは検討する\n\t`CNAME *.roomon.jp hoge.herokuapp.com` みたいなやつを作って動作確認するだけ\n\t\t設定は秒で終わる\n\t\t確認も1時間あれば済む\n\t\tしかし動かない場合、リトライが24時間かかる\n\n[* heroku]\n\tエンタープライズに投げ入れてデプロイして終わり\n\t\tmasterブランチ出してプロモーションをﾎﾟﾁｰ\n\t\t\tpsql, LogDNA, new relic\n\t\t\tKing ユーザー作る 1h\n\t\t\t\tサービス運用期間中には絶対に死なないメールアドレス roomon@qrioinc.com みたいなアドレスを準備して、Kingのアカウントとする。Gsuiteのメールアドレスの作成は3営業日ぐらい必要。\n\t\t\t\t\t上記のアドレスで、Auth0を認証しておく。パスワードは大切にとっておかないと、もしかしてのトラブルのときに、全滅する。\n\t\tPagerDuty\n\t\t\tconsole, api 両方に設定する。 1h 程度\n\t\tKing / Castle 相互の通信をIP制限で保護するか？みたいな話\n\t\t\therokuの機能であるらしい… みたいな認識レベル\n\t\t\t時間があればやりたいが、とりあえずこの見積もりからは落とす\n\n[* psql]\n\tシードデータは特になし\n\t`company` `group` `user` に対する会社ごとのデータ作成は当然必要\n\n[* SendGrid]\n\tそもそもメール送る機能の実装どうなってるんでしたっけ [tottokotkd.icon]\n\n[* Redis]\n そもそもバッチ処理の以下略 [tottokotkd.icon]\n\n電話カギ動作監視\n\t自動テストを回すのは現実的にかなり難しい\n\tそもそも電話カギ発行してから「なんか開かなくて内見できない」という現象自体がまずい\n\t\t監視テストを作る時間で、電話カギ発行プロセスを強化したほうがいい\n\t\tたとえば「電話カギ発行ボタンを押されたら施錠コマンドを送信して、施錠成功を確認できなければ発行しない」とか\n\tTwilioが発行しているフィードみたいなのを定期購読して監視する。(あるか調べる)\n\n# Castle アラート実現性メモ\ncreated_at:Mon Jan 19 1970 07:43:43 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:02:51 GMT+0900 (日本標準時)\nCastle アラート実現性メモ\n改めて整理[ymtk.icon]\n\n当初の想定仕様\nhttps://docs.google.com/spreadsheets/u/1/d/1XFGVXgUMcyLeZvYA2pXSO4DjE_v4YxfmFoXa4yft_lQ/edit##gid=0\n\ngithub issue\nhttps://github.com/qrioinc/castle-api/issues/67##issuecomment-465380133\n\n[* アラートの目的]\n\tCastleを正常利用できないことに気づきたい。下記の事象を避けたい\n\t\t内見で電話キーが使えると思って部屋に行ったが、実際はロックの異常で利用できなかった\n\t\t\tロックの電池がなくて操作できなかった\n\t\t\tHubが繋がっていなくて操作できなかった\n\t\t退去するのでコンソールで初期化し、無事完了したと思っていたが、前住人がKeyで普通に出入りしていた\n\n[* 今問題になっている話]\n\tアラートを消すフラグはどうするの\n\t\tWeb\n\t\t\tあるべき\n\t\t\t\tハードの対応（電池交換、通信復活など）が終わったら消される\n\t\t\t\t\tただしこれをやるには常にwatchする必要があり現実的ではない\n\t\t\t\tソフトの対応であれば設定変更したときにpushできうるが、設定変更で解決するようなものは合カギとFW更新くらい\n\t\t\t\tCUは？\n\t\t\t\t\tホーム画面でpullしてる\n\t\t\t\t\t\t電池残量の話であれば、ロックの電池残量状態から表示すべきか判断してます [tsato.icon]\n\t\t\t\t\t\tファームウェアアップデートも現在ファームウェアバージョンとS3にある最新のファームウェアバージョンを比較しています。[tsato.icon]\n \t\t\t\t\t\tこれらは[** ログからは判断してない]\n \t\t\t\t\tCastleはログはKingからCastleに送る処理を書いているが、ロックの状態をKingからCastleに送る処理は書いてない。本当は後者が必要だった？？[tsato.icon]\n\t\t\t\tオートロックエラーどうしよう\n\t\t\t\t\tこれだけは数分で知りたいところだが、ケースの少なさを鑑みてリリース時は除外とするか？除外とするとしても、実現するとしたらどうする？特定のログが上がってきたらcastleへpush？\n\t\t\tpush\n\t\t\t\t対応を終えたものに対して「再確認」ボタン\n\t\t\t\t\t個別に押すイメージがあまり持てない。\n\t\t\t\t\t\tならば全体に対し「全てを更新」を押す？負荷高めな予感。\n\t\t\t\t\t\tGoogle Play Storeのアプリアップデート的なイメージ。更新押したら1−2分くらいはかかる\n\t\t\t\t\t1日の最初とか、1日の最後に最新化して状況確認するようなユースケース\n\t\t\tpull\n\t\t\t\t00分、4時間おきなどで情報更新し、最新化したときに消す\n\t\tBCU\n\t\t\tそもそも\n\t\t\t\tハードの異常対処を行うときに遭遇\n\t\t\t\t\t電池、ハブ通信エラー、FW更新\n\t\t\t\tその場でロックとも通信できるため、対応したら消えて欲しい\n\t\t\tpush\n\t\t\t\t設定変更してサーバの値を書き換えたとき（ハブは無理そう？）\n\t\t\tpull\n\t\t\t\tホーム画面を開き、ロックの情報を取得するときに確認できるのでは？\n\n アラート\n  定期実行する\n   node-Rescue を使う\n   アラートをメールするのはやんなくていい [ymtk.icon]\n\n[**** 実装方針]\n 電池残量が低い\n\t\tKingからCastleにログがぼんぼん飛んでくる\n\t \tCastleはアラートテーブルを持っている\n\t \t\tテーブルの電池は３パターン(+正常なパターン)\n\t \t\t 要交換(WPまたはEP)/無し(Empty)/EP_RESET/NG_7V(充電池が入った時。ユーザーが勝手に電池を入れ替えた場合など)\n\t \t\t \tデザイン変更がありそうなのでなりこさんに共有 [tsato.icon]\n\t \t\t\t電池残量については以下を参照 https://docs.google.com/spreadsheets/d/1lmNL0MHV5juvGfdaDkeuFTjYLQo7YFk3iltdUFyCR14/edit##gid=1271907145 \n\t\t \t飛んでくるログの電池残量変化を見てカラムに入れる\n\t\t \tBCUから電池交換した場合に、電池のアラートが消えるまで遅延するのでは問題\n\t\t \t\t(やるなら)BCUからログをあげて、Castle側で↑と同じ判定を行う。その場合、CastleでLogIdを保存して、古いLogIdは無視するにして冪等にする。\n\t\t \t\tとりあえずやらないけど、様子見て↑の変更ができるように考慮しておく\n オートロック連続失敗 (または 開けっ放し通知)\n \t[** 4/1リリースからは落とす]\n \tKingからCastleにログがぼんぼん飛んでくる\n \tCastleはアラートテーブルを持っている\n\t \t飛んでくるログに、オートロック連続失敗があったらアラートテーブルのオートロックをtrue\n \t\t飛んでくるログに、施錠関連のログがあったらアラートテーブルのオートロックをfalse\n \t\t\tBCUで直すフローをちゃんと考えてない。オートロックの設定した後に動作確認用の画面を挟む？？\n ハブが機能してない\n \tプレゼンス機能を使う https://github.com/qrioinc/castle-api/issues/67\n\t\t１時間ごと(?)にKingに問い合わせる\n  管理している全てハブの最新の情報を取りに行くボタンを用意するかも？\n  \tあとまわし [ymtk.icon]\n\t\tアラートを出す: プレゼンスがなかった時\n\t\tアラートが無し: プレゼンスがあった時\n\t\t\tプレゼンス機能を使うボタンをハブごとに用意する\n\t\t\t\tあとまわし [ymtk.icon]\n FWを最新に更新(BCUのみ)\n \tロックをCastleに対応したバージョンにしたいから\n \t\tログ削除コマンド対応\n \tBCUの登録と機器設定からFWを最新にできるようにする\n \tS3にある最新のFWのバージョンと、現行のFWのバージョンを比較する\n \t\t現行のFWはBCU → CastleBCUAPI → KingAPI と問い合わせる\n \t\t\t既に実装済みのやつ\n# Castle 週定例 2019/3/5\ncreated_at:Mon Jan 19 1970 08:02:31 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:02:51 GMT+0900 (日本標準時)\nCastle 週定例 2019/3/5\n[https://gyazo.com/4017d4ab36e5cb49fa435e2c02db0d02]\nhttps://en.wikipedia.org/wiki/Ivangorod_Fortress\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: Castle しばき倒した\n \tRoomon表記揺れ\n \tデモ版バグ\n \t権限に基づく表示変更\n \tリモート操作\n \tグループ登録実装中 etc\n\to: Castle しばき倒す\n\t グループ毎のユーザー表示\n\t CSV登録\n\t エラー時にも最低限なにか表示するweb側の実装\n   部屋詳細を月曜からやっていく予定だったが、順序入れ替え\n\n\n[narico.icon]\nv:\n\tリモート解施錠の画面\n\tファミリーキー印刷画面\n\t入居者向けの案内PDFラフ\no:\n\t入居者向けの案内PDF Fix\n\t\t関さんに構成内容確認、佐藤さんにCUインストール手順確認\n\tCSVのエラー表示\n\t\t終わった\n\t各タブ権限がない場合の表示\n\t\tとくさんがほぼやった\n\tfaviconやmeta情報\n\t\tfavicon 差し替え完\n\t\tmetaは機能開発を優先すべきなので後回し\n\t404 / 503 系ページ\n\tホーム画面のアイコン\n\tIEチェック\n\t電話解施錠の読み上げテキスト\n!:\n\tユーザー削除、グループ削除、更新系の単純作業やる人員が足りない件\n\t\tなんとかしたいものの\n\n[tsato.icon]\n v: ハブ正常系\n vo: ロックFWアップデート\n o: アラート\n\n[h.yamaguchi.icon]\n\tvo: 電池ログ\n\tvo: アラート情報をbcuApiから返すように修正\n\tvo: テスト\n\n[ymtk.icon]\n\tv: 4月またぎの案件調整をした\n\t\tまたいだものについて、いつぐらいに着手して進められるか？\n\tv: 利用規約ほぼ終えた\n\tv: ヘルプセンターやった。CSチームに引き渡した\n\to: 請求フロー整備する\n\to: 申込書作成する\n\to: リリース直後のDIY周り固める（アカウント手発行して渡す、BCU初めて使うタイミングはサポートするので、など）\n\t!: 管理会社や利用者向きにガイド作る際、スクショ貼るタイミングが結構ギリギリじゃないとだめかな感\n\n[hazimetyan.icon]\n v: 電話解錠のフローの雛形を作った。\n \t05036288238 に電話すると解錠フローをさわれるよ。 解錠コードは `11111111` で解錠。その他だと失敗するよ。\n o: 電話解錠の応答文言とかをどうするか調整する。\n o: API叩くときにベーシック認証を入れる。入れられるのか。\n !: たぶんTwilioのMLを使えばベーシック認証を突破できるようになると思うけれども、色々試さないといけない。\n\n[kk.icon]\n\n[*** ##KPT]\n\t前週 [Castle 週定例 2019/2/26] を読み返してみて\n \tよかったこと\n  \t続けていくこと\n \t課題感\n \t\tやってみること\n\n##Castle #定例\n# Gardian の新包装\ncreated_at:Mon Jan 19 1970 08:01:08 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 08:01:11 GMT+0900 (日本標準時)\nGardian の新包装\n[** 新包装にする上での目的の優先順位]\n\n\t目的1：コストダウン\n\t\t今の原価情報 高橋さんに聞く\n\t\t今回のコストターゲット\n\t\t\tまだ決まってないものの、数百円は下げたい？\n\t\t部材\n\t\t\t中蓋は特にいらない\n\t\t\tスリーブ無し\n\t\t\t一部材で安くあげられるなら一部材で\n\t\t印刷\n\t\t\t茶ダンに印刷、もしくは貼り合わせ\n\t\tサイズ\n\t\t\tLegend以上、King未満\n\n\n\t目的2：Kingとのファミリー感揃える\n\t\t色味やグラフィックの方向はKingと揃える\n\t\t印刷仕様\n\n\n\t営業・マーケ方面のリクエストがあるか確認\n\t\t店頭で吊るすことがあるか（多分ない）\n\t\t中古販売防止のための開けたら\n\t\t返品対象になるライン（CS側のヒヤリング）\n\n\n\t開け方\n\t\t横から開ける（Legendと同じ右開き）\n\n\t取り出し方\n\t\t本体の横を掴む感じ\n\n\tHUBのプラグがうまくしまえるかがポイント\n\t\t本体をポリ袋に入れると、プラグ部分の袋の畳み方によっては本体が浮いてしまう。\n\t\tポリ袋に入れる必要があるか？\n\n\tRGの配置場所\n\t\t底面に入れる\n\n\tグラフィックデータ\n\t\t表面のグラフィックデータ作成　鈴木\n\t\tコピーも含め\n\t\t裏面の記載情報、何が必要かまとめる\n\n\n# Castle 週定例 2019/2/26\ncreated_at:Mon Jan 19 1970 07:52:27 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:52:32 GMT+0900 (日本標準時)\nCastle 週定例 2019/2/26\n[https://gyazo.com/f6d14723c973aa7cbd6c3180def71dac]\nhttps://en.wikipedia.org/wiki/Château_de_Vincennes\n\n先週: [Castle 週定例 2019/2/19]\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: BCU向けログイン関連（QRコード発行など）、ユーザー権限の反映されたUI、ログインフロー改善、IE対応、BCU関連実装\n\to: CSV入力、部屋詳細、リモート解錠＆電話カギ\n\t!: 4/1 リリースに確信が持てる状況ではないが、空気感がなんかゆるい\n\t!: CSツール向けAPI (?) を誰がやるか問題\n\t\t[tottokotkd.icon] Web やってて手が回らない\n\t\t[h.yamaguchi.icon] BCU APIやったら iOS アプリというスケジュール\n\t\tそもそも必要でしたっけの検討もやっておきたい（Castle自体の特権アカウントで済む部分はないか等々）\n\t\tdb直接見ていいとのことなので、自分やっときます。castle iOS後ろに倒れるとSirius iOSも後ろに倒れます[ymtk.icon]\n\n[narico.icon]\n\tv: 部屋詳細\n\t\tv: 編集タブ\n\t\tv: リモート解施錠のアニメーション\n\tv: 建物詳細\n\t\tv: 編集タブ\n\to: 部屋詳細\n\t\to: 電話カギの暗証番号発行画面\n\t\to: ファミリーキーの発行、QRコードを表示する画面\n\t\to: リモート解施錠のアニメーション完成させる\n\t!: formrun の使い方、運用みたいなところを関さんと共有しておく。\n\t\tCS繋いで引き取ります[ymtk.icon]\n\t!: PRでるなどの周知が十分なのか不安\n\t\t3/4 PRに出ます\n\n[tsato.icon]\n v: ロック関連の機能を一通り動くようにした\n \t(ファームウェアアップデートとアラート以外)\n vo: ハブ関連の機能を一通り動くようにする\n o: ロックとハブのファームウェアアップデートを実装する\n !: [h.yamaguchi.icon] 氏はiOSのリリース時期遅らせてサーバーの実装続けた方が良い？？\n \tSirius iOS に関わるのでサーバーの実装は３月１２日(火)まで[tsato.icon]\n \t\tサーバー\n \t\t 0.アラート GET API 仕様決め\n \t\t 1. アラート(電池)\n \t\t\t2. アラートのGET API\n \t\t\t3. ハブ登録のテスト\n \t\t\t4. アラート(ハブのプレゼンス)\n \t４月末まで開発してレビュー申請\n \t\t一部の人しか使えないアプリなので、レビューコストが心配\n \t\t\t４月中旬あたりに一回レビュー出した方が良いかも\n \t\t\t動画も撮らねばです[ymtk.icon]\n \t５月のGW直後にリリース\n\n[h.yamaguchi.icon]\n\tv: castleへのログ送信API\n\tvo: APIの修正作業\n\tvo: 電池のログ\n\n\n[ymtk.icon]\n\tv: 適宜仕様打ち返し\n\tv: roomon商標申請\n\tv: 利用規約、代理店販売規約\n\tv: demo.roomon.jp 設定\n\tv: CS電話窓口立ち上げにかかる協力会社ヒアリング\n\to: ヘルプセンター原稿＆立ち上げ\n\to: リリース判定で必要なタスクのリスト化\n\to: 3初時点のシステム概要ドキュメント最新化\n\t!: formrunと製品ページリリースにかかるタスク周りを気にしてます => マーケとsyncしておけばよい？\n\t\tページそのものは28日あたりに上げておいて… みたいな流れ[tottokotkd.icon]\n\t\t何かメール出すの？とか、トップ画面にバナー貼るのに量販店の調整が云々、とかは取りに行きます[ymtk.icon]\n\n[hazimetyan.icon]\n\n[kk.icon]\n\n[*** ##KPT]\n\t先週: [Castle 週定例 2019/2/19]\n\n[*** よかったこと、続けていくこと]\n\t禁酒しました[tottokotkd.icon]\n\t\t松本さんに「まだ飲んでないんですか」とか言われてショック\n\t\t\t松本さん煽りキャラなんですね[tsato.icon]\n\t暖かくなってきた\n\t\tわかる[tsato.icon][narico.icon]\n\t\t季節の変わり目 is dead [tottokotkd.icon]\n BCU Android (KingCUと比べて) まだ綺麗な実装を保ててる\n 商標取れそう\n\t\tキャッスル、ルーモ、ルーモンが飛び交いちょっと紛らわしい\n\t\troom + on -> るーむおん -> ルーモンで覚えてね！！！\n\t\t\tルームをオン\n\n[*** 課題感、やってみること]\n\t体調不良多い\n\t何もしてないのにScrapbox壊れた\n\t\t何もしてないのに直ったのでセーフ [tottokotkd.icon]\n\t花粉怖い\n\t今やってる開発でも営業でもない領域をマーケ企画に渡せるようにしていくアレコレをやる[ymtk.icon]\n\n##Castle #定例\n# Web Bluetoothで実現できないUX\ncreated_at:Mon Jan 19 1970 07:50:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:50:22 GMT+0900 (日本標準時)\nWeb Bluetoothで実現できないUX\n\t原稿だドン！（まだ6000文字で執筆途中）\n\ncode:markdown\n ## Web Bluetooth で実現できない UX \n \n ### tl;dr\n \n * Web Bluetooth 最高、アツい\n * でも iBeacon 掴めないし iOS 対応もできない\n * まだ早い (2019年3月現在)\n \n #### この記事 is\n \n 　ブラウザーから Bluetooth をいじる界隈について、調査・試行した知見を共有します。「モバイルの Web ブラウザーから IoT デバイスを操作できるらしい」と聞いて颯爽と飛びつき、現物を検証してみると思ったより厳しくて死んだ、という話をします。   \n 　IoT デバイスを販売する Qrio がどうして Web Bluetooth を必要とするのか、これにより実現したい UX はどのようなもので、それは何故できないのか、実際に Qrio Lock と通信するコードを掲載しつつ説明していきます。  \n 　ただし、モバイル向けの UX を念頭に置いた検討ではありますが、まずはデスクトップ版 Google Chrome を利用して Web Bluetooth の挙動を見ていく (そして諦める) ことになります。また、その過程において Web Bluetooth 仕様ドラフトに適宜言及しますが、 Bluetooth そのものの詳細には触れません。Qrio Lock の通信・鍵認証プロトコルについても、詳述しません。\n \n 　この記事では種々の事情により、 Qrio Lock の通信プロトコルと指令ロジックを秘匿します。ただしこれは「詳細な実装を知られると、ロックが不正操作されるリスクがある」ということではありません。Qrio Lock は、たとえ通信仕様が完全に知られても、あるいは仮に通信内容を盗聴されても、なお安全であるように設計されています。その詳細については (TODO: 関連する記事名とか) に言及があります。\n \n ### 登場人物\n \n 　この記事で扱う概念たちです。詳細については、記事末記載の資料を適宜参照してください。\n \n #### Web Bluetooth\n \n > an API to discover and communicate with devices over the Bluetooth 4 wireless standard using the Generic Attribute Profile (GATT) [^1]\n \n 　今回の主役です。「ユーザーの閲覧している Web サイトが、ユーザーの周囲に存在するデバイスと、 BLE で直接通信する」というユースケースを実現するための API であり、その仕様は2014年7月頃から[^2]議論されています。もともと Chrome 開発チームが主導していることもあり[^3]、 Chromium 採用ブラウザーでは2017年頃から[^4]機能提供が開始されています。  \n 　仕様を議論しているのは Web Bluetooth Community Group です。あくまでコミュニティによるドラフトであり、 W3C による標準化プロセスにはありません。\n \n 　現在のところ、名実ともに Chromium 専用 API と考えてよいでしょう。永久にそのままという可能性もあります。実験的なプロジェクトはさておき、一般向けに開放されたプロダクション環境で投入することは困難な状況です。\n \n #### BLE\n \n 　Bluetooth Low Energy、すなわち省エネ版 Bluetooth です。キャラクタリスティック、サービス、アドバタイズなどの厳ついカタカナ用語が飛び交うため、コピペで Web アプリを書いてきた筆者のような層には極めてハードルが高く感じられます。たとえば「デバイスをリクエストしてGATTサーバーにコネクトし、あらかじめ4バイトのUUIDで絞り込んだ特定サービスのキャラクタリスティックが read であることを確認して `readValue()` を実行する」といった具合です。暗号文かな…？\n 　とはいえ「とりあえず Web Bluetooth なるもので遊んでみるか」というだけであれば、 BLE に関する知識は特に必要ありません。しかし、Web Bluetooth は BLE 周りの挙動・仕様をそのまま関数名として採用しています。BLE そのものについての知識がまったくない状態よりも、ある程度の予習をしてから触るほうが、格段にスムーズに理解できると思います。そうして Web Bluetooth を弄りはじめ、BLEの謎に浸れば、たとえ好まざるとも仕様について詳しくなっていくことでしょう。\n \n #### TypeScript\n \n 　実はこの記事をいちいち読むまでもなく、おもむろに TypeScript 用意して `@types/web-bluetooth` さえインストールすれば、サジェストに頼って今すぐ Web Bluetooth 書けます[^7]。おわり！\n \n ### やりたい UX\n \n 　ここで技術的な話を一旦置いて、本来やりたかったことを確認します。  \n 　今回 Web Bluetooth と Qrio Lock の組み合わせによって実現したかった UX は、端的にいえば「URLを開くだけで鍵が開く」というものです。その体験がありうる場面として「製品のアピール」と「1回限りの鍵の受け渡し」という2つのケースがあります。\n \n #### 製品アピール + Web Bluetooth\n \n 　Qrio Lock には多くの機能があります。たとえば、バックエンドと一切通信することなくアプリサーバーが実施したユーザーの権限管理を受け入れたり、インターネット経由で電池残量を通知したりすることができます。これらは技術的に見ると、結構なかなかすごいのです。また Qrio Lock を競合品と比べると、明らかにパーツの稼働がなめらかであり、質感も触り心地も優れていると感じられます。  \n 　しかし、まさかスマートロックを売ろうというときに「うちは技術的にすごくて、手触りもいい」と宣言して帰ってくるわけにはいきません。どんなに凄いと言われても、夢も希望も湧いてこない状態で2万円の製品を買う人はまずいません。やはり「これを買ったら何がどういいのか」という具体的なイメージを示したいところです。\n \n 　いわゆる IoT デバイスの場合、現物を店頭に置くだけでは製品価値の核心がさっぱり伝わらないという課題があります。Qrio Lock とて、ただ置いてあるだけでは謎の玄関扉デバイスに過ぎません。その場でスマートフォンから操作できてはじめて、そこにある現物のアピールになるのです。  \n 　その方法としては、 (1) あらかじめ設定済みの Android 端末を用意して置いておくか、 (2) 展示された Qrio Lock を来訪者みんなで通常のアプリに登録して使うか、2つの方法が考えられます。しかし、前者は要するに「そこにあるボタン押したら、なんか動いた」という体験にすぎず、それだけで製品の価値が伝わるかは不安が残ります。また後者にしても、スマートロックという製品の性質上「最初のユーザーが初期化すると、他のユーザーからの指令を基本的に受け付けない」という製品仕様と矛盾しているため、現場の運用でカバーする必要があります。  \n 　そこで、両者の中間に当たるアプローチとして「QR コードを読み取って特定の URL にアクセスするだけで、その展示品を Web Bluetooth から操作できたら丁度いいのではないか」という検討をすることになりました。\n \n #### 使い捨て招待URL + Web Bluetooth\n \n （これ延々と書いてもいいけど、なんか普通に新機能として実装しそうだし、書いていいのか若干怪しいから止めとく）\n \n \n ### まずは Web Bluetooth を触ってみよう\n \n 　細かい話はこれくらいにして、実際に API を試してみましょう。\n \n 　試す方法は簡単。お手元の Chrome から新しいタブを開き、開発コンソールを表示させ、下記のコマンドを叩くだけです。  \n 　セキュリティ要件として、 Web Bluetooth は Secure Contexts においてのみ利用できることに注意してください。具体的な値は `window.isSecureContext` から確認できますが、大雑把に言えば https か localhost なら大丈夫です[^5]。\n \n ```\n navigator.bluetooth.requestDevice({ acceptAllDevices: true })\n ```\n \n 　このコードをコピペ実行すると、いかにも「周囲に存在する Bluetooth デバイスを選択できます」といった風情のUIが表示されます。わずか1行、なんて簡単なんだ！やったぜ！\n \n\n[https://gyazo.com/bb897af0eaaf7386ccdd6be602551293]\n\ncode:markdown\n 　さて、UIが表示されたのはいいのですが、いきなり「不明またはサポートされていないデバイス」が大量に表示されてしまいました。現代社会はすでに、我々の想像以上に Bluetooth で満たされています。このままでは目的のデバイスを発見しづらいため、なんらかの方法でフィルターをかける方法があります。  \n 　Qrio Lock の場合、デバイスの名前は固定値 `Q-SL2` であることが事前に分かっています。同一名称の別デバイスが偶然そばに存在する可能性は小さいと思われるため、これを利用してフィルターを適用するのが手っ取り早いです[^8]。このとき、デバイスを絞り込むと同時に、接続後に利用したいサービス UUID を `optionalServices` として指定しておく必要があります[^10]。\n \n ```typescript\n const serviceUUID = \"b88612e9-b3c1-45ee-aaf5-5e145e2d9831\";  \n const device = await navigator.bluetooth.requestDevice({  \n   filters: [{ name: \"Q-SL2\" }],  \n   optionalServices: [serviceUUID]  \n });\n  ```\n \n 　ここで指定される「サービス UUID」については、仕様として定められた GATT Services の規定値と、デバイス独自の値という2つの種類に分けられます。  \n \n 　このうち、仕様で定められたサービスはかなり面白いです。列挙されているサービスのうち汎用性のありそうなもの、例えばリンクが失われた場合の挙動を指定する `0x1803` (Link Loss) や、バッテリーの状態を知らせる `0x180F` (Battery Service) などのサービスは、いかにも利用されるケースが多そうであり、これが仕様として定められていることは分かります。  \n 　他方、特定用途に特化しているサービスが非常に多く、きわめて多様で特徴的です。個人的な感想としては、デバイスの位置情報測定機能に特化した `0x1821` (Indoor Positioning) あたりはまだ理解できますが、自転車を漕ぐパワーやスピード、クランク回転数を知らせる `0x1818` (Cycling Power) 、あるいは血圧専用サービス `0x1810` (Blood Pressure) となると、いくら業界標準を定めることが有効だと言っても、果たしてそれを BLE の仕様として標準化する必要があったのか、側から見ていて若干の戸惑いを覚えないでもありません。\n \n [^1]: Community Group, Abstract\n [^2]: GitHub リポジトリ `WebBluetoothCG/web-bluetooth` あるいは `jyasskin/web-bluetooth-old` のログより\n [^3]: https://lists.w3.org/Archives/Public/public-web-bluetooth/2014Aug/0000.html\n [^4]: 実験的な機能としては、2015年から存在していた。Chrome の場合、Chrome 45 (2015年9月) からフラグ設定により利用でき、 Chrome 56 (2017年1月) からはデフォルトで有効である。その他の実装状況も含めて Can I use? 参照。\n [^5]: Chrome (72.0.3626.109) の「新しいタブ」は、実際には `https://www.google.com/_/chrome/newtab?ie=UTF-8` を表示しているだけである。このページは Secure Context であるため、開発コンソールから Web Bluetooth を利用可能である。\n [^6]: https://www2.meethue.com/ja-jp/p/hue-white-ambiance-starter-kit-e27/8718696670743\n [^7]: https://www.npmjs.com/package/@types/web-bluetooth\n [^8]: 具体的には Bluetooth Device name (the user-friendly name) のこと (Core Specifications, page 2105) 。`name` フィルターを指定する場合、値が完全に一致しなければならない。必要に応じて `namePrefix` フィルターも利用可能。\n [^10]: API の仕様により、 `services` または `optionalServices` に列挙したサービスのみ利用が許可されるため。`name` でとりあえず接続しておいて片っ端からサービスを利用する、という使い方はできない。\n \n ### 参考資料\n \n 　この記事を作成するにあたって、下記の資料を参照しています。同一内容の資料において複数の翻訳されたバージョンが存在する場合、英語版を掲載しています。\n \n #### Web Bluetooth\n \n 1. The Contributors to the Web Bluetooth Specification. Web Bluetooth Draft Community Group Report. 11 Feb 2019. URL:  https://webbluetoothcg.github.io/web-bluetooth/\n 2. Mozilla. Web Bluetooth API. URL: https://developer.mozilla.org/ja/docs/Web/API/Web_Bluetooth_API\n 3. @Fyrd. Can I use? URL: https://caniuse.com/web-bluetooth\n \n #### Secure Contexts\n 1. W3C. Secure Contexts W3C Candidate Recommendation. 15 Sep 2016. URL: https://www.w3.org/TR/secure-contexts/\n 2. Mozilla. Secure contexts. URL: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts\n \n #### BLE\n 1. Bluetooth SIG, Inc. Core Specifications Version 5.1. 21 Jan 2019. URL: https://www.bluetooth.com/specifications/bluetooth-core-specification\n 2. Bluetooth SIG, Inc. GATT Characteristics. URL: https://www.bluetooth.com/specifications/gatt/characteristics\n 3. Bluetooth SIG, Inc. GATT Services. URL: https://www.bluetooth.com/specifications/gatt/services\n 4. Wikipedia. Bluetooth Low Energy. URL: https://ja.wikipedia.org/wiki/Bluetooth_Low_Energy\n 5. @Jelly_Ware. 開発視点の超簡単BLE入門. 23 Aug 2017. URL: http://jellyware.jp/kurage/bluejelly/ble_guide.html\n 6. Eiji Adachi (@SHIKI_EAURL). LOW ENERGY : セキュリティ. URL: https://shizuk.sakura.ne.jp/bluetooth/ble/security.html\n 7. YS. Bluetoothのセキュリティのはなし. 30 Sep 2015. URL: http://www.silex.jp/blog/wireless/2015/09/bluetooth.html\n 8. @chigichan24. flutter_blueで両OS対応のSDKを書いてみる. 7 Dec 2018. URL: https://qiita.com/chigichan24/items/89cb686e880f0274ed1c\n 9. FIELD DESIGN INC. Bluetooth Low Energyのペアリングとボンディングについて. URL: https://fielddesign.jp/technology/ble/blespec_pairing/\n\n# Qrio TechBook\ncreated_at:Mon Jan 19 1970 07:42:47 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:50:22 GMT+0900 (日本標準時)\nQrio TechBook \nfrom [Castle 週定例 2019/2/19]\n\n[*** 2/19 ]\n\n 技術書典やってない [tottokotkd.icon][tsato.icon][narico.icon]\n \tまぁベースとなる記事[うんこボタン会まとめ]があるのでなんとかなると思っている[tsato.icon]\n \t\tちょっとBCUの手を動かしたいのので今日のtechbook定例スキップしますすいません\n \t本文はまだ書いてない、表紙アイデア作ってる[narico.icon]\n \t\tおすすめ印刷所まとめ　https://sengokulife.com/dojin-print/\n\t \t\t装丁とか決めて見積り取らないとなー\n \t\tInDesign も触らないとなー\n\t\tみんなの進捗教えてよ[tsato.icon]\n \t\tタイトルは決めました「[Web Bluetoothで実現できないUX]」 [tottokotkd.icon]\n \t\t\t興味ある[tsato.icon]\n \t\t\t結論だけ言うと「iBeacon拾えないのでゴミ」\n \t\t\tQrioLockでゲストキー相当の権限があるユーザーが、Webから解施錠を利用する分には使えそう。ハンズフリーは無理だな[tsato.icon]\n \t\t本文やってねーってばよ[narico.icon]\n \t\tやってます[takeuchi.icon]\n \t\t\t今日から君もFWエンジニア、は書いてない\n \t\t\tハンズフリー改善の不毛さを長くまがりくねった文章でつづっている\n \t\t\tあまりに読みにくいので整理している\n \t\tやってます２[ymtk.icon]\n \t\t\tQrioは元々完全外注だったので何もしようがなかった〜少しずつハード周辺含め内製化してどう変わったのかの話を書いている\n# うんこボタン会まとめ\ncreated_at:Mon Jan 19 1970 06:19:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:50:08 GMT+0900 (日本標準時)\nうんこボタン会まとめ\nまとめました[tsato.icon]\n[**** うんこボタンの不具合とは]\nhttps://unkobtn.com/\nhttps://tech.144lab.com/entry/unkobtn/20181203\nhttp://mag.switch-science.com/2018/11/27/unkbtn-recall/\nhttps証明書の期限切れが原因で、ファームウェアとサーバーの通信ができなくなった。\n同様の原因でファームウェアのOTAもできなくなっため、製品を回収する騒ぎとなってしまった。\n\n[**** どんな問題がおきていたのか]\n[*** リリース前]\n[** ファームウェア]\nESP8266 WROOM を使用 https://www.espressif.com/en/products/hardware/esp-wroom-02/overview\nうんこボタン開発途中までは証明書チェーン(*1)を見る機能がSDKに搭載されていなかった。\nそのため、サーバー証明書の検証にサーバー側の証明書のフィンガープリントを見ることにした。\n開発の途中で証明書チェーンを見る機能がSDKに搭載されたが、ファームウェア実装の大きな変更は避けたいため採用しなかった。\n\n*1 補足: 大抵のパソコンにはルート証明書のセットがプリインストールされていて、それらから辿れる証明書か(=証明書チェーンを見ること)によってサーバ証明書の検証をしている。macの例 https://support.apple.com/ja-jp/HT202858 \n\n[** サーバー]\n証明書に ACM https://aws.amazon.com/certificate-manager を使用。他にAPIGatewayとLambdaも使用。\n自動更新をオンにして、証明書の期限はデフォルト設定の13ヶ月にしていた。自動更新をオンにすると古い証明書は自動的に破棄される。\n\n[*** リリース後]\n[** しばらくして事件発生]\n証明書作成後13ヶ月の少し前に証明書が自動で更新され、古い証明書は削除されてしまった。\nファームウェアで検証に用いるフィンガープリントと実際のサーバー証明書のフィンガープリントが違い、認証をパスせず通信ができなくなった。同様の理由でOTAもできなくなった。\n\n[** 対応]\n20年ほどの有効期間を持つオレオレ証明書に入れ替え。回収と再配布を検討\n\n[**** どうするべきだったか]\n[** 組織的な側面]\nセキュリティの知識がなかった訳ではなく見落としていた。セキュリティは知識だけじゃなんとかならない部分がある。\n特定のパターンを見落としていたというのは、知識というより注意力の問題。一人の人間がやるには限界がある。\n\n具体的には以下のような対策が考えられる\n 壁打ちする、ダブルチェックする\n 外部のセキュリティ診断機関に依頼する\n  イエライセキュリティhttps://ierae.co.jp/\n  \tPhotosynthが採用\n  EGセキュアソリューションズ株式会社  https://www.eg-secure.co.jp/\n  \tQrioが過去に検討\n OTAは特に重点的に見る。OTAができないと詰む\n\n[** 技術的な側面]\n 通常の通信とOTAは分けて考えた方が良い\n  OTAだけhttpにして、ファームウェアの証明書を検証する\n  \t中間者によってファームウェアのダウングレードする攻撃も考えられるため、ファームウェアのバージョンチェックも必要そう\n httpsにする必要があるかを疑う\n \tそもそも秘匿な情報を流さないことを考える\n \tなりすましの問題もあるが、なりすましがあるとどう困るかを考える\n 製品寿命より長い証明書を使う\n \t因みにルート証明書の有効期間は20年程度\n \tオレオレ証明書でも別に良い\n \t\tHeroku等がサポートしている証明書の管理機能の恩恵を受けれなくなる可能性はある\n BLEやUSB等、別経路でのファームウェアアップデートを検討する\n \tBLE(パケットサイズ20byte)に載せるのも、物によってはしんどい可能性がある\n \tOTAのためだけに別の通信経路を用意するのもコスト的にネック\n ACMから証明書のエクスポート自体はできるかもしれない\n \thttps://docs.aws.amazon.com/ja_jp/acm/latest/userguide/gs-acm-export-private.html\n \tサポートに入っていると、過去の証明書もとれるかもしれない\n ミニマムなファームウェアを持ち、特定の操作をするとそれにリセットするようなオプションを持たせる\n \tQrioHubで検討したが以下の理由で断念\n \t\tミニマムの定義が難しい\n \t\tミニマムなファームウェア自体に脆弱性がないか検証する必要があり、そこそこコストを要する\n \t\t今回のケースはリセットしてもダメかも。ミニマムなファームウェアにしたところで証明書の検証はできるようにはならないため。 \n\n[** その他]\n 最終的にどうしようもなければ回収することになる。ビジネスモデルによっては回収したときのダメージが比較的マシになるかもしれない\n \t例えば、サポート料金を含めた継続課金モデル\n\n[*** QrioHubで大変だった事例]\n QrioHub１号機のファームウェアでは、ルート証明書のセットのうち、一部を選んで所持していた\n \t全部持つと容量が大きいため\n サーバー証明書のルートとなる証明書の認証局(確かシマンティック)が変更された\n \tQrioHubでは所持してないルート証明書だった\n \tサーバー証明書の期限が切れる約１ヶ月前に発覚\n QrioHubのファームウェアが所持しているルート証明書に紐づくサーバー証明書を急いで新たに発行した\n \tとにかく急いで発行する必要があったため高価なEV証明書だったが止むを得ず発行。\n \tサーバ証明書の期限が切れる一週間前くらいで解決\n\n[**** 余談]\n　暗号技術について盛り上がる\n\t　金本さんは暗号技術が好きで、趣味で暗号関係の本を読んだり実装したりしていた\n  　applied cryptography(暗号技大全) https://www.amazon.co.jp/dp/4797319119\n  \t暗号の数理 https://www.amazon.co.jp/dp/B01E56BVI4\n　\t新電子立国(NHK)のRSAの話とか面白い\n　　エニグマ作りたい\n 通常のWebサービスはブラウザ+httpsという枯れた技術に乗っかれるのが良い\n \tIoTの大変さをわかってくれないことが多い\n \tIoTの認証周りも標準化してほしい。そのうちされるだろう。\n\n[https://gyazo.com/ed6759f6859a20d5eb9b742af55eb1ff]\n\n\n\n# nakano\ncreated_at:Mon Jan 19 1970 07:44:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:44:32 GMT+0900 (日本標準時)\nnakano\n[https://gyazo.com/16df40727cfd6d8208b065c6b8f314ec]\n[https://gyazo.com/2f06a4b62bceb2d12b71b76933e34f01]\n\n\n\n# 2/20 IoT開発本部 朝会KPT\ncreated_at:Mon Jan 19 1970 07:43:59 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:44:10 GMT+0900 (日本標準時)\n2/20 IoT開発本部 朝会KPT\n\t目的\n\t\t朝会のプレゼンが一巡したため、これまでの朝会を振り返り、来週からの朝会を有意義にしたい\n\t\t今日中にIoT開発本部としての方針をまとめ、今週中に全体で方針まとめる\n\n\t他部署のフィードバック\n\t\thttps://docs.google.com/spreadsheets/d/1syrtp6yTHml3NzUrGb-Eo8aKulAH73E9P7puNN4FAmQ/edit##gid=0\n\n　これまでの朝会KPT\n\t　K\n\t　　週1で決まった時間に集まる(フレックス制の導入により社員全員が集まる機会が減ったため)[fukazawa.icon]\n\t　　毎週決まった時間に集まって、発表を聴くというのは良い。ライトニングトークの練習になるのですべての人が経験するべき[hazimetyan.icon]\n\t　　\t朝回でやるべきなのか?っていうのは議論してもいいかもしれない。個人的には朝回のままでいいと思っている[hazimetyan.icon]\n\t　　多様なことに興味をもつことによって、新しい発想が得られたりするのでテーマは漠然としているままでよい[hazimetyan.icon]\n\t　　\tPに反対の意見を書いていますが、こちらも賛成です。。[takeuchi.icon]\n\t　　社員がどういうことに興味を持っているのか知れる機会があるのは良い。[nakano.icon]\n\t　　\t↑同意。気づくと興味関心が狭くなってたりもします。[ymtk.icon]\n\t　P\n　　　プレゼンの担当者がアミダくじで決まるため主体性がない、また週1名のため殆ど回ってこない[fukazawa.icon]\n　　　\t同意。そもそものこの成り立ちが、企画コンペをやると刺激を受けて発想が良くなるよね。でもこういうことを普段から考えてないといけない。っていう考えから始まっているので、頻度が低いのはよろしくない。勝手に自分でがんばって色々考えておけよ。って話でもあるが、まあ機会を増やすってことが大事かと。[hazimetyan.icon]\n　　　\t共有したい事を思いついても順番回ってこないしなーというタイミング任せなので勿体無い（発表したいと言えば発表できるけども）[narico.icon]\n　　　\t挙手制で、誰もいなければ強制にする？\n　　　\t　ネタリスト、公開リクエスト、自分で興味のあるネタから話す内容考える\n　　　\t　ランダムジェネレーターでチーム作り、ローテーションで回すのがよい？\n　　　\t　　チーム内でテーマが合わない可能性がある　準備に時間掛かる　どうしよう><　来週とか無理！\n　　　\t\t\t2〜3ヶ月に1回当たるように\n　　　\t　　良い発表だったら井宮さんからAmazonギフト券1万円分\n　　　\t勉強会の講師がいつも同じ人になる問題と近いよね[ymtk.icon]\n　　　朝会の目的が「最終的に製品開発やサービスに活かす」ところだとすると、プレゼンのテーマがみんなバラバラで、毎度必ずしもみんなが内容に興味を持てるとは限らないし、そこから議論に発展しづらい（興味のある人しか突っ込まないだろうから）。最終的に議論に発展してうちのサービスと比べたりする機会まで発展しなければ（すごーい、で終わってしまうと）、プレゼンする意味はあんまりないのでは[takeuchi.icon]\n　　　朝9:30であることに必然性を感じない。個人的には10:00が良い。[hazimetyan.icon]\n　　　\t理由としては、世間では出社時間は分散しているほうが望ましいから。フレックスを採用しているのに通勤ラッシュで憂鬱になる要素を増やすことに同意できない。[hazimetyan.icon]\n　　　\tただ、他のこととの兼ね合い、ボード会のついでであるとか、他社が業務が本格稼働する前に皆が集まるほうが合理的という話があれば別[hazimetyan.icon]\n　　　\t9:45がhazimetyanベスト？\n　　　朝って一番頭が冴えているので個人的には夕方(17:30~)とかの方が良いのではと思っている\t[tsato.icon][narico.icon]\n　　　\t人に寄るとは思うけど、、朝会出ると３、４時間ぶんくらいは生産性が下がる。眠いの我慢しているのと、朝の時間を使っているから。\n　　　\t冴えている時間はプロジェクトで抱えている問題の解決やコーディングに使った方が良いんじゃないかと思う\n　　　\t前職の超すごいエンジニアチームは朝会を夕方五時にやっていた[ymtk.icon]\n　　　偉い人の話的なのカットして良いと思う。Slackに書いて欲しい。トップダウン文化も悪い意味で根付きそう[tsato.icon][narico.icon]\n　　　 賛成大多数\n　　　既存のプロジェクトで忙しい人多そう。朝会による社内文化の醸成、リテラシーの向上みたいな(?)長期的な投資をする余裕を感じない。[tsato.icon]\n　　　\tパス制度の導入？\n　　　1人あたりの発表の回数が少ない。1年に1回程度になりそうなので、3ヶ月に1度ぐらいにしたほうが良い気がする[hazimetyan.icon]\n　　　あまり質問がでないので話す方のモチベーション上がらんよなーと思っている。準備の手間だけ考えたら社外の勉強会で話してるのと同じくらい[ymtk.icon][narico.icon]\n　　　\tそして社外の勉強会とか講習会で話してるんだけど、これ社内に話すべきネタなんだよなと言う悩み[ymtk.icon]\n　　　基本的にライトニングトークの練習、表に立って発表する練習の場として捉えているので頻度が高いほうが望ましいと思っている[hazimetyan.icon]\n　　　UXを生業としている身としては対全社員向けでどういう話をしていいのか結構悩む。World IA Dayの話とか別に知りたくないよなーとか。そういう意味では朝会じゃなくてテックトークがほしい。逆に技術とかデザインとか専門的な話が聞きたい。みんな聞くと教えてくれるのよね[ymtk.icon]\n　　T\n　　　社員全員のテンションが上がるような何かを盛り込みたい（営業の売上報告？）[fukazawa.icon]\n　　　各部署の情報共有（室長レベル、各1〜2分程度で話す？）[fukazawa.icon]\n　　　　締め会でよさそう\n　　　　このくらいのトピックがあれば知りたい[ymtk.icon]\n\t\t\t\t\t[https://gyazo.com/6ec6817ed0944d84fb5b5ca4b7cb0ed9]\n\n　　　全員参加型にする？（1人30秒ぐらいで全員何か言うなど）[fukazawa.icon]\n　　　　スタンドアップ的な\n　　　プレゼンのテーマを「玄関まわりのUX」にしぼって、みんなが意見しやすくする。プレゼン自体はそこまで手の込んだものでなくてもよい（5〜10分くらいで紹介する）。たとえば別の会社がこんなサービスをやっていてうちもなんかマネできるんじゃないかとか、自分が普段暮らすなかでこんな風になったらいいのにとか（朝会で議論までしろ、と言っているのではなく、今後の議論のきっかけになりやすいテーマが多いほうがよいのでは、ということです）。[takeuchi.icon]\n　　　\tただ、ちょっと窮屈な気もしています。[takeuchi.icon]\n　　　「朝会」ではなく「UX共有会」とかに名前変えてみるのはどうでしょう？「この会が朝行われる」ということは、特に重要ではないと思うので。[takeuchi.icon]\n　　　頻度をあげるため、1回の開催で、2,3人発表にしてみる。時間を、トーク3分、質疑応答2分までと決めて、タイムキーパーがカウントする。トークが長引いた場合質疑応答時間を削ってトークしてもよい。5分経ったら強制終了。興味がある人は、朝回後に個人的に話を聞きに行けば良い。[hazimetyan.icon]\n　　　なんか食事だそう。朝のお食事会にしよう。おなかに入れると目が覚める[ymtk.icon]\n　　　発表内容をそのまま会社ブログに載せるなり、技術書典に出すなり、発表した素材がもっと活用されるといいかも[ymtk.icon]\n　　　\tアリだと思います。いいすね[tsato.icon] \n　　　\t会社の発信が無いの、採用の観点から言うと地味によく無い気がしてました[tsato.icon]\n　　　\t社内から反応がなくても社外から反応があればまーうれしいなと[ymtk.icon]\n　　　\n\n　まとめ\n　\t朝会は今やるべきではない（メンバーの作業状況に余裕がない）、朝飯会ならOK\n　\t金曜夕会＞朝会（朝飯会）\n　　朝飯会\n　　\tみんなで集まって朝飯食べる（発表なし）\n　　\tみんなで集まることに意味がある、心理的安全がある\n　　\t朝は他の会議と被りずらいメリットある\n　　金曜夕会\n　　\t金曜夕方のUX会とする？\n　　\t\tテーマは\n　　\t\t　ロックのビジネスに繋がりそうなもの\n　　\t\t　今までどおり発表者の興味があること\n　　\t\t　ネタリストから選ぶ\n　　\t\t発表者はランダムジェネレーターで予め数カ月先まで出しておく\n　　\t終わった後に時間ある、盛り上がれば懇親会できる\n　　\t子育て組がきついかも？\n　　\t\tやるなら15:00〜\n\n\n# this is nakano’s page\ncreated_at:Mon Jan 19 1970 07:44:01 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:44:07 GMT+0900 (日本標準時)\nthis is nakano’s page\n\n[https://gyazo.com/16df40727cfd6d8208b065c6b8f314ec]\n\n\n\n##member\n# 2/20 Sirius kickoff\ncreated_at:Mon Jan 19 1970 07:43:56 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:43:59 GMT+0900 (日本標準時)\n2/20 Sirius kickoff\n[* 状況共有]\n\tカギカンとの違い\n\t\tブラウザ操作→アプリ操作\n\t\t\tアプリではゲストキーで操作\n\t\t1ロック内のみの合カギグループ→全ロック共通の合カギグループ\n\t\tキーパッドなし\n\t\t複数拠点・同一アカウント利用可能\n\t\t拠点ログイン可能\n\tカギカンと変わらない部分\n\t\tPC Webコンソール\n\t\t\tロックの状態、履歴の確認\n\t\t管理アプリ（最初はAndroidのみ）\n\tターゲット\n\t\t今のところ６末\n\n[* 決めるべきポイント]\n\t月額費用\n\t\t今の２倍くらいを想定\n\tレンタルモデルにこだわるかどうか\n\t\t個人的には購入にした方が分かりやすい感覚。購入とレンタルの違いなどの話はもうやめたい\n\t\tどうしてもレンタルにしたい場合のオプションを作るかどうか（経理上の都合）\n\t明確なBtoB顧客\n\t\t現状はそれなりに一般的なところまで\n\t移行プラン\n\n# Castle 週定例 2019/2/19\ncreated_at:Mon Jan 19 1970 07:42:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:42:48 GMT+0900 (日本標準時)\nCastle 週定例 2019/2/19\n[https://gyazo.com/b453a6b5c450cbb4b46cd0b945836f11]\nhttps://ja.wikipedia.org/wiki/中城城\n\n先週: [Castle 週定例 2019/2/12]\n\n[* scrapboxの話]\n\t定例で使うの面白くていいんですが、個別記事という形でもいくらか追跡可能にしておきたい気持ち\n\t\t[KPT]で気になった単語、概念を片っ端から `[Link]` するとか、適当にやっていきます [tottokotkd.icon]\n\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: Castle: QRコード発行、権限の反映されたUI、ログインフロー改善、IE対応、BCU関連実装\n\to: グループ＆ユーザー登録、BCUログイン関連の正規実装\n\t!: PRスケジュールとの連携箇所等があれば、決まり次第で知りたい\n\t\t全体の方向性とか\n\t\t具体的に日付、どう聞いても早い\n\n[narico.icon]\n\tv: UI修正\n\to: 部屋詳細ページの見直し\n\t\tリモート操作のタブ\n\to: 操作履歴直す\n\to: そろそろIE11見る\n\n\n[htwrocl.icon]\n vo: Castle関連は特になし\n\tAlexa関連の作業\n\tQB-API Rubyバージョンアップ\n\n[tsato.icon]\n v: QRコードログイン\n v: モデルを現在のサーバー側のデータ構造にマッチするようリファクタリング\n vo: APIとの繋ぎこみ\n o: ロックの正常系シーケンスが一通り動くようにする\n o: ハブの正常系シーケンス途中まで動くくらいにする\n !: SQA後ろ倒ししてもらってる\n \tモデルの改修や、サーバーとの繋ぎこみに時間がかかったので\n \tWebアプリ側のBCU部分火曜中にできる目処\n \tログイン処理がモックじゃなくなる\n\n[h.yamaguchi.icon]\n\tvo: クライアント側のapi繋ぎこみに伴う修正色々\n\tvo: bcu-apiテストコード\n\tvo: アラート実装仕様決める\n\t!: テストコード→アラートの順番で実装予定ではあるがapiの修正などの作業もあるのでアラートまで手が回らない可能性あり\n\t\t開発リソースがないのでアラートの方が優先順位高い\n\t\tテストはアプリから叩いたり、SQAである程度担保するということで、、[tsato.icon]\n\t\tとりあえず動かすために「なぜか動かないところにテストを書く」からの「全部一通りできたのでテストを書いて固める」みたいな流れがよさそうかも [tottokotkd.icon]\n\t\t実装の優先順位 1. クライアントからのAPI仕様変更要求、バグ修正 2. アラート 3. テスト\n\t\t\t部分によってテストが必要だと思えば、優先順位あげるなどよしなに判断\n\n[ymtk.icon]\n\t風邪気味でお休み\n\n[hazimetyan.icon]\n v: なんにもやっていなかった\n o: 今週こそ実装する\n o: 現行コードをローカルで動作させる予定\n !: いまのところなにもなし\n \tとりあえず「電話してボタン押したらブチっと切れて、鍵はたぶん開く」くらいで作り、そこからUX改善ぐるぐる回すイメージ [tottokotkd.icon]\n \t成功/失敗の結果を電話で返すのは出来たらしたいが、後回しくらいか、[tsato.icon]\n \t\tKingAPIに結果を返すAPIがあって、１秒ごとにそれを叩くようなことをAlexaまわりでやってるので、同じことをやれば電話解錠でも結果は返せるかも\n \t\tやってみないと分からない要素が多いので、細かい挙動を現時点で考えるのは厳しそう\n \t案内の音声ってどうやって用意するか？twillioが用意しているのか？[tsato.icon]\n \t\thttps://twilio.kddi-web.com/function/voice/\n \t\t\t> Text to Speech（音声合成機能）によって、テキストを音声合成で読み上げることが可能です。また、事前に録音した音声や音楽があれば再生できます。\n \t\thttps://jp.twilio.com/docs/voice/make-calls\n\t\t\t音声ガイダンスの原稿用意？[narico.icon]\n\t\t\t\t読み上げ速度とかわかんないから原稿を待たずに実装を進める\n\n\n\n[*** 4月初旬に間に合わなそうな機能]\n\tメールでアラート送る機能\n\t\t何を誰に送るかも決まってないため\n\n\n\n\n[kk.icon]\n\n[*** ##KPT]\n[*** よかったこと、続けていくこと]\n\taikoチケット安い https://aiko.com/topics/20190215_6205/\n\t社内晩酌に慣れてきた、楽しい\n 今のところBCUのコードが崩壊してない\n \tCastleBCUは要件が割と決まってるのでKingCUより不確定要素が少ない\n 確定申告をネットでやれる準備完了\n \t確定申告って大変ですか？[tsato.icon]\n \t税金を払うのは楽だけど控除だの経費だのはストレスというイメージ\n デザイン周りの外注がきちんと回っている（はず）（たぶん）（まだ大丈夫）\n \tターゲティングの話とか http://bunshun.jp/articles/-/9795\n\n> 安田　近年、日本の地方年配層へのファーウェイの浸透って、どうやらすごそうです。毎日放送（MBS）という大阪のラジオ局の朝の番組に、『ありがとう浜村淳です』という昭和40年代から続く人気番組があるんですが……。\n>\n> 山谷　高齢の聴取者もかなり多い、関西の老舗ラジオ番組ですね。\n>\n> 安田　先日、その番組を聞いていた。そうしたら「離れて暮らす息子から写真を送ってもらいませんか？　孫の動画を撮りませんか？　すぐ忘れる話を録音しませんか？　そんなあなたにファーウェイのスマートフォン。お求めの方は0120-xxxxへいますぐお電話を」みたいなCMを番組中のラジオショッピングで流していたんです。\n>\n> 山谷　ファーウェイのマーケティング能力のハンパなさですね。ラジオの通販CMを聞いてスマホを買う行動なんて、従来のスマホユーザーの価値観では想像しづらい。ただ、確かに「普段の情報源はラジオ」「息子からLINEが来ればOK」くらいの年配層は、高価なスマホを欲しいとは思っていないわけです。物凄いニーズを掘り出しています。\n\n[*** 課題感、やってみること]\n\tリリ判の資料誰が作るの？\n\n [Qrio TechBook]\n\n##Castle #定例\n# Castle 週定例 2019/2/12\ncreated_at:Mon Jan 19 1970 07:32:16 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:32:41 GMT+0900 (日本標準時)\nCastle 週定例 2019/2/12\n[https://gyazo.com/df88fea1da3ea3800124afa890e777e3]\n\nhttps://en.wikipedia.org/wiki/White_House_of_Choghtu_Khong_Tayiji\n先週: [Castle 週定例 2019/2/5]\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: BLEのスライドみんなで直した\n\tv: King連携APIのテストが書けない問題に対応\n\tv: サーバー側リファクタリング、コードレビュー \n\to: 先週書いた「新規アプリアカウント登録、QR発行まで今週中という目標」が普通に未達なので継続\n\t!: 人手が足りない（毎週恒例）\n\t!: ハブ電源問題\n\t\t「ダメなんですか？」「ダメです」終了 [tottokotkd.icon]\n\n[narico.icon]\n\tv: 操作履歴\n\t\t雑すぎるがロジックも進まないと何をどう出せるかが決まっていかないので妄想で作っておくしかない\n\tv: 各所修正\n\t\t単語揺れ直したり、モーダルの中身修正したり\n\to: 契約情報\n\t\t結局どんな情報持つんだっけ\n\t!: アラート画面 \n\n\n[htwrocl.icon]\n vo: Castle関連は特になし\n\tAlexa関連の作業をしています\n\tQB-API Rubyバージョンアップ\n\n[tsato.icon]\n o: LockのAPIとの繋ぎこみ\n\n[h.yamaguchi.icon]\n\tv: hubApi\n\to: テストコード\n\to: アラート\n\n\n[ymtk.icon]\n\tv: 商談\n\to: 利用規約状況確認\n\t\tto 望月さん \n\to: caste ヘルプセンター調査\n\t\thelp scoutで行く予定。お問い合わせまで寄せるかは別途CS相談中\n\t!: 更新できなくてもいいリードオンリーのmockを顧客がさわりたいニーズがあります\n\t\t更新できないのがポイント（実装タイミング的な意味で）\n\t\tステージングと分けると、逆に手間になる可能性もあるかも？ 差分反映の遅れとか\n\t\t\t前提として含んでおけばok? [tottokotkd.icon]\n\t!: プロダクト定例共有事項あれば\n\n\n[hazimetyan.icon]\n v: まわりの状況把握。いったんKing API を個人ユーザーとして叩いて電話解錠させるモックを作ると、方針決めだけした。\n \tモックさわりたい（かけたい）です[ymtk.icon]\n o: 上記の実装\n o: 今週はただいまキットのSQAのフィードバック対応の他は時間使える予定\n !: まああんまりない。っていうか時間使ってなくてすんません:(；ﾞﾟ'ωﾟ'）:\n\n[kk.icon]\n\n\n\n\n\n[m.suzuki.icon]\n\tv:シンボルマークFIX\n\t\tぜひ画像でください [tottokotkd.icon]\n\tv:BCUログイン画面\n\tv:Web実装 着手\n\n\to:Web実装\n\to:機器設置アプリガイド更新\n\n\t!:シンボルFIXしたので、後ほど共有します\n  narico&tottokotkdさんにも協力いただきました\n\t!:Webの構成流れとコンテンツ作成\n\t\t「入居者のプライバシーに徹底的に配慮！」くらいの強い打ち出し方でも良さそう感 [tottokotkd.icon]\n\t\tログを消す、カギをリセットして殺す（リハッシュ、壊れなければ入退去で買い替え不要）、管理会社からは私生活が絶対に見えない、分離独立したシステム、セキュリティ（特許とった！）とか…\n\t\t「管理会社にアピール」なのか「管理会社から入居者に申し開きできる点をアピール」なのか\n\t!:ガイド全体擦り合わせ with ymtk\n\n[*** ##KPT]\n\t先週: [Castle 週定例 2019/2/5]\n\n[*** よかったこと、続けていくこと]\n\tスライドかっこよかった\n\tシンボルかっこよかった\n\tコンセプトとVI作っとくと、デザイン展開がラク！\n\t\tURLとかで見れたり…？ [tottokotkd.icon]\n\t\tドライブ？\n\t\tサイトとかいきなり作っても楽しそう\n\tKing API, CU, RU が全員登場する「マスターキー生成処理」のテストをほぼ用意できた\n\t連休でHCD事務局の案件とビジョン開発と確定申告の案件を倒せた\n\t最終退出を半分くらいは回避した\n\tbcuApiだいたい終わった。テストも頑張る\n\t劇場版シティーハンター最高だった（仕事が忙しくても休みに引きこもると元気が戻らないので）\n\tそういえばaikoライブも年齢層が高めだった　老化！\n\tさやの湯でリフレッシュされた\n\t\tしらくの湯もいいよ！\n\t\t\thttp://www.shiraku.jp/\n\n[*** 課題感、やってみること]\n\tえもいわれぬ倦怠感、シャキッとしない感じ\n\t　二日酔いでした [tottokotkd.icon]\n\tコンセプトとVI開発に時間かかる\n\t\tどのタイミングでBizチームと連携図るべきか悩みどころ\n\t\t「合意形成」とか「アイデア出し」とかいろんなフェイズありそうで難しそう\n\t\tよしなに巻き込んでいくノウハウ欲しい [tottokotkd.icon]\n\tたまにやる実装で開発環境動かないパターン\n\t\tqrio.meという最高にモダンなサイト\n\t\tフロント知らなすぎるのもヤバイ\n\t\tqrio.me の霊圧がやばい\n\t\t`qrio.me/business` に入れる -> qrio.meのコード書かないとダメ -> 死ぬ\n\tあれもこれも増えてきたので定例とか案件とか色々手放す。髪が復帰しない\t\n\t\t特にこれ専門知識いるやつや、というものは室長ラインに依頼して間に入らないようにする\n\n\n##Castle #定例\n# Qrioにおける「サービス」とは何か\ncreated_at:Mon Jan 19 1970 07:13:49 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:31:12 GMT+0900 (日本標準時)\nQrioにおける「サービス」とは何か\n社内で「サービス」の定義が人によってバラバラなので自分なりの定義を書いてみるよ[ymtk.icon]\n\n[** サービスの定義でぶつかるとき]\n\t「Qrio Lockはサービスだ」→しっくりこない\n\t「カギカンはサービスだ」→半分くらいしっくりくる\n\n[** サービスで売り上げを立てている、と言うときに出てくる「サービス」]\n\tfreee\n\tジョブカン\n\tモバイルゲーム課金\n\tplaystation plus\n\n[** モノ売り主軸をなぜ辛いと思うのか]\n\tサポートし続けてもお金をもらえない\n\t\t買って即使われなくなることが一番効率がよくなってしまう\n\t\tサポート、改修への投資からの売り上げ向上がコスパ悪い\n\tどんどん人に会い、どんどん交渉を進めて売っていくモノ\n\t\tそういうのが苦手だわと思って技術側に自分は来ている。得意なら多分人に会う仕事を選んでる\n\t原価が高い、在庫を持つ必要がある\n\t\t同じ300円でも方や電子データを売り、方やモノを売るので原価率は異なる\n\t\t電子データが在庫で困ることはない（アクセス過多はあるが）\n\t物理的に壊れる\n\t\t電子データもOS次第でがあるが、それ以上にモノは壊れる\n\t海外にふらっと売れない\n\t\t法律\n\t価格変更弾力性が少ない\n\t\t変更すると影響範囲が広い。調整も必要\n\t\t\t価格が暴れたときにアンコントローラブル。\n\t\tWebサービスだと自社都合で結構変えられる\n\t\t\t代理店調整はもちろん必要\n\t機能変更弾力性が少ない\n\t\t簡単に機能を増やしたり減らしたりできない。\n\t\t\t金型変えたり材料買えたり、原価インパクトも大きい\n\t\t\tWebサービスならそこそこ自由自在。外部サービスを使わない限り、機能の増減で原価は大きく変わらない\n\t中華勢強い\n\t\t単純にモノだけの勝負になると、リスクを恐れず高速に試行錯誤が許されている相手との戦いは原価上もスペック上も厳しい\n\t\t日本的な感覚で作っているとチャレンジ数とノウハウ数からしても非常に厳しい\n\n[** サービスで成り立っている、と言う状態 is...?]\n\t売り上げ自体にフリークエンシーが絡む\n\t\t同じ人に何度もお金を頂くチャンスがある\n\t\t製品バリエーションがない場合、モノだとほとんど1回きり\n\t売り上げの軸がサービス利用費用であり、モノの費用ではない\n\t\t在庫がないので売れません、みたいなこともないし、パーツが手に入らないので売れませんということもない\n\t\tプラン変更など、ARPUを上げる手を柔軟に打てる\n\tdev側も自身の経験を元に企画提案〜実装、利用促進のイメージをかける、事業に提案している\n\t\t量販店への営業施策をどうするかとなると畑違いすぎて何も言えなくなる\n\t\t\tUI良くなったら買うかと言えば（それをよほど使っていて価値を分かっている人以外は）買わない\n\t\t\tスマスピで使えます！くらいの用途拡大が必要\n\t\t企画、サービスの提供方法のバリエーションであれば提案できる\n\t\t\tモノ中心だと試行錯誤が回しにくく、課金率をブラッシュアップしていくことができない\n\n[* これから取り組むべき「サービス」とは？]\n\tスポットではなく繰り返し価値を提供し、その報酬をいただける事業\n\t\t継続したサポートや改修がチャーンを改善し売り上げにつながる。投資の大義名分がある\n\tニーズに対するPMFを、原価上も道義上もハードル低く繰り返し試行錯誤できる事業\n\t\t1サイクル3年待たずに急に出てきた顕在ニーズに対しての手が打てる\n\t買うのとレンタルの違いは何よ？のような、自分たちでも明確な解を出せない状態は生み出さない\n\t\tカギカン1で頻発。混ざってしまった故に、¥4,980/月 がモノの値段と比較されがち。\n\t\t\tレンタルプランはお試しプランなの？\n\t\tSiriusでは機器は購入、サービス利用料＆サポートは月額、と言う座組みなど\n\t\t\tレンタルするとしても¥2,000/月程度、10ヶ月リクープ\n\t\t\tリース、Qrioは店で売ってるので色々無理がありそう。akerunは売ってないので比較対象になるようなモノもない。\n\t\t\t付加価値でお金を取っている＝サービスで儲けている\n\n\t[* 2030年の玄関なら当たり前のように得られる価値]\n\t\t不在宅配\n\t\t\t拡張すると電子はんこをLINEで、とか\n\t\t\tお風呂中、トイレ中の出前受け取り\n\t\t\tパルシステム\n\t\t\t\t保育園のお迎えで受け取れなかったら晩飯が死ぬ\n\t\t家事代行\n\t\t\t勝手に来て勝手に掃除してくれる\n\t\t訪問医療\n\t\t\tネットで頼むと来てくれる\n\t\t\t急遽熱を出した子供とか\n\t\t\t\t先に行ってみておいてもらう\n\t\t介護サービス\n\t\t\t一人暮らししている家に入っていける\n\t\t\tおじいちゃん、おばあちゃんの出迎え、見送り\n\t\t点検\n\t\t\t火災報知器の点検（法定点検）[ガス]点検\n\t\t学童保育\n\t\t\t子供に晩ご飯作っておいてほしい\n\t\t集荷\n\t\t引っ越し\n\t\t\t地方から上京するときに電車次第ですごく待たせてしまうことがある\n\t\t\t勝手に東京の家に入れておいて欲しい（指示書はいるけど）\n\t\tその他、家にいないと行けないアレコレ。点検とか\n\t\t\tここまで来るとカメラ欲しいよね\n[** ドアを使って得られる価値、そういう世界観、それを誰でも導入できる（賃貸でも）]\n\t\t\t不在で悩まないUX\n\t\t\t\t例えば家の宅配ボックスができてから、不在宅配にあんまり悩んだことない\n\t\t\t家にネットを引くくらいの違い。ネットを引いたら得られるサービスが増えたよね\n\t\t\t\tもうamazonでしかモノ買いたくない\n\t\t\t\t勝手にピザ置いておいて欲しい（生もの、宅配ボックスに入れられない）\n\t\t\t\t\tUber eats連携\n\n[* 2021年のドアとスマートロック]\n\t\t果たしてハンズフリーがいいのか？\n\t\t\t3メートル離れてるだめなの？目の前ならいいの？\n\t\tスマホを続けていくのか\n\t\tどういうドア体験だとグッとくるの？\n\t\t\tそこが成立してないと、その先のサービスまでたどり着けない\n\n[* さらに先：未来のドア is ...?]\n\t\tドアとカギ\n\t\t\t家のドアてもう自動ドアにしたくないか？\n\n\n# 2019/2/7 エイブルさん\ncreated_at:Mon Jan 19 1970 07:25:15 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:25:23 GMT+0900 (日本標準時)\n2019/2/7 エイブルさん\nエイブル：渡辺さま、相良さま\nQrio ：seki、ymtk、narico\n\n[**** 質疑・応答]\n\n[** Q. 解施錠履歴のデータはもらえるか？]\n\t（名前は必要ないが、男性・女性などの属性データなどの基礎分析に利用できないか）\n 解施錠の履歴はサーバー上には蓄積されているが、入居者の属性はRoomo上にはない。\n\n[** Q. 導入環境について前提の確認]\n\t空室時にも室内にハブが設置されており、通電、ネットワーク(Wi-Fi)接続されていることが前提。\n\tネットワークが一番障壁が高そう\n\n[** Q.初回の建物データなどのセットアップ]\n\t別途お見積り\n\t物件データをQrioに引き渡すことになるのでおすすめしません。\n\n[** Q. 初回のリリースはいつ予定か？]\n\t4/1を予定\n\t通電およびネットワーク環境の課題解決が必要だが一部導入を検討していきたい。\n\n[** Q. 設置トレーニングについて]\n\t委託業者は様々であり、トレーニングをしたとしてもトレーニングを受けた者が実際の作業者とは違うことも多い。\n\t設置マニュアルやトレーニングの実施についてQrio 側でどこまでサポートしてもらえるか？\n\n[** Q. 故障した場合の対応について]\n\t入居者がハブを壊してしまった場合　例）Hubに掃除機ぶつけて故障させちゃった\n\t\t入居者に連絡してもらうなどは考えない\n\t\t入居者には原則的に何も負担させない運用でないとだめ\n\t\t画面上のアラートで対応することは可能\n\n[** Q. リース可能か]\n\t現在は購入のみ\n\n[** Q. グレードアップなどの将来の運用をどう考えて行けば良いか？]\n\tユーザーが使用している端末OSバージョンなどが懸念。\n\t一回の投資で済む話ではなく、先々の事を考え導入検討する必要がある\n\n\n\n\n\n# Castle UI レビュー\ncreated_at:Mon Jan 19 1970 07:23:54 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:23:58 GMT+0900 (日本標準時)\nCastle UI レビュー\n[*** ホーム画面] \n\t検索ボックスと建物・部屋の管理の機能がほぼ一緒だなー [narico.icon]\n\t\t検索ボックスの「合カギ発行とロック操作」のタイトル？のせいで主目的がなんなのか伝わりづらい？\n\t\t\t普通に「物件検索」でいいんじゃないの、と思ったりする\n\t\t\t建物検索、にします\n\t\t\tmemo: 「物件」は絶対使わない遵守\n\n[*** 建物・部屋の管理] \n\t建物リスト→新規登録、でよい感覚[ymtk.icon]\n\tここに来る主目的is...?\n\t\t初回：建物を登録したい\n\t\t日々：建物情報を見たい\n\t\t内見はホームのフォームからやるよ、となった場合はほとんどの場合新規登録を使う。登録後に建物登録されてるのかな？を見る場合、建物リストが出ているならば設定アカウントリストを見る。\n\t\t\tただしオペレーターは新規登録しない。[* オプショナルなタブをデフォルトにしない方が良い認識]\n\n[** 建物詳細]\n\t部屋のリストがなんか部屋っぽく見えない？[narico.icon]\n\t\tまぁなんか普通です\n\t紐付け？紐付ける、っていう単語がよくわからないかも\n\t\t関連づける？とか\n\t\t紐づける、でおk\n\n[** 部屋詳細]\n\t使う頻度としてはリモート解施錠の方が多い？の件\n\t\t内見時の電話カギとかの方が優先で良い印象\n\tグループ変更もタブにするか\n\t\t建物がタブに出ているので、学習コスト的にはタブにはかれていた方が分かりやすい。あるいは建物を合わせるか[ymtk.icon]\n\t\tタブにします[narico.icon]\n\t部屋の番号間違って入れて変えたいときは最初は削除からの再登録でしたっけ[ymtk.icon]\n\t\tCSVで再登録してください。\n\tここに来るシーンとしては大体この辺\n\t\t内見ある（頻度高）\n\t\t\t事前にカギを発行\n\t\t\t電話来たのでその場で電話キー口伝\n\t\t\t電話来たのでその場でリモート解錠\n\t\t\t\tそこそこ大きい事務所じゃないとベタ付きできない\n\t\t\t内見来たのかな、という意味で履歴は見そう\n\t\tアラートから飛んでくる\n\t\t\t毎日のルーチン\n\t\t\t飛んでくる以外で検索経由→ここに頑張ってくるのはあんまりなさそう\n\t\t\t\tとなるとここがデフォルトじゃなくてもいい\n\t\t入居した\n\t\t\tモード切替。そこまで頻度ない\n\tここに検索してやってきて見たいものとしては履歴＞機器情報かも？[ymtk.icon]\n\tリモート操作のボタン [narico.icon]\n\t\tマルジャなくてもいいけど解錠と施錠の見た目は明確に分けたほうが良い\n\tヘルプのリンク「〜について」\n\n[*** 設置アプリアカウント管理] \n\tアカウントのテーブルのセルの並び [narico.icon]\n\t\tアカウントIDのようなの出すべき？\n\t\tIDはなくてもいいけど、アカウントが生きてるのか死んでる(将来に向けてずっと無効)のかは知りたい[ymtk.icon]\n\t設置アカウントリスト→新規登録でよい感覚[ymtk.icon]\n\tここを見に来るパターンis...?\n\t\t依頼されてアカウントを発行する（頻度高）\n\t\tちゃんと部屋紐付けたか覚えてないので確認する（頻度中）\n\t\t業者からアカウント忘れたと言われて確認する（頻度低）\n\n[** 設置アプリアカウント管理 > アカウント詳細]\n\tタブの並び、アカウント情報が先な気がしてきた [narico.icon]\n\tパンくずが動いたとして、アカウント詳細に来た時に急に別画面来た感があって迷いそう[narico.icon]\n\tQRコード→「アカウント発行」ないしは「QRコード発行」とかのがわかりやすい？\n　\tホーム画面では、アカウントを発行します。って説明してるので\n\tタブ「設置アカウント情報」の役割としては「削除」メインなのかな。次点で編集。となるとアカウント編集とかの方が直接的？\n\n[*** グループ管理] \n\tグループリスト→新規登録でよい感覚[ymtk.icon]\n\t2階層目はユーザーリストが先がよい\n\t\t日々頻度高く発生するのはユーザーが含まれているか確認したい操作。内容編集や削除は低頻度\n\t\tデフォルトで削除に関わる操作があるのに違和感\n\t\tただユーザーはそうならざるを得ないんだよな･･･\n\n\n[*** ユーザー管理] \n\tユーザーリスト→新規登録でよい感覚[ymtk.icon]\n\n[*** 操作履歴] \n\tSNS脳だからかもしれないけど、今日が分からない\n\t\tGoogle Driveだと、今日の場合は時間だけ出てくる\n\n# 20190205 発表練習\ncreated_at:Mon Jan 19 1970 07:22:23 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:22:28 GMT+0900 (日本標準時)\n20190205 発表練習\n1min\n話したいこと\n\n1:30  \nQrio Lock\n\n2:00\nQrio Lock + BLE\n\n\n2:30 なぜBLE\n\t「大まかに1、2ヶ月」200％違うのは流石に幅がある感（それくらいブレがあるという意味ならok） [tottokotkd.icon]\n\n3:40 補足\n\n3:50 Retrofit最高\n\n4:10 BLEその1\n\t「20バイト」どのくらいだっけ？という方向に頭がちょっといってしまうかも　具体例とか\n\t\tunixtime 8バイト\n\t\tUUID 16バイト\n\t\t\n\n4:50 20バイト超えたら\n\nBLEセキュリティ\n\t文字が多い　かも\n\n6:20 自前のセキュリティ\n\n6:45 BLEまとめ\n\n7:00 設計ノウハウ\n\n7:30 デバイスはシンプルに\n\n8:50 webサーバーの特徴\n\n10:15 webと同期すれば遠くからでも取れる\n\n11:15 状態同期は遅延を考慮\n\t文字が多い　読むので忙しいかも\n\n12:10 結果整合性を考慮する\n\n14:00 冪等性\n\n15:00 ノウハウまとめ\n\tすごくいい答えの一覧\n\tこの答えに対応する課題感・つらみのリストが欲しいかも\n\n16:00 ドメインの話\n\n19:00 通信先でクラス分け\n\t「クラスを分ける」->「扱う情報もプロトコルの性格も違うため」\n\tいい話\n\tこのあたりも「ノウハウ」としてシンプルに提示されるとすっとわかりそうかも？\n\n20:20 別モジュールにして専用アプリ\n\t「BLE通信部分は別モジュールにして専用アプリ」がどういうアプリなのか、ピンとこない可能性ありそう\n\t「これがストアのアプリで、これがテスト用のアプリ」と2つ並んでいると良さげ？\n\n23:00 おもしろさ\n\n24:00 終わり\n\n[* 感想とか]\n\t「何が辛いんだっけ」という話は前倒しでもいいのかも [tottokotkd.icon]\n\t\t「開発も通信もつらい」「同期が信用できない」「無限にリトライでぶち壊ししかねない」みたいな\n\t「めっちゃ辛い」でもBluetoothないとダメなので頑張る… みたいな流れ？\n\n# Castle 週定例 2019/2/5\ncreated_at:Mon Jan 19 1970 07:22:14 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:22:17 GMT+0900 (日本標準時)\nCastle 週定例 2019/2/5\n[https://gyazo.com/eda9c5adeb14dab13582f070e58928ba]\nhttps://en.wikipedia.org/wiki/Wulff_Castle\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: Castle web BCUアカウントを部屋に結びつける機能\n\t\tステージング環境から、ステージングDBへの書き込みまで可能\n\to: BCUまわりを優先して倒していく予定\n\t\t新規アプリアカウント登録、QR発行まで今週中という目標\n\t!: ステージング環境が定期的に壊れる問題\n\t\t「壊れないように…」で人間の効率が落ちるのは避けたい\n\t\tテスト書いてCI回す定石やっときたい\n\n\n[narico.icon]\n\n[htwrocl.icon]\n vo: Castle関連は特になし\n\tAlexa関連の作業をしています\n\t\tsession修正ありがとうございます！[ymtk.icon]\n\n[tsato.icon]\n v: BCU AndroidをBitriseCIに対応、CrashlyticsBetaから最新版のアプリをDLできるようにした\n \tアプリ起動時に落ちるとは思うが、設定アプリからBCUのパーミッション許可すれば動くはずです\n o: BCUAPIとの繋ぎこみを始める\n\n[h.yamaguchi.icon]\nロック、部屋系のbcu-apiの実装は終了。残りはHub\n\tv: ロックの更新\n\tv: ekeyの作成Api\n\tv: masterKey登録\n\tv: 2ロックの登録\n\tv: ロックの設定変更(名前とmainLockの上下の位置)\n\to: HubのApi\n\to: テストコード\n\t!: 特になし\n\n\n\n[ymtk.icon]\n\tv: 最新仕様資料をリリースしました\n\t\thttps://docs.google.com/presentation/d/1v8KBZ9F8FOce0zmFtU_xrNR47uYg7glVI5gV_fb3M5M/edit?usp=drive_web&ouid=109170418868775192408\n\tv: FAQサイト向けにHelp Scout触ってます\n\t\thttps://www.helpscout.com/\n\tv: 商標申請done\n\to: 利用規約、FAQサイト界隈\n\to: どこのページは誰が見えるの権限整理\n\t!: 度重なる資料更新で全体見えてきたので管理会社向けの資料をそろそろ動きたい\n\t\tこの関連で優先すべき課題もしあれば、前倒しで対応 [tottokotkd.icon]\n\t\t今、関さんが持っている概念説明の資料よりも、もうちょっと丁寧に作った & 作業マニュアル的な資料のこと\n\t!: Web資料に寄せる方がいいかも？更新制\n\n[hazimetyan.icon]\n v: あんまり稼働してない\n v: 遠隔で解錠する方法を調査してみた\n o: とりあえずKing API を個人アカウントで叩いて解錠するものを作る予定\n o: Twilioを銀行口座引き落としにするか、会社のVISAカードを作成するのを検討してみる \n !: 稼働してないから、思い当たらないなあ\n !: 強いていえば、Twilioの利用金額の請求がめんどうくさい\n \tテストするとき「かける側」どうするか問題 [tottokotkd.icon]\n \thttps://jp.twilio.com/docs/iam/test-credentials  Twilioでは一部のREST APIをアカウントに課金されることなく実行できるテスト・クレデンシャルを用意しています。\n \t\tREST API用だから関係ないかも\n \t\t死活確認どうするのがいいんだっけ？が大変そう。でも、それをせずに土曜実は死んでました、とかはつらい [ymtk.icon]\n\n[kk.icon]\n\n\n\n\n[m.suzuki.icon]\n\tv:コンセプト周り、ブランド方針の整理\n\tv:コピー（メイン、サブ、リード、ボディ）作成\n\tv:シンボルマーク方針FIX\n\to:シンボルマークFIX\n　\to:ロゴ使用パターン作成（縦組み、横組み、サービスコピー有無ver）\n\to:BCUログイン周り画面FIX\n\to:web制作\n\t!:フォーム仕様検討 フロントチームと相談したい\n　\tformrunでいくか！？\n　\tよしなに決済しますよ。お金で解決できるモノはお金で。[ymtk.icon]\n\t!:設置資料関連、放置してたので再稼働させないと2下旬頃からテンパるかも\n\t\t「入居者向けのA4 1枚くらいの説明 + QRコード」必要では？という話題を連想しました [tottokotkd.icon]\n\t\t話が「Qrio Lockとはなんぞや」と大きくなっていきそう、紙質まで含めて謎\n\t\t「印刷クリックして終わり」というUXは決まり\n\n\n[*** ##KPT]\n\t前週 [Castle 週定例 2019/01/29] を読み返してみて\n\n[*** よかったこと、続けていくこと]\n 会社に出社してから、カフェにいって仕事するとはかどることがわかった[hazimetyan.icon]\n \t一回スイッチ入れるの超大事。地元駅だと上がらない(☝ ՞ਊ ՞)☝\n \t「カネ使ったから…」わかる[tottokotkd.icon]\n \tカフェ選定が難しい Wi-Fiと電源が欲しい\n 眼科にいったら、おまえの眼鏡、老眼鏡なので近視用じゃないからって言われてとても納得した[hazimetyan.icon]\n\tアーロンチェアを買ったら「気がついたら22時」みたいな現象が生じた\n\t\tゾーンに入れるのか[hazimetyan.icon]\n\t「数字上は3月末で終わる」という見積もりになった [tottokotkd.icon]\n 耳鼻科にいって花粉症の薬を処方してもらった\n\t実質 [h.yamaguchi.icon] 丸投げしたAPIがすでに実装されてた \n\t\tすごい [tottokotkd.icon]\n\t\tNode学園出よう\n\tブランド方針、サービスコンセプト、シンボル決済取れてよかった[m.suzuki.icon]\n　\tkingで苦労した甲斐あったぜ\n\t最近体型締まってきて、カラダが軽い！\n\t\n\t風邪薬をのまずに、汗をかいて風邪を治した[htwrocl.icon]\n\t\tすごい[tottokotkd.icon*5]\n\tヘッドマッサージ行ったら、まぶたが軽い！\n　\t今月きた客の中で一番のコリでした！と言われた\n　\t頭部がむくんでると言われた\n\t会社のビジョン戦争が終結しつつある（ボードメンバー内）\n\t\t言いたいことも言えないこんな世の中は\n\t　\tpoison...\n\t　[Qrioにおける「サービス」とは何か] とか\n\talexa界隈の課題進捗が良い\n\tbcuApi終わりが見えてきた\n\t\tアラート実装ｵﾅｼｬｽ [tottokotkd.icon]\n\t仕様資料でのbiz-devコミュニケーションが進んでいる\n\n[*** 課題感、やってみること]\n\t得意領域以外の業務や出来事にも興味を持ってもらいたい\n　　他部署の人と小さいプロジェクトを遂行するだけでも、視野が広がるよ\n\t数字の上では終わる判定になっているが、実感が全然ない\n\t\t割り込みタスクを入れてもいい雰囲気にならないか心配 [tottokotkd.icon]\n\t\t\t割り込み警察が稼働します\n　会社の椅子が拷問に近い [tottokotkd.icon]\n　\t出社する気にならない\n　\tワロタ[hazimetyan.icon]\n 新しい眼鏡で仕事をしたら、戦闘力があがるかもしれない[hazimetyan.icon]\n \t恵比寿あたりって眼鏡あんまり売ってないですよね \n \tとりあえずメガネ屋さんの診断は、間違っていないが、客が「見えるわ!」って言ったやつを売ってくるので、眼科の処方箋を信じるのが吉[hazimetyan.icon]\n \tめがね欲しい\n オフィスで静電気(!?)すごいときがあり、ウォークマンのイヤホンからバチバチ来ることがある[htwrocl.icon]\n \t静電気発生装置が仕掛けられている予感\n \t湿度管理がなってない説 [tottokotkd.icon]\n\n\t一時期カギ締め大臣化していたので、集中作業して早く帰る[ymtk.icon]\n\t\t8時間勤務で帰りたい勢\n\t\t管理者って残業つかないのよ\n\t社員総会の会場がなぜそこになったのか納得してない\t\n\t\t場　所　が　取　れ　な　か　っ　た　の　\n\t\tNJ来るのかな。さすがに来るよね? 招待者リストに居なかった[hazimetyan.icon]\n\t　\t来ないから、井宮さんが必ず出席されるもんかと\n\t　自宅作業してて集会に直接集合とかいんじゃないすか\n\tRoomoの分析どうするか中野さんと相談[ymtk.icon]\n\t\t内見どのくらいしているの？電話解錠なのかリモート解錠なのか？とか\n\n##Castle #定例\n# BLEアプリ設計パターンたたき台\ncreated_at:Mon Jan 19 1970 07:12:15 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:12:26 GMT+0900 (日本標準時)\nBLEアプリ設計パターンたたき台\n## 悩みどころ\n 大体の構成としてこれでどうか？\n BLEの説明をNrfConnectアプリ中心に説明してみたがどうか？\n こういう話があった方が面白いとか\n どこがわかりづらいとか\n\n## まだやってない\n デザインや細かい説明\n\n[ymtk.icon]の気になったコーナー\n全般\n\t解錠で見たときにフォント小さいかも、と思われる\n\t\tP34とか\n\t固有名詞が出てくるときはアイコン使うとすっと入る\n\t\tflatterとか\nP30 素のAPIはつらい\t\n\tコードでやばさを感じたい\nP39 Lock\n\tこのタイミングから動画だと、焦ってスライド1ページ目に戻ったりするとき辛いので最初がいいと思う\nnRF Connect界隈\n\tタグ鳴らしたりdemoする方が面白そう。リアルタイムで数字が動くし、生える\n\t\t使い方マニュアルっぽくなってしまっているのと、あまり知らない用語とスクショのページが続くのは辛い\nP38以降が結局面白い\n\t一般的なネットサービスに関わるエンジニアにない視点だと思う\n\t\t「エラーメッセージわかりにくいよ。Webだったらこんなの許されないよ」的なことたまに言われますけど、物理あるし切り分けそんなに簡単じゃないぞってこととかも。\n\n\n# Castle 週定例 2019/01/29\ncreated_at:Mon Jan 19 1970 07:12:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:12:11 GMT+0900 (日本標準時)\nCastle 週定例 2019/01/29\n[https://gyazo.com/733a96d4d6258335da30fadff20fa090]\nhttps://en.wikipedia.org/wiki/Arg_e_Bam\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: 建物詳細画面の表示まわり、更新API実装中\n\to: 「2月頭にだいたい全体のモックを見られる」という目標に向けて作業継続\n\t!: 締め会の前後あたりで見積もり再計算します\n\t\t「フロントとサーバーでissue分割するか？」ちょっと考えてますが、そこまでやると大変そう [tottokotkd.icon]\n\t 実際はざっくり作ってくので、issue管理も限界ありますよねー[tsato.icon]\n\n[narico.icon]\n\tv: BCUアカウント管理\n\tv: 文言ガイドライン決めるとか\n\tv: グループ管理\n\tv: ユーザー管理\n\to: グループ管理手直し\n\to: ユーザー管理手直し\n\to: 部屋詳細手直し\n\to: 操作履歴手直し\n\to: アラート手直し\n\t!:  今週中にだいたい画面構成決める\n\t!: 割り込みは許さん\n\n[htwrocl.icon]\n vo: Castle関連は特になし\n\tAlexa関連の作業をしています\n\n[tsato.icon]\n vo: DroidKaigiの資料\n o: CastleBCU Android ロックの設定周りでやってない箇所をやる\n \t来週、再来週あたりからAPI叩けるようになるはずなので、その準備\n !: 1/31(木)の締め会でCastleのデモを3分程度、誰がどんな風にやるか決めたいです\n \tCastle知らない人がどんなことやってるかわかるように\n \tステージングのアプリを触ってみる\n\t\t開発の話 GraphQL, Vue コンポーネント管理（30秒くらい）\n\n[h.yamaguchi.icon]\n\tv: ロックの情報取得(kingApi)をcastleから叩けるように\n\tv: 部屋取得系のApiにkingApiからロックの情報を付与\n\tv: ロックの更新(kingApiのロック更新を呼ぶ所まで)\n\tv: 2ロック目の登録(KingApiの登録Apiを呼ぶ所まで)\n\to: ロックの更新(kingApiの繋ぎこみ)\n\to: ekeyの作成Apiをcastleから叩けるように(kingApiの改修が終わり次第)\n\to: masterKey登録(ekey作成Api繋ぎこみ)\n\to: 2ロックの登録(ekey作成Api繋ぎこみ)\n\t!: 特になし\n\n\n\n\n[ymtk.icon]\n\tv: 利用規約 with もっちーとで検討中\n\tv: CSの電話窓口立ち上げをCS推進室と検討中\n\tv: いつもの資料を画像差し替えて最新化\n\t\thttps://docs.google.com/presentation/d/1v8KBZ9F8FOce0zmFtU_xrNR47uYg7glVI5gV_fb3M5M/edit##slide=id.p\n\t\t差分ありすぎるので別ファイルにしました。前これ書いてあったよね的なところが悩むので\n\t!: ヘルプセンターどう立ち上げるかな。多分zendesk\n\t\t「ここ画面が寂しいからヘルプのリンク置くか」みたいな会話がたまに発生中 [tottokotkd.icon]\n\t!: CSツールの仕様も明文化せにゃ。利用者に対してはking-opeがあるので、あくまで管理会社対応\n\t\t初期アカウントの発行\n\t\tお客様情報の確認\n\t\t\t誰から連絡来てるのか\n\t\t機器情報の確認\n\t\t\t動かないです→Hubが死んでますねー、みたいなの\n\t\t機器登録状況\n\t\t\tロック10個稼働してる\n\t!: arrayとobjectの型定義を雰囲気でやっているのでマズい (sirius)\n\t\t`obj: object` `args: array` `n: any`\n\t\tTypeScriptは人間にはまだ早い [tottokotkd.icon]\n\t\t`(n: number)` はまだマシ、 `m: HogeClass` みたいなやつも（挙動は謎だけど）まし\n\t\t`type VueClass<T,R> = { [keys in keyof T]?: R[keys] } & HogeClass` みたいな [tottokotkd.icon]\n\t!: 来週エイブル行くので誰か1名来てください\n\t 2/7 13:00-\n\t よくわかんないけど行くか　[narico.icon]\n\n[hazimetyan.icon]\n v: IVRのフローを作成中\n o: なんとなく電話でのやりとりで、APIを叩くところまで作る\n !: Twilioとの契約が難航。Amexでのカード決済ができない。\n \t経営本部へVISAつくるの依頼しましょう。パエリアでも作れたから作れる[ymtk.icon]\n\n[kk.icon]\n\n[*** ##KPT]\n\t前週を読み返してみて\n \tよかったこと\n  \t続けていくこと\n \t課題感\n \t\tやってみること\n\n先週のやつ: [Castle 週定例 2019/01/22]\n\n[* よかったこと、続けていくこと]\n\t小さめに燃やして大火事を避けられた\n\tお茶が美味しかった\n\t\tおつあ [narico.icon]\n\t\t最高のDXを実現した [tottokotkd.icon]\n\t\tついでに弁当もほしい、500円くらいのやつ\n\tymtkさんのあれを読んでて良かったのか悪かったのか最後までわからないというオチ？で良かった\n\t \"ミニマム\"ってどこまで？BtoB SaaSのMVPをつくる中で学んだこと https://note.mu/shokosuzuki/n/n53627a068eef\n Paypalで地雷を踏んでいてよかった。まだ地雷があったけれども[hazimetyan.icon]\n 資料で明文化しているので言った言わないになりづらいのと仕様の考慮漏れがあぶり出されるのがよい（アカウントを名前にするとマズい問題とか）[ymtk.icon]\n\tアーロンチェア買った\n\tSSDきた\n\n[* 課題感、やってみること]\n\t「不動産管理システムじゃないので、管理という単語は良くないのでは？」みたいな謎のやりとりが発生する雰囲気 \n\t\t画面の単語1つでどうこうできる問題ではないので、別の次元でマネジメントされていると嬉しい\n\t\t「物件という単語はややこしいのでNG」というような話とちょっと違うベクトルを感じた [tottokotkd.icon]\n\n\tBCU関連の作業について情報収集していないので、たぶん大丈夫だろう… というゆるい認識で済んでいる（楽）[tottokotkd.icon]\n\tBCUの手触りがまだ分からないので、いったん触りたい[ymtk.icon]\n\t\t電話同上[ymtk.icon]\n\n やっぱりVISAカードだなーって思った[hazimetyan.icon]\n \tオリンピック公式ストアで使える唯一のブランド\n\n\tサーバー実装足りないから徳さんの手がフロントエンドに回らず\n\t\tフロントの実装もある程度型を決めてもらって、素人（わし）でもとりあえず動く程度の実装は進められるかもしれない？\n\t\t他の人も手伝えるものなら手伝ってもらった方がいい？でも学習コストたけー\n\t\t「人手が足りない」という話そのものは数字付きで続けてきているので、予想の範囲内ではあります [tottokotkd.icon]\n\n##Castle #定例\n# Castle 週定例 2019/01/22\ncreated_at:Mon Jan 19 1970 07:02:01 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:12:10 GMT+0900 (日本標準時)\nCastle 週定例 2019/01/22\n[https://gyazo.com/0f9f585e60de03f25dc36f9ddc0497d3]\nhttps://en.wikipedia.org/wiki/List_of_Egyptian_castles,_forts,_fortifications_and_city_walls\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tCastle\n\t\tapi: \n\t\t\tv: 権限周りの実装整理\n\t\tweb: \n\t\t\tv: 建物詳細画面の表示系を実装\n\t\t\to: 更新系 + 権限処理のベースだけ実装\n\t\t\to: クリックだけで遷移したい欲望に応える\n\t!: サーバー側の実装ペース、順調な遅れ（今週末に精査する予定）\n\t\t精査とは？？→見積もりするということ[tsato.icon]　\n\t\tSQAの都合もあるので、サーバー側の動作よりは見た目、全体をページ遷移出来る方向をちょっと優先\n\t\t\t見た目先行と言うことなので、tkにも頻度高く見せていきます[ymtk.icon]\n\t!: Roomoとかの先にある価値なんぞやという話 (ぼんやり考え中)\n[narico.icon]\n\tv: \n\t配色見直した、普通で良かった\n\t部屋詳細のタブ見た目作った\n\t遷移するの面倒なのでホーム画面に検索置いた\n\tアラートのパターン考えた\n\n\to: \n\t部屋詳細の各タブの中身詰める\n\t  キー発行タブ、モード切替タブ、モード変更によって出る要素を変えていたが、操作不可で表示する\n\t建物一覧あった方が良いねとなり、作った。\n\t  遷移するの面倒だ\n\t  そして検索するのも面倒だ\n\t  一覧タブに検索とリスト\n\t  新規登録タブ(最初csvのみ)\n\t設置アカウント管理の画面\n\n\t!: \n\tsqa始めるって、慌てる\n\t\t今月末〜2月頭までに画面が揃って見た目でなんとなく分かる… あたりが現時点で目標\n\t\t変わらなそうなこと\n\t\t\t画面遷移\n\t\t変わりそうなこと\n\t\t\t細かいレイアウト\n\t\t\t「あると便利」くらいの機能が消えたりしそう [tottokotkd.icon]\n\t\t\t\tいろんなところ行ったり来たりするリンクとか\n\t\t\t「作って見てなんか違うよね」なもの\n\t\t\t\t建物一覧あってもいいよね\n\t\t\t\t検索がそもそもいらないんじゃないか説？\n\t\t\t\tやってみたら意外と… よく考えたら… みたいなことはあるし、なるべく反映したい気持ち [tottokotkd.icon]\n\n[htwrocl.icon]\n vo：KingからCastleへのログ通知\n   Castle APIにロックのログを直接通知...完了\n !：特になし\n Alexa関連のタスクを進めています\n\n[tsato.icon]\n vo: Castle関連は特になし\n \tDroidKaigiの資料とKingCUのレビューしてました\n\n[h.yamaguchi.icon]\n\tv: MasterKeyからMasterKey相当の権限をもつEkeyを作成するApi作成依頼ををkingApiのissueに追加\n\tv: ロックの情報取得api作成依頼をkingApiのissueに追加\n v: masterKey作成Api(KingApi)をcastleから叩けるようにした\n v: initilizeKey作成Api(KingApi)をcastleから叩けるようにした\n v: ロック登録(masterkeyを取得する所まで。ekeyの生成などはまだ終わっていない。kingApiの改修が終わり次第対応)\n v: initilizeKeyの取得\n vo: lockの情報更新Api(KingApi)をcastleから叩けるようにした (途中)\n vo: ロックの情報更新 (途中)\n o: 出来上がったkingApiの繋ぎこみ\n o: 2lock目の登録Api\n !: bcuアプリのログイン画面仕様とフローについて \n \tQRコード撮影してログイン\n \tQRは紙に印刷する？ \n \t\tFAXで送る\n \t\t完璧 [tottokotkd.icon]\n\n\t!: サーバー側の実装クオリティとiOSアプリの配信時期が両立しない疑惑\n\t\t正常系がとりあえず動くくらいの実装が終わったら、iOSアプリ実装着手、くらいのイメージ [tsato.icon]\n\t\t\t2月末かちょい超えくらいでできるのではという認識です[tsato.icon]\n\t\t\t\thttps://github.com/qrioinc/castle-api/milestones\n\t\t\tiOSアプリいつまでに作るかビジネス側と話す\n\t\t\t\t12月末に話したとおり、ビジネス側とは1ヶ月遅れ(つまり4月末のリリース)で調整済みです[fukazawa.icon]\n\t\t\t\t３月中旬から動いて４月末リリースならいけそうですね[tsato.icon]\n\t\tログを受け取ってアラート出すという部分をヒロさんがやる？？\n\t\tクリティカルな部分だけは、きちんとテスト書くところまでやってもらいたい（やらないと品質に問題がある + エンジニアリングとしてあまりにもつまらない）という気持ちがちょっとあります [tottokotkd.icon]\n\t\t\tテスト書きたい[h.yamaguchi.icon]\n\n[ymtk.icon]\n\tv: 管理会社向け資料作った\nhttps://docs.google.com/presentation/d/1i81XKJJcL9Q3xsP0ODRE7sVQ_SsrzFmYvGFfVgJ_uXM/edit\n\tv: CS体制の検討\n\to: 資料の修正と利用規約\n\t!: 資料ざっと見て違和感あれば教えてください。部屋登録と電話の一時キー発行特に気にしてます。\n\t\t違和感あれば、Slack, スプレッドシート、ここ（どこでも）\n\t\t固めてから共有\n\t!: siriusほかも粛々と進めてます\n\n[m.suzuki.icon]\n\tv:Webサイト作るための前段の設計\n　\tWebコンテンツのマインドマップ\n　\t態度変容モデルと導線設計 検討\n　\tユーザシナリオとペルソナ検討→ymtkさんに引き継ぎ\n　\tワイヤー\n\to:Webサイト設計 続き\n　　営業チームと営業方針のsync必要\n　o:ロゴや表現の検討\n　　展開するにあたり、Qrio Roomoの大義名分が必要\n\tI:Qrio Roomoって何ですか？ ってみんなと考えます\n\n[hazimetyan.icon]\n\n[***** Qrio Roomoってなんですか？]\n\tサービスのキーワード\n\t\tロゴとか制作物とか作るにあたって「一言で言うと？」が問題に\n\n\tRoom Organizer \n\t不動産事業者向けQrio Lock管理システム\n\t\t伝わらない… \n\t\t\tオーナーにも伝わらない\n\t\t\t管理会社にも伝わらない\n\t\t\t営業トーク力前提？\n\n\tリノべる、ietty、Wantedly...\n\n\tQrio Roomoを一言で\n\t\t3日くらい考えておく感じで [tottokotkd.icon]\n\n登場人物\n\tオーナー\n\t\t物件の価値が上がる\n\t\tQrio Lock を買ってる人\n\t入居者\n\t\t使って満足\n\t\t全体の起点\n\t\tQrio Lock があると生活が便利になって嬉しい\n\t仲介業者\n\t\tロックのおかげで仲介が楽に\n\t管理会社\n\t\tお金払う人（管理会社からオーナーに請求する、オーナーから入居者の家賃に上乗せする事もある）\n\t\t入居率が向上\n\t\t最初に営業かける\n\t\t\tオーナーを説得する必要がある\n\t\t中堅の管理会社がメインのターゲット\n\t\tRoomo入ってると鍵の管理が楽になる\n\nむずい\n\nやること\n\t「営業トークなしで、一言で通じるフレーズ」を考える\n\t宛先は管理会社・オーナー\n\t\t狙いは中堅〜くらい\n\nお気持ち\n [タクベル] -> [MOV] ロゴ変更をちょっと想起 [tottokotkd.icon]\n \tタクシー業界ありきのビジネス名から（たぶん）白タク前提のデザインになった気がする\n \t仲介業者、管理会社の存在ってどうなるのかな、消えるのかな、みたいな\n \t業界ありきでアプリ作るのか、理想のモデルありきでそこに業者が乗ってくるよう仕向けるのか\n\tイニシャルのコスト、法的処理が面倒な部分を変えたい、という話\n\t\tいろいろアナロジー思いつく\n \t\tクラウドコンピューティングっぽい（AWSとか）\n \t\t有価証券っぽい（無記名証券とか）\n\n[*** ##KPT]\n\t前週を読み返してみて\n \tよかったこと\n  \t続けていくこと\n \t課題感\n \t\tやってみること\n\n[*** よかったこと -> 続けていくこと]\n\tなんだかんだ言いつつスケジュールを立てて消化していく普通の形になってきた\n\t\t変更点issueに反映しないとねー　[narico.icon]\n\tタイルカーペットを調達して、自宅にアーロンチェアが設置可能になった\n\t\t今週中に大塚家具（娘のほう）で試してくる予定\n\t\t中古高級椅子が昔バズってたけど、新品いくんすね\n\t\t\t「IKEA、椅子、オードリー」も思い出した\n\t\t\tアーロンチェアで部屋が埋まるんじゃ\n\t\t\thttp://jawsjaws.com/ 僕ここで買いました\n\tだいたい「ステージングみて」で通じる。最初に作っておいてよかった\n\t\tslackにurl書いたので、よりアクセスしやすくなった\n\tscrapbox、利用者増やすとページ増えるのでまだまだ課金の必要がない\n\tbizをbizに任せきりにしないで考えてぶつけていくと色々起こるのでやっていく\n\t時間くれてありがとございます\n\tiOSのリリースが4月末\n\tExpressわかってきた感あり\n\t\tテストまで完備させたい [tottokotkd.icon]\n\t\tnode学園行きましょう\n\tプロダクトを見る頻度が低かったので定期に見ていろいろ聞いて疑問解消していくとモヤモヤが取れる\n\t全体像が見える(これから)大作資料ありがとうございます \n\tBiz職と実現したい世界やロマンの話をしてると、プロダクトの方向性が見えてくる\n\t\tロマンあるなら聞きたい\n\n[*** 課題感 -> やってみること]\n\t1日で60ページ資料作ると頭痛と悪寒がするので30ページまでがお薦め\n 慢性的な疲れが。。\n\tcastleを参考にsiriusを作っていたら「アレを参考にできている時点でではダメですね」と言われたので生きていきたい\n\t\tどこらへんを参考にしたのか気になる\n\t\t\tコンポーネントの分け方とかtypescriptの作りとか。最初はまるっとforkしてましたけどvue-cliで作り直しました。理解してないもののforkは危険[ymtk.icon]\n\t\t生きねば[narico.icon]\n\t\tひどい奴がいるものですね [tottokotkd.icon]\n\t\t\twww\n\tストーリーブックに追加するの忘れがち\n\t\tわかる･･･[ymtk.icon]\n\t\tユースケースのドキュメントみたいなやつ\n\t\tURLあります？？見て見たいです \n\t\t\t世の中だとこんな例があります。atomic design思想[ymtk.icon]\n\t\t\t\thttps://storybook.js.org/examples/\n\tプロダクトの方針が無いので、今回はボトムアップで考えを提案する\n\t上層部には、市場視点や経営計画のみを網羅した話でなく、思想の必要性を推進していきます\n　　\t現場の漠然とした不安感も取り除いていく\n\tcastleおよびlock含めて利用するフェーズ毎にゴールが異なるのでどうフォロー体制作っていくか\n\t「これって今後年間n万円の予算つくんですか？」みたいな認識がちゃんと共有できているか若干謎\n\tサポートツールってなんだっけ\n\t\t作らないとないよ\n\t\tカギカンとかはなんかいつの間にかできてた、デザインとか特に何もやってない [narico.icon]\n\t\tqrio.meもそうなんですが、CS・マーケ主導のツールつくり必要では？ [tottokotkd.icon]\n　　　声出す\n# Qrio Roomoって何ですか？　キーワード出し\ncreated_at:Mon Jan 19 1970 07:06:22 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:06:34 GMT+0900 (日本標準時)\nQrio Roomoって何ですか？　キーワード出し\n[* FLOW 1 キーワードと理由を記載してください]\n↓フォーマット\n\tキーワードを書く\n\t\t理由を書く\n\n【ex】\n\t管理\n\t\tQrio Lockを管理するから\n\n[* FLOW 2 良いな！と思ったキーワードにアイコンをつけてください(最低一個、最大三つまで)]\n【ex】\n\t管理[m.suzuki.icon]\n\t\tQrio Lockを管理するから\n\n\n\n\n\n[m.suzuki.icon]\n\tクラウドカギ倉庫[ymtk.icon][kk.icon]\n\t\tカギ（Qrio Lock）を1箇所で管理してる。いつでも、どこでもアクセス可能なカギの引き出し。\n\t\t\tクラウドに･･･（クラウドキーボックスと同じ）\n\n\tカギのリモート管理システム[kk.icon][narico.icon]\n\n\t\tカギの受け渡し、緊急往訪など、すべてリモートで管理できることに価値がある。\n\n[narico.icon]\n\t賃貸向けスマートカギ管理システム\n\t\tオーナー、管理会社、仲介、入居者の間で発生する合カギの受け渡し、合カギ管理をスマートにセキュアにするシステム\t\n\n[kk.icon]\n クラウドキーボックス[ymtk.icon][m.suzuki.icon][tsato.icon][tsato.icon]\n  物件にカギの入ったキーボックスをつけている例が多いらしいが自分のイメージはボックスタイプのキーボックス\n  複数のオーナーキー(qrio lock)を一元管理する\n  \tクラウドにキーを置く→物理をどうやってクラウドに(?ー?)→あースマートロックだから置けるのか！納得の流れがよさげ[ymtk.icon]\n  \tたくさんカギを扱うのが不動産っぽくて、カギカンと差別化できてると思う。玄関のカギ1本をキーボックスには置かない。カギカンはそれだから[ymtk.icon]\n カギをヘルスケアする[h.yamaguchi.icon][ymtk.icon]\n  「ヘルスケア」=「健康の維持や増進のための行為や健康管理のこと。」\n  カギに置き換えて、カギ(Qrio Lock)のエラー、電池状態(健康状態)や、合カギや緊急解錠などの遠隔操作(病気時のケア)を行えるシステムイメージ\n\n[tottokotkd.icon]\n\tすぐ入れる[m.suzuki.icon]\n\t\t仕組みは放置して、うまみの話\n\t\t「今すぐ入れる物件へ」みたいな長めのフレーズでもいいかも\n\t\t内見、入居、居住者のあらゆる利便性を「入れる」でごまかしてフワっと\n\t\t「すぐ埋まる」に繋がる… ような雰囲気\n\n[ymtk.icon]\n\tカギを意識しない不動産管理[narico.icon]\n\t\ttoCのアレ\n\tIoT不動産管理サービス\n\t\t雑だけど言われそうなので\n\t不動産管理におけるカギの新しい価値\n\t\t今時の感\n\tAI不動産管理\n\t\t謎だけど言われそうなので\n\t電話カギくん [tottokotkd.icon*3]\n\t\t業界的なアレ\n\t\t\tネタ元 https://bukkakun.com/\n\n[tsato.icon]\n Roomo ~鍵管理に安心と効率を~\n \t安心\n \t\t鍵管理に不安を感じる管理会社が多いらしい\n\t \t\t参考: https://www.neos.ne.jp/kagi/\n\t \t\tWebコンソール上で管理すれば、鍵の戻し忘れとか心配する必要がない\n \t\t\tだれが操作したかもわかる\n \t効率性\n \t\t仲介に鍵を受け渡す手間を削減できる\n \t\t鍵の管理に気を配らなくて済むようになる\n\n\n[h.yamaguchi.icon]\n\t鍵の管理を便利に[narico.icon]\n\t\t鍵を一元管理。効率的な鍵の受け渡しで業務を効率化。\n\t\t\t「カギを管理する方法が変わる」なんかすごそう [ymtk.icon]\n\n\n\n\n\n# kk\ncreated_at:Mon Jan 19 1970 07:06:32 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:06:32 GMT+0900 (日本標準時)\nkk\n[https://gyazo.com/a8e11ca9c7c552908836937c9721b859]\n\n\nthis is kk’s page\n\n##member\n\n# IoT縛りの勉強会/SIerIoTLT vol14\ncreated_at:Mon Jan 19 1970 07:05:39 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:05:43 GMT+0900 (日本標準時)\nIoT縛りの勉強会/SIerIoTLT vol14\nこれ https://iotlt.connpass.com/event/115351/\n\n[** 発表スライド]\nhttps://speakerdeck.com/tomohikosato/bluetooth-hamutaro-d7f061c5-d5fb-438c-b1d3-062d63b11614\n\n[** Qrio知ってる人？で挙手]\nQrioの認知度は6割くらいでした\n\n[** twilio]\n NinjaLockも導入。スマホを使えない人でも電話ならいけるので好評とのこと。\n SMS連携もしているらしい。 eight(名刺管理サービス)で電話したらSMSにアプリのURLが帰ってくるというのをやっている。大して使われてはないと思うが、、とのこと\n \tSMS連携自体は面白そう。電話したら合カギのURLが降ってくるとか\n \t\t海外はSMS中心のサービスも多いので考えてみると面白そうですね[ymtk.icon]\n 障害対応に使われる例も多い\n \t監視して異常が起きたら電話、電話に出なかったら次の人に電話、、みたいなことをやる\n\n[** obniz]\n https://obniz.io/\n 手軽にプロトタイピングできそうで良さそうです\n ヴィジュアルプログラミングできる\n 画像検知とか色々サポート\n 例: バナナを検知したらミサイルが飛ぶ\n \tバナナをPCカメラで画像検知(obnizeが検知してくれる) → サーボモータを動かす(obnizeが動かす命令を送る) → デンソーで買ったおもちゃのスイッチが押されてロケットが飛ぶ\n\n\n\n# Live Share\ncreated_at:Mon Jan 19 1970 07:04:58 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 07:04:59 GMT+0900 (日本標準時)\nLive Share\n[VS Code] のすごいやつ (プレビュー版)\nhttps://visualstudio.microsoft.com/ja/services/live-share/\n\n[https://gyazo.com/57b825ad55721f5876228a50c187610f]\n\n[* ここがすごい]\n\t`git clone` なしで同じファイルを編集\n\t他人の作業を見続けることも、各自作業することも可能\n\t招待側の `localhost:3000` をリモートから叩く共有設定が可能（やばい）\n\t招待側で操作しているターミナルがストリーミング可能\n\tボイスチャットも可能（別のプラグインが必要）\n\n[* これができる]\n\tリモートでペアプロできる\n\tgit commit より小さい粒度で、同時に共同作業できる\n\t\t同じファイルをいじるので、同期のタイムラグ（1秒前後）はあるが、基本的にコンフリクトの心配がない\n\t\tGitHub issueでタスクを切り分けるよりも、柔軟に作業分担できそう\n\t\tDropboxにコード置いてる状態に限りなく近い\n\n# BluetoothLowEnergyとは\ncreated_at:Mon Jan 19 1970 06:52:38 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:56:18 GMT+0900 (日本標準時)\nBluetoothLowEnergyとは\n[** BluetoothLowEnergy(BLE)とは]\n 超消費電力な近距離無線通信規格\n \tボタン電池で１年以上持つようなイメージ\n\n[*** Bluetoothとは]\n 省電力な近距離無線通信\n Wi-Fiと比べて省電力、低ビットレート\n \t高画質な動画はWi-Fi向き\n バージョンで4.0 Bluetooth Classic, Bluetooth Low Energy(BLE)に別れる\n\n[** 歴史]\nBluetooth 1, 2(EDR), 3(HS) とビットレートを上げてきた。\nこれらは主に無線のマウス、キーボード、イヤホンなどに使われきた。\n4.0で低消費電力の規格(BLE)を内包するようになり、それまでの企画を対比としてBluetoothClassicと呼ぶようになった。\n\n[* BluetoothClassicとBLEの違い]\n LEは省電力\n \tTODO: なぜ省電力か説明 上原さんに聞きたい\n \tなるべく電波の送受信をしない\n \t\tBasicConcepts, Time is Energy, Connectionless Modelあたり  (Bluetooth Low Energy: The Developer's Handbook)\n  \t\t接続切断が早い\t\n  \t\t\tPairingを任意にすることで？他の理由もありそう\t\n  \t\tBroadcasterがアドバタイズパケットを創出する時間が短い(Duty比が低い)、ので省電力\n  \t\t\tObserverがその分電池を消費してパケットの検出をする必要がある\n  \t\t\t（クライアント/サーバー的な）非対称な設計が、デバイス側の省電力に繋がっている\n  \t\tパケットが小さい\n  \t\t\t送受信中に無線の継続的なrecalibrate(FrequncyHoppingのこと？)が発生しなくなる。シリコンチップが暑くならなくなる -> 省電力\n  \t\t\t小さいパケットを断続的にやりとりした方が省電力\n \t\thttps://www.temi.com/editor/t/1fAfLdrldo1U-_p9_X1eAPIKs7t2uOk6bD6vzcgDKYEx8yBYoQ0K2c0MboiXOPKk4Rr93k9S7hDAPQnUnLMQADvgJWw?loadFrom=DeliveryEmail と Bluetooth Low Energy: The Developer's Handbook から\n  \t\tビットレートを落とした\n \t \tDuty比\n  \t\tパケットが小さい\n \t\t\tチャンネル数が少ない -> relaxして送れる？？\n  \t\tFrequency Hoppingが少ない？\n ビットレート\n \tClassic高い/LE低い\n データの扱い方\n \tClassicは接続しっぱなしでストリーミング系のデータを扱うのが得意\n \t\tBluetoothClassic = SPP ?? でも A2DPといった他のプロファイルはどういう関係？\n \t\tBluetoothSIG(規格団体)が決めたプロファイルの上でやりとりする = 使い方が決まっている。例えば音声通信をする、キーボードのイベントを送るといったプロファイルが用意されていて、その上でやりとりする\n \tLEはGATTというプロファイル上でやりとりする\n \t\tGATTの上で構造化されたService/Characteristicsにデータの読み書きをする\n \t\tService/Characteristicsは独自に定義できる = どのように使うかは利用するアプリ次第\n \t\t\tアプリありき\n 低コスト\n \tどのくらい？\n \tSmartBuilding, SmartCity等、いろんなとこにビーコン置いたりしやすい\n \t\tSmartBuilding, SmartCityあまりわかってない..\n 利用場面\n \tClassic\n \t\t音声のやりとり\n \t\t繋ぎっぱなしでデータのやり取りを高頻度に行うもの\n \t\t\tキーボード、マウス\n \tLE\n \t\tウェアラブルデバイス\n \t\t電池駆動の製品\n\n[* AndroidとBluetoothの歴史]\nセントラル(4.3から)とペリフェラル(5.0から)の説明を前提とした方がいいかもしれない\n\n 4.2 BlueZからBlueDroidに書き換え。以下が理由\n \tライセンス。BlueZはGPL、BlueDroidはApache2\n \tパフォーマンス。BlueZはモバイル向きではない。別プロセスで動くのが前提になっている。\n \tこれによって一時的にBluetoothの品質が低下した\n 4.3 BLE採用\n (様々な記事をみる限り)5.0で安定した\n \tTODO: QrioSmartLock(1号機)またはQrioSmartTagでどうだったか？\n \t> Stick to a minimum SDK of 21 if possible. Newer and higher end devices are better with B-LE. \n \t\thttps://www.reddit.com/r/androiddev/comments/4ofnbp/bluetooth_ble_development_is_miserable_on_android/d4c8i9u/\n \t> I also like to recommend to folks that if at all possible, doing Bluetooth LE at all with a min SDK of API 21 is often a good thing to save your sanity, just because it's also a heck of our stable in 21\n \t\thttps://otter.ai/s/32ead722643949778be6db278c827759\n\nGoogleIO のBLE の動画 ( https://www.youtube.com/watch?v=EC5-cEbr520 ) が参考になる\n\n[*** BLE概要]\n[* デバイスを探す]\nObserver (スマホ)\nBroadcaster (デバイス)\n\nこれで十分なパターンもある\n近接検知(タグアプリとか)\nあるいはちょっとした情報を渡す場合とか\n\nそれ以上の情報が欲しい または、操作をしたい場合は接続する必要がある\n[* デバイスに接続する]\nCentral (スマホ) 操作をする側 \nPeripheral(QrioLock) 操作をされる側\n\n[** RxAxdroidBLEとSDKをそのまま実装する場合の比較]\n\n\n\n[** Service,Characteristicの割り振り方]\n諸説ある (上原さんに聞きたい)\n[BLE Service, Characteristicどう割り振るか]\n\n HomeKitとかの制約ある？\n \tBattery残量はBatteryServiceでiPhoneに知らせる必要あるとか...?\n\n[** MTU超えた場合]\nTODO: 上原さんに聞きたい\n\n 複数のパケットを一つのリクエストとみなすために、パケットヘッダにメタ情報をつけている。メタ情報 = 最初 or 最後のパケットか + 何番目のパケットか\n \t一般的なのか？\n MTU上限を上げる処理もあるが使ってない\n \t端末によってサポートするMTU上限が違うので、パケットヘッダにメタ情報をつけるソリューションはMTU上げても必要\n \t機種依存の罠とかあったら怖い (明確な根拠はない)\n\n\n[** ハマりどころ]\nhttps://www.reddit.com/r/androiddev/comments/4ofnbp/bluetooth_ble_development_is_miserable_on_android/d4c8i9u/\nとか\n\n\n[** 学習リソース]\n一歩突っ込んだものが多いかも...? もっと初心者向けのいいものはないか\n[* 公式ドキュメント]\n RxAndroidBle http://polidea.github.io/RxAndroidBle \n  とりあえず動かす分にはこのサンプルが一番楽か？？(TODO: 要チェック)\n Android: https://developer.android.com/guide/topics/connectivity/bluetooth-le\n Bluetoothは2800ページくらいあって大変なのでおすすめできないかもです(自分はあまり読んでません)\n\n[* 本]\n iOS×BLE Core Bluetoothプログラミング\n  BLEとは何か、仕様の解説を丁寧にしていて、iOSエンジニアに限らずおすすめです。巻末の対談も体験が伝わってきて良いです。\n Bluetooth Low Energy: The Developer's Handbook\n \tBluetooth SIG(Bluetoaothの規格を策定する団体)のメンバーが書いている。そのためか、規格をわかりやすく説明しているだけでなく、BLEはそもそも何を目指しているのか、なぜそのような規格になったのかついての情報が豊富。\n\n[* 動画]\n https://www.youtube.com/watch?v=6qfHc79CH4o\n \t上原さんがBLEについて解説している動画。深い知識に裏打ちされた簡潔な説明がある。\n\n[* PodCast]\n 045: Bluetooth (LE) with Dave (devunwired) Smitha http://fragmentedpodcast.com/episodes/45/\n \tBLEの絡むAndroid開発についてわかりやすく説明しています\n \t\t文字起こし https://otter.ai/s/32ead722643949778be6db278c827759\n AndroidDeveloper BackStage http://androidbackstage.blogspot.com/2018/08/episode-97-bluetooth.html\n  GoogleのAndroidのBluetooth部分開発メンバー。中の人ならではの情報(苦悩?)が聞ける\n  \t文字起こし https://www.temi.com/editor/t/1fAfLdrldo1U-_p9_X1eAPIKs7t2uOk6bD6vzcgDKYEx8yBYoQ0K2c0MboiXOPKk4Rr93k9S7hDAPQnUnLMQADvgJWw?loadFrom=SharedLink\n\n# 上原さん会話ログ\ncreated_at:Mon Jan 19 1970 06:53:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:56:16 GMT+0900 (日本標準時)\n上原さん会話ログ\nBLEについてSkypeで色々聞きました\n上原さんに共有したScrapboxはQrioからt.satoのプロジェクトにコピペして外向けに改変したものなのでご安心を。\n\n2019/1/16(水)\n11:08 AM\n上原様、年始にタイムチケットで連絡しました佐藤と申します。連絡差し上げた理由はタイムチケットに書いた通りでして、２月頭に「BLEアプリ設計パターン」という題で登壇するのですが、Bluetooth周りの経験に乏しいため色々と意見を頂けたらありがたいなと思っています。\nSkypeの操作に慣れておらず、変なタイミングで文章送信してしまったり通話に手間取ってしまうかもしれません。すいませんがご了承ください。\n\nA., 11:09 AM\nタイムチケット、公開を止めてなくて、気付くのが遅くなってごめんなさい。\n\nなんでも、できることがありましたら\n\n11:10 AM\nいえ、とんでもないです。最終ログイン１年前になっていたので、気づいてらっしゃらないかもなと思ってました\n資料共有します、少々お待ちください\n\nA., 11:10 AM\n(xd)\n11:12 AM\nまず、発表内容としては https://droidkaigi.jp/2019/timetable/70753/ を想定しています。ですが、30分では無理だなと感じているので色々削ることになりそうです。\n\nA., 11:13 AM\nらじゃ。ちょっと見てきますので。気づいたことは、ここのメッセージで逐次な感じで。\n\n11:13 AM\n> * BLE通信デバイスとWebサーバーの両方にデータがあり、それらをアプリが中継する場合のアプリ設計パターン\n>    - どうモデリングするか\n>    - モデルの取得先がデバイスとサーバー両方にあるけど、Repositoryはどう作る？\n>    - デバイスとサーバーの情報をアプリでいかに同期するか\n\nこちらについては、一般的なアプリ設計の知識が含まれるのである程度なんとかなるかなとは思っています\n了解です。よろしくお願いします！\n> * BLEについての簡単な説明\nここについては自分なりにいくつか資料を読んだのですが、経験が足りないので上原さんに色々聞いてみたいなと思っています\n> * BLE通信設計のパターン\n>    - どのようにService, Characteristicを配分するか\n>    - MTU(1パケットに詰められるデータ量)を超えるデータを転送するときに起きる問題と対処法\n\nこれについても、諸説ありそうな上にネットであまり見当たらない情報なので、色々聞いてみたいです\n\nA., 11:16 AM\nラジャ。資料を見ながらツッコミ形式? あるいはチャットで、こういう感じみたいなやりとり形式? どんな形式で行きましょうか?\n\n11:18 AM\nそうですね。。まずはテキストベースのチャットで、テキストでは伝わりづらいニュアンスが必要そうでしたら音声ベースでの会話はどうでしょうか？\n\nあ、発表資料は書きかけのものがあるので共有します\n\nA., 11:18 AM\nラジャ。\n\n11:18 AM\n書きかけなので読みづらい箇所もあると思いますが、ご了承ください\n\nA., 11:18 AM\n[*** BLEデバイスとウェブサーバの両方にデータがあり、その同期とかのパターン]\nじゃまず、BLEデバイスとウェブサーバの両方にデータがあり、その同期とかのパターンという話から。\nぶっちゃけ、混ぜるな危険ですねこれw 誰もが遭遇するけど。\n\n11:19 AM\n[デバイスとサーバーの情報をアプリでいかに同期するか]\nちょっと長いので\n\nA., 11:19 AM\nおー、ちょっと読んでみますね。\n\n11:19 AM\n> 他の三身一体な処理について (TODO)\n以降はスルーしてもらっても大丈夫です\nすいませんよろしくお願いします\n\nA., 11:21 AM\n読みながら感想垂れ流しがやりやすいかなと思うので、こちらで。\n\n11:22 AM\n了解しました！\n\nA., 11:28 AM\nまず最初の3つのパターン。これ通信経路の構成と、情報を扱うシステムの話が混ざっている感じかなと。どのパターンもMQTTでメッセージのハブになっているから、通信経路の構成と、その長所短所の比較、焦点はコストとか消費電力とか。\n\nなのでパターンというより、通信路の構成と、構成ごとのメリット、デメリットかなと。\n\n11:29 AM\n> なのでパターンというより、通信路の構成と、構成ごとのメリット、デメリットかなと。\n確かにそうですね\n\nA., 11:29 AM\nあと結果整合とかの話は、\n\n例えばAWS IoTであれば、デバイスシャドウという言葉を持ってた入りしますよね。\n\nあるいはIoT系でCiscoとかだとデジタルツインとか。状態変化をサーバ側で覚えさせて、通信を通じて得られたデバイスの状態が最新でどうなっているのかを、サーバー側に持たせるという、そういう話。\n\nだから、BLEデバイスとウェブサービス側のデータの同期という話は、一般的なIoTでのデバイスシャドウとかの話を引っ張ってくればいいのかなと。\n\nで、BLEならでは、の話ですけど、BLEの特徴って通信できること、じゃないんですね。電池の減りが小さくて、通信可能な状態を保持してることなんですよね。なので、デバイスの情報を読みだす、以前に、今通信状態が確保できてます、ってのが情報なんですよね。その辺りの話が、多分Qrioだと結構いい情報だと思うけど、パターンにはさっぱり入ってない?感じがするので、そこがサービス特有で価値があるところ、かつ、BLEという通信レイヤがとてもアプリから素直に見えちゃう仕組みを活用するときの価値かなと。\n\nスマホのAPIからBLEをみたらconnect/disconnectがくるじゃないですか。あとビーコンとか活用してたら、位置のSDK経由でも。ああいう直接通信可能範囲にいるいない、入った出た、通信接続がつながる切れる、あの情報がものすごいリアル世界で活動するリアル情報なんですよね。\n\nその辺りが、面白い話なのかなって気がしますので、そういうリアルな、ブツブツ接続が切れて、またつながる感じのリアルさ、をサービスでの価値という視点から、技術的な話に盛り込むと、メッサ面白くなる感じ?\n\nデザインパターンを見て思うのは、ざっとこんな感じでしょうか。\n\n11:36 AM\nありがとうございます\nデバイスシャドウ、というのは要はデバイスの状態をサーバーにコピーするためのAWSIoTが提供している仕組みなんだと理解しました(すいませんデバイスシャドウについて初めて知りました)\nAWSIotによるデバイスシャドウって、スマホが中継する時は使えないですよね？\n\nA., 11:38 AM\n使えますよ。MQTTサーバのメッセージを監視して、今のデバイスの状態が何かを記録するまた別のサーバ機能ですから、MQTTさえ見えていれば、いいだけの話で\n\n実サービスで、例えば、今家の電気がついているかを問い合わせしたい時とかあるじゃないですか。そういう時にMQTTをずっと監視するプロセスをどっかに立ち上げるとかめんどくさいじゃないですか。\n\nそういう時に使う機能ですね。やってることはメッセージをずっとlistenして状態を保持するだけだから、誰が実装するかの違いでしかないですけど。みんな使う機能だからみたいな。\n\nこの話って、簿記に例えるといい感じなんですよね。\n\n単式簿記、つまり家計簿みたいにお金を使ったいれたの1つの流れだけ見ている帳簿と。\n\n複式簿記、データがどこから入ってどこにでて行ったかの出入りまで記録するタイプの帳簿と。\n\n簿記の例えは、わかりにくいか。忘れてください。\n\n11:43 AM\nMQTTってQrioで使ってなくて、画像を仮で https://www.hulft.com/special-column/iot-architecture_01/iot-architecture_03 から引っ張ってきただけなので入ってしまっている状態なのですが\n\n\n> 使えますよ。MQTTサーバのメッセージを監視して、今のデバイスの状態が何かを記録するまた別のサーバ機能ですから、MQTTさえ見えていれば、いいだけの話で\n\nQrioLock と スマホアプリ と サーバーのみの構成で、スマホアプリがQrioLockの情報を吸い上げてサーバーに上げるケースの話に該当してますか？\n\nA., 11:45 AM\nですね。MQTT+状態保持と同じものがあれば、それは同じようなものですし\n\n11:46 AM\n繰り返しになってしまってすいませんが、スマホアプリでデータを同期するためにデバイスシャドウが使えるということでしょうか？\n\nA., 11:47 AM\nいえ、今見た資料でMQTTというのがでていたので、それでデバイスの状態をネットワークにあるサーバで表現するなら、すでにある同様のものを参照すればいいかなと思って、そういう言葉を出してきただけです。\n\nなので、言葉自体はどうでもいいのですが、すでに世の中にある言葉は便利に使って説明省略していけばいいのかなと思ったくらい\n\n11:48 AM\nあー、なるほど\n\nA., 11:48 AM\n概念って、大事だけど、説明するの、うざいですしね。\n\n11:50 AM\n結果整合性の実現方法に書いた、「次にデバイスと接続したときに情報をとってサーバーにあげる」や「JobSchedulerを使い、バックグラウンドでリトライする」といった説明は特に書かなくてもいいんじゃないかということでしょうか？\nデバイスシャドウとかの話を調べて説明すれば、もっと一般的でスマートな説明ができるよ、といった意味ですかね？\n\nA., 11:51 AM\nその辺りは、私にはわからなくて。誰に何を伝えるかとして、Androidの開発者の方にその説明が適切な感じかどうか、よくわかんない。\n\n今やり取りしてて、なんかなーって思ったのですけど、\n\n多分、BLEで見えてるデバイスって、それ単体でもう無線通信の先にある1つの独立したサーバーなんだよ、GATTサーバなんだよっていう前提、なんかあったほうがいいのでは?\n\nなので、ウェブサーバとGATTサーバのデータ不整合が起きうる、さてどうしましょう、何か特別なアルゴリズムを持ち出す？、実装の工夫でどうにかなる？、あるいは元々の前提が誤りだとする？、みたいな開発開始時に起きうる話みたいな感じかな\n\n11:53 AM\n> なので、ウェブサーバとGATTサーバのデータ不整合が起きうる、さてどうしましょう、何か特別なアルゴリズムを持ち出す？、実装の工夫でどうにかなる？、あるいは元々の前提が誤りだとする？、みたいな開発開始時に起きうる話みたいな感じかな\nあ、まさにそういう気持ちで書いてました\n\nA., 11:53 AM\nこのパターンを見てて思うのですけど、BLEでのデバイスって、それ単位でもうサーバなんですよね\n\n11:54 AM\nそうですね\n\nA., 11:54 AM\nなる、なら、その最初の気持ちを共有するところって、めっちゃ大事な気がします。普通の人って、BLEのデバイス=サーバー、っていう概念、ないし。想像できないし。\n\n11:55 AM\nなるほど\nデバイス上のサーバーのコピーをWeb上のサーバーにあげているようなイメージを、まず共有した方が良いということでしょうか？\n確かにそれはありそうだなと思いました\nありがとうございます\n\nA., 11:58 AM\nそうですね。デバイスも1つのサーバーです。サービスではネット側にサーバが必要です。では、2つのサーバー間のデータ同期はどうしましょう、という。\n\n最近だとKey-Value型データベースで分散型のデータベース間の同期をどうするかとかで、AmazonのAurora?でしたっけ、なんか色々話題もあったけど、そこまでの話を引っ張らなくても、結構根幹で面白い話だから、自分たちがどう取り組んだかでいいのかなと思います。\n\n12:01 PM\n> 最近だとKey-Value型データベースで分散型のデータベース間の同期をどうするかとかで、AmazonのAurora?でしたっけ、なんか色々話題もあったけど\n僕も、(情報を同期する必要があるといった)問題はなんだろうと思って色々調べて\nマイクロサービスの結果整合性あたりの説明を参考にしました\nえっと、関係するURL探します\n\nA., 12:02 PM\nあの話って、データベースとしての一貫性を保持する+物理的に分散しても不整合にならない、の解決話で、実は何にも参考にならないんですよね。\n\nデータ整合で参考になる話っていうと、Suicaの基礎設計がそういうものものかなって感じで。 博士論文で 椎橋章夫「異種統合型情報サービスシステムにおける自律分散アシュアランス技術の研究」 とかありますけど。\n\nこの論文自体はどうでもいいんですけど、\n\n12:04 PM\nあれ、見つからなかったです。基本的には整合とるのに失敗したらリトライする + 定期的に整合性をチェックするという身も蓋もない話でした\n\nA., 12:05 PM\n鉄道サービスだからサーバが落ちてても目の前の電車や駅が生きてたら利用できないといけない、を大原則にして、お金を扱う信頼あるシステムってどう作る?って話で、結局Suicaカードをデータのマザーにして、サーバーが落ちててもカードからデータを抜いてそれをマザーにして不整合にならないようにっていう、原則論なんですよね。\n\n(後からコメント)\nどちらの情報を信頼するべきか、特性(?)から判断する。例えばカードがハックされやすい場合、サーバーが持っているカードの情報の方が信頼できるかもしれない。[tsato.icon]\nSuicaが実現したいことを考えたらカードを信頼する方が良いという結論になったのではないか [takeuchi.icon]\n(後からコメント終わりowari)\n\nそうなんですよね。原則論から生えてくるんですよね。で、あとは実装してみて、計算量が現実的でコストが見合うとか、そういう使える使えない話に流れていくだけで\n\nなので、サービスとしての原則論と、その原則で実装してまずいことにならないよね、みたいな話なのかなって思いますけど\n\n12:08 PM\n> 結局Suicaカードをデータのマザーにして、サーバーが落ちててもカードからデータを抜いてそれをマザーにして不整合にならないようにっていう、原則論なんですよね。\n確かにそうですね。サーバーのは情報が古くても許されるようなユースケースに絞らないといけないんじゃないかなと思ってます。\nスマホみたいな不確実なデバイスが中継する場合のケースです\n\nA., 12:09 PM\nなるほどね。多分最初の\"どうモデリングしますか\"の話を抑えれば良いのかなと。\n\nBLEのデバイスはGATTサーバ。サーバの表す値は、デバイスの現在の状態やセンサ値の内部値、制御目標値、そして制御指示の3つ。\n\nエアコンに例えると、室温とかモータの稼働情報が内部値、設定温度が制御目標値、運転開始/停止が制御指示。\n\nBLEのモデリングって、この3つでおわりなんですね。なので、まずデバイス=サーバーの概念、リアル世界のリアル物体のモデル化のこの表現を押さえる。\n\nで、スマホみたいな不確実なデバイスが中継する場合というと、サービスの原則論次第ですよね。\n\n1つは、リアル世界のものをなるべく同期するけど、通信路があやふやなんだから、できないことは、できない。そこで諦めるのが1つ。\n\n絶対同期するぜサービスなら、諦められないから、ハブとか5Gモデムとか内蔵させて、絶対通信を途切れさせないマンになるならそれもそれ。でもそれって、BLEって不確実な通信路だけど、それを選んだこと自体間違っているよねと、最初に戻る。\n\n(後からコメント)\n BLEはどういう時に使うべきか？[tsato.icon]\n\t\t省電力\n\t\t\tWi-Fiの場合\n\t\t\t\tPush型なら電池駆動でも行けるかも\n\t\t\t\t\tAmazonDashButtonてWi-Fiだけど、これはボタン押した時にしか繋ぎに行かないから数年持つ\n\t\t\t\t\t体重計とか\n\t\t\t\tPull型はきつい\t\t\n\t\tスマホと繋ぎたい Bluetooth(Classic or LE)/Wi-Fi\n\t\tスマホアプリからデバイスを制御したい場合\n\t\t\tWi-Fi ドローン\n\t\t\tNFC 決済系\n\t\t\tBluetooth Classic ストリーム系の情報 音声、繋ぎっぱなしのオフィス機器(マウス、キーボード)\n\t\t\tBLE ウェアラブルデバイス、ビーコン、電池駆動の省電力が求められる機器\n\t\t\t\tアプリありきらしい\n\t\t\t\t\tClassicの場合はA2DPプロファイルとかキーボードプロファイル(?)みたいなユースケースごとのプロファイルを二十数個くらい定義していて、OSでそれぞれをハンドリングしてくれる\n\t\t\t\t\tLEの場合はGATTプロファイル一個のみ(?あるいはそれを拡張したもの)なので、サービス提供者側が自分でデータのやり取りのデータ構造を指定する必要があり、アプリでそれらを制御する必要がある。\n(後からコメント終わり)\n\nそいうところですよね。不確実な通信路を選んでおいて、絶対データ取りこぼさないマンするとか、前提が間違っているだけ、割り切りを誰がどこでするか、という。それはサービスの立ち位置から決めれば良い、原則設定の話。全てそこから生えてきますね。技術の話じゃなくて。\n\n12:15 PM\nそうですね。技術者としては企画側と認識合わせておく必要がありますね。\n\n[*** KingCUはどのように情報を取るか]\n[KingCUはどのように情報を取るか]\n「システム構成要素の役割から、提供すべき情報を整理してみる」が関連する話題じゃないかと思います\n\nA., 12:17 PM\nこういう話って、結構、むつかしいところかなって思って\n\nサービスが何を求めているか次第の話で、それに合うように技術手段をあてはめたり選択したり何だろうなって\n\nなので、\"遅延”というのがユーザの目から見てどのように見えるものなのか、その値は1ミリ秒なのか、1分なのかとか、ちょっと肉付けないと、きついのかなって。\n\n12:18 PM\nあー、具体的なサービスの説明なしに一般化して話すのは難しいですかね\n\nA., 12:18 PM\nまぁ遅延という言葉1つ取っても、という話で、プレゼンでの話し方でしかないんですけど\n\n12:18 PM\n> なので、\"遅延”というのがユーザの目から見てどのように見えるものなのか、その値は1ミリ秒なのか、1分なのかとか、ちょっと肉付けないと、きついのかなって。\n確かにそうですね\n「パターン」とかいいつつパターン化できない\n\nA., 12:19 PM\n何が問題かっていうのが、聴いてる人に、肌感覚として、あっこれやばいとか、いけるなーとか、そういう感じの話だと、面白いのかなって思って\n\nパターンというか、取りうる選択肢ですよね。\n\n12:20 PM\n確かに選択肢という表現のほうがマッチしてそうですね\n\nA., 12:20 PM\nなので、例えばBLEでのスマートロックの話としてですけど、例えば\"誰がロックを開けられるのか\"というサービス視点の話から落としていっても面白いと思うんですよ。\n\nデバイス的には多分内部に秘密鍵を持っていて、それに合うデータを渡せば開けられる。でもサービス的には、例えばオフィスのドアを通れる人の登録情報で開けられナイトいけない。あれ? サービスから見た権限と、デバイスからた権限がずれてるぞ! 普通は、物理の鍵=権限だから、こんな食い違いは出ないのに\n\nIoTにすると、ずれるぞ!、しかもこのずれこそが、今までの物理鍵で不便だったものを解決するブレークスルーの文字通り鍵w あっリャーでも、技術者として、これどうするよ...\n\nっていう感じで開発スタート時に、なんかメンバーの人が面白話とか、聴いたらわんさとでてくるでしょ\n\nで、そこから、データの同期どうする?とか、そういう原則と必要とを抑えて、物理のデバイスと、ネット上のサーバの果たすべき役割と、その組み合わせ方、運用に合う合わない、そういうのを紐解く感じ\n\n12:26 PM\n1. どんなユースケースがあるか\n2. ユースケースを満たそうとするとどんな問題が起きるか\n3. その対処法と背後にある原則\nみたいな構成が面白いんじゃないかということですよね？\n\nA., 12:26 PM\nですね。サービスの中での、通信けいろ、データの扱い、デバイスというもの、それぞれにBLEが絡んでいるから。\n\n12:27 PM\nユースケースをベースに考えた方が、問題解決の流れとして自然そう\n\nA., 12:27 PM\nBLEって、通信だけ、デバイスのGATT表現だけ、とかそういう分離した見方じゃなくて、システムとしての要素としてみる感じで。\n\nユースケース、でしょうね。あとは、きっと聞いている人って、BLEのハードウェアがサーバだなんて感覚絶対持っていないから、そこを気づかせるだけでも、かなり面白い(と個人的には思うw)\n\n12:28 PM\nここでいうサーバーというのは、アプリからの要求を受けて情報を読んだり処理を実行するシステムというニュアンスであってますでしょうか？\nそういう肌感覚ってなさそうなんですかね？ちょっとあまりわかってないです\nどういう感覚を持ってそうなんだろう\n\nそんな感じですね。鍵だと、今ロックがかかっている,かかっていないの状態のデータを取得、ロックしろと命令のデータを書き込める、そういうデータベース。\n\n普通の開発者って、通信=ストリーム、なんですよ。\n\nなので、コマンドを送るっていうのも、ターミナルで\"AT OK　(リターン)\"みたいな、通信路確保した上で、何かコマンドデータを送るっていう考え方。ウェブもそうですよね。基本がストリーム。\n\nで、BLEってイベントベースで、極論はパケット1つで完結する通信、まぁUDPなんですよね。その上にさらにGATTというデータ表現とデータベースの仕組みがある。\n\nで、そのデータベースが、リアルなモノをデジタルデータ表現しているという、そういう仕組み。これ、開発者でも、普通絶対わかってないですって。テキストで何かコマンを送って操作するんでしょ?みたいな。違うのよ。データベースを変更してるだけで、それが結果として操作という行動になっているだけなのよ、という。\n\n操作っていう人の目から見た行動と、データベースへの変更がリアル世界の変更になっているだけ、というのが別物と見えられる人、まずいない。\n\n12:35 PM\nあー、いや実は「BLE Service, Characteristicどう割り振るか」という資料にも書いたのですが、QrioLockはいわゆるGATT上でデータ構造を表現しているかというと違うかもしれなくて\nそこが諸説ありそうと書いたところなのですが\n\n[*** BLE Service, Characteristicどう割り振るか]\n[BLE Service, Characteristicどう割り振るか]\n\nA., 12:36 PM\nそこ、まさにいつも大変なところw\n\n原則論としてですけど、BLEでのサービス/キャラクタリスティクスは、さらにプロファイルという言葉を足しておかないとダメで。\n\nプロファイル=ユースケース。で、ユースケースの中で、ハードウェア内部でアトミックなところまで分離できる機能=サービス。で、サービスのデータ表現の具体的なデータ項目がキャラクタリスティクス。\n\nようは、振る舞いと、金物を綺麗に分離した上で、機能を機能として再利用可能な単位まで落としていく、そこなんですよ。\n\n例えば、前世紀にスマートホームとかで、エアコンの制御規格なんか作るじゃないすか。\n\nすると、エアコンのメーカーたる大企業からエンジニアを集めて、エアコン制御の要件定義をしていく。標準化だから、データ表現を決めて、コマンド体系を作って、でうちの会社だけにしかない機能だけどこれを入れたいとか政治をやって、でっかい1つの規格ができる。\n\nこれって、通信=ストリーム、で、プロファイル=規格、なんですよね。で、通信とデータ表現と機能表現とプロファイルが1つになっているから、あとで何か追加することが、互換性維持ができないとかになるから、極めて困難。で、ゴミ化する。これが前世紀のスマートホームとかデジタル化のゴミ化。作った瞬間に腐るんですよ\n\nで、BLEだと、そこの反省と、多種多様なものを扱う必要で、プロファイルとサービス/キャラクタリスティクスに、振る舞いと機能とを明確に分離したと。そういう流れですね\n\n\nあとは\n\nカスタムプロファイルという\n\n適当にプロファイル作って運用できるので、自分しか使わないなら、サービス1つキャラクタリスティクス1つにして、独自コマンド+データの構成で独自通信形式でいいんですよ。AppleがBLEのHomeKitでそんなことやってますけど\n\nでも、製造とアプリ会社が完全に違っちゃう、例えば心拍センサーとかだと\n\nそういうのだと困るので、BLEの元々の考えに従った感じでサービスとキャラクタリスティクスを定義してプロファイルを作って、1つの仕様として公式プロファイルとして作っていく。\n\nなので、まぁ、勝手にやれ、なんですよね。\n\n12:43 PM\nおお、よかったです\nQrioLockは「勝手にやった」系ですかねw\nサードパーティに公開する場合とか？不都合あるかもなとは思いましたが今の所ないですし。\n\nA., 12:45 PM\nそう、それでいいんですよ。BLEデバイス自体を他社に販売するとかだと、相手先で仕様公開して動かす時、BLEの汎用通信アプリから動かすの無茶大変とかで、大変でしょうけど\n\n普通はSDKも提供してて、SDKで通信周りは隠蔽するから、どうでもいいんですよね。\n\nyes\n\nBLEって元々市場ありきで開発してるもので、フィットネスとかキーボードとか。なので、仕様が1社で決めるとか、ありえないんですよね\n\n業界として\n\nありうる仕様,\n\nプロファイルとかサービス,キャラクタリスティクスというのを作っていく、そういう業界の話があって。\n\nなので、将来的にスマートロックというもののプロファイルが定義されて、Bluetooth SIGに登録されてたら、それに従ったスマートロックを買ってきてサービス登録したら使える、そいういうハードとサービスの分離構造っていうのも、やろうと思えばできるし、やろうとするところが出てくるのかもしれない。その時にはBLEの思想的な定義を作ることになるんでしょうね。\n\n12:48 PM\nなるほど！\nhttps://www.bluetooth.com/specifications/gatt/services\nここに色々Serviceがありますが\nBatteryServiceとか\nこれらを使うべきかは、「他のアプリでも使えるようにしたいか」なのでしょうか？\n\nA., 12:49 PM\nそっか、公式プロファイルもあるし、カスタムプロファイルもあるっていうの、結構常識なようで、目うろこかもですね。\n\nバッテリーサービスは、単にバッテリー残量を表示するっていう機能です。\n\nなので、プロファイルで電池を使うものなら、そのサービスを採用するし、逆に電池残量を知りたいプロファイルで、すでにバッテリーサービスがあるのに、独自にサービス定義の中で独自定義をすることは、ないです。オブジェクト指向なんですよ。\n\n12:50 PM\nカスタムプロファイル、恥ずかしながら知りませんでした。GATTの上にService/Characteristics定義してるくらいにしか理解してませんでした。資料読み直します。\n\nA., 12:50 PM\nプロファイルという振る舞いを作る上で、機能という単位でクラス化されてて、それをインスタンスして使うという。\n\n振る舞いの定義のプロファイルの種類でしかなくて。Bluetooth SIGが公式に認証したら、公式プロファイル。そうじゃない独自に振る舞いを作っているものは、みんなカスタム。\n\nカスタムなサービスやらは129-bitのUUIDですけど、Bluetooth SIGに認証されると、16/32bitの短縮UUIDが割り当てられるとか、そういう感じか\n\n12:52 PM\n> Bluetooth SIGが公式に認証したら、公式プロファイル\nこれってBLEに関してはGATTのみが該当しますか？\n\nA., 12:52 PM\nGATT基盤と言いますけど\n\nBLEは全てGATTベースですね\n\n12:53 PM\n> カスタムなサービスやらは129-bitのUUIDですけど、Bluetooth SIGに認証されると、16/32bitの短縮UUIDが割り当てられるとか、そういう感じか\nあー、うちも何かやってたかれません。入社する前の話でして、、そこは調査します\n\nA., 12:53 PM\nまぁ最近はL2CAPというストリーム通信も使えるから、将来的に音声コーデックも実装されたら、ストリーム通信も入るかもしれませんけど\n\n12:53 PM\nなるほど、ありがとうございます\n\nA., 12:54 PM\n16/32bitのUUIDは、公式プロファイルの認証とか受けてなくても、Bluetooth SIGから購入もできるんですよ。なので、独自定義でも、SIGからUUIDを購入してそれを使うとかもありなので\n\n12:55 PM\nそうなんですね。なるほど、調べてみます。\nまとめると、GATTプロファイル上にService/Characteristics といったデータ構造がサポートされていて、「ハードウェア内部でアトミックなところまで分離できる機能=サービス。で、サービスのデータ表現の具体的なデータ項目がキャラクタリスティクス」と定められているが、デバイスとアプリを切り離すといった予定がない限り、カスタムプロファイル作って好きに定義しても良い、といった解釈であってますでしょうか？\n\nA., 12:59 PM\nそうです。\n\nデバイスとアプリを切り離すというか\n\nプロファイル、サービス、キャラクタリスティクスも、独自定義していいんですよ。128-bit UUIDを使って。で、公式プロファイルにしようとしたら、Bluetooth SIGで、業界として同意できるもの、を作っていくことになる。\n\nなので、最初っから、好き勝手していいんですよね。\n\n1:01 PM\nなるほど\n一つのCharacteristicsにCommandId持たせて、、といった処理がSIGに同意されるかというと怪しいですかね？\nGATT的ではないのかなと思いまして\n\nA., 1:02 PM\nまず、受け入れないでしょう。\n\n1:02 PM\n同意はされなくても、される必要ないし、好きにやったらいいんじゃないという感じですかね\n\nA., 1:03 PM\nそうです。カスタムで好きにやればいいのです。\n\nありがとうございます\n長々とすいません\n\nA., 1:03 PM\nただ、GATTサーバの基本は、操作パネルを作るようなものなので、デバイスの状態値、内部値、操作値を意識して作るのがいいんだろうなっていうことですね。\n\n1:04 PM\n基本としては意識した方が良いということですよね\nサービスが変更された時にiOSでキャッシュされてしまう問題とかってどう対応されてますか？\n\nA., 1:04 PM\nそこを押さえて開発しないと、完成1週間前にまるで使えないことがわかって徹夜で開発先に乗り込んで1からファームを作るとか、そんなことになるわけで。\n\n1:04 PM\n本にServiceChangedをNotifyすれば良いと書いてあったのですが\n\nA., 1:05 PM\nできることは、まさにそれです。\n\n1:05 PM\nそれはいつまでNotifyすればいいんだろうと思いまして\nServiceChangedが全てのセントラル側に伝わったかを、ペリフェラルが知らなければ、ServiceChangedを伝えるのを終わらせられないなと思いました\n\nA., 1:06 PM\nでもめんどくさいので、以前にファームをアップデートした時は、アプリがキャッシュで変なことにならないように、既存のサービスはそのまま、追加したサービスのGATTのハンドラの値を未使用の部分に指定して、キャッシュにぶつからないようにしたりしてました。\n\n実は、ServiceChanged、使ったことなくて。\n\n調べないとなーって思いつつ、使うところがなくて、そのまま...\n\n1:11 PM\n> 既存のサービスはそのまま、追加したサービスのGATTのハンドラの値を未使用の部分に指定して、キャッシュにぶつからないようにしたりしてました。\nすいません、GATTのハンドラって何でしょうか？\nそうするとキャッシュ回避できるんですね\n\nA., 1:13 PM\nGATTって、下の層にATTというデータ表現があって、ATTは、ハンドラ、Type、値、の3フィールドのデータなんですよ。で、Typeにサービス/キャラクタリスティクスとかがあって。ハンドラは単なる整数値で。\n\nBluetooth5.0でファーム更新時のサービス変更のアプリへの通知で、なんか仕組みが入っていたような気もします。ちゃんと調べてないので、その辺りあやふや。\n\n1:15 PM\nキャッシュってService/CharacteristicsをiOSでそのまま持っておくわけじゃなくて、ハンドラが絡んでくるんでしょうか\n\nA., 1:15 PM\nあと前回やったときは、デバイス情報のサービスとか基本的なところは、ファームが更新ししてもハンドラが変わらないようにGATTを設定しておいて、ファームのバージョン番号を確認はしてました。キャッシュを破棄する必要があるなら、ユーザにダイアログ表示とか、アプリから書き込んだらServiceChangedが飛ぶようにするとか、そんな実装はできるかもですね\n\nGATTのキャッシュってハンドラとタイプを覚えるんですよ。\n\n1:16 PM\nなるほどー\n\nA., 1:16 PM\nATT(アトリビュートプロファイル)のハンドラとタイプで、サービスとキャラクタリスティクスのデータ構造を作る仕組みがGATT(ジェネリックアトリビュートプロファイル)。\n\nstar\n\nなので、BLEを通信で見ているとATTのやりとりなので、見えてるデータ構造はATTだけなんですよね。\n\nまるきりkey-valueのデータベースでデータ構造を作るやり方そのもので\n\n1:17 PM\n新しいハンドラが追加されたことをiOSが知るには、デバイスに問い合わせる必要があって、そうするとキャッシュの意味があまりないような気がしたのですが、\nハンドラをキャッシュとして持っている場合、Typeはキャッシュから取得する、みたいになっているんですかね？\n\nA., 1:19 PM\n未使用のハンドラを活用できるのは、新しくサービスを追加したときですね。iOSでサービス検索すると、キャッシュにそんなサービスはないから、BLEで検索しに行って、それがアプリに見えてくる。\n\n1:19 PM\nあー\n\nA., 1:20 PM\nだから、ファーム更新したときに、キャッシュは破棄していないのに、デバイス情報プロファイルみたいな基本的なプロファイルからしてハンドラが変わってたりすると、値が読み出せないとかありとあらゆる変なことになっちゃうんですよね。\n\n1:23 PM\nなるほど\n結構ハマりそうですね\n\nA., 1:24 PM\n一度見たけど、悲惨ですよ。\n\nハードのファーム側の会社と、アプリ側の会社で、あっちが悪いそっちが悪いのやり合いで。パケットスニフして通信を見ればすぐわかることなんで、見れば数分でわかることだったんですけど。\n\n1:28 PM\n1. キャッシュをなるべく破棄しないで済むようにする。Serviceは足す分にはキャッシュに引っかからない。既存のハンドラは変えないようにする。\n2. キャッシュを破棄する必要がある(ファームのバージョン番号で判断)\n    2-1 ユーザにダイアログ表示\n    2-2 アプリから書き込んだらServiceChangedが飛ぶようにする\nまとめるとこういう感じでしょうか？大変ですね。。\n一つのCharacteristicsにしてCommandIdだとここら辺ないのでメリットに感じます\n\nA., 1:30 PM\nそんな感じでしょうか。キャッシュ対応は、真面目に調べていないので、そんな感じかなーくらい。\n\n1:30 PM\nありがとうございます\n[*** BluetoothLowEnergyとは]\n[BluetoothLowEnergyとは]\nほんとに長々とすいません最後になりますが、これも割と書きかけです\n\n> TODO: BLEがなぜ省電力か説明 上原さんに聞きたい\n>  MTU超えた場合をどう扱うか TODO: 上原さんに聞きたい\nこの２つが気になっているポイントです\n\nA., 1:32 PM\n微妙に表現がきになるところまず\n\nBluetooth4.0で初めて取り込まれたのがBLEの技術。なので別れたじゃなくて、BLEが統合されたですね。\n\nsurprised\n\n[** なぜ省電力なのか]\n省電力な理由は、ぶっちゃけそう設計されたから、なんですけどねw\n\n3.0までの技術はストリームなんです。音声とかテザリングとかつながり続けてデータ流れ続ける用途。\n\nこれだと、通信が切れないように作らないといけなくて、電池消費量はそこそこかかる。\n\nで、BLEが使うような分野って、たまに通信するけど、通信状態は維持しておきたい、電池消費最小でというもの。なので、コネクションインターバルが5ミリ秒から、10秒とか範囲指定ができる。BluetoothClassicって、コネクションインターバル相当の値が固定値でしかも確か600マイクロ秒くらいの細切れx7の4ミリ秒周期とかなんですよね。ストリーム通信を途切れさせないために\n\nなので、BLEはぶっちゃけ、無線リモコン作ったらこうなるよね、っていう技術みたいなものですね。\n\nで、電池消費は、高周波回路を送信でも受信でも動かしたら電力を食うので、いかに高周波回路をオンしないか、オンする時間を短くするか、がBLEのキモ。\n\n1:37 PM\nBLEで接続しっぱなしって電池食いますか？\n\nA., 1:37 PM\nコネクションインターバルがムッチャ長くとれるように、可変にして、まず通信頻度を設定可能にした\n\n1:37 PM\nそういう用途ではないとは思うのですが\n\nA., 1:37 PM\nBLEで繋いでるときの消費電力って、コネクションインターバルの設定値次第なんですよね。\n\nNordicとかで計算サイトがありますけど、通信状態維持してても200マイクロアンペアとかその程度ですけど\n\n1:38 PM\nなるほど、、ありがとうございます\nMTUに関してはどうでしょうか？\n\nA., 1:39 PM\n条件次第なので、計算サイトがあります https://devzone.nordicsemi.com/b/blog/posts/nrf52-online-power-profiler\n\n1:39 PM\nありがとうございます！\nチェックしておきます\n\n[** MTUを超えた場合]\nA., 1:39 PM\nMTUというとBLEのパケットのペイロード長ですよね\n\n1:39 PM\nそうです\n20バイトくらいしか載せられないと思うのですが\n\nA., 1:40 PM\nこれ、実はやりようがないですよねw \n\n1:40 PM\nそれ以上のデータを送受信したい時にどうしようという話です\n\nA., 1:40 PM\nBLEのMTU4.0だと20バイト、で4.2で拡張されて、でもiOSだと今だと180バイトくらいでしたっけ?\n\n1:41 PM\nなんか端末によって違ったような\n\nA., 1:41 PM\nこのMTUというところなんですけど、ややこしいんですけど、BLEだとパケットのペイロードのMTUと、ATTの最大データ長の2つがあって。\n\nで、パケットのペイロード長もOSと端末によって異なる、ですね。\n\n1:42 PM\nデフォルトは20byteだと思うのですが\nMTUを拡張するリクエストが送れるみたいで、その場合は端末によって上限が変わるみたいです\n試してはないですが、、\n\nA., 1:43 PM\n4.0の時は、パケットのペイロードが20バイト、でもATTのデータ長が250バイトだっけ?で、20バイトよりも長いデータをATTのデータフィールドに書き込みたい時どうするの?というと、ATTに仕組みがあるんですよ。\n\nロングアトリビュート リード/ライトっていう。仕組みは簡単で、複数のパケットでオフセット+データを書き込む/読み込む、で書き込みは最後に\"書き込め\"という命令を送って、アトミックに書き込ませる。\n\nで、パケットのMTUの変更は、リンク層だったかATT層だたかで変更できるんですよね。私もちゃんと調べてないけど。\n\n1:44 PM\n> 複数のパケットでオフセット+データを書き込む/読み込む\nあー、Qrioでやってることですね。ただ、ATTの仕組みには乗ってないで自前でやってますね\n\nA., 1:45 PM\nこれ、規格の歴史みたいなもので、4.0はパケットのデータ長20バイト、ATTで長いのを書き込みたいならコマンドを使ってやれになってます。でも長いのを読み書きするコマンドがiOSだとサポートがないから、アプリで独自にやるしかない。なのでオフセットやID+データでアプリ側でパケットの再構成すると\n\nsurprised\n\nで、4.2でパケットのMTUが拡張されたけど、サポートするしないは自由なので、対応も、対応しててもどこまでペイロード使えるかの大きさが、まちまち。\n\n1:47 PM\nあー、長いのを書き込む場合、BLEの規格にはあるけどiOSのSDKでサポートされてないんですね\nAndroidでもされてないかもですね。調べてみようと思います。\n\nA., 1:47 PM\nあとめんどくさいことに、MTUのサイズ変更がATTで指定できるはずなんですけど、L2CAPというストリーム通信が登場して、L2CAPでもMTUサイズ変更の仕組みがいるよねとなると、ATTの1つ下のL2CAP層にもMTU変更通知処理が規格で入ると。どこでMTU変更通知扱ってるねんw という。\n\n1:47 PM\nwww\n\nA., 1:48 PM\n4.0のシンプルな構成から、上乗せ上乗せした結果、ちょっと変なことになっていくという、定番コースですね。\n\n1:48 PM\nなるほど、あまりMTUのサイズ変更やりたくないですね\nそうすると、自前でパケットの先頭にオフセット入れるのが良さそうかなと思いました\n\nA., 1:49 PM\nMTUのサイズがアプリ側で読み出せないから、きついんですよね。長いデータを渡したら、iOSはそのまま末尾は無視して先頭部分の送れる部分だけ送って知らん顔しますし\n\n1:49 PM\nそれは辛いですね\n\nA., 1:49 PM\nですね、独自実装になると思います。\n\n1:49 PM\nありがとうございます！\n一通り聞きたいことは聞けました\nお時間かけてすいません。本当にありがとうございます。\nいただいた知見を元に再構成してスライド作ってみたいと思います\n\nA., 1:50 PM\n^^/\n\n1:50 PM\n(hearteyes)\n大変感謝しています。それでは失礼します m(__)m\n# KingCUはどのように情報を取るか\ncreated_at:Mon Jan 19 1970 06:45:07 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:55:05 GMT+0900 (日本標準時)\nKingCUはどのように情報を取るか\n[* BLE通信デバイスとWebサーバー、どちらがどのような情報を提供すべきか、アプリはどう取得するか]\n##DroidKaigi #BLE\n草稿です\n\n[** 前提]\n QrioHub無しに限定して書いてます\n KingCUの実装と違う情報が含まれてます\n \t聴き手が知りたいのは自分のプロジェクトで活用するための知見だと思うので、理想ベースで考えてます。\n \t理想ベースだというのは、発表の場でも軽く言うつもりです。\n\n[** システム構成要素の役割から、提供すべき情報を整理してみる]\n[* Webサーバー ]\n デバイスが近くにいなくてもアプリから情報を取得できる\n \tただし結果整合性によって遅延している可能性がある\n \t\t[* 遅延が許容できて、アクセシビリティを重視される情報を提供]\n デバイスをシンプルにできる\n \t理由\n\t\t デバイスはWebサーバーに比べてアップデートが大変\n \t メモリの制約\n  \t開発環境による開発効率(C言語辛い)\n  [* デバイスが持つ必要のない情報を提供]\n\n[* デバイス]\n デバイスの[* その時間において正しい]情報を保持している\n \t[* 遅延が許容できない情報を提供]\n\n[* 整理すると]\ncode: kotlin \n when {\n   デバイスでのみ管理する情報 -> デバイスから // 該当する情報なし\n   Webサーバーでのみ管理する情報 -> Webサーバーから // ロック名、鍵情報\n   // 以下、両方で持つ情報\n   遅延を許容できない情報 -> デバイスから // 解施錠状態\n   遅延を許容できる情報 && 値が不変 -> Webサーバーから // LockId, BluetoothAddress\n   遅延を許容できる情報 && 値が可変 -> 1.Webサーバーから取得して表示 2.裏でデバイスから取る 3.取れたらWebサーバーと同期して情報を更新して表示、取れなかったら何もしない // ロックの設定、バッテリー残量、ログ\n }\n\n[takeuchi.icon]\nこちらの項目の論点には「時間」だけでなく「デバイスが近くにいるかどうか」も含まれていますか？\nたとえば「遅延を許容できないが、デバイスが近くにないためやむなくWebサーバーから取得する」ようなケースです。\n（QrioHubの解施錠状態の取得の話が該当しますが、Hubはなしとのことなのでこの意見は無視していただいてもよいです）\n\n[**** コードでどう表現するか]\n(コード追うのが大変な割に大して面白くないので、発表はしなくていいかも)\n\n[** どうモデリングするか？]\n Repositoryでデータ取得元を隠蔽するパターンをBluetoothとWebサーバーにも適用しようと思ったが、無理\n\t 持ってるデータが違うため。\n\t\t (さらに、Bluetoothの場合は近くからじゃないと取得できないといった制約がある)\n\t APIとそれのローカルキャッシュの場合はRepositoryパターンは機能すると思う\n\t \t持ってるデータが同じだから。\n\n[takeuchi.icon]\nWebサーバー/デバイスの両方から取れる情報で、ユースケースによって取得先を変更したほうがよい情報も存在すると思いました（たとえばロックの履歴。蓄積されたログを100件取得したい場合はWebサーバーから、最新のログ数件をfetchしたい場合はデバイスから取得する、などが考えられます）。想定されるユースケースで求められること（結果の正確性や即時性など）をRepositoryのパラメータとして提供できれば、もしかしたら取得元を隠蔽できるかもしれません。\n最近Geofenceで位置情報を取得する機会があるのですが、最新の位置情報を取得するには数分かかることがあります。位置情報の正確性と端末のバッテリー節約はトレードオフですが、以下の `Geofence.Builder##setNotificationResponsiveness(int notificationResponsivenessMs)` では、パラメータでどちらを優先するかを決めることができます。\nhttps://developers.google.com/android/reference/com/google/android/gms/location/Geofence.Builder.html##setNotificationResponsiveness(int)\n（上記のAPIとは関係ないですが）例えばパラメータにタイムアウトを指定できるようにして、時間内にどこかしらから取得しに行くが、時間切れになったらローカルキャッシュを返す、など。情報が少々古くても問題ないユースケースがもしあれば、有効かもしれません。\n\n[takeuchi.icon]\nあ、すみません。上記、文脈読み違えていたかもです。全ての情報に対しては無理、というお話ですかね。。また来週、口頭でお話させてください。\n[takeuchi.icon]\nもしRepositoryがBluetoothとWebサーバーのどちらから取得するかを状況に応じて自分で判断する場合、確認する条件がかなり複雑になりそうですね。。\n\n\n🙅‍♀️こうではなく\ncode:Lock.kt \n // Lockというモデルを作ろうにも、通信手段によって取得できるできないは明確にある\n data class Lock(\n     // Webサーバー/デバイス両方から取れる\n     val id: LockId,\n     val bluetoothDeviceAddress: BluetoothAddress,\n     val firmwareVersion: FirmwareVersion,\n     val battery: Battery,\n     \n     // Webサーバーからしかとれない\n     var lockName: String, \n     val keys: List<Key>,\n     \n     //デバイスからしか取れない     \n     val openCloseState: OpenCloseState\n )\n\ncode: LockRepository.kt\n interface LockRepository {\n     fun find(id: LockId): Single<Lock> \n     fun save(lock: Lock): Completable\n     ...\n }      \n\n🙆‍♀️こうした\ncode:Lock.kt\n // Webサーバー + ローカルキャッシュしか見ない、LockRepsitoryからCRUDする\n data class Lock(\n     val id: LockId,\n     val bluetoothDeviceAddress: BluetoothAddress,\n     val firmwareVersion: FirmwareVersion,\n     val battery: Battery,\n     var lockName: String, \n     val keys: List<Key>,\n )\n \n\ncode: LockRepository.kt\n interface LockRepository {\n     fun find(id: LockId): Single<Lock>\n     fun save(lock: Lock): Completable\n     ...\n }      \n\n// 即時性が必要なもの(=Bluetoothによる操作をするもの)はLock.ktに含めない\ncode:OpenCloseState.kt\n enum class OpenCloseState{OPEN, CLOSE, UNKNOWN}  \n\ncode:LockDeviceService.kt\n //Bleによるデバイス操作用クラス\n interface LockDeviceService {\n   fun readStatus(bdAddress: BluetoothAddress, key: Key) : Single<OpenCloseState>\n      ...\n }\n\n[** ユースケース]\ncode:LockBrowseUseCase.kt\n class LockBrowseUseCase(private val repository: LockRepository) {\n     fun browse(id: LockId): Observable<Lock> = \n       // TODO: \n       // 1. まずrepository.findでLockを返す\n       // 2. bleService.readStatusし、repository.saveしてWebサーバーと同期する\n       // 3. 更新されたLockを返す\n }\n# Castle_2\ncreated_at:Mon Jan 19 1970 06:52:10 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:52:11 GMT+0900 (日本標準時)\nCastle \n\nビジネス側進捗\n二件あった\n\tうち1件\n\t\tSL1学生寮35つけてる\n\t\t\n\tうち1件(1棟17戸)\n\t\t2/22までにロックは取り付けていて入居続々している\n\t\t入居後にアポとって設定をしに行く\n\t\t4/1から稼働できる\n\nNTT東日本\n\t住まいの家工場に展示する\n\n# Castle 週定例 2019/01/15\ncreated_at:Mon Jan 19 1970 06:51:53 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:52:01 GMT+0900 (日本標準時)\nCastle 週定例 2019/01/15\n[https://gyazo.com/8265bcbdf4dcfbb5de885a7f4ca95ea5]\n\tOsaka Castle \n\thttps://commons.wikimedia.org/wiki/File:Osaka_Castle_Nishinomaru_Garden_April_2005.JPG##/media/File:Osaka_Castle_Nishinomaru_Garden_April_2005.JPG\n\n[*** 個別報告]\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tweb\n\t\tv: 建物詳細画面 (https://castle-console-staging.herokuapp.com/building/1) 実装中\n\t\t\tAPIから情報は落ちてきているので、表示機能はほぼ完成\n\t\t\t更新機能を含めて火曜までに終わると、見積もりどおりの進行\n\t\t\tその先の部屋詳細画面が… ちょっと作業量が多くて見積もり苦慮\n\t\tv: ログイン処理の修正\n\t\t!: 表示系は誤魔化したものの、機能要件が定まっていない状態で更新機能を実装することは不可能なので、更新系をことごとく後回しにしたい気持ちもある\n\t\t\t権限周りとか [tottokotkd.icon]\n\t\t\tとりあえず「誰でも押せる、なんでも起こる」で進める\n\t\t!: これから先は Vue.js の細かいところまで引き取る余裕がなさそう\n\t\t\t頑張ってコンポーネント書いてください[tottokotkd.icon]\n\t\t\tやー、ちょっと中島氏(デザイン&エンジニア)に聞いてみる、react/vueも書けるって話。どの程度かは知らん。\n\tapi\n\t\tv: Auth0利用部分の調査、全体1ユーザー版の実装、Kingステージング相手の検証\n\t\t\t詳しくは[空想上のAuth0ユーザーログイン]\n\t\t!: 見積もりに「自動化テスト」1行も含まれてない問題\n\t\t\t権限周りと合わせて、QAやる頃には…\n\n[narico.icon]\n\tv: 建物と部屋\n\tv: BCUと部屋の紐付け機能のフロー共有\n\to: 部屋の詳細の細かいところ\n\to: BCUアカウント作成画面、リストあたりまで行きたい\n\to: 建物の部屋リスト見た目直す\n\to: 配色調整したい\n\t!: \n\t\tアラートのパターンやれてない\n\t\tあとで見ます[tottokotkd.icon]\n\n[htwrocl.icon]\n vo：KingからCastleへのログ通知\n   Castle APIにロックのログを直接通知(PRをレビュー待ち)\n !：特になし\n Alexa関連のタスクを進める予定あり\n\n[tsato.icon]\n vo: 特になし\n \tDroidKaigiのタスクやってます\n\n[h.yamaguchi.icon]\n\tv: 部屋取得系のapi (部屋IDとlockIdから取得するやつ)\n\tv: hub系apiのエンドポイントのみ定義\n\to: lockの更新・取得 (kingApiを叩く部分)\n\t!: 特になし\n\n[ymtk.icon]\n\tv:現状の遷移キャッチアップ（特にBCU関連）\n\to:仕様の取りまとめ＆共有資料最新化\n\to:CS体制\n\t\t内製 or 外注の従量（¥1,500/回）で検討\n\to:商標進捗追い\n\ti: 不明瞭になっている部分とその方針案を定例で確認したい\n\n入居モードでもBCU権限発行できるか\n  できてよい認識。修理時、交換・追加時に顧客のスマホが使えないという話が絶対出でてくる。\n  居住者に黙って開けられるのではと言う話は、解施錠テストでドアを開けて入る人そもそもいるのか、履歴にも残るが？\n  「入居モードの部屋」への権限を発行するケース\n  \tロック壊れてる場合\n  \t\t壊れてるのであればEKeyいらない（あっても仕方ない）\n\t  \t既存のロックを操作する権限がいらないのでは？\n \t\t壊れてなくても再度キャリブレーションとかありそう\n \t\t\t作り込むことは可能\n \t\t\tいずれ作るにしても、最初からいらないのでは？という思い\n \t\ttoC / toBいずれも「壊れてる」の幅が広そうなので、想定事例で絞り込むの無理では…？ [tottokotkd.icon]\n \t\t\tログは取る\n \t\t\t最後の最後は回収・電話相談\n \t\t\tそれ以外は柔軟な方がいい？\n \t\tとりあえず「いつでも押せる」で作ってみて、あとで絞る\n \t\t\t1. Castle: アプリ用の権限管理レコードをつくる\n \t\t\t2. 現場に行ってログイン\n \t\t\t3. Castle API叩いて「キャリブレーション用EKeyくれ」\n \t\t\t4. プライベートAPIから取ってくる (or 既存マスターキーをとってきて、使って、すぐ捨てる)\n\t\t1ドア2ロック、片方のロックだけを交換するときのフローは\n \t\t1. Castle: アプリ用の権限管理レコードをつくる\n \t\t2. 現場に行ってログイン\n \t\t3. とりあえず2つとも初期化する\n \t\t4. 壊れているロックを外す\n \t\t5. 新しいロックをつけて、新規登録フローに接続\n \t\t6. 入居時のやり取りを再度行う\n\n リモート解施錠の許可は結局どうするか\n \t親組織が子組織に許可することはママイキ、居住者からアプリ経由で承認取るのは現実的ではないのでやめる\n \t「今開けろ。自分が電話してるんだ」のようなことは普通にあり得るし、そこの例外を作ってくれと言うのも見える。毎回操作するときにダイアログで「許可を取っていますか？」と都度聞くのと、履歴に残すことで担保できるのではないか。それで子組織に不安があるならそもそも組織レベルで禁止しておくべき\n \tこのあたりは管理会社向け説明資料でも裏取り\tをしておくと良い認識（これだとどうしても導入できない、になるのか）\n\n アラートの見せ方をどうするか\n \t内見モードと入居モードでは重みが違うので分ける、それ以上は最初はやらない\n \t管理会社向け説明資料でも裏取りをしておくと良い認識\n \t[Castle見積もり] のアラートの項目の通りですが、まだパターン出せてない[narico.icon]\n\n 部屋移行の権限は誰が持つのか\n \t実際は、部屋を作る権限とかぶる（編集に近い）概念\n \tそうなると、「管理者」であればその権限を持っていてよいはず。親組織または子組織の管理者として、履歴を残す\n\n 入居者に渡されるキーの権限は何か\n \tファミリーキーとする\n \tマスターキーではロックを初期化できてしまう。ゲストキーでは他の合カギを発行できない\n\n ログインアカウントは会社id+個人id+パスワードとしたい\n \t会社idは数字数桁。会社名などにはしない（重複避けられない。qrio01など、実際使い手からしてもしたくないのでは？）\n \t個人idは英数字数桁。異なる会社id間での重複は構わないが、同じ会社id内では重複させない。\n \t\tサブドメイン or 数字手入力\n \t\t`https://fudosan.roomo.biz` みたいな\n \t\tサブドメイン、技術的には別に難しくない（JSでロケーションぶっこぬいて投げるだけなので）\n\n その他残件is...?\n\n\tもともと「ログでいいです」という話が「ログじゃダメなんですか？」「ダメです」というやり取りに変遷していくパターンを何回か見ているので不安感 [tottokotkd.icon]\n\n[hazimetyan.icon]\n v: 電話機能の要件を軽く聞いた\n \tおおまかに以下の機能を作ればよいと判断した\n\t \tお客様に紹介する、不動産屋の人が、管理会社(Castle運営会社)に連絡して、物件番号と暗証番号を教えてもらう\n \t\t管理会社(Castle運営会社)は、物件番号に対して暗証番号を発行できる\n v: Twilioで、電話応答のフローを作成しようとして Twilioのマニュアル読んでた\n v: 必要なAPIを洗い出した\n o: Twilio の番号を購入して、電話受付のフローを作成する\n o: 物件番号に対して、暗証番号の作成するAPIを作る\n !: 物件番号と暗証番号だけでLockが解錠できるんだけれども、その権限をもっているユーザーとかをどうするのか全然わかっていないので、誰かに教えてもらう。\n\n[m.suzuki.icon]\n\n\tv:ロゴマークの検討（アプリアイコン等に使用するため）\n\t\tロゴタイプまで作業するかはボスと相談\n\tv:機器設置ガイドの制作\n\to:ロゴマークの選定\n\to:機器設置ガイドの制作\n\to:（そろそろ）Webページの着手\n\t!:　Qrio Roomoのブランド相談相手（高橋さんかな〜）\n\t\tコンテンツブリーフィングとかやります？そういうんじゃない？[narico.icon]\n\t\tQrio Lock Roomo ではないので中途半端\n\t\tB to B to C の最後のC\n\t!:ロゴ検討に倍時間かかっております\n　\t何をミッションにRoomo作るかが見えず、方向性が定めにくい。\n\n[*** ##KPT]\n\t[Castle 週定例 2019/01/08] を読み返してみて、今週もやっていき\n \tよかったこと\n  \t続けていくこと\n \t課題感\n \t\tやってみること\n\n[*** よかったこと]\n\tcastle-consoleのコードを読むとvue+tsの書き方が分かるのでsiriusが進捗する\n\t\tPRレビューとかの形で関わりたい（が時間がない）[tottokotkd.icon]\n\t\tカギカン１のアセットを使ってモックアップひと通り組むのを先行しているので、castleリリース後の本格始動時にぜひ\n\t\t\t半年先とかでは…？[tottokotkd.icon]\n\t\t\tCastleはテストとか後付けなので、下手すると7月くらいまで築城してそう\n\t[narico.icon]を捕まえて遷移を聞いたので脳内仕様を最新化できた\n\t英語のPodcastとか文字起こししてくれて便利 https://otter.ai/\n\t こんなん https://otter.ai/s/32ead722643949778be6db278c827759\n\tAuth0なんとなく動きそう\n\t認識シンクしなければ… という問題意識を行動に移した\n\ttypescript のエラーなくなった\n\treview appsでロックを少し操作できた\n\t\t(ログはstagingに行ってしまうので、このあたりはHubのファームウェアの書き換えが必要)\n\tkingApi叩けるようになった\n\n[*** 課題感]\n\tSiriusの気配、内容やリソース配分がよくわかってない\n\tReview apps環境でロックの動作確認がしにくい\n\tsiriusでasanaを使い始めてるけどまだ色々語れる段階にないのでこれから\n\t\tWBS簡単に作れるのはデザイナもディレクションする上では良いと思います\n\t\t無料だとプロジェクトいくつまでなんだろ\n\t\t[https://gyazo.com/4113eb163493ddd9ee9abbd4e9934489]\n\t\t[https://gyazo.com/a0c85bffb9963498f56faaabd3e647b4]\n\t\t\t2つめのはasanaと連携しているinstagantt\n\t\tちなみにScrapboxエンプラ版もオナシャス！[tottokotkd.icon]\n\n\t業務系の準備が進捗悪い、手が回らない（CS、新規アカウント発行、商標、マニュアル、ソニーのアレコレ判定ほか）\n\tプロジェクト横断での状況把握ができていない\n\t\tプロジェクト減らすか、人を増やすか、超頑張るか\n\tVue書ける人探すのデザインよりのエンジニアが良いのか徳さん方面の人が良いのか悩む\n\t\tコミュニケーション回りやすい方で検討する？\n\t\tまずは社内でコード品質を揃えたいお気持ちあります[tottokotkd.icon]\n\t\t\tツールとかテストとか… 時間が…\n\n##Castle\n\n# vueメモ\ncreated_at:Mon Jan 19 1970 06:50:57 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:51:58 GMT+0900 (日本標準時)\nvueメモ\n[https://gyazo.com/ecb5c999c7f624439fddbf093e8dd0fe]\n\n色々忘れてるのでメモっていく[ymtk.icon]\n\tslot\n\t\tコンポーネント内の要素を書き換え可能にする時に使う\n\t\t\thttps://jp.vuejs.org/v2/guide/components-slots.html\n\t\t実装例\n\t\t\tコンポーネント側には初期値（下記の例では\"ボタン\"）を入れる\n\t\t\tコンポーネントを呼び出す側で値を指定すると、\"ボタン\"→\"にゃーん\"へ中身が差し替わる\ncode:js\n ## component/Button.vue\n <template lang=\"pug\">\n   button.rounded(\n     @click=\"$emit('click', $event)\"\n     :class=\"classes\"\n   )\n     span\n       slot ボタン\n </template>\n \n ## pages/Page.vue\n <template lang=\"pug\">\n   header.heading.heading--h3\n     h3 ボタンのコンポーネント      \n     Button.mB20\n       |にゃーん\n  </template>\n\n\n# Castle 週定例 2019/01/08\ncreated_at:Mon Jan 19 1970 06:41:50 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:51:56 GMT+0900 (日本標準時)\nCastle 週定例 2019/01/08\n[https://gyazo.com/f85f916a1b68c7af3b91cc95bb73f09f]\nNew Year’s Eve in Nottingham: Travel news and best events to see in 2017 \n( https://nottstv.com/new-years-eve-nottingham-travel-news-best-events-see-2017/ )\n\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tottokotkd.icon]\n\tv: 電気フライヤー買った、福袋は買い損ねた\n\to: 建物詳細画面\n\to: Castle Auth0連携 (CU偽装) をさっさとやっていく\n\t\tひろさんのタスクとコンフリクトしてないかきになる [tsato.icon]\n\t\t難しそうなので私で引き取り部分です [tottokotkd.icon] \n\t\t\tOKOK  [+1.icon]\n\t!: 電話で解錠する機能どうするんでしたっけ… みたいな話の共有\n\t\tあとで直接やりとりします [tottokotkd.icon]\n\t\t自分ところにも書いたけれども、わいのところにも共有してくだしあ[hazimetyan.icon]\n\t!: 「何を作るか」を誰が決めるか\n\t\t「言われたから作った」 vs 「何を作るかまだ聞いてない」\n\t\t作る側: 何つくるか決めてほしい、いつまで欲しいのか線を引いてほしい\n\t\t売る側: 何つくるか決めてほしい、いつまで出来るのか線を引いてほしい\n\t\t\t来週のミーティングで決める（決まればOK）（決まるか不安しかない）[tottokotkd.icon]\n\t\t\t\tスケジュールを遅らせることや、人を増やすといった可能性も視野に入れて話す [tsato.icon]\n\t\t\t\tスケジュールを守ることがどのくらい大事なのか、温度感が欲しい [tsato.icon]\n\t\t\t\t\tWeb側の再見積もりが発生したら、なりこさんやとくさんにお願いしたい [tsato.icon]\n\t\t\t粒度がどうであれ解決の方向に向かえばok [tottokotkd.icon*4]\n\t\t\t\t解決していけばall okなので是非がんばってください\n\n年末年始なので誰も何もやってない説 [tottokotkd.icon]\n\t\tなにもしてない（・｀ω・´）[hazimetyan.icon][tottokotkd.icon][narico.icon][htwrocl.icon]\n\n[narico.icon]\n\tv: 見積もり、スケジュール調整とか\n\to: リセットの調整、検索フォーム周り、ログインUI調整\n\to: 物件詳細ページ\n\to: 説明会の紙芝居とか使い方マニュアル用に絵が必要なので\n\t!: たくさんある[tottokotkd.icon*8]\n\t!: リソースの話 \n\t\t今すぐじゃなくとも\n\t\t(1) 連れてくる\n\t\t\tこれは深澤さんに聞く必要がある [tsato.icon]\n\t\t\tこれはこれでコミュニケーションコストとか大変だったりしそう[tsato.icon]\n\t\t\t最後の手段としては常に想定していただきたく… [tottokotkd.icon]\n\t\t(2) 抜かれないようにガード\n\t\t\t説明書 (紙芝居？) を作る人的、時間的リソースも考えると、無限に社内での割り込みが発生するリスク [tottokotkd.icon]\n\n\n[htwrocl.icon]\n  v：KingからCastleへのログ通知\n    Castle APIにロックのログを直接通知\n    Castle APIにハブのログを直接通知→やらない\n   　S3経由でロックに関する通知→やらない\n   　S3経由でハブに関する通知→やらない\n  o：KingからCastleへのログ通知\n    Castle APIにロックのログを直接通知\n    \tパースした状態で全部投げる\n    // Castle APIにハブのログを直接通知\n    \tハブのログはないので不要です[tsato.icon]\n      承知いたしました！ご指摘ありがとうございます！[htwrocl.icon]\n 　\tPrivateAPIのタスクは一旦置いておいてください [tsato.icon]\n 　  承知いたしました！[htwrocl.icon]\n  !：特になし\n\n[tsato.icon]\n v: スケジュールの調整\n o: DroidKaigiの資料\n \tDroidKaigiの準備が安定するまではBCUAndroidの開発先延ばしにさせてください。BCUAndroidは遅くても３月中旬までに出来てればいいので、何とかなると思います :bow:\n !:  1/7に関さんと話した内容\n \t１月末までにマニュアル共有\n\t １月末までのWeb成果物は見せる必要がない\n\n[h.yamaguchi.icon*3]\n\tv: bcu apiエンドポイントの設計\n\tv: 部屋一覧api\n\tv: タスク洗い出し(github issuesにあげた)\n\to: 部屋取得系のapi\n\to: lock取得・更新系のapi\n\t!: 特になし\n\n[ymtk.icon]\nv: 東北雪国巡りとドメイン取得\no: 商標まわりと管理会社向けサービス説明\no: auth0と来週に契約の話つける\n!: なりさんの脳内にあるUIを引き出す\n\t\t開発同時進行ですががが手動かす[narico.icon]\n!:作ってる人がピンときてないサービスやゲームがうまくいく確率は低いので、その辺は置きっぱなしにしないよう。それをやると意味があるのかという判断軸がチーム内でずれていると各自で判断できる領域も狭くなるのよね→1/xxまでに意思曖昧であればこの仕様はこれで行きます、とか来週の全体定例で出して不確実性はすこしでも潰しますわ \n\tぜひやっていきましょう [tottokotkd.icon]\n\tそりゃそうなんですけどね [tsato.icon][narico.icon]\n\tちと棚卸させてください。自分もします。[ymtk.icon]\n\t\tctrl + i でアイコン押せます (PC)\n\t\tiPhone… [tottokotkd.icon]\n\t\tあとこの件ボード会でもymtkと高橋さんの間で課題議論中。サービス作るのにいわゆる企画的なロールをやる人が欠けている問題。\n\t\t\tどゆことー [tsato.icon] \n\t\t\t[https://gyazo.com/919589dd43618fa01dc48b71fd62cc1c]\n\n!: iPhoneから更新出来る！！\n\n[hazimetyan.icon]\n v: 電話で解錠する部分の作成を言い渡される\n\tv: 要件を大雑把に確認\n\tv: Twilioをなんとなく調べた\n o: 要件を具体的に聞く\n o: 要件聞いた範囲で、作れそうならさっさと作る\n !: そんなに困ってないんだけれども、誰に電話の要件聞けばいいのか知りたい。ともひこくんかな。\n \t電話解錠の細かい実装は[tottokotkd.icon]までお問い合わせいただければ多分okです\n \t(ビジネス的な話は誰に聞いたらいいのかな…)\n \t\tビジネス的には直接関さんに聞くかな[hazimetyan.icon]\n \t\t内見の際、電話をしてロックが開けばいいと思います。それ以上の細かい話は不動産のことはよくわからんってなるので、いい感じにやるしかないでしょう[tsato.icon]\n \t\t\tよしなに作るのは得意なので、よしなに作る（・｀ω・´）[hazimetyan.icon]\n\t\t\t機能的にも実装的にもそんなに難しいことはやらない… はず… [tottokotkd.icon]\n\n[*** ##KPT]\n\t[週末ふりかえり 2018-12-21] の反省から、下記のフォーマットで\n \tよかったこと\n \t\t続けていくこと\n \t課題感\n \t\tやってみること\n\n[*** よかったこと]\n\tCastle webアプリが一応動き始めた\n\t検索周りできてきた・・・かも\n\t年末掃除ちょっとできた\n\t席替えでコミュニケーション取りやすくなった（[narico.icon]的には \n\t\t結構いい感じ[tottokotkd.icon] 柔軟に変えていくの大事\n\t\t会社受付の体制がなってなくてデザイン軍団のメンタル削ってくる問題\n\t\t\t引っ越しplz\n\t\t電話とかもある\n\t\t組織や席なんて手段なのでどんどん変えていきましょう\n\t年末年始で強制リフレッシュ\n 年末年始の休みが大量で遊びたおした\n 技術書典！！！！！！\n \thttps://techbookfest.org/\n \t当落通知は2/5ですが今すぐ記事を書いてください [tottokotkd.icon*7]\n \t３月中旬入稿？？\n \t4月14日に開催\n \t一人10ページくらい\n \tやり方ー？inDesign？\n \t開発環境はよ\n \t\t日本語を書くだけなら.txtでも出来るはずなのでセーフ [tottokotkd.icon]\n \t\tReViewってので印刷所用のフォーマットで書き出せるとかなんとか？\n \tnikkei本その辺りに置いておきます\n \tえる知っているか。本当の戦いは校正校閲からだ\n \t\tQrioが出してるこの本の内容間違ってるぞ会社としてアレコレ･･･とかとの戦いもある。本は遠隔アップデートできない。タウンワークでたまに「月給1200円」とか間違いあるじゃろ。アレは辛いやつだ\n \t\tとりあえず電子？\n 要件をGitHub Issueに落としてマイルストーン引いた\n DroidKaigiの資料ようやく書き始めた。レビューもしてもらえる\n webapi楽しい\n castle-consoleのおかげでsiriusのstorybookキャッチアップしやすい\n \t学習コスト低い！！！\n \tでもwebpack.tsがない！！！設定変更どうすればいいのか！！！！！！\n\n[*** 課題感]\n\t時々「この課題感、先週も展開したな…」と感じる瞬間がある\n\t\tおじいさん、その課題はもう展開したでしょ[tottokotkd.icon]\n\t\t\t書面に落とすのです･･･[ymtk.icon]\n\t\t具体的なアクションに到達していくことを常に考える\n\t\tプロダクトオーナーがいない？問題 [tsato.icon]\n\t\t\t現場としては問題をエスカレーションしていく\n\t\t\t\t今の感じって「風邪引きました」てこられたようなモノで、結局は医者側の自分たちがあれこれヒアリングして課題明確化からの施策化していかないと進まなそう。「風邪をどこまで治せばいいですか？」→「そりゃ早いほうがいい」[ymtk.icon]\n\t\t\t\t結局説明できる資料があればその課題は解決できそうですね、とか、手段が目的に合ってるのかを脇でさばくのはymtkタスクっぽい[ymtk.icon]\n\t\t\t短期的にはその場その場で意思決定していくしかないかと\n\t\t\t営業・販促領域をカバーしない前提でのプロダクトマネージャーは置ける気がしている。いまはそこまで全部カバーできないとダメ、になっているのが仕組みとして破綻している[ymtk.icon]\n 年末年始の休みが大量で、休みボケから復帰していない\n\t\t何も覚えていない\n\t\tゴールデンウィークは10日なのでさらに長い\n\n##Castle\n# 特許 2016-239124\ncreated_at:Mon Jan 19 1970 06:51:54 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:51:54 GMT+0900 (日本標準時)\n特許 2016-239124\n[tottokotkd.icon] 技術書で特許の話をやろうかなという件です\n\n# 空想上のAuth0ユーザーログイン\ncreated_at:Mon Jan 19 1970 06:42:18 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:51:53 GMT+0900 (日本標準時)\n空想上のAuth0ユーザーログイン\n[* CastleサーバーがCUのフリをする理由]\n\t開発効率が良さそうだから\n\t\t既存のKing APIを使える場合、それを叩く\n\t\t使えるものがない場合、CU向けAPIの互換性を破壊せず追加・拡張・改良する\n\t\t1つのAPIに統一することで、ほとんど中身の同じ「CU向けAPI」と「Castle向けAPI」を並べずに済み、単純なまま保てる\n\tプライベートAPIより穴が小さいから\n\t\t「Auth0で認証し、そのユーザーに権限のあるロックを操作する」という枠に収まる\n\t\t「Castle管理外のロックがCastle経由で不正操作される」などのリスクを、そもそも発生させずに済む\n\nCaslteがAuth0を叩くのはいいとして、実際どういうパターンがあるか？\n\tユーザーはいつ、何人作るか？\n\tそのIDとパスワードをどこに保存するか？\n\t\tパスワードを廃棄してrefresh_tokenだけ保存しておき、期限切れにならないよう永久に更新し続けるアプローチもありそう（実装コストは高そう）\n\t仮に流出したらどう対応するのか？\n\t\tDB丸ごと漏洩したとか、ログの設計がまずかった等の場合\n\t\t避けるべきだが、絶対に回避可能とはいえない\n\n[*** 必要に応じてユーザーを自動生成するパターン]\n\t例えば「ロック 1~2 個が設置される瞬間、サーバー間の通信だけでユーザーを生成する」という場合\n\t\tCastleで言えば「特定の部屋ごとにAuth0ユーザーを作る」など\n\t実施することは可能\n\t\tただしAuth0の仕様により、ユーザーごとユニークなEmailの登録が必要\n\t\t例えばGmailのエイリアスを使って `castle+1@qrioinc.com`  みたいな逃げ方はできそう\n\t\tメール認証も必要\n\t\t\t「Email確認済みでないとログインさせない」ルールを有効化しているため\n\t\t\t\tこのルールを丸ごと無効にするのは流石にハードルが高い\n  \tこの問題は管理用のAPIで強引に突破できる\n  \t\t新規作成: https://auth0.com/docs/api/management/v2##!/Users/post_users\n  \t\t情報上書き: https://auth0.com/docs/api/management/v2##!/Users/patch_users_by_id\n \tCastle という1つのシステムが管理用APIを叩いたり、ユーザーとしてログインしたりするので、違和感もある\n \t\tそこまで頑張って各部屋にAuth0ユーザー作る (そして料金を払う) べきなのか？という感じも… \n \t\tいずれにせよ、ここの実装自体はとくに大変でもなさそう\n\t部屋ごとにユーザーを作ると、生のパスワードをDBに保存することになりそう\n\t\t違和感の問題ではなく、現実的なリスクがあると感じる [tottokotkd.icon]\n\t\t「DBに生のパスワード」は設計パターンとしては絶対に避けるべきやつ\n\t\t\t後述する「特殊なユーザーを一人だけ作り、そのパスワードを環境変数に書く」パターンの方がまだ扱いやすそう\n\t\t\t普通やらないことは極力やりたくない（世間にバレたとき無限に困る）\n\t\t万一リセットすべき場合が生じると非常に面倒そう\n\t\t\tリセットすべきCastle支配下のAuth0ユーザーがめちゃくちゃ多いので、手作業は困難\n\t\t\t\t非常時に「まずはツールを書くところから… 」とか「ループを回して2時間待機」とかなったら地獄\n\n[*** ごく少数のシステム用ユーザーを事前生成するパターン]\n\t例えば「デプロイ前に手作業でIDとパスワードをAuth0に登録しておく」という場合\n\t\tCastleシステム全体で、この事前作成済みユーザーID/Passwordを使い、そのユーザーのCUのフリをする\n\t準備そのものは簡単、実装も単純\n\t自動生成パターンに比べてユーザー数が少ない分、管理しやすい\n\t\tID/Passwordは環境変数に置いておくことができる（DBに含まれない）\n\t\tリセットも簡単（最悪、手作業エイヤでなんとかなる）\n\t\tユーザー数、ログイン回数共に削減でき、ランニングコストも減少する可能性\n\t1ユーザーが数千、数万のロックをKingシステム上で支配することになる\n\t\t既存King APIシステムの想定と全く異なるので違和感\n\t\tレコード数が極端に多い場合、既存の取得系APIをそのまま叩けない可能性がある\n\t\t\t所持ロック一覧などは、そもそも叩けないか、パフォーマンス改善やページング実装を要するかも\n\t\t\t（ただしロック一覧に関しては、そもそもCastleの要件として叩く必要がないと思われる）\n\n[*** M2Mアプリケーション自身がCUとして振る舞うパターン]\n\tアプリケーションを登録し、そのクライアントID / secretによりJWTを取得し、それをそのままKing APIに投げる\n\t\tユーザーではなくアプリケーションだが、実はCUとして振る舞うことができる… ように見える\n\t\tPOSTリクエストのみでユーザー用JWTが取れると分かったので、このパターンをやる必要は無くなった\n\t\tやらないが、多分動きそうなので、一応メモ [tottokotkd.icon]\n\n\n[*** Auth0 挙動調査]\n\tリクツはさておき動くのかという話\n\n[* ユーザー新規登録]\n\t<AUTHENTICATION API> Signup\n\t\tドキュメント https://auth0.com/docs/api/authentication##signup\n\t\t特に問題なく動作 https://gist.github.com/tottokotkd-q/81fdae4066c25de06f3dee5c20f78dcd\n\n[* トークン取得まわり]\n\tリダイレクトを介する形式はいずれもダメ。POST一発でトークンが取れる必要あり\n\t以下、ドキュメントに存在する仕組みの確認\n 1. <AUTHENTICATION API> Get Token / Resource Owner Password\n\t\t\tドキュメント https://auth0.com/docs/api/authentication##resource-owner-password\n\t\t\tJWT取得可能 [+1.icon*2] https://gist.github.com/tottokotkd-q/f4f962df57373e0963b3f00b6a5cd9bd  \n\t\t\tただし、単純にSignup APIで作ったユーザー情報ではダメ（前述したメール認証問題があるため）\n\t\t\t[* tokenは取れるが、Castle独自の有効期間を指定できない]\n\t\t\t\tAuth0の仕様として、API単位でexpire期間が決まる\n\t\t\t\tCU向けの既存設定値が24時間なら、それに従う\n\t\t\t\tcastleのJWTが漏洩した場合のリスクを考えると短くした方がいい\n\t\t\t\tCUにも影響するので保留\n\t2. <LEGACY> / Login / Database/AD/LDAP (Active)\n\t\t\tドキュメント https://auth0.com/docs/api/authentication##database-ad-ldap-active-\n\t\t\tちょっと試してみたが動かせず\n\n[* King API Staging検証]\n\t1/11実施予定 [tottokotkd.icon]\n\t\tユーザー登録、 `/me` `/hash` 実行成功\n\t\tロック周りは触れていないが、認証は通過できそうなのでCUと変わりなし（と思う）\n\n\n\n# ymtk\ncreated_at:Mon Jan 19 1970 06:04:36 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:50:57 GMT+0900 (日本標準時)\nymtk\n[https://gyazo.com/6ef10460e963c80d639176b8274d641f]\n\n\n\n1981年生まれ\n\n1981年（昭和56年）生まれの著名人・芸能人まとめ\nhttps://matome.naver.jp/odai/2147614877950850301\n\n\n##member\n# BLE Service, Characteristicどう割り振るか\ncreated_at:Mon Jan 19 1970 06:40:54 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:49:34 GMT+0900 (日本標準時)\nBLE Service, Characteristicどう割り振るか\n 意味ごとにService/Characteristicを配置する派\n \tPro: BLEの思想に則っている\n \tCon: iOSはService/Characteristicをキャッシュするので、Serviceの変更があった場合はファームウェアからnotifyしなければならない\n \t\tiOS BLECoreBluetooth プログラミング p395あたり\n \t \t> iOSではGATTの内容をキャッシュするため、開発途中でペリフェラル側でCATTを変更し た場合、そのまま再接続しても、その変更は反映されません(ペリフェラルが提供するサービ スやキャラクタリスティックが以前のまま)。(中略) そこで、GMTサービスの変更をセントラルに知らせるためのサービス「ServiceChanged」を利用する方法があります。\n \t Androidでもキャッシュするかも https://www.silabs.com/community/wireless/bluetooth/forum.topic.html/overcoming_clientca-vRZw\n \t \tprivateメソッド叩けばrefreshするらしい\n \tCon: 書き込みと結果の受け取りを別Characteristicsで受け取る場合、Characteristicの数が膨大になる恐れ\n \t\t別にJJ書き込みと結果を別Characteristicsにしなくてもよいかもしれない\n \t\tServiceに設定できるCharacteristicsの上限もありそう(竹内さん談)\n \t\t\t仕様ではなく昔のAndroidのバグのようです\n \t\t\thttps://stackoverflow.com/questions/24531334/is-there-any-limit-on-characteristics-uuid-in-android-ble\n \tCon: ファームウェアのコード量も増える？？(Akerun本間さん談)\n \t\tBLEにのっけるプロトコルにもよると思いますが、律儀にやるなら「ServiceUUIDでドメインを区切って、その下に関連する情報をCharacteristicUUIDとして定義していく」方法になります\n \t\tただしうまく情報を整理しないと、たとえばドメインにこだわりすぎて同じ情報が複数のCharacteristicUUIDで定義されてしまったりなど、キレイに設計できない可能性もあります。\n 一つのCharacteristicにCommandId振る派\n \tQrio/Akerunはこっち\n \tLEGOもこっちっぽい https://lego.github.io/lego-ble-wireless-protocol-docs/index.html##message-typ\n\n[** 参考資料]\n[* iOS BLECoreBluetooth プログラミング p469あたり]\n注: pdfからのコピペなので表記が一部おかしいです [tsato.icon]\n\n> 堤:いろいろ案件をやっているとGATTの組み方もいろいろあるなと思っていて、そのあたりも聞いてみたいです。根強い勢力としてあるのが、キャラクタリステイックを細かく分けずに、Write用、Read用のキャラクタリステイツクを各1個ずつだけ用意して、バイトごとに役割を決めて、バイトの先頭がこうだったときはこの機能になりますというようにまとめるパターン。向こう側で別のファームが動いているようなときに、BLEモジュールのファームで複雑なことやるんじやなくトンネルでスルーさせたいと。そこで一度に全部渡して自分のファーム側でやりたいというパターンです。あとは普通に、BLE規格の思想に沿った、役割ごとにサービス、キャラクタリステイックと分けていくパターン。僕が経験した中ではその2つのパターンがあるんですが。\n\n> 松村:それはシリアル通信でトンネルするかという話ですよね。僕のいまのイメージだと、外に何かシステムが動いていて、そのシステムがBLEというトンネルを使うというパターンのときにそれをするというイメージがあります。そのときに、BLEの規格にあった通信の仕方をしているかというのはすごく気にする必要があるかなと思います。通信の頻度、それほど取らなくていいのか、そこは考えないといけないと思います。コマンドとか非同期で済むようなものであれば、別にいいと思うのですが。たとえば、関節角度の制御をしたいというようなデータのパケットを送るというのはけつこう筋違いで、それをやるくらいなら、クラシックBluetoothやWi-Fiでいいという話になる。そこのアプリケーションをどう考えているかというのを見ないとけつこう危ない。トンネルしたいというパターンは相手側がそれを考えてくれていないことが多いので、けつこう怖い。システムを設計する側の人がBLEをツールとして使うという感覚を持っていないと。ハードウェア的に見栄えとしてのBLEというのも1つあるかなと思っています。シリアルでトンネルするから悪いとは思わないけれど、そういうデバイスを使う場合はBLEの思想にそわないケースのほうが多々あります。割り切って使うのなら仕方ないかなと思いますが、微妙ですね。一番いいのは、GATTの枠組みの中でちゃんと組むことが賢いかなという気はしますが。\n\n[* 上原氏]\nhttps://twitter.com/search?f=tweets&q=from%3Au_akihiro%20BLE%20SPP&src=typd\nhttps://twitter.com/search?f=tweets&q=from%3Au_akihiro%20BLE%20シリアル&src=typd\n\nSPP ... シリアル通信向けのBluetooth Classicのプロファイルのこと\nなんかシリアル(=QrioLock的な通信かは不明だけど)の通信をディスってるように見えます\nhttps://twitter.com/u_akihiro/status/880934216321466369\nhttps://twitter.com/u_akihiro/status/843630061634826241\n\nまぁ上原さんに直接聞かないとなんともと言う感はある[tsato.icon]\n\n# デバイスとサーバーの情報をアプリでいかに同期するか\ncreated_at:Mon Jan 19 1970 06:41:11 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:46:34 GMT+0900 (日本標準時)\nデバイスとサーバーの情報をアプリでいかに同期するか\n草稿です\n##DroidKaigi #BLE\n[*** IoTのアーキテクチャパターン]\n勝手に名前つけました\n\n[** 1: ダイレクトウェブパターン]\n[https://gyazo.com/5285a71a7563c2199500c6ef328b5b93]\n\n どんなパターン？\n  デバイスがWiFi積んでたりして直接インターネットにアクセスするパターン。QrioLockでは採用してない。\n メリット\n  後述するパターンよりデバイスが少ない分、アーキテクチャ構成がシンプル\n  \tハードウェア視点で言うと複雑性が減るので故障の確率が減るとか（テレビデオよりテレビとビデオの方が、みたいな話。片方が壊れると死ぬ）[ymtk.icon]\n デメリット (TODO: 具体的な数字が欲しい)\n  電池の消費が激しい\n  \tTink(tsumug）だとLTEで１ヶ月くらい。二次電池を利用。[ymtk.icon]\n  \t\t興味深いすね。１ヶ月で不満出ないのか気になる。確かにここにも書いてあります https://k-tai.watch.impress.co.jp/docs/news/1090723.html [tsato.icon]\n  電池駆動のデバイスには不向き\n  \t暗黙の前提として「無線ゲートウェイなら設置位置が自由なので、コンセントから無限に電源を取れる」「製品の特性上、電池を積んでないと実用に耐えない場合がある」など電源配線の問題があると思うので、そこまで図に含めもいいかも？ [tottokotkd.icon]\n  コストが高い\n  \tWiFi/LTEのモジュールとか積むと金がかかるらしい \n\n[** 2: ゲートウェイパターン]\n[https://gyazo.com/6a2cce2d31617e664f3ae5d5ec607149]\n どんなパターン？\n  デバイスがゲートウェイ経由でインターネットとやりとりするパターン。\n  \tQrioLockではQrioHubを購入することで利用できる\n  \t\tデバイス : ゲートウェイ = 1 : 1の場合とn : 1の場合で事情は違ってくる。QrioLockは前者で、ただいまキットは後者\n メリット\n  ウェアラブルのような移動するデバイスでない限り、いつもデバイスのそばにある \n  \t「ちゃんとユーザーが “デバイスのそば” に設置してくれるか」みたいなCS問題は結局ありそう [tottokotkd.icon]\n  \tそばにあっても、環境の問題などにより検出精度の問題はつきまとう\n デメリット\n  ゲートウェイを買う必要が出てくる\n  \t顧客的にはコンセント問題も[ymtk.icon]\n  サービスの見せ方がゲートウェイのデバイス検出精度に依存すればするほど、動作の正確性を担保するのが困難になりがち\n  \t不在検知は難しいよ\n  \t\tたとえば「デバイスを検出した -> 存在する、同デバイスを一定時間検出できなかった -> 存在しない」など\n  \t\t\t通信エラーと存在しないの区別が、Webサーバー側でつかない\n\t  \t結局どこかで線を引く必要はあるが、調整にはかなり工数をとられる\n\n[** 3: モバイルゲートウェイパターン]\n[https://gyazo.com/f773af99ab6f930f348a3ac9eeac5211]\n どんなパターン？\n  スマホをゲートウェイとして、デバイスがインターネットとやりとりする\n  \tQrioLockでは、QrioLockを操作するスマホアプリが該当する\n メリット\n  ユーザが他のゲートウェイを用意しなくて済む -> おトク\n  ウェアラブルは向いている。ゲートウェイパターンのメリット(いつもデバイスの側にある)が適用されないため。\n デメリット\n  モバイル端末が必ずデバイスのそばにあるとは限らない\n  \t2番とは逆に、ユーザーとの想定距離が大体特定できそうな気もする\n  端末依存の問題に遭遇する可能性がある\n  スマホがデバイスを常にスキャンするモデルの場合、バッテリー消費の問題がある\n  \tQrioLockのハンズフリーではスキャンすべき範囲がロックの周辺だけですむため、位置情報を利用して特定の圏内のみスキャンさせるという解決方法をとることができる\n  \t常にスキャン状態にする必要があるとつらい。\n  \t\t要件が出た時点でリスクを伝えた方が良い。以下のような回避方法はある\n  \t\t\tユーザーが接続した時だけデータ取得するとか\n\t  \t\t時間を空ける定期実行で済むようにするとか\n  \tいずれにせよ通信精度とのトレードオフになる\n  [* エラーハンドリングで考えることが多い]\n   サーバー通信で失敗した時に、リトライしようにもデバイスには繋がってない可能性(デバイスのロールバックもできない可能性がある)\n    例えばデバイスのオートロック設定を変更して、それをサーバーに伝える場合(サーバーで持つ理由は、リモートでもロックの設定を見れるようにするため)\n    ユーザーがモバイルの制御できるため、いろんな状態になる\n     例えば(機内モードとかで)ネットに繋がらない時\n     例えばBluetoothオフにしてたら\n\n[*** モバイルゲートウェイパターンのエラーハンドリング]\n[** 結果整合性]\n時間が経過したら結果的に整合性が取れている状態のこと\n 複数サービスを跨いだトランザクションではRDBMSのような強い整合性は(たぶん)ムリ！\n\n[* 前提: WebAPIは、同じ情報を何回送っても良い状態(=冪等)にしておいた方がよい]\n[* 理由] \n 複数回送った場合に問題が起きて欲しくないから。\n \t例1: リクエストは成功していたがレスポンスが取得できなかったので、同じリクエストを再送した場合\n \t例2: あるアカウントがリトライしている間に、別のアカウントが同じ情報のリクエストを成功させた場合\n\n例: ログを追加する PUT /lock/log \n 悪い例\n  同じログを何回も送った場合、何回も保存してしまう。\n 良い例\n  ログはIDを持たせる。サーバーはログのIDを見て、すでに保存している値だったら 409 Conflict を返す\n  \thttps://stackoverflow.com/questions/3825990/http-response-code-for-post-when-resource-already-exists\n  \tPUTなら200でもいい？\n  \t\t例えば初回が504で失敗、2回目が409で失敗だと、クライアント側で処理するときなんとなくモヤモヤ [tottokotkd.icon]\n  \t\t409 Conflict を返すときは「どうやったらマージして解消できるか」という指示をセットにすべき認識\n  \tPOSTの場合「303返すかも」と仕様に書いてあるので、それに従うこともありそう \n\t  \thttps://tools.ietf.org/html/rfc7231 p.25\n\t  \tクライアント側の挙動が確信できない (外部開放するとか) なら204返すかも。無限リトライとかされたら逆に困る\n\n[* 本題: 結果整合性の実現方法]\n 次にデバイスと接続したときに情報をとってサーバーにあげる\n \tQrioLockの場合、解施錠の結果にデバイスの情報が入っているので、それをサーバーにあげる\n \t\t解施錠の結果に入っている理由: 解施錠命令を最優先で実行したいため、デバイスはなるべく待ち状態にしておきたい。待ち状態にするために、情報を取得する命令をあまり実行したくないため。\n \t\t他のケースでも都度情報をサーバーにあげるようにしている\n \t【課題】結果整合性をとるのにかなりの時間を要するケースもある\n \t\t例）エッジにログがたまりすぎており、久しぶりにエッジと通信したらサーバーにあげるのに時間がかかった\n \t\t\t実際に市場で文句をいわれる\n \t\t\tそもそも過去３日分のログだけで十分だったりしないか？とか考えるべきだったかも\n \t整合性を取ろうとしているその情報は、本当に常に整合性を取る必要があるのか？\n JobSchedulerを使い、バックグラウンドでリトライする\n \tQrioLockでは未採用(過去に一度採用したがトラブルが起きてしまった...)\n  デメリット: 実装コスト高い\n   どの条件でリトライさせるか判断が難しい\n    下手するとすごい回数リトライしてスマホの電池を消費してしまったりする\n    エクスポネンシャルバックオフアルゴリズムを使用する\n   iOSでSDKレベルでサポートされてない\n   \tバックグラウンドで動かすためにはパーミッションが必要(必要ないかも?)\n   \t\tパーミッションはBluetooth/位置情報/音楽再生のどれかが必要\n   \t\t\tQrioLockはBluetooth使っているからできる\n   \t\t自前で実装するの大変だし、それ用のライブラリとか利用する必要がありそう\n   \t\t\thttps://github.com/icanzilb/TaskQueue\n\n[* 補題: リトライ中の状態を表現するべき？？]\n[https://gyazo.com/e52d40248542f194385571747d81d857]\nLINEのメッセージ失敗の時のような \n この場合はローカルキャッシュとサーバーの不整合の問題になる。\n \tデバイスとサーバーの不整合とほぼ同じ問題だが、デバイスの場合はアクセスできない可能性があるとこが違う。\n なんのために間の状態を表現する？？\n \tまだ送れてないことを伝えるため。\n \t必要か？\n \t\tメッセージングアプリのように、相手に伝えるのが目的のユースケースなら必要\n \t\tQrioLockの設定の場合はそこまで必要ないと判断\n\n[* 間の状態を表現する場合]\nLINEのメッセージみたいなイメージで、リトライできるようにする (メッセージの横にリトライボタンがあるイメージ)\n 時刻を持っておく (他の人が更新したときに、より古い情報で更新してしまう問題を防ぐため)\n 大変そうなのでやってない\n\n[** 他の三身一体な処理について (TODO)]\n[* 例えば？]\nロック登録/ロック登録解除\n\n[* どうする？]\n1. 中途半端に完了した状態になってもやばくないようにする\n 例: ロック登録/ロック登録解除\n  ロック登録解除はWebAPIを先に叩くことで間の状態をやばくなくしている\n \t\tデバイスを先に叩いた場合 かつ デバイスの初期化は成功してWebAPIのマスターキー削除に失敗した場合\n \t\t\tデバイスは利用できないが、APIからは使えると言う情報が返って来るようになってしまう\n \t\tWebAPIを先に叩いた場合 かつ WebAPIのマスターキー削除に成功してデバイスの初期化に失敗した場合\n \t\t\tオフラインなアプリからロックを利用できてしまったり、ロックのログが残ったりする。-> こっちの方がマシ\n2. なるべくリトライできるようにする (-> 冪等性みたいなもんだがちょっと違うかも。対応する言葉があれば知りたい)\n 例: ロック登録は途中で失敗してもリトライできる\n3. リトライできない場合、あらかじめデバイスに接続できるか確認して注告メッセージを出す (他のケースでも使えるが..)\n ロック登録解除がAPIは成功してデバイスの初期化に失敗した場合はリトライできない\n  例: ロック登録解除\n\n[*** 参考文献]\n IoTのアーキテクチャパターン\nhttps://www.hulft.com/special-column/iot-architecture_01/iot-architecture_03\n\n> Using Mobile - ウェアラブルに最適\n> コンシューマ向けのサービスに多いのが、この「Using Mobile」パターンです。\n> 前回ご紹介した「Using Gateway」パターンに近いですが、IoT Gatewayの代わりにスマートフォンなどのモバイル端末を利用します。\n\n 冪等\nhttps://www.infoq.com/jp/news/2014/05/idempotent\nhttp://blog.ruedap.com/2011/03/25/http-method-post-put-idempotence\nhttps://blog.kymmt.com/entry/post-vs-put\nhttps://www.amazon.co.jp/exec/obidos/ASIN/4873116864/hatena-blog-22/\nhttp://frsyuki.hatenablog.com/entry/2014/06/09/164559\n> 例えば、新しいアイテムを作る処理は、ID=xyzで識別される新しいアイテムを作成する という処理に変更できないだろうか？ これなら、同じ要求を何回繰り返しても同じアイテムが2つ作成されてしまうことは無い。\n\n書籍 Webを支える技術\n冪等の説明と例がある\n\nバックグラウンドでのリトライについて\nhttps://tech.mercari.com/entry/2018/12/23/150000\n> 隣のサービスの障害は、復旧に時間を要するものである可能性もありますが、 一時的なネットワーク遅延によるタイムアウトや、負荷が高くて処理できない場合などは、少し時間をおいてリトライすることで正常に処理を完了できることもあります。\n> \n> このような場合には単純なリトライに加えて、エクスポネンシャルバックオフアルゴリズムを使用することで、効果的にフロー制御が行えます。\n> \n> エクスポネンシャルバックオフは、リトライ間の待機時間を指数関数的に長くしていくアルゴリズムです。\n> (AWS SDKはエクスポネンシャルバックオフを実装しています。)\n> \n> もしクライアント側のリトライに処理にエクスポネンシャルバックオフを実装していない場合、全てのリクエストは一定間隔で送られることになります。\n> サーバーから見ると断続的に集中的なリクエストを捌かなくてはならなくなり、あまり効率が良いとは言えません。\n# Sirius定例 2019/1/11\ncreated_at:Mon Jan 19 1970 06:46:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:46:27 GMT+0900 (日本標準時)\nSirius定例 2019/1/11\n[https://gyazo.com/69bb2815d0a5ecfbe77ae1c4c2d0e2e3]\nSlack: https://qrioinc.slack.com/archives/CE92MUPDY/p1547168428000100\nSlackからコピペしました\n\nasana使ってる\nhttps://app.asana.com/0/967832952993515/list\n技術的なスケジュール詰めてく\n\n[ymtk.icon]\n- v mock着手\n- o storybook切り出し\nかぎかん１を継承しつつsiriusを作っていく\nフロントがymtkさん一人なのでリソース的にやばい。外から人引っ張ってくるかも\nNFCはまだ明確になっていない。機器の選定に関して、折を見てQBOに聞いてみます。\n\nnishikawa\n-vo\n スケジュール作成\n 開発環境構築\n\n[narico.icon]\n- v タスクリストざっくり作成\n- v スケジュール感ざっくり作成\n- o タスクリスト落とし込み\n- o スケジュール落とし込み\n- https://docs.google.com/spreadsheets/d/10B5qbOoDkcsl-ToS7Y6p9hPUAxD1pruVaZXXHb_nvCo/edit##gid=0\n\n[fukazawa.icon]\n-vo Nothing\n\n[tsato.icon]\n-vo 特になし\nDroidKaigi終わったあたりから着手していきます\n\nQ.スケジュール、いつ頃目標？\nA.\n４月カギカン１の仕組みで一通り動かせる\n６月に出せるといいな\n営業/マーケは調整中\n\nQ.１ではガラケーのためにWebから開けれるようにした？ [fukazawa.icon]\nA. ガラケーのためではない。ガラケーユーザーは少ない。カギカン１の仕様都合\nアプリだとリモートだと開けれないみたいな制御ができる [ymtk.icon]\n\nカギカン２では１と違って\nWebで開けないで、ロックのアプリで開けることになりそう\n# macOSキーバインド\ncreated_at:Mon Jan 19 1970 06:20:30 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:46:21 GMT+0900 (日本標準時)\nmacOSキーバインド\n[*** テキスト編集時]\n　Emacsっぽいキーバインドが使える https://yu8mada.com/2018/02/06/emacs-like-shortcuts-available-on-mac-are-convenient/\n\n左右に移動\n\t左　Ctrl-a --- Ctrl-b ← 🤔 → Ctrl-f --- Ctrl-e　右\n\tまだ覚えられる\n\n上下に移動\n\t上　Cmd-↑ --- Ctrl-p ← 🤔 → Ctrl-n --- Cmd-↓　下\n\tここまでは何とかなる\n\n編集系\n\t[***** 🤔]\n\t\tなにもわからない [tottokotkd.icon]\n\t左1文字を削除　ctrl-h\n\t右1文字を削除　ctrl-d\n\t前の単語の先頭まで削除　opt-del\n\t次の単語の末尾まで削除　fn-opt-el\n\t行頭まで削除　cmd-del\n\t行末まで削除　ctrl-k\t\n\t次の行に改行を挿入　ctrl-o\n\t前後の文字の入れ替え　ctrl-t\n Ctlr-kで削除したテキストの貼り付け　ctrl-y\n\n\n# takeuchi\ncreated_at:Mon Jan 19 1970 06:46:18 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:46:18 GMT+0900 (日本標準時)\ntakeuchi\n[https://gyazo.com/1f1890d403269abbd67e1d98efbc54fa]\n\n\nthis is takeuchi’s page\n\n##member\n# Google Home系エラー 1/9分をちょっと見てみた\ncreated_at:Mon Jan 19 1970 06:46:08 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:46:12 GMT+0900 (日本標準時)\nGoogle Home系エラー 1/9分をちょっと見てみた\n[** 認識しているエラー]\n　1. タイムアウト(hub_respondedがtrueのレスポンスが来ない)\n　2. hub_respondedがtrueなのにmain_lockがないケース\n　3. King-APIから500が返ってくるケース\n\n[*** 19:19(JST)]\nロックに時間がかかりすぎていた→1\n\n[https://gyazo.com/99c8f4b54774eeff46f140177b9226a3]\n[https://gyazo.com/ce5e531b2c1980b22081e7e3b8b43ce8]\n\n[*** 18:55(JST)]\nロックに時間がかかりすぎていた→1\n\n[https://gyazo.com/2d5f589dfa6439e2f3a46553a9a7bad0]\n\n[https://gyazo.com/950edb0b8fbc2a40307edb4260d6377d]\n\n[*** 18:41(JST)]\nロックに時間がかかりすぎていた→1\n\n[https://gyazo.com/82eee2c08e41e3b3515a8023d8452d5f]\n\n[https://gyazo.com/03eaecf2f5c66d87a923bb31407fc484]\n\n\n3件ほど見てみましたが、どれも既知のタイムアウトエラーでしたー\n\n[** 余談]\n[https://gyazo.com/e527c22429852850f63690fe3cf3f48d]\nという通知メールを見て、ちょっとログを確認してましたが、\nUTCベースで16件ほどエラーのログが出ているように見え、16/75=約0.21 でだいたいご指摘のとおりだと思いました。\n\n# BluetoothClassicとBLEの違い\ncreated_at:Mon Jan 19 1970 06:26:48 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:29:06 GMT+0900 (日本標準時)\nBluetoothClassicとBLEの違い\n\n上原 昭宏; 山路 達也. アップル、グーグルが神になる日～ハードウェアはなぜゴミなのか？  より\n\n\tクラシック・ブルートゥースの消費電力が１ミリワット（ｍＷ）程度なのに対し、ＢＬＥは０・１ミリワット程度と大幅に少なく\n\t無線通信機器は電波を発するときに一番電力を消費するわけですが、ＢＬＥは電波の発信に一工夫なされています。ＢＬＥ機器同士が接続されたら、電波をどういうタイミングで出すかをまず取り決め、無駄な発信は一切行わないようにして、電力を極限まで切り詰めるのです。ＢＬＥはごく少量のデータを低頻度で送受信する使い方を想定していますから、こういう割り切った仕様になっています。\n\tＢＬＥでは、クラシック・ブルートゥースとは異なり、機器の機能を細かく定義しません。\n\t\tデバイス毎に好き勝手に定義して良いのであれば、規格として意味がないのでは？\n\t\t\t例えばマウスやキーボードといったPCの周辺機器との通信プロトコルは(クラシックブルートゥースなので)統一されたプロファイル(?)で利用できる\n\t\t\tスマホやウェブアプリが賢く制御するようにする\n 機器同士の通信やバッテリー状態など、基本的な機能については「サービス」として定義されていますが、個々の機器が備えているさまざまな機能は「キャラクタリスティック」と呼ばれ、開発者が自由に定義することができるようになっています。\n ＢＬＥは、機器自体の備えている「機能」と、アプリによる「振る舞い」を完全に分離したともいえます。\n いずれにせよ、ビーコンを実用的に使うには、たんにＢＬＥの送信機を用意するだけではダメで、ＯＳがバッテリーも含めた高度な制御を行うことが欠かせません。\n 物理層から異なる技術 https://www.slideshare.net/reinforcelab/20160320-ble42-makerlab-nagoya\n ハードウェア/技術単体では価値はない\n \tデバイス/アプリ/クラウド 三位一体の「体験」が必要とされている\n \t\tApple, Goole が例 iBeacon/iPhone/iCloud とか\n \t\t従来の製造業の考え方では通用しない(より良いスペックの家電を提供するみたいな)\n \tハードはコピーできる。クラウドはコピーできない\n\n# IoTにおけるBLEの役割\ncreated_at:Mon Jan 19 1970 06:26:42 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:28:57 GMT+0900 (日本標準時)\nIoTにおけるBLEの役割\n##BLE #DroidKaigi\n\nスマホとデバイス間で使える通信プロトコル\nBLEがどういう位置付けなのか説明する\n参考https://info.shimamura.co.jp/digital/knowledge/2015/10/69258\n\n上に行くほど高bps、通信距離が長い、高消費電力(?)\n\n Wi-Fi\n \t代表的なユースケース: 普通のインターネット通信、ドローンとの通信(?)\n \t理論値 数百Mbps ~ 数Gbps\n \t\thttps://ja.wikipedia.org/wiki/IEEE_802.11 \n \t\t通信速度が速いため、他プロトコルに比べて動画のストリーミングとかが向いている？\n \t通信距離 10~数十m程度\n Bluetooth Classic\n \t代表的なユースケース: Bluetoothイヤホン、スピーカー、キーボード、マウス\n \t\t専用のプロファイルがあるため、機器を変えてもOSは同じように制御できる Human Interface Device Profile\n \t理論値 24Mbps (Bluetooth HS+)\n \t\thttps://ja.wikipedia.org/wiki/Bluetooth##cite_note-15\n \t通信距離 10m程度\n Bluetooth Low Energy(BLE)\n \t代表的なユースケース: センサー等の制御(?)たまに接続する系のデバイス。\n \t\tBluetooth Classicと比べてそんなに接続しないやつ。音声データ等データ通信量の多くないものが向いている。\n \t\tヘルスケア的なの\n \t\tTODO: AppleWatchは？？\n \t[BluetoothClassicとBLEの違い] 参照\n\t\t理論値 1Mbps / 実際 10Kbps 程度\n \t通信距離 10m程度\n \t実際どのくらい省電力なのか？？\n \t用例: http://d.hatena.ne.jp/shu223/20140930/1412042028\n \tiOS先行なイメージ\n \t\tBeaconはiOSはOSで細かい制御をしてそうだけどどうなんだろう。\n NFC\n \t代表的なユースケース: スマホ決済\n \t数百kbps?\n \t通信距離0~数cm\n \tかざされたものが通信相手なので、Wi-Fi/Bluetoothのように通信相手を選ぶ必要がない\n\n\n# BCUアカウント\ncreated_at:Mon Jan 19 1970 06:16:21 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:23:20 GMT+0900 (日本標準時)\nBCUアカウント\n[*** 具体的な作業対象の割当ワークフロー] 4日\n\t設置業者に渡すためのアプリアカウントを新規作成する\n\t\t業者名「なんとか水道工事」\n\t\t有効期間「何日から何日まで」\n\t建物を管理する番号で、建物を探す\n\t建物の詳細画面で「設置作業を割り当てる」モードにする\n\t部屋番号をがんばってクリック、選択する\n\tアカウントを選択するselect\n\t「登録」ボタンを押す\n\tQRコードが印刷できる画面 => BUCアカウント詳細\n\n[* 「割当」すると何が起こるか]\n\tアプリでログインできる\n\t(再) 設置できる\n\n[* BCUアカウントの一覧みたいなページ] 10日\n\tアカウントのリスト　3日\n\tアカウントの詳細　3日\n\tQRコード印刷ボタン　2日\n\tアカウント名、有効期間\n\t紐付けた物件名\n\t削除だけ　2日\n\n# komai\ncreated_at:Mon Jan 19 1970 06:16:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:22:15 GMT+0900 (日本標準時)\nkomai\n[https://gyazo.com/93fa592b438083ecc5ea9ebc845b7289]\n\n\nthis is komai’s page\n\t[1988年]\n##member\n# BCU API\ncreated_at:Mon Jan 19 1970 06:21:42 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:22:09 GMT+0900 (日本標準時)\nBCU API\n必要そうなWebApi一覧\n\nユーザー\n\tログイン\n\n部屋\n\t部屋一覧\n\t部屋詳細\n\t\t/room/{room_id}\n\t\t/room?lock_id=XXXX\n\nロック\n\tイニシャライズキーの取得\n\t\t/lock/initialize_key?\n\tロック登録\n\tロックの情報更新 (操作時のブザー音、オートロック)\n\n故障時のため\n\tロック初期化\n\nハブ\n\tハブの登録\n\tFWアップデートのチェック(SL1)\n\tFWアップデート (SL1)\n\tFWアップデート (SL2)\n# Castle 週定例 2018/12/25\ncreated_at:Mon Jan 19 1970 06:21:41 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:21:59 GMT+0900 (日本標準時)\nCastle 週定例 2018/12/25\n[Castle] \nメリー・クリスマス！\n[https://gyazo.com/4af9d1d16a31a507d1f3be886f8440ce]\n\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\n[tsato.icon]\n v: 部屋一覧、機器設定画面\n o: APIの仕様をGitHub issueかswaggerかにあらためて整理する\n \t最初に決めたやつはありますが、その後そのまま放置になっているので必要そうです[tottokotkd.icon]\n \tHubのAPIもあるので。。QSL1はFWアップデートが完了したかを１秒ごとに確認しなければならないという仕様になってるのが、Castle -> KingAPI間で何か問題にならないかちょっと気になってます。[tsato.icon]\n \tQ-SL2のapiドキュメントは結局Postmanでいいね with mikamixって話でした[ymtk.icon]\n \t\tなるほど。SwaggerではなくPostman検討します[tsato.icon]\n \t\tこういうの。設定ファイルをWebで見ると各言語向けに変換される。ローカルではご存じの通り叩ける[ymtk.icon]\n \t\t\t[https://gyazo.com/0530bc697d0799276e6690001c534b4c]\n\n o: １ドア２ロックの設定\n !: BCUログイン周り、まゆしーさんに依頼\n \tQRコードログインでサーバー的に問題ないですよね？ > [tottokotkd.icon]\n \t\tQR経由のURLでID / Password渡すような形式であればOKです\n \t\t例えば `https://hoge.com?id=aaa&password=bbb` みたいな\n \t\t叩くとJWTトークン落ちてくる (?)\n \t\t近いうちにでもURLの形式決めておきたいですね\n \t\t\tPOST https://castle-api/login?token=XXXX\n \t\tQR経由でJSON渡す？みたいなのがあればそれでも可能\n \t\tpaypayのQRコード盛り上がってるの見た。金額難読化してないとか→途中で難読化することにしたらしい[ymtk.icon]\n !: スケジュール確認\n \tweb側: API絡みの作業を概ね含めて、現状では80人日 + 闇1つという [Castle見積もり] [tottokotkd.icon]\n \t\t成田 + 徳田 で3月頭… とか\n\n[ymtk.icon]\n\tv：見積もり、ドメインの構成（ing）\n\t\tこんなの↓（まだ決まってないです）\n\t\t\t[https://gyazo.com/830278d8ae16560d4ae91b3c7edea2c6]\n\n\to：マニュアルの構成、アカウント発行時の情報共有フロー\n\t!：CS周りの組み立て悩んでます（castle利用者かどうかの判断方法、管理会社からの問い合わせ）。そろそろ中野さんにアサイン相談\n\t\t電話が来たけど、Castle利用者か？Castle対象の入居者か？みたいな確認フロー\n\t\t\ttoCはメアドから判定するためにこんなの作った。(for CS)[ymtk.icon]\n\t\t\t[https://gyazo.com/206b83fccea99a9a088dee5ba761f159]\n\n\t\t\n\n[htwrocl.icon]\n\tv：KingからCastleへのログ通知\n\t\tvとoで同じ所を見るにきっと記載する粒感として大きいので、分割できていると周りも進捗見えて良いかもです[ymtk.icon]\n\t　　すみません。承知いたしました[htwrocl.icon]\n\t 　ロックに関する通知\n\t 　ハブに関する通知\n\t 　King-API自体のエラーに関連する通知(←あまりよくわからなかったので、検討中)\n\t 　S3へ出力するときにKinesisを使うかを検討中\n\t 　S3からの検知にトリガーを使うか、SQSを使うかなどを検討中\n\tv：Private API\n\to：KingからCastleへのログ通知\n\to：Private API\n\t!：特になし\n\n[tottokotkd.icon]\n\tv: web見積もり (ヤバイ)\n\t\t見積もり見て深澤さんと、高橋さんに調整しに行くつもり[tsato.icon]\n\t\t\t「であれば現実的にいつなの？」という話も出てくるので、合わせて。[ymtk.icon]\n\t\t\tデザイン室のリソースは営業・マーケから剥がす議論を始めてます[ymtk.icon]\n\tv: web / api 最初の連携動作まで\n\tv: api 作業分担準備\n\to: 管理番号の検索 -> (部屋ではなく) 建物詳細画面まで動くようにしていく [Castle見積もり] \n\t!: 「入居者CUからリモート解錠許可〜」みたいな話（誰もやってない？）\n\t\t着手前であれば、もう一度「これほんとに欲しい？」確認してみても良さげ[ymtk.icon]\n\t\t\t了解です[tsato.icon]\n\n[h.yamaguchi.icon]\n\tv: Hubの検索\n\tv: Wifi一覧の取得\n\tv: express調査\n\t\tちなみにNode.js ver.10で進めてます？奇数(11)は先行機能取り入れ版なので、プロダクトで使うのは避けた方が良いです[ymtk.icon]\n\t\t11.5.0みたいです[h.yamaguchi.icon]\n\t\tこれ私のタイポです / v10にします [tottokotkd.icon]\n\t\t\tOK。なお偶数は LTS（ろんぐたいむさぽーと）対象で2-3年単位のサポート。奇数は半年くらい[ymtk.icon]\n\to: 必要そうなBCU APIの一覧洗い出し\n\to: 部屋一覧API\n\t!: BCU Apiスケジュールやばそう\n\t\tまだ具体的なフローが決まりきっていないので、まずそこから感あります[tottokotkd.icon]\n\t\t設置業者の期限付きmasterkeyの管理をどうするか\n\n[m.suzuki.icon]\n\tv：BCU画面修正（ポロポロあるね）\n\t\tBCUのログインお願いしたいです！[tsato.icon]\n\t　\t引き受けた！\n\tv：制作物スケジュールの洗い出し\n\tv：設置ガイドの台割り\n\t\t台割に何必要なんだっけ？というのは自分も着手してました[ymtk.icon]\n\t　\tsyncさせてください[m.suzuki.icon]\n\to：Webアプリのマニュアル要素出し\n\t!：ロックアタッチメントとハブのカバー？進捗や取り付け方レクチャー受けたい（みんな受けよう！）\n\t\tロックアタッチメントは外部（SOMCとか）から買うという話も。そうなると取説の責任とかどうなるんだっけ話はありそう。開発費が割に合わない[ymtk.icon]\n\t\t「作ってるらしい」とは聞いていますが確かに[tottokotkd.icon]\n\t!：Webアプリの名前、ROOMO Managerで良いカネ？\n\t\t商標獲得できるんだっけ？あたり進めます[ymtk.icon]\n\t\tCool [tottokotkd.icon]\n\t!：各アプリ画面の仕上がり時期。マニュアル類\n\tにデザイン使用するため\n\t\t操作方法とか入るので、ほぼ全部の画面になる\n\t\t「入力欄の位置」とか「ページ遷移を辿る」という伝達ができる解像度で欲しい \n\t\t2月末くらい… になんとか…？ [tottokotkd.icon][narico.icon]\n\n[narico.icon]\n\tv：概算見積り\n\t\to：Biz側との調整\n\tv：BCUアカウント発行フローの検討\n\t\t建物詳細にBCUアカウントに紐づけるモードみたいなボタン\n\t\t建物詳細の部屋リストから選択する、一括選択などはなし\n\tv：物件検索から部屋詳細までの画面ざっくり\n\t\to：ルーティング入れただけなので詳細詰める\n\to：アラート表示UIのパターン　闇その2\n\t!：リソース解決具体化\n\n\n[*** KPT]\n\t[週末ふりかえり 2018-12-21] の反省から、下記のフォーマットで\n \tよかったこと\n \t\t続けていくこと\n \t課題感\n \t\tやってみること\n\n[* Keep: よかったこと]\n\tweb見積もりが数字になった\n\t 見積もり出ると、リスクマネジメントもできる\n\tサーバー側の分担ができそう\n\tエンジニア・デザイナー側での意思疎通がちゃんとできた\n\tネーミングのブレスト\n\t\tきぃちゃん…[tottokotkd.icon][tsato.icon]\n\tアプリ以外の制作物スケジュール洗い出し\n\t\tアプリ前提になるものが多く「アプリ早めにがんばる」としか言えないが、他にアプローチがないか考えたい[tottokotkd.icon]\n\tサーバー触れる\n\t\tうらやましい[tsato.icon]\n\t開発周辺の業務系（これも結構重い）に着手できはじめた[ymtk.icon]\n\tKing-APIのエラーの種類が少し把握できた[htwrocl.icon]\n\n[* Problem: 課題感]\n\tweb見積もりにまだ闇がある\n\t\tアラート周りは業務知識がないと匙加減わからないため、構成案を出してヒアリングかけてもらう\n そろそろBCUアプリも余裕なくなってきた\n BCUアプリとサーバーとの結合テストがギリギリになりそう\n \tそしてSQAの工数。CIまわりで小さく見ていける状態･･･？\n\t制作物のスケジュールも中々厳しい（開発、営業の連携マスト）[m.suzuki.icon]\n\tcastleに差配するためのデザインリソース確保がまだ解決していない。議論は始まっている[ymtk.icon]\n\tBiz-Dev 認識ズレ。サービスを立ち上げるチームではなく受発注の関係っぽくなっている[ymtk.icon]  [+1.icon]\n\t\t同意[h.yamaguchi.icon][tottokotkd.icon][tsato.icon]\n\t\t自分で書いてみてアレですけど、プロトコルが違うっぽい。営業に技術の話から入る、エンジニアに商談の話から入るとか。ほか、ソニーの企画職は営業だったり。ソフトもハードもありますよね（ハードがさき、ソフトやデザインはあとだ！とか）。お互いがかぶる領域から入らないとコミュニケーションは取りにくいのよねって赤魔道士的なキャリアな自分は思います[ymtk.icon]\n\t全社的な一体感みたいなアレが正直まだそこまででもない\n\t\tWebサービスを運用してきた人がまだまだ少ないので、その辺の感覚値、普通、というところのsyncがこれから。toCのWebサービスだとBiz-Dev という概念はそこまでない。あえて言うなら広告案件はBizかも[ymtk.icon]\n\t\tそもそもプロダクトオーナー誰なんだっけ？みたいな問答をしていて流石にまずい\n\t「なんか詳しく聞いてないけど実はある / あったらしい」という事象が増えてきた\n\tiOSのスケジュールが遅れそう\n\t\t1ヶ月遅れで調整します！[fukazawa.icon]\n\t年を越すといろいろ忘れそう[htwrocl.icon]\n\t\t年末感がすごくてやる気が出ない[tsato.icon]\n\t\t福利厚生としてのケーキを要求[tottokotkd.icon]\n\t\t長期休暇前は自分自身に申し送りメール出しておく手があります\n\t\t\tなるほど！[htwrocl.icon]\n 不動産業界の事よくわからん\n \t特定のクライアント見て作ってる感があるので、他のクライアントが○○言ってきたらそれを作るのか、それ繰り返すとやばいよなみたいな感じ[tsato.icon]\n \tよくわからんリクエストを色々受けてソースコードが崩壊しないか心配\n \t\t[- 断る] 殴り返せる人・部隊を固めていく\n \t消臭スプレー爆発事件、調べると勉強になった[htwrocl.icon]\n \t\t退去時にスプレーまくだけで１万くらい取ってたみたいなやつですかね[tsato.icon]\n \t \tそうです(^^)[htwrocl.icon]  しかも、実際はほぼ使ってなかったらしい\n\n\n\n\n# h.yamaguchi\ncreated_at:Mon Jan 19 1970 06:11:35 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:21:43 GMT+0900 (日本標準時)\nh.yamaguchi\n[https://gyazo.com/633916432e3c1cea7058753f1db76ef8]\n\n\nthis is h.yamaguchi’s page\n\t[1988年]\n\n##member\n# KPT\ncreated_at:Mon Jan 19 1970 06:11:38 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:16:50 GMT+0900 (日本標準時)\nKPT\nなんかアジャイルで回すやつです\n[https://gyazo.com/8cca888d1f12fc9b4fa8b806883be0e7]\n\tKPT完全理解 [tottokotkd.icon][tsato.icon]\n\tKJ法やっとくと良いと思います。アレが曖昧だと意見のとりまとめ方を間違う（少数意見を無視したりとか）[ymtk.icon]\nkeep\n 良いと思うこと[+1.icon]\n\t改善された状況\nproblem\n 心配に感じていること\n\t改善すべきダメなポイント\ntry\n\tproblemに対して、それをどう改善するか\n\t\ttryで出た項目を全部やる必要はない。まずはブレスト的に出しましょう\n\n付箋オススメしてた\n 声が小さい人も参加できる\n \tScrapBoxの方がもっと参加できんじゃね？ [tsato.icon]\n \t\tただし付箋は安いよ[tsato.icon]\n \tScrapbox を信じろ [tottokotkd.icon]\n \t前職では付箋で毎週やってたよ[narico.icon]\n \t\t分類は付箋がやりやすい\n \t\tでもみんな字が下手すぎて何書いてっか読めん＆写真とると尚読めん\n\nこれだけ！ KPT\n\t長さ別のKPT紹介は良かったです[tsato.icon]\n https://www.amazon.co.jp/dp/4799102753\n\n\t参考文献コピぺ\n\t\tアジャイルレトロスペクティブズ　強いチームを育てる「ふりかえり」の手引き https://www.amazon.co.jp/dp/4274066983\n  あなたのチームは、機能してますか？ https://www.amazon.co.jp/dp/4798103683\n  カイゼン・ジャーニー たった1人からはじめて、「越境」するチームをつくるまで https://www.amazon.co.jp/dp/4798153346\n  アジャイルサムライ−達人開発者への道− https://www.amazon.co.jp/dp/4274068560)\n  モチベーション革命 稼ぐために働きたくない世代の解体書 https://www.amazon.co.jp/dp/4344031822\n\n# kogure\ncreated_at:Mon Jan 19 1970 06:16:25 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:16:26 GMT+0900 (日本標準時)\nkogure\n[https://gyazo.com/db45b28c8fd30f14109b619749582e55]\n\nthis is kogure’s page\n\n##member\n# 入居中のメンテとBCU\ncreated_at:Mon Jan 19 1970 06:16:20 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:16:23 GMT+0900 (日本標準時)\n入居中のメンテとBCU\nテスト解施錠の問題\n\t事実上ドア開けられる（あぶない）\n\t[BCUアカウント] 発行画面との関係:  「建物一括でBCUの権限つける」みたいなUIは危ないのでは？\n\t\t空室だったらいいのでは？\n\t\t\t「まだロックがついていない空室」だったらどうでもよさそう [tottokotkd.icon]\n\t\t\t\tシステムでそもそも部屋とロックが紐づいてないタイミングだからね [tsato.icon]\n\t\t\t「もうロックがついてる」「入居中」は (1) 一括選択は危ない (2) そもそもBCU使えていいんだっけ\n\t「Qrio Lock未導入の入居中の部屋に設置」パターンは考えなくていい\n\t\tあとからそういった顧客は出てくるかも\n\t\tなにもわからない [tottokotkd.icon]\n\t入居中の点検はどうするか？\n\t\tymtkさんに早めに叩きが欲しい [tsato.icon]\n\t\t基本的に点検時は入居者立ち会いの上では[narico.icon]\n\t\tCSに購入後の検品依頼がどのくらいあるのか聞きたい\n\t\t\t週二台くらいある\n\t\t[**** 現地で点検とか無理じゃん ][tsato.icon][tottokotkd.icon]\n\t\t\t基本的に回収してQrio/SONYで色々見るのでは？\n\t\t\tやるなら交換くらい\n\t\t\t\tどうやってロックと部屋の紐付けを解消するか [tsato.icon] そのあとは最初の設置と同じな気がする\n\t\t交換はあるな \n\t\t\tBCUに作業完了ボタンを用意する。作業完了かどうかをWebアプリで見れるようにするとか？作業完了イベントを持ってサーバー側の対象の部屋のkeyを削除し、アプリはサーバーから情報を取り直して部屋一覧に遷移する。\n\t\t電池交換\n\t\t\t本来は管理会社側がやるべきだが実際の運用は電池をポストに入れたり郵送したりする\n\t\t\t電池交換するためだけなのに部屋の鍵開けられちゃって良いのか\n\t\t\t実際はリアルキーも持っていたりする\n\t「入居中」の問題はリリース時点では対応なしでいく\n\t\t…いくけど、「建物で一括選択」という機能がweb側に入ってしまうと後で困らないか\n\t\t「動作が変わった」とか言われない？ [tottokotkd.icon]\n\n\n\n\n\n入居中にBCU使わせるのか？\n\t解施錠権限怖かったりするのか？\n\n設置と点検という別のユースケースをどうするかもちょっと気になってる [tsato.icon]\n\n\n\n# Castleの開発メンバーと責務\ncreated_at:Mon Jan 19 1970 06:13:27 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:13:29 GMT+0900 (日本標準時)\nCastleの開発メンバーと責務\n[* ## Webフロントエンドチーム]\nなりこさん デザイン/フロントエンド\n  画面ワイヤーをHTMLで作る\n  モジュールにする\nとくさん フロントエンド\n  ボタン押したときの制御\n  サーバー側叩く部分\n  GET系は作業のベースはもうできてる(データはない、プロパティも足りてない)\n\n[* ## バックエンドチーム]\nとくさん CastleAPI\nひろさん CastleAPI(BCU界面)\n   GitHub issue ベースでKing Private APIとの界面を調整する\nこまいさん King Private API\n  来年から参加目処\n  LogDelete処理\n  三上さんとの連携もしやすい\nたくぼさん \n  King から Castleにログの通知\n  ユニットテスト\n  プロジェクトの状況を見て調整\n\n[* ## スマホアプリ]\nひろさん\n BCU iOS\n\nさとう\n BCU Androidアプリ\n スケジュール/ビジネスチームとの交渉 (適宜ふかざわさんにエスカレーション)\n Castle以外のタスク\n  Sirius NFCリーダー 調査\n  DroidKaigi資料\n\nふかざわさん\n QrioLockログ削除部分の調整\n\n[* ## 業務推進]\nymtk[ymtk.icon]\n\t管理画面とか規約とかヘルプページとかドメイン、発送フロー界隈\n\tその他、sony渉外含めたサービスインにかかる業務・運用設計\n\t横目で使いやすさ担保されてるか見てます\n\n備考\n この体制だと正式リリースにAndroid/iOS版の両方を間に合わせるのがむずかしそう\n\t　まずはAndroid版のみリリースにできないか、高橋さんと調整中\n\n# Scrapbox導入してほしい回\ncreated_at:Mon Jan 19 1970 06:12:03 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:12:03 GMT+0900 (日本標準時)\nScrapbox導入してほしい回\n[** コピペ営業メール [tottokotkd.icon]]\nこの度はScrapbox Squareに参加いただき、ありがとうございました。\n今回のイベントが少しでもScrapbox活用による現場改善につながれば幸いです。\nまた、今回の会場でもあちらこちらから聞かれましたが、\n\t社内利用に向けて上司を説得したい、同僚を巻き込みたい\n\t今回登壇した企業以外の事例を詳しく知りたい\n\t自社でどのような活用方法があるか検討したい\nということでしたら、ぜひお気軽にご相談ください。\n社内説得事例や活用事例など蓄積していますので、それらを活かしてご支援させていただきます。\nご相談・ご要望がありましたら、以下の内容を含めてご返信ください。\n------------------------------------------------------------------\n該当箇所に「○」をつけてください。\n 個別相談会（活用や社内普及に関するご相談等）を希望する。\n Scrapbox使い方紹介セミナーを希望する。\n 事例集の送付を希望する。\n[  ] その他ご要望（　　　　　　　　　）\n------------------------------------------------------------------\nScrapboxをよりよいサービスにすべく関係一同、引き続き取り組んで参ります。\n今後ともどうぞよろしくお願いいたします。\nNota Inc.\n\n[* 料金]\n\tBUSINESS ¥1,000 ユーザー / 月\n\thttps://scrapbox.io/pricing\n\n# Castle 週定例 2018/12/18\ncreated_at:Mon Jan 19 1970 06:04:49 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:12:02 GMT+0900 (日本標準時)\nCastle 週定例 2018/12/18\n[Castle] 今週もやっていきの巻\n[https://gyazo.com/dcfd6739e1d61cb5baaa4e27a47bd3bb]\nhttps://en.wikipedia.org/wiki/Castle_of_Santa_Maria_da_Feira\n\nメモのテンプレ\n\tv: やったこと\n\to: やること\n\t!: 共有したい/相談しておきたいこと等\n\t\tとりあえずこんな感じ？でいいんでしたっけ [tottokotkd.icon]\n\t\t\t[+1.icon]\n\n[tottokotkd.icon]\n\tv: DB定義とGraphQLサーバー (まだ取得系の一部のみ) 製造\n\tv: webアプリごく一部のコンポーネント化\n\to: 開発用APIサーバーを用意し、実際にログイン・データ取得できる環境用意\n\to: 建物詳細画面を実際に動かすところまで\n\t!: 見積もり\n\t\thttps://docs.google.com/spreadsheets/d/17QSdjxOYiOQV4An5azYohR_NV24nXeJt7DMMpjJHMP4/edit##gid=1884720781\n\t\t先週はサーバー側の実装を進めていた代わりに、アプリ側は進捗よくなく [tottokotkd.icon]\n\t\t人気人材 [narico.icon] はマーケに横取りされたりする\n\t\t\tモテキ！[tottokotkd.icon]\n\t\t\tどちらを優先するか高橋さんと話した方がいい\n\t\t\tコーポレートサイトのEC upata などが重なった件もある(こちらは[ymtk.icon]さんに引き継ぎました) [narico.icon]\n\t\tWeb側はできそうだけど、できたらもう一人欲しい\n\t\tとくさんに集まりすぎ\n\t\tサーバーかフロントでもう一人欲しい\n\t\t\tサーバー三上さん？\n\t\t\tちゃんさんはFaitが落ち着くまでは辛いのでは\n\t\t\tこまいさんはSirius\n\t\t\t深澤さんに相談??\n\t\t\t\tあとで考えます　アプリメンバーがやるかも\n\t\tBCUアプリ側は１月中旬目処で終わるかもです [tsato.icon]\n\t\t締め切りを明確にしたい \n\t\t\tv1が何月にどこまでとか\n\t\t\t全部欲しい\n\n[htwrocl.icon]\n vo: Private APIの開発(暫定的にある程度まで仕上げる)\n  ユーザ作成(マスタキー作成を含む)\n  招待作成\n  鍵の開閉\n  ロックの状態確認\n  ハブの状態確認\n  ロックに対する既存のキーを全て削除\n vo: アラートや機器のログに関するKing-APIとのデータ連携の調査\n  連携するデータの整理とケースに合った方法の検討\n  King-APIのテーブルをS3へ出力\n  King-APIのRailsのログをS3へ出力\n  King-APIのテーブルを別のDBへ出力\n  Amazon AthenaでS3からデータを取得\n  定期実行バッチ環境の検討\n v: 招待に有効期限を設定できるようにする\n v: ハブの状態確認方法の検討\n !: アラートや機器のログに関するKing-APIとのデータ連携の実行環境相談\n  Kingの情報をS3への出力(定期実行)\n  S3に出力された情報からのアラート算出(定期実行、オンライン!?)\n  CastleのDBへのデータ反映(定期実行)\n  →結論: Herokuで頑張る\n  \tAWS Lambdaでは頑張れないのかの気持ち [tottokotkd.icon]\n    なるほど！Lambdaもやってみますの気持ち[htwrocl.icon]\n   正直よくわかっていない[tottokotkd.icon]がS3にログが飛んでくるたび解析という話だったような\n   \t自動施錠コケる -> Kingに報告がくる -> S3にコピペ -> (SQSで?) バッチ -> Castleに通知・連携できる！みたいな話だった認識\n   \t\tS3を経由するのはKing <-> Castle を疎結合にしつつ、Siriusやデータ分析にも役立てるため\n   \t\t\tS3経由にしないと、例えばKingのアプリケーションが落ちたり負荷高いときにCastleが情報をとりに行けなかったり、ログが抜けたりする懸念がありましたね[ymtk.icon]\n   \t\tKing -> S3はリアルタイムに送信する\n   \t\tCastleはS3のイベント購読してLambdaで取得する？\n   \t\t\tS3に入ったイベントをlambdaで検知してアレコレなイメージですが、メモリだけ懸念[ymtk.icon]\n   \t\tKingのLogのテーブルはどうなる？[tsato.icon] KingはS3を経由しなくて良い。Kingはログを受け取る場所なので。\n   \t\thttps://docs.google.com/spreadsheets/d/1lmNL0MHV5juvGfdaDkeuFTjYLQo7YFk3iltdUFyCR14/edit##gid=1430626105\n\n エンジニア/デザイナー同時にMTGするのむずいな [tsato.icon]\n \tエンジニアの深い話になると確かにデザイナー的にはこの時間･･･となりますね。なお私[ymtk.icon]\n \tフルスタックｴﾝｼﾞﾆｬｰになりたい [tottokotkd.icon]\n\n[tsato.icon]\nCastle BCU Android\n　v: \n　\tハブ登録周りざっくり\n　 依頼された部屋一覧\n　vo: 機器設定画面\n　o: １ドア２ロック\n　!:  [KPT]やりますか [KPT.icon]\n　\tアツイ [tottokotkd.icon]\n\n[h.yamaguchi.icon] h.yamaguchi\n\tv: 1ドア2ロック (解施錠、オートロック)\n\tv: 部屋一覧(UI)\n\tv: 部屋の設定画面(UI)\n\tv: サポートページ(UI)\n\to: Hubの登録\n\t!: 特になし\n\n[ymtk.icon]\n\tv：全社戦略\n\to：業推系をBizと共有する準備（利用規約やらドメインやらマニュアルの成果物イメージやら）\n\t!：mikamix技術レビュー、KPTの本ってまだ届いてないですか？\n\t\tKPTの本読んでますよ [tsato.icon]\n\t\t\t顕在Problem大事\n\t\t\t「キープしてトライしましょう」の本らしい\t薄い\n\t\t元イタンジ横澤さんレビュー\n\t\t\tDB設計、サービス設計\n\t\t\t\tDB設計は三上さんレビューしてもらっている\n\t\t\t\tユーザー目線でサービスやUXのレビュー\n\t\t\t\tなるはやで\n\n[narico.icon]\nv：ボタンcompornent 仕様を徳さんに言ってやってモラタ\no：\n\t物件詳細のUI作る\n\tform の各compornent作る\n\t全体のマイルストーン切り直し\n\t\tAPI側の開発仕切り軸\n!：別件対応で進捗鈍ってる\n\tWelcart update =>ymtk に引き継ぎほぼDone だが20日までは緩く見守る\n Wordpress 5.0 update => 謎仕様事情で narita local でやった方が安全みたいなところ\n\t紙モノ増刷 => OS 表記upd Done\n\t買い替えキャンペーン 仕様確認 & ページ制作 => Wp上で構築するためめんどいのと情報揃ってないの待ち（イッチーへの教育コスト）\n\t\tキャンペーンはこれやらなきゃダメだよリストを伝授しました[ymtk.icon]\n\t\t\t[https://gyazo.com/28cfbc371c48fbb63dbf9677f9f8b1e1]\n\t什器くる？[tsato.icon]\n\tもう遅め遅めで死ぬほどスケジュールやばい見積もり出しますか [tottokotkd.icon]\n\t\t2週間遅れですよ、その上で今これやります？とかのコミュニケーションが今取れてないですしね。[ymtk.icon]\n\n\n[m.suzuki.icon]\nv：名前ブレスト、ビズ職展開\no：BCUの文言、イラスト更新\n!：「Qrio Roomo」でFIXだが、大文字・小文字少し時間ください\n　日本語表記は「キュリオ ルーモ」\n　\t商標周りは望月さんとsyncしていきましょう。その上でドメイン＆証明書取りに行きます[ymtk.icon]\n　\t[Suumo] ではない [tottokotkd.icon] \n　この場合「Qrio」がブランド名になる\n　　ひとまず「Qrio Roomo 不動産」みたいにはなりません\n\n[**** KPT] [kpt.icon]\n\tやっていきの巻 / あとで適当にがんばるコーナー（てきとう）[tottokotkd.icon]\n\t\t時間ないからやらない感じで（てきとう）\n\t\t\tざんねん\n\tいつやりますかね。なんかやったほうがいい気がしてきた [tsato.icon]\n\tせっかくなら高橋さん誘ってみるといいと思いますよ。年度末振り返りの体で[ymtk.icon]\n\t\t局地的に盛り上がる場面があったので、あの時間を事前にscrapboxで消化できれば時間融通できそう？ [tottokotkd.icon]\n\t\t\tまぁ確かに\n\tKPTページも書きましたが、KJ法あらためて学ぶと良いです。アイデア出しにも使えますし。自分も結構曖昧[ymtk.icon]\n\n\n\n\n\n\n\n# m.suzuki\ncreated_at:Mon Jan 19 1970 06:11:58 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:11:58 GMT+0900 (日本標準時)\nm.suzuki\n[https://gyazo.com/c6ae50ca702cadfdfa52054c756866b7]\n\n##member\n\n# CastleDB\ncreated_at:Mon Jan 19 1970 06:04:49 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:11:52 GMT+0900 (日本標準時)\nCastleDB\n##Castle\n[https://gyazo.com/19a4b1e7e47f687b8b135e8739f117a8]\n\nroom.king_user_id = King側ででっち上げたマスターキーを所有している案山子ユーザーのID\n\nログイン処理は companyId + userId で行う(?)　[tsato.icon]\n\tIDでなくても良いのですが「会社固有の文字列 + 個人特有の文字列」でログインする方向です [tottokotkd.icon]\n・新宿支社と渋谷支社でログイン切り替える、みたいなことはある想定です[ymtk.icon]\n\nUser/BuildingがcompanyId持っている \n\t「1ユーザーは1つのグループにしかいない」「1建物は1つのグループにしかいない」という関係性が疑わしいことと、検索するとき何かと便利そうなので、カラムにしてます\n\ntelephone key ?? 内見keyの方が良かったりする？[tsato.icon]\n\tpasswordhash持ってるしtelephonekeyでOK~!\n\t「マスターキー、ファミリーキー、ゲストキー、[内見キー]」＝「全部[CU]の概念！」みたいな誤解を避けたいため、名前をがっつり変えたい、という程度の動機[tottokotkd.icon]  [+1.icon]\n\n[Castle]のLocksテーブルで、[King]と重複して管理する必要があるもの\n クエリを投げる必要があるもの\n 一覧で表示するもの\n 「都度、最新情報を取りに行く」くらいの操作はいずれにしても可能\n\nロックS3から最新情報を取得してくる頻度をどう置くか。アラート単位であれば日に1回でも良いが、何かしらすぐに反映すべきイベント駆動案件はないか？（ロックが削除されたり設定変更されたりとか。いまはBCUでの削除はない）/  [ymtk.icon]\n　自動施錠失敗は即時通知したいので、どの構成であれ5分ごとにクロールするような処理は必要そう[tottokotkd.icon]\n\n[* 足りてない]\n\tロック上下\n\t細かいテーブルは今後も随時増えます\n\nAuth0経由でCastleからAPI叩けないか\n\tバックドア方式ではなくて直接API叩いて(既存のCredentialを使う)もいいのでは？\n\t\t併用するのは？\n\n# Castle向け設置作業で起こること\ncreated_at:Mon Jan 19 1970 06:06:08 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:06:09 GMT+0900 (日本標準時)\nCastle向け設置作業で起こること\n[* 物理的な出来事]\n\tQrio Lockに電池を入れる\n\t壁に貼り付ける\n\tネジで止める\n\tHubに電源を入れる\n\n[* Castleサーバーとのやりとり]\n\tWIP\n\n[* Kingサーバーとのやりとり]\n\t何もしない… 予定だった\n\tHub登録時にKingのUserIdが必要[tsato.icon]\n \thttps://qrioinc.slack.com/archives/CDWMG254P/p1544768448000500\n \t情報取得する層の関心ごとなので、取得処理は後回しにしてUserIdは取得できると仮定して実装進めてます[tsato.icon]\n\t\tOh... 対応考えます [tottokotkd.icon]\n\tHub登録処理との関係で触る必要あり？\n\t\tであれば、この時点でKingに「エイブル6500番」みたいなqrio userを作るほうがシンプルかも [tottokotkd.icon]\n\n# Castle 名前どうするの回\ncreated_at:Mon Jan 19 1970 06:04:38 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:06:08 GMT+0900 (日本標準時)\nCastle 名前どうするの回\nfrom [Castle]\n[https://gyazo.com/71cbdf66577de8cf662d54b5ede77452]\nhttps://de.wikipedia.org/wiki/Inveraray_Castle\n\n[**** Qrioついてるやつ]\n Qrio Lock 不動産\n Qrio 不動産（1）\n \t逆に新しい [tottokotkd.icon]\n \t分かりやすいのは確かに\n Qrio 不動産管理\n Qrio スマートレジデンス\n \tワロタwwww[hazimetyan.icon]\n Qrio スマートロック管理システム\n Qrio ロックマネジメント\n Qrio スマートカギ管理（1）\n Qrio スマートルーム\n Qrio ルーム\n Qrio ルームマネジメント\n [* Qrio 部屋管理（3）]\n \t分かりやすい\n \tフッターに書いてありそう\n Qrio ルームコンシェルジュ\n Qrio ルーム管理\n Qrio いえ管理\n \tこれが本命かな[hazimetyan.icon]\n \t残念ながら（対抗馬が強すぎて）票が入らず… \n Qrio ハウス管理\n Qrio エステート\n Qro カギ管理 for 不動産\n Qrio スマートロック管理システム for 不動産\n Qrio 合カギ管理 for 不動産\n \t不動産人気 [tottokotkd.icon] \n \tレジデンスとかエステートとか入れるの分かりやすい\n Qrio Pro\n [* Qrio Roomo（6）]\n \tルームのオーケストレーション\n \tRoom Orchestration or Room Organizer [tsato.icon]\n \tかっこいい [tottokotkd.icon]\n \t好き\n \tいい\n \t圧倒的な支持\n \t商標がちょっと大変かも https://www2.j-platpat.inpit.go.jp/syutsugan/TM_DETAIL_T.cgi?ITEM01=106&KEY01=%83%8B%81%5B%83%82&OPT01=02&ITEM02=107&KEY02=%83%8B%81%5B%83%82&OPT02=02&ITEM03=103&KEY03=%83%8B%81%5B%83%82&OPT03=02&ITEM04=705&KEY04=&OPT04=01&STIME=154468057457317171074171&HITCNT=10&S_FLAG=00&TERMOPT=01&PAGE=01&LISTNO=3&DISP=1\n QriFull\n \toないけどセーフ\n \tキューイフルーツっぽい\n Qrio doorway\n Qrio Gateway（1）\n \tこの方向性なんとなくいいです [tottokotkd.icon]\n Qrio root\n Qrio room\n ROOKEY（1）\n room + key\n [* LOCKET（4）]\n \tいい\n \t結構好き[narico.icon]\n lock + estate\n LOCKER\n KEYMAN\n KEYROOM（1）\n\n[**** Qrioついてないやつ]\n QREST（1）\n \tマンション名かな？\n ROOMOS（1）\n Lattice\n \tネットワークを作るイメージ \n \tかっこいい（こなみかん）[tottokotkd.icon]\n [* Lock Hive（4）]\n \tいい\n \t言いたい\n \tポジティブイメージ\n \tハチの巣\n Lock Luck\n Early (Array)\n \tなんか早く手続きできそう\n QANT\n \tこれいいやん[hazimetyan.icon]\n \tアリさんマークの・・・[narico.icon]\n Qumo\n [* ヘヤカン（4 ）]\n \t絶対書くやつ\n \t堅い\n \tわかる\n \tしれっと[カギカン] <=> ヘヤカン入れ替えたい\n \tビジュアル困る\n カギカン\n 部屋カン\n ヘヤカリ\n スマロク\n ラクロク\n \tこれも好きだわwww[hazimetyan.icon]\n エントる\n エンター\n ドアカン\n ドアカリ\n カギカシ\n カギシェア\n カギぽす\n カギアシ\n カギ助手\n SLマネージャー\n SLコンシェルジュ\n SLアシスタント\n SLクルー\n SLサポーター\n ロクサポ\n ロクルー\n ロクシュ\n ロクマネ\n ロジャー\n ロクルート\n \t完全にリ○ルート [tottokotkd.icon]\n \t選んじゃダメだよ刺されるから\n \t「もしかして：[リクルート]」\n キーポート\n ドアスタント\n カギスタント\n カギカン不動産（1）\n \tまんまやん\n ヘヤッティ（1） [tsato.icon*3]\n \tイエッティ…？\n \tいいんすか本当にいいんすか\n \tつよい\n \t不動産業界ぽい\n \tまだない\n \t部屋暮らしのヘヤッティ (正式名称)\n \tヘヤっ(ウルトラセブン)[narico.icon]\n きぃちゃん（1）\n \t優勝では\n \t本当は入れたい\n \tどういう顔して説明すればいいか分からん\n \tいいね\n \tSiriusでも「かぎちゃんどう？」みたいな話あったし\n \t「カギチャンス！」「鍵チャンプルー！」\n \t乃木坂にいるからSEOやばい、勝てない\n \t和歌山県のキャラにもいるよ http://sp.yurugp.jp/vote/detail.php?id=00000463 [tsato.icon*8]\n \tこれでしょう [tottokotkd.icon]\n [* KEYPER（3）]\n KEYPE\n KEERA\n BUNDLE\n\n# リクルート\ncreated_at:Mon Jan 19 1970 06:06:04 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:06:08 GMT+0900 (日本標準時)\nリクルート\n[https://gyazo.com/72bb5db2729c6d15cc36b4237fe06b81]\n\n[SUUMO] とかやってる\n\t民泊むけにロックだかシステムだか試作してるけど、本気でやってないよ… みたいな話をNode学園祭で聞いた [tottokotkd.icon]\n\n# チバニー\ncreated_at:Mon Jan 19 1970 06:04:36 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:04:52 GMT+0900 (日本標準時)\nチバニー\n\n[https://gyazo.com/da59c6cdf56fe5baff728e743617e5a7]\n\nhttps://www.it-chiba.ac.jp/admissions/chibany/taidan/\n\t[チバニー] \n\tチバエーじゃないの許せない [tottokotkd.icon]\n\nhttps://www.it-chiba.ac.jp/admissions/\nめっちゃ推してる\n\nhttps://matome.naver.jp/odai/2137032859568931001\nまとめられてる[ymtk.icon]\n\n\n# +1\ncreated_at:Mon Jan 19 1970 06:04:51 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:04:52 GMT+0900 (日本標準時)\n+1\n[https://gyazo.com/791de75d8d4d90697084cfa23c2668be]\n\n\n# hazimetyan\ncreated_at:Mon Jan 19 1970 06:04:48 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:04:49 GMT+0900 (日本標準時)\nhazimetyan\n[https://gyazo.com/849b2c434cc0c9baed23cfdf0762c490]\n貝木泥舟\n\n##member\n\n# narico\ncreated_at:Mon Jan 19 1970 06:04:40 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:04:40 GMT+0900 (日本標準時)\nnarico\n[https://lh3.googleusercontent.com/a-/AN66SAzQQSMN1J8kpbOdqOAsaE1sNNCECxc7p5X9LHV2##.png]\n\nthis is narico’s page\n\n##member\n# Castle\ncreated_at:Mon Jan 19 1970 06:04:37 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:04:38 GMT+0900 (日本標準時)\nCastle\n[Castle 名前どうするの回]\n\n# Get started\ncreated_at:Mon Jan 19 1970 06:04:36 GMT+0900 (日本標準時)\nupdated_at:Mon Jan 19 1970 06:04:36 GMT+0900 (日本標準時)\nGet started\n[https://gyazo.com/5f93e65a3b979ae5333aca4f32600611]\nWelcome to your new Scrapbox project!\n\n[** 📝Everything is editable]\n\n\tClick on any line and start typing to edit. \n\n\t\tPress tab at the beginning of a line to indent and add a bullet point.\n\n Highlight text to make it a [new link], [* bold], [- and] [/ more].\n\t\tAdd links while typing with a `##` before or brackets around `[`words you want to link `]` \n\n[** 🎯 Here is where it gets interesting ]\n\n\tClick a [new link] to create a new page with that title and open it.\n\n\tClick related thumbnails in the footer of any page to explore ideas you have linked.\n \tPages that are directly linked or two steps away from the current page will be displayed.\n\n\tSee images, videos, and external links added inside `[` brackets`]` on the page\n\n> Our goal is to help you build a map of your ideas that gains clarity and context with every scrap you add. \n\n\n[* What can you put in a Scrapbox project?]\n\tUse Scrapbox to outline ideas, discuss `code blocks`, give feedback, and brainstorm. \n\n[* For example]\n\tLets say you are working on developing a new website. You might want to discuss ideas with your team before and while you execute the plan.  First create a page `Site plan` to start a conversation about the site requirements and link some useful resources. On that page you might add a link for a new page called `Social media buttons`.\n\n\tYou can immediately click on that link to `Social media buttons` and start editing.  There you may add links to `Twitter`, `Facebook`, etc.  Next you can click on `Twitter` and you'll see a related link that will take you back to `Site Plan`. \n\nOnce you can easily and directly type your ideas while also building context ideas become more clear the more you use it. No more folders full of dead text means no more teams isolated from their own ideas.\n\n>  [/ What ideas in your head could your team benefit from you putting down right now? Go create your first three or so pages and add a few links. From 3 to 3,000 pages your ideas will only grow in context.]\n\n\n[** 📌 Once you've got the basics, here are ways to dig deeper and get the most out of your new project ]\n See a list of all the [https://scrapbox.io/help/Things%20you%20can%20do Things you can do] \n \tIncludes more syntax, inviting team members, and creating profiles\n\n\tSee some [https://scrapbox.io/help/examples Example projects] \n \tIncludes a SaaS startup, design agency, and more\n\n\tSee [https://scrapbox.io/help/ How-tos and support] \n \tFor detailed instructions and answers to FAQs\n\n\n[* We would love to hear any questions or feedback you may have]\nPlease let us know if you have any suggestions, questions, or points of friction.You can contact us directly by email: contact@scrapbox.io, [twitter https://twitter.com/scrapboxapp], and [https://facebook.com/scrapboxapp facebook]\n\n[/ Thank you for using Scrapbox!]\n[https://gyazo.com/5aeffb3e8a6561ae78430664d8257f58]\n\n\n>Note: When you're done reading you might change the title of this page to 'Welcome to project-name' and add some personalized instructions for your team.\n\n"
  }
}
